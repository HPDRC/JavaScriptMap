// OpenLayers. See https://openlayers.org/
// License: https://raw.githubusercontent.com/openlayers/openlayers/master/LICENSE.md
// Version: v4.2.0
;(function (root, factory) {
  if (typeof exports === "object") {
    module.exports = factory();
  } else if (typeof define === "function" && define.amd) {
    define([], factory);
  } else {
    root.ol = factory();
  }
}(this, function () {
  var OPENLAYERS = {};
  var k,aa=this;function t(a,b){var c=OPENLAYERS;a=a.split(".");c=c||aa;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};var ea,fa;function ia(a,b){return a>b?1:a<b?-1:0}function ja(a,b){return 0<=a.indexOf(b)}function ka(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1}function la(a,b){var c=Array.isArray(b)?b:[b],d=c.length;for(b=0;b<d;b++)a[a.length]=c[b]}function ma(a,b){b=a.indexOf(b);-1<b&&a.splice(b,1)}
function na(a,b){for(var c=a.length>>>0,d,e=0;e<c;e++)if(d=a[e],b(d,e,a))return d;return null}function pa(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}function qa(a){var b=ra,c=a.length,d=Array(a.length),e;for(e=0;e<c;e++)d[e]={index:e,value:a[e]};d.sort(function(a,c){return b(a.value,c.value)||a.index-c.index});for(e=0;e<a.length;e++)a[e]=d[e].value}function sa(a,b){var c;return a.every(function(d,e){c=e;return!b(d,e,a)})?-1:c}
function ta(a,b){var c=b||ia;return a.every(function(b,e){if(!e)return!0;b=c(a[e-1],b);return!(0<b||0===b)})};function v(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function ua(){}function w(a){return a.Vo||(a.Vo=++va)}var va=0;function wa(a){this.message="Assertion failed. See https://openlayers.org/en/v4.2.0/doc/errors/#"+a+" for details.";this.code=a;this.name="AssertionError"}v(wa,Error);function xa(a,b){if(!a)throw new wa(b);};function ya(a,b,c,d){this.ca=a;this.$=b;this.da=c;this.ia=d}function za(a,b,c){return a.ca<=b&&b<=a.$&&a.da<=c&&c<=a.ia}function Aa(a,b){return a.ca==b.ca&&a.da==b.da&&a.$==b.$&&a.ia==b.ia}function Ba(a,b){return a.ca<=b.$&&a.$>=b.ca&&a.da<=b.ia&&a.ia>=b.da};function Ca(a,b,c){return Math.min(Math.max(a,b),c)}var Da=function(){var a;"cosh"in Math?a=Math.cosh:a=function(a){a=Math.exp(a);return(a+1/a)/2};return a}();function Ea(a){xa(0<a,29);return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Fa(a,b,c,d,e,f){var g=e-c,h=f-d;if(g||h){var l=((a-c)*g+(b-d)*h)/(g*g+h*h);1<l?(c=e,d=f):0<l&&(c+=g*l,d+=h*l)}return Ga(a,b,c,d)}function Ga(a,b,c,d){a=c-a;b=d-b;return a*a+b*b}function Ha(a){return a*Math.PI/180}function Ia(a,b){a%=b;return 0>a*b?a+b:a}
function Ja(a,b,c){return a+c*(b-a)};function Ka(a,b,c){void 0===c&&(c=[0,0]);c[0]=a[0]+2*b;c[1]=a[1]+2*b;return c}function La(a,b,c){void 0===c&&(c=[0,0]);c[0]=a[0]*b+.5|0;c[1]=a[1]*b+.5|0;return c}function Ma(a,b){if(Array.isArray(a))return a;void 0===b?b=[a,a]:b[0]=b[1]=a;return b};function Na(a){for(var b=Oa(),c=0,d=a.length;c<d;++c)Pa(b,a[c]);return b}function Qa(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function Ra(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function Sa(a,b,c){b=b<a[0]?a[0]-b:a[2]<b?b-a[2]:0;a=c<a[1]?a[1]-c:a[3]<c?c-a[3]:0;return b*b+a*a}function Ta(a,b){return Ua(a,b[0],b[1])}function Va(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}
function Ua(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]}function Wa(a,b){var c=a[1],d=a[2],e=a[3],f=b[0];b=b[1];var g=0;f<a[0]?g|=16:f>d&&(g|=4);b<c?g|=8:b>e&&(g|=2);g||(g=1);return g}function Oa(){return[Infinity,Infinity,-Infinity,-Infinity]}function Xa(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function Ya(a){return Xa(Infinity,Infinity,-Infinity,-Infinity,a)}function Za(a,b){var c=a[0];a=a[1];return Xa(c,a,c,a,b)}function $a(a,b,c,d,e){e=Ya(e);return ab(e,a,b,c,d)}
function bb(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]}function cb(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3]);return a}function Pa(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])}function ab(a,b,c,d,e){for(;c<d;c+=e){var f=a,g=b[c],h=b[c+1];f[0]=Math.min(f[0],g);f[1]=Math.min(f[1],h);f[2]=Math.max(f[2],g);f[3]=Math.max(f[3],h)}return a}
function db(a,b,c){var d;return(d=b.call(c,eb(a)))||(d=b.call(c,gb(a)))||(d=b.call(c,hb(a)))?d:(d=b.call(c,ib(a)))?d:!1}function jb(a){var b=0;kb(a)||(b=lb(a)*mb(a));return b}function eb(a){return[a[0],a[1]]}function gb(a){return[a[2],a[1]]}function nb(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function ob(a,b,c,d,e){var f=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);var g=Math.sin(c);c=f*b;f*=g;b*=d;var h=d*g,l=a[0],m=a[1];a=l-c+h;d=l-c-h;g=l+c-h;c=l+c+h;var h=m-f-b,l=m-f+b,n=m+f+b,f=m+f-b;return Xa(Math.min(a,d,g,c),Math.min(h,l,n,f),Math.max(a,d,g,c),Math.max(h,l,n,f),e)}function mb(a){return a[3]-a[1]}function pb(a,b,c){c=c?c:Oa();qb(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function ib(a){return[a[0],a[3]]}
function hb(a){return[a[2],a[3]]}function lb(a){return a[2]-a[0]}function qb(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function kb(a){return a[2]<a[0]||a[3]<a[1]}function rb(a,b){var c=(a[2]-a[0])/2*(b-1);b=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=b;a[3]+=b}
function sb(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(a,a,2);var d=[a[0],a[2],a[4],a[6]],e=[a[1],a[3],a[5],a[7]];b=Math.min.apply(null,d);a=Math.min.apply(null,e);d=Math.max.apply(null,d);e=Math.max.apply(null,e);return Xa(b,a,d,e,c)};var tb="function"===typeof Object.assign?Object.assign:function(a,b){if(!a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1,e=arguments.length;d<e;++d){var f=arguments[d];if(void 0!==f&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c};function ub(a){for(var b in a)delete a[b]}function vb(a){var b=[],c;for(c in a)b.push(a[c]);return b}function wb(a){for(var b in a)return!1;return!b};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
function xb(a){this.radius=a}xb.prototype.a=function(a){for(var b=0,c=a.length,d=a[c-1][0],e=a[c-1][1],f=0;f<c;f++)var g=a[f][0],h=a[f][1],b=b+Ha(g-d)*(2+Math.sin(Ha(e))+Math.sin(Ha(h))),d=g,e=h;return b*this.radius*this.radius/2};xb.prototype.b=function(a,b){var c=Ha(a[1]),d=Ha(b[1]),e=(d-c)/2;a=Ha(b[0]-a[0])/2;c=Math.sin(e)*Math.sin(e)+Math.sin(a)*Math.sin(a)*Math.cos(c)*Math.cos(d);return 2*this.radius*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))};
xb.prototype.offset=function(a,b,c){var d=Ha(a[1]);b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(Ha(a[0])+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var yb=new xb(6370997);var zb={};zb.degrees=2*Math.PI*yb.radius/360;zb.ft=.3048;zb.m=1;zb["us-ft"]=1200/3937;var Ab=null;function Bb(a){this.mb=a.code;this.a=a.units;this.f=void 0!==a.extent?a.extent:null;this.g=void 0!==a.worldExtent?a.worldExtent:null;this.b=void 0!==a.axisOrientation?a.axisOrientation:"enu";this.c=void 0!==a.global?a.global:!1;this.i=!(!this.c||!this.f);this.o=a.getPointResolution;this.j=null;this.l=a.metersPerUnit;var b=a.code,c=Ab||window.proj4;"function"==typeof c&&(b=c.defs(b),void 0!==b&&(void 0!==b.axis&&void 0===a.axisOrientation&&(this.b=b.axis),void 0===a.metersPerUnit&&(this.l=b.to_meter),
void 0===a.units&&(this.a=b.units)))}k=Bb.prototype;k.Jk=function(){return this.mb};k.G=function(){return this.f};k.Un=function(){return this.a};k.sc=function(){return this.l||zb[this.a]};k.tl=function(){return this.g};k.dm=function(){return this.c};k.$p=function(a){this.c=a;this.i=!(!a||!this.f)};k.Vn=function(a){this.f=a;this.i=!(!this.c||!a)};k.kq=function(a){this.g=a};k.Zp=function(a){this.o=a};function Cb(a){Bb.call(this,{code:a,units:"m",extent:Db,global:!0,worldExtent:Eb,getPointResolution:function(a,c){return a/Da(c[1]/6378137)}})}v(Cb,Bb);var Fb=6378137*Math.PI,Db=[-Fb,-Fb,Fb,Fb],Eb=[-180,-85,180,85],Gb="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(a){return new Cb(a)});
function Hb(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(2<c?b=a.slice():b=Array(d));for(var e=0;e<d;e+=c){b[e]=Fb*a[e]/180;var f=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));f>Fb?f=Fb:f<-Fb&&(f=-Fb);b[e+1]=f}return b}function Ib(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(2<c?b=a.slice():b=Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/Fb,b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};var Jb=new xb(6378137);function Kb(a,b){Bb.call(this,{code:a,units:"degrees",extent:Lb,axisOrientation:b,global:!0,metersPerUnit:Mb,worldExtent:Lb})}v(Kb,Bb);var Lb=[-180,-90,180,90],Mb=Math.PI*Jb.radius/180,Nb=[new Kb("CRS:84"),new Kb("EPSG:4326","neu"),new Kb("urn:ogc:def:crs:EPSG::4326","neu"),new Kb("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Kb("urn:ogc:def:crs:OGC:1.3:CRS84"),new Kb("urn:ogc:def:crs:OGC:2:84"),new Kb("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Kb("urn:x-ogc:def:crs:EPSG:4326","neu")];var Ob={};var Pb={};function Qb(a,b,c){a=a.mb;b=b.mb;a in Pb||(Pb[a]={});Pb[a][b]=c}function Rb(a,b){var c;a in Pb&&b in Pb[a]&&(c=Pb[a][b]);return c};function Sb(a,b,c){a=Tb(a);var d=a.o;d?b=d(b,c):"degrees"!=a.a&&(d=Vb(a,Tb("EPSG:4326")),b=[c[0]-b/2,c[1],c[0]+b/2,c[1],c[0],c[1]-b/2,c[0],c[1]+b/2],b=d(b,b,2),b=(yb.b(b.slice(0,2),b.slice(2,4))+yb.b(b.slice(4,6),b.slice(6,8)))/2,a=a.sc(),void 0!==a&&(b/=a));return b}function Wb(a){a.forEach(Xb);a.forEach(function(b){a.forEach(function(a){b!==a&&Qb(b,a,Yb)})})}function Zb(){Nb.forEach(function(a){Gb.forEach(function(b){Qb(a,b,Hb);Qb(b,a,Ib)})})}function Xb(a){Ob[a.mb]=a;Qb(a,a,Yb)}
function $b(a){return a?"string"===typeof a?Tb(a):a:Tb("EPSG:3857")}function ac(a,b,c,d){a=Tb(a);b=Tb(b);Qb(a,b,cc(c));Qb(b,a,cc(d))}function cc(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2;c=void 0!==c?c:Array(e);var f;for(f=0;f<e;f+=d){var g=a([b[f],b[f+1]]);c[f]=g[0];c[f+1]=g[1];for(g=d-1;2<=g;--g)c[f+g]=b[f+g]}return c}}
function Tb(a){var b=null;if(a instanceof Bb)b=a;else if("string"===typeof a){var b=Ob[a]||null,c=Ab||window.proj4;b||"function"!=typeof c||void 0===c.defs(a)||(b=new Bb({code:a}),Xb(b))}return b}function dc(a,b){if(a===b)return!0;var c=a.a===b.a;return a.mb===b.mb?c:Vb(a,b)===Yb&&c}function ec(a,b){a=Tb(a);b=Tb(b);return Vb(a,b)}
function Vb(a,b){var c=a.mb,d=b.mb,e=Rb(c,d);if(!e){var f=Ab||window.proj4;if("function"==typeof f){var g=f.defs(c),h=f.defs(d);void 0!==g&&void 0!==h&&(g===h?Wb([b,a]):(e=f(d,c),ac(b,a,e.forward,e.inverse)),e=Rb(c,d))}}e||(e=fc);return e}function fc(a,b){if(void 0!==b&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Yb(a,b){if(void 0!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}else a=a.slice();return a}function gc(a,b,c){return ec(b,c)(a,void 0,a.length)}
function hc(a,b,c){b=ec(b,c);return sb(a,b)}function ic(){Wb(Gb);Wb(Nb);Zb()}ic();function jc(a,b,c,d){return void 0!==d?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function kc(a){var b=a[0],c=Array(b),d=1<<b-1,e;for(e=0;e<b;++e){var f=48;a[1]&d&&(f+=1);a[2]&d&&(f+=2);c[e]=String.fromCharCode(f);d>>=1}return c.join("")};function lc(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0;this.b=a.resolutions;xa(ta(this.b,function(a,b){return b-a}),17);this.maxZoom=this.b.length-1;this.i=void 0!==a.origin?a.origin:null;this.c=null;void 0!==a.origins&&(this.c=a.origins,xa(this.c.length==this.b.length,20));var b=a.extent;void 0===b||this.i||this.c||(this.i=ib(b));xa(!this.i&&this.c||this.i&&!this.c,18);this.f=null;void 0!==a.tileSizes&&(this.f=a.tileSizes,xa(this.f.length==this.b.length,19));this.g=void 0!==a.tileSize?a.tileSize:
this.f?null:256;xa(!this.g&&this.f||this.g&&!this.f,22);this.v=void 0!==b?b:null;this.a=null;this.j=[0,0];void 0!==a.sizes?this.a=a.sizes.map(function(a){return new ya(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&mc(this,b)}var nc=[0,0,0];k=lc.prototype;k.Rf=function(a,b,c){a=oc(this,a,b);for(var d=a.ca,e=a.$;d<=e;++d)for(var f=a.da,g=a.ia;f<=g;++f)c([b,d,f])};
function pc(a,b,c,d,e){e=a.Aa(b,e);for(b=b[0]-1;b>=a.minZoom;){if(c.call(null,b,oc(a,e,b,d)))return!0;--b}return!1}k.G=function(){return this.v};k.Ti=function(){return this.maxZoom};k.Ui=function(){return this.minZoom};k.Pc=function(a){return this.i?this.i:this.c[a]};k.Da=function(a){return this.b[a]};k.Vi=function(){return this.b};function qc(a,b,c,d){return b[0]<a.maxZoom?(d=a.Aa(b,d),oc(a,d,b[0]+1,c)):null}
function rc(a,b,c,d){sc(a,b[0],b[1],c,!1,nc);var e=nc[1],f=nc[2];sc(a,b[2],b[3],c,!0,nc);a=nc[1];b=nc[2];void 0!==d?(d.ca=e,d.$=a,d.da=f,d.ia=b):d=new ya(e,a,f,b);return d}function oc(a,b,c,d){return rc(a,b,a.Da(c),d)}function tc(a,b){var c=a.Pc(b[0]),d=a.Da(b[0]);a=Ma(a.gb(b[0]),a.j);return[c[0]+(b[1]+.5)*a[0]*d,c[1]+(b[2]+.5)*a[1]*d]}k.Aa=function(a,b){var c=this.Pc(a[0]),d=this.Da(a[0]),e=Ma(this.gb(a[0]),this.j),f=c[0]+a[1]*e[0]*d;a=c[1]+a[2]*e[1]*d;return Xa(f,a,f+e[0]*d,a+e[1]*d,b)};
k.Be=function(a,b,c){return sc(this,a[0],a[1],b,!1,c)};function sc(a,b,c,d,e,f){var g=a.tc(d),h=d/a.Da(g),l=a.Pc(g);a=Ma(a.gb(g),a.j);b=h*Math.floor((b-l[0])/d+(e?.5:0))/a[0];c=h*Math.floor((c-l[1])/d+(e?0:.5))/a[1];e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return jc(g,b,c,f)}k.bg=function(a,b,c){return sc(this,a[0],a[1],this.Da(b),!1,c)};k.gb=function(a){return this.g?this.g:this.f[a]};k.tc=function(a,b){return Ca(ka(this.b,a,b||0),this.minZoom,this.maxZoom)};
function mc(a,b){for(var c=a.b.length,d=Array(c),e=a.minZoom;e<c;++e)d[e]=oc(a,b,e);a.a=d};function vc(a){var b=a.j;b||(b=wc(a),a.j=b);return b}function xc(a){var b={};tb(b,a?a:{});void 0===b.extent&&(b.extent=Tb("EPSG:3857").G());b.resolutions=yc(b.extent,b.maxZoom,b.tileSize);delete b.maxZoom;return new lc(b)}function yc(a,b,c){b=void 0!==b?b:42;var d=mb(a);a=lb(a);c=Ma(void 0!==c?c:256);c=Math.max(a/c[0],d/c[1]);b+=1;d=Array(b);for(a=0;a<b;++a)d[a]=c/Math.pow(2,a);return d}function wc(a,b,c){a=zc(a);b=yc(a,b,c);return new lc({extent:a,origin:ib(a),resolutions:b,tileSize:c})}
function zc(a){a=Tb(a);var b=a.G();b||(a=180*zb.degrees/a.sc(),b=Xa(-a,-a,a,a));return b};function Ac(a){this.b=a.html;this.a=a.tileRanges?a.tileRanges:null}Ac.prototype.i=function(){return this.b};function Bc(a){return function(b){if(b)return[Ca(b[0],a[0],a[2]),Ca(b[1],a[1],a[3])]}}function Cc(a){return a};function Dc(a){function b(b){var c=a.listener,e=a.lh||a.target;a.nh&&Ec(a);return c.call(e,b)}return a.mh=b}function Fc(a,b,c,d){for(var e,f=0,g=a.length;f<g;++f)if(e=a[f],e.listener===b&&e.lh===c)return d&&(e.deleteIndex=f),e}function Gc(a,b){return(a=a.fb)?a[b]:void 0}function Hc(a){var b=a.fb;b||(b=a.fb={});return b}function Ic(a,b){var c=Gc(a,b);if(c){for(var d=0,e=c.length;d<e;++d)a.removeEventListener(b,c[d].mh),ub(c[d]);c.length=0;if(c=a.fb)delete c[b],Object.keys(c).length||delete a.fb}}
function y(a,b,c,d,e){var f=Hc(a),g=f[b];g||(g=f[b]=[]);(f=Fc(g,c,d,!1))?e||(f.nh=!1):(f={lh:d,nh:!!e,listener:c,target:a,type:b},a.addEventListener(b,Dc(f)),g.push(f));return f}function Jc(a,b,c,d){return y(a,b,c,d,!0)}function Kc(a,b,c,d){(a=Gc(a,b))&&(c=Fc(a,c,d,!0))&&Ec(c)}function Ec(a){if(a&&a.target){a.target.removeEventListener(a.type,a.mh);var b=Gc(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==c&&b.splice(c,1);b.length||Ic(a.target,a.type)}ub(a)}}
function Lc(a){var b=Hc(a),c;for(c in b)Ic(a,c)};function Mc(){}Mc.prototype.Jb=!1;function Nc(a){a.Jb||(a.Jb=!0,a.ka())}Mc.prototype.ka=ua;function Oc(a){this.type=a;this.target=null}Oc.prototype.preventDefault=Oc.prototype.stopPropagation=function(){this.qp=!0};function Pc(a){a.stopPropagation()};function Qc(){this.Ua={};this.ra={};this.oa={}}v(Qc,Mc);Qc.prototype.addEventListener=function(a,b){var c=this.oa[a];c||(c=this.oa[a]=[]);-1===c.indexOf(b)&&c.push(b)};
Qc.prototype.b=function(a){var b="string"===typeof a?new Oc(a):a;a=b.type;b.target=this;var c=this.oa[a];if(c){a in this.ra||(this.ra[a]=0,this.Ua[a]=0);++this.ra[a];for(var d=0,e=c.length;d<e;++d)if(!1===c[d].call(this,b)||b.qp){var f=!1;break}--this.ra[a];if(!this.ra[a]){b=this.Ua[a];for(delete this.Ua[a];b--;)this.removeEventListener(a,ua);delete this.ra[a]}return f}};Qc.prototype.ka=function(){Lc(this)};function Rc(a,b){return b?b in a.oa:0<Object.keys(a.oa).length}
Qc.prototype.removeEventListener=function(a,b){var c=this.oa[a];c&&(b=c.indexOf(b),a in this.Ua?(c[b]=ua,++this.Ua[a]):(c.splice(b,1),c.length||delete this.oa[a]))};function Sc(){Qc.call(this);this.i=0}v(Sc,Qc);k=Sc.prototype;k.s=function(){++this.i;this.b("change")};k.L=function(){return this.i};k.J=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=y(this,a[f],b,c);return e}return y(this,a,b,c)};k.once=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=Jc(this,a[f],b,c);return e}return Jc(this,a,b,c)};
k.K=function(a,b,c){if(Array.isArray(a))for(var d=0,e=a.length;d<e;++d)Kc(this,a[d],b,c);else Kc(this,a,b,c)};function Tc(a){Sc.call(this);w(this);this.S={};void 0!==a&&this.H(a)}v(Tc,Sc);var Uc={};function Vc(a){return Uc.hasOwnProperty(a)?Uc[a]:Uc[a]="change:"+a}k=Tc.prototype;k.get=function(a){var b;this.S.hasOwnProperty(a)&&(b=this.S[a]);return b};k.O=function(){return Object.keys(this.S)};k.N=function(){return tb({},this.S)};function Wc(a,b,c){var d=Vc(b);a.b(new Xc(d,b,c));a.b(new Xc("propertychange",b,c))}k.set=function(a,b,c){c?this.S[a]=b:(c=this.S[a],this.S[a]=b,c!==b&&Wc(this,a,c))};
k.H=function(a,b){for(var c in a)this.set(c,a[c],b)};k.P=function(a,b){if(a in this.S){var c=this.S[a];delete this.S[a];b||Wc(this,a,c)}};function Xc(a,b,c){Oc.call(this,a);this.key=b;this.oldValue=c}v(Xc,Oc);function Yc(a,b){Tc.call(this);this.c=!!(b||{}).unique;this.a=a?a:[];if(this.c)for(a=0,b=this.a.length;a<b;++a)Zc(this,this.a[a],a);$c(this)}v(Yc,Tc);k=Yc.prototype;k.clear=function(){for(;0<this.dc();)this.pop()};k.fg=function(a){var b;var c=0;for(b=a.length;c<b;++c)this.push(a[c]);return this};k.forEach=function(a,b){this.a.forEach(a,b)};k.tm=function(){return this.a};k.item=function(a){return this.a[a]};k.dc=function(){return this.get(ad)};
k.He=function(a,b){this.c&&Zc(this,b);this.a.splice(a,0,b);$c(this);this.b(new bd("add",b))};k.pop=function(){return this.Hg(this.dc()-1)};k.push=function(a){this.c&&Zc(this,a);var b=this.dc();this.He(b,a);return this.dc()};k.remove=function(a){var b=this.a,c;var d=0;for(c=b.length;d<c;++d)if(b[d]===a)return this.Hg(d)};k.Hg=function(a){var b=this.a[a];this.a.splice(a,1);$c(this);this.b(new bd("remove",b));return b};
k.Wp=function(a,b){var c=this.dc();if(a<c)this.c&&Zc(this,b,a),c=this.a[a],this.a[a]=b,this.b(new bd("remove",c)),this.b(new bd("add",b));else{for(;c<a;++c)this.He(c,void 0);this.He(a,b)}};function $c(a){a.set(ad,a.a.length)}function Zc(a,b,c){for(var d=0,e=a.a.length;d<e;++d)if(a.a[d]===b&&d!==c)throw new wa(58);}var ad="length";function bd(a,b){Oc.call(this,a);this.element=b}v(bd,Oc);var cd=/^#(?:[0-9a-f]{3}){1,2}$/i,dd=/^([a-z]*)$/i;function ed(a){return Array.isArray(a)?a:fd(a)}function gd(a){if("string"!==typeof a){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+(void 0===a[3]?1:a[3])+")"}return a}
var fd=function(){var a={},b=0;return function(c){if(a.hasOwnProperty(c))var d=a[c];else{if(1024<=b){d=0;for(var e in a)d++&3||(delete a[e],--b)}d=c;dd.exec(d)&&(e=document.createElement("div"),e.style.color=d,document.body.appendChild(e),d=getComputedStyle(e).color,document.body.removeChild(e));if(cd.exec(d)){var f=d.length-1;xa(3==f||6==f,54);var g=3==f?1:2;f=parseInt(d.substr(1+0*g,g),16);e=parseInt(d.substr(1+1*g,g),16);d=parseInt(d.substr(1+2*g,g),16);1==g&&(f=(f<<4)+f,e=(e<<4)+e,d=(d<<4)+d);
f=[f,e,d,1]}else d.indexOf("rgba(")?d.indexOf("rgb(")?xa(!1,14):(d=d.slice(4,-1).split(",").map(Number),d.push(1),f=hd(d)):(d=d.slice(5,-1).split(",").map(Number),f=hd(d));d=f;a[c]=d;++b}return d}}();function hd(a){var b=[];b[0]=Ca(a[0]+.5|0,0,255);b[1]=Ca(a[1]+.5|0,0,255);b[2]=Ca(a[2]+.5|0,0,255);b[3]=Ca(a[3],0,1);return b};function id(a){return"string"===typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient?a:gd(a)};function jd(a,b){var c=document.createElement("CANVAS");a&&(c.width=a);b&&(c.height=b);return c.getContext("2d")}function kd(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function ld(a){a&&a.parentNode&&a.parentNode.removeChild(a)};function md(a){Tc.call(this);this.element=a.element?a.element:null;this.a=this.R=null;this.v=[];this.render=a.render?a.render:ua;a.target&&this.f(a.target)}v(md,Tc);md.prototype.ka=function(){ld(this.element);Tc.prototype.ka.call(this)};md.prototype.g=function(){return this.a};
md.prototype.setMap=function(a){this.a&&ld(this.element);for(var b=0,c=this.v.length;b<c;++b)Ec(this.v[b]);this.v.length=0;if(this.a=a)(this.R?this.R:a.D).appendChild(this.element),this.render!==ua&&this.v.push(y(a,"postrender",this.render,this)),a.render()};md.prototype.f=function(a){this.R="string"===typeof a?document.getElementById(a):a};function nd(a){a=a?a:{};this.I=document.createElement("UL");this.u=document.createElement("LI");this.I.appendChild(this.u);this.u.style.display="none";this.c=void 0!==a.collapsed?a.collapsed:!0;this.o=void 0!==a.collapsible?a.collapsible:!0;this.o||(this.c=!1);var b=void 0!==a.className?a.className:"ol-attribution",c=void 0!==a.tipLabel?a.tipLabel:"Attributions",d=void 0!==a.collapseLabel?a.collapseLabel:"\u00bb";"string"===typeof d?(this.D=document.createElement("span"),this.D.textContent=d):this.D=
d;d=void 0!==a.label?a.label:"i";"string"===typeof d?(this.C=document.createElement("span"),this.C.textContent=d):this.C=d;var e=this.o&&!this.c?this.D:this.C,d=document.createElement("button");d.setAttribute("type","button");d.title=c;d.appendChild(e);y(d,"click",this.Vm,this);c=document.createElement("div");c.className=b+" ol-unselectable ol-control"+(this.c&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible");c.appendChild(this.I);c.appendChild(d);md.call(this,{element:c,render:a.render?
a.render:od,target:a.target});this.B=!0;this.l={};this.j={};this.T={}}v(nd,md);
function od(a){if(a=a.frameState){var b,c,d,e,f,g=a.layerStatesArray,h=tb({},a.attributions),l={},m={},n=a.viewState.projection;var p=0;for(b=g.length;p<b;p++)if(e=g[p].layer.ha()){var q=w(e).toString();if(f=e.j){var r=0;for(c=f.length;r<c;r++){var u=f[r];var x=w(u).toString();if(!(x in h)){if(d=a.usedTiles[q]){var B=e.Ta(n);a:{var E=void 0;var A,L=u,oa=B,ha=n;if(L.a){for(E in d)if(E in L.a){var B=d[E];var ga=0;for(A=L.a[E].length;ga<A;++ga){var z=L.a[E][ga];if(Ba(z,B)){E=!0;break a}var M=oc(oa,zc(ha),
parseInt(E,10)),ba=M.$-M.ca+1;if(B.ca<M.ca||B.$>M.$)if(Ba(z,new ya(Ia(B.ca,ba),Ia(B.$,ba),B.da,B.ia))||B.$-B.ca+1>ba&&Ba(z,M)){E=!0;break a}}}E=!1}else E=!0}}else E=!1;E?(x in l&&delete l[x],E=u.b,E in m||(m[E]=!0,h[x]=u)):l[x]=u}}}}b=[h,l];p=b[0];b=b[1];for(var da in this.l)da in p?(this.j[da]||(this.l[da].style.display="",this.j[da]=!0),delete p[da]):da in b?(this.j[da]&&(this.l[da].style.display="none",delete this.j[da]),delete b[da]):(ld(this.l[da]),delete this.l[da],delete this.j[da]);for(da in p)r=
document.createElement("LI"),r.innerHTML=p[da].b,this.I.appendChild(r),this.l[da]=r,this.j[da]=!0;for(da in b)r=document.createElement("LI"),r.innerHTML=b[da].b,r.style.display="none",this.I.appendChild(r),this.l[da]=r;da=!wb(this.j)||!wb(a.logos);this.B!=da&&(this.element.style.display=da?"":"none",this.B=da);da&&wb(this.j)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");a=a.logos;da=this.T;for(ca in da)ca in a||(ld(da[ca]),delete da[ca]);for(var fb in a)if(b=
a[fb],b instanceof HTMLElement&&(this.u.appendChild(b),da[fb]=b),!(fb in da)){var ca=new Image;ca.src=fb;""===b?p=ca:(p=document.createElement("a"),p.href=b,p.appendChild(ca));this.u.appendChild(p);da[fb]=p}this.u.style.display=wb(a)?"none":""}else this.B&&(this.element.style.display="none",this.B=!1)}k=nd.prototype;k.Vm=function(a){a.preventDefault();pd(this)};function pd(a){a.element.classList.toggle("ol-collapsed");a.c?kd(a.D,a.C):kd(a.C,a.D);a.c=!a.c}k.Um=function(){return this.o};
k.Xm=function(a){this.o!==a&&(this.o=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.c&&pd(this))};k.Wm=function(a){this.o&&this.c!==a&&pd(this)};k.Tm=function(){return this.c};function qd(a){return Math.pow(a,3)}function rd(a){return 1-qd(1-a)}function sd(a){return 3*a*a-2*a*a*a}function td(a){return a};function ud(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-rotate",c=void 0!==a.label?a.label:"\u21e7";this.c=null;"string"===typeof c?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=c):(this.c=c,this.c.classList.add("ol-compass"));var d=a.tipLabel?a.tipLabel:"Reset rotation",c=document.createElement("button");c.className=b+"-reset";c.setAttribute("type","button");c.title=d;c.appendChild(this.c);y(c,"click",ud.prototype.D,this);d=document.createElement("div");
d.className=b+" ol-unselectable ol-control";d.appendChild(c);b=a.render?a.render:vd;this.o=a.resetNorth?a.resetNorth:void 0;md.call(this,{element:d,render:b,target:a.target});this.l=void 0!==a.duration?a.duration:250;this.j=void 0!==a.autoHide?a.autoHide:!0;this.u=void 0;this.j&&this.element.classList.add("ol-hidden")}v(ud,md);ud.prototype.D=function(a){a.preventDefault();this.o?this.o():(a=this.a.Z())&&void 0!==a.Qa()&&(0<this.l?a.animate({rotation:0,duration:this.l,easing:rd}):a.Oe(0))};
function vd(a){if(a=a.frameState){a=a.viewState.rotation;if(a!=this.u){var b="rotate("+a+"rad)";if(this.j){var c=this.element.classList.contains("ol-hidden");c||a?c&&a&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=b;this.c.style.webkitTransform=b;this.c.style.transform=b}this.u=a}};function wd(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-zoom",c=void 0!==a.delta?a.delta:1,d=void 0!==a.zoomInLabel?a.zoomInLabel:"+",e=void 0!==a.zoomOutLabel?a.zoomOutLabel:"\u2212",f=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",g=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=b+"-in";h.setAttribute("type","button");h.title=f;h.appendChild("string"===typeof d?document.createTextNode(d):d);y(h,"click",wd.prototype.j.bind(this,
c));d=document.createElement("button");d.className=b+"-out";d.setAttribute("type","button");d.title=g;d.appendChild("string"===typeof e?document.createTextNode(e):e);y(d,"click",wd.prototype.j.bind(this,-c));c=document.createElement("div");c.className=b+" ol-unselectable ol-control";c.appendChild(h);c.appendChild(d);md.call(this,{element:c,target:a.target});this.c=void 0!==a.duration?a.duration:250}v(wd,md);
wd.prototype.j=function(a,b){b.preventDefault();if(b=this.a.Z()){var c=b.Pa();c&&(a=b.constrainResolution(c,a),0<this.c?(b.Ic()&&b.ed(),b.animate({resolution:a,duration:this.c,easing:rd})):b.Vc(a))}};function xd(a){a=a?a:{};var b=new Yc;(void 0!==a.zoom?a.zoom:1)&&b.push(new wd(a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&b.push(new ud(a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&b.push(new nd(a.attributionOptions));return b};function yd(a){a=a?a:{};this.c=void 0!==a.className?a.className:"ol-full-screen";var b=void 0!==a.label?a.label:"\u2922";this.o="string"===typeof b?document.createTextNode(b):b;b=void 0!==a.labelActive?a.labelActive:"\u00d7";this.l="string"===typeof b?document.createTextNode(b):b;var c=a.tipLabel?a.tipLabel:"Toggle full-screen",b=document.createElement("button");b.className=this.c+"-"+zd();b.setAttribute("type","button");b.title=c;b.appendChild(this.o);y(b,"click",this.C,this);c=document.createElement("div");
c.className=this.c+" ol-unselectable ol-control "+(Ad()?"":"ol-unsupported");c.appendChild(b);md.call(this,{element:c,target:a.target});this.D=void 0!==a.keys?a.keys:!1;this.j=a.source}v(yd,md);
yd.prototype.C=function(a){a.preventDefault();Ad()&&(a=this.a)&&(zd()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.j?"string"===typeof this.j?document.getElementById(this.j):this.j:a.jd(),this.D?a.mozRequestFullScreenWithKeys?a.mozRequestFullScreenWithKeys():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):
Bd(a):Bd(a)))};yd.prototype.u=function(){var a=this.element.firstElementChild,b=this.a;zd()?(a.className=this.c+"-true",kd(this.l,this.o)):(a.className=this.c+"-false",kd(this.o,this.l));b&&b.Ad()};yd.prototype.setMap=function(a){md.prototype.setMap.call(this,a);a&&this.v.push(y(document,Cd(),this.u,this))};
function Ad(){var a=document.body;return!!(a.webkitRequestFullscreen||a.mozRequestFullScreen&&document.mozFullScreenEnabled||a.msRequestFullscreen&&document.msFullscreenEnabled||a.requestFullscreen&&document.fullscreenEnabled)}function zd(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}
function Bd(a){a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()}var Cd=function(){var a;return function(){if(!a){var b=document.body;b.webkitRequestFullscreen?a="webkitfullscreenchange":b.mozRequestFullScreen?a="mozfullscreenchange":b.msRequestFullscreen?a="MSFullscreenChange":b.requestFullscreen&&(a="fullscreenchange")}return a}}();function Dd(a){a=a?a:{};var b=document.createElement("DIV");b.className=void 0!==a.className?a.className:"ol-mouse-position";md.call(this,{element:b,render:a.render?a.render:Ed,target:a.target});y(this,Vc(Fd),this.Ym,this);a.coordinateFormat&&this.kj(a.coordinateFormat);a.projection&&this.$h(a.projection);this.u=void 0!==a.undefinedHTML?a.undefinedHTML:"";this.l=b.innerHTML;this.o=this.j=this.c=null}v(Dd,md);
function Ed(a){a=a.frameState;a?this.c!=a.viewState.projection&&(this.c=a.viewState.projection,this.j=null):this.c=null;Gd(this,this.o)}k=Dd.prototype;k.Ym=function(){this.j=null};k.xh=function(){return this.get(Hd)};k.Zh=function(){return this.get(Fd)};k.Ll=function(a){this.o=this.a.xe(a);Gd(this,this.o)};k.Ml=function(){Gd(this,null);this.o=null};k.setMap=function(a){md.prototype.setMap.call(this,a);a&&(a=a.a,this.v.push(y(a,"mousemove",this.Ll,this),y(a,"mouseout",this.Ml,this)))};
k.kj=function(a){this.set(Hd,a)};k.$h=function(a){this.set(Fd,Tb(a))};function Gd(a,b){var c=a.u;if(b&&a.c){if(!a.j){var d=a.Zh();a.j=d?Vb(a.c,d):fc}if(b=a.a.Wa(b))a.j(b,b),c=(c=a.xh())?c(b):b.toString()}a.l&&c==a.l||(a.element.innerHTML=c,a.l=c)}var Fd="projection",Hd="coordinateFormat";function Id(a,b,c){Oc.call(this,a);this.map=b;this.frameState=void 0!==c?c:null}v(Id,Oc);function Jd(a,b,c,d,e){Id.call(this,a,b,e);this.originalEvent=c;this.pixel=b.xe(c);this.coordinate=b.Wa(this.pixel);this.dragging=void 0!==d?d:!1}v(Jd,Id);Jd.prototype.preventDefault=function(){Id.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};Jd.prototype.stopPropagation=function(){Id.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};var Kd=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Ld(a,b){var c,d,e=Kd.length;for(d=0;d<e;++d)try{if(c=a.getContext(Kd[d],b))return c}catch(f){}return null};var Md,Nd="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",Od=-1!==Nd.indexOf("firefox"),Pd=-1!==Nd.indexOf("safari")&&-1==Nd.indexOf("chrom"),Qd=-1!==Nd.indexOf("webkit")&&-1==Nd.indexOf("edge"),Rd=-1!==Nd.indexOf("macintosh"),Sd=window.devicePixelRatio||1,Td=!1,Ud=function(){if(!("HTMLCanvasElement"in window))return!1;try{var a=document.createElement("CANVAS").getContext("2d");return a?(void 0!==a.setLineDash&&(Td=!0),!0):!1}catch(b){return!1}}(),Vd="DeviceOrientationEvent"in
window,Wd="geolocation"in navigator,Xd="ontouchstart"in window,Yd="PointerEvent"in window,Zd=!!navigator.msPointerEnabled,$d=!1,ae,be=[];if("WebGLRenderingContext"in window)try{var ce=Ld(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});ce&&($d=!0,ae=ce.getParameter(ce.MAX_TEXTURE_SIZE),be=ce.getSupportedExtensions())}catch(a){}Md=$d;fa=be;ea=ae;var de={Iq:"singleclick",xq:"click",yq:"dblclick",Bq:"pointerdrag",Eq:"pointermove",Aq:"pointerdown",Hq:"pointerup",Gq:"pointerover",Fq:"pointerout",Cq:"pointerenter",Dq:"pointerleave",zq:"pointercancel"};function ee(a,b,c,d,e){Jd.call(this,a,b,c.b,d,e);this.b=c}v(ee,Jd);function fe(a,b){this.b=a;this.f=b};function ge(a){fe.call(this,a,{mousedown:this.fm,mousemove:this.gm,mouseup:this.jm,mouseover:this.im,mouseout:this.hm});this.a=a.i;this.i=[]}v(ge,fe);function he(a,b){a=a.i;var c=b.clientX;b=b.clientY;for(var d=0,e=a.length,f;d<e&&(f=a[d]);d++){var g=Math.abs(b-f[1]);if(25>=Math.abs(c-f[0])&&25>=g)return!0}return!1}function ie(a){var b=je(a,a),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}k=ge.prototype;
k.fm=function(a){if(!he(this,a)){(1).toString()in this.a&&this.cancel(a);var b=ie(a);this.a[(1).toString()]=a;ke(this.b,"pointerdown",b,a)}};k.gm=function(a){if(!he(this,a)){var b=ie(a);ke(this.b,"pointermove",b,a)}};k.jm=function(a){if(!he(this,a)){var b=this.a[(1).toString()];b&&b.button===a.button&&(b=ie(a),ke(this.b,"pointerup",b,a),delete this.a[(1).toString()])}};k.im=function(a){if(!he(this,a)){var b=ie(a);le(this.b,b,a)}};k.hm=function(a){if(!he(this,a)){var b=ie(a);me(this.b,b,a)}};
k.cancel=function(a){var b=ie(a);this.b.cancel(b,a);delete this.a[(1).toString()]};function ne(a){fe.call(this,a,{MSPointerDown:this.om,MSPointerMove:this.pm,MSPointerUp:this.sm,MSPointerOut:this.qm,MSPointerOver:this.rm,MSPointerCancel:this.nm,MSGotPointerCapture:this.lm,MSLostPointerCapture:this.mm});this.a=a.i;this.i=["","unavailable","touch","pen","mouse"]}v(ne,fe);function oe(a,b){var c=b;"number"===typeof b.pointerType&&(c=je(b,b),c.pointerType=a.i[b.pointerType]);return c}k=ne.prototype;
k.om=function(a){this.a[a.pointerId.toString()]=a;var b=oe(this,a);ke(this.b,"pointerdown",b,a)};k.pm=function(a){var b=oe(this,a);ke(this.b,"pointermove",b,a)};k.sm=function(a){var b=oe(this,a);ke(this.b,"pointerup",b,a);delete this.a[a.pointerId.toString()]};k.qm=function(a){var b=oe(this,a);me(this.b,b,a)};k.rm=function(a){var b=oe(this,a);le(this.b,b,a)};k.nm=function(a){var b=oe(this,a);this.b.cancel(b,a);delete this.a[a.pointerId.toString()]};
k.mm=function(a){this.b.b(new pe("lostpointercapture",a,a))};k.lm=function(a){this.b.b(new pe("gotpointercapture",a,a))};function qe(a){fe.call(this,a,{pointerdown:this.ip,pointermove:this.jp,pointerup:this.mp,pointerout:this.kp,pointerover:this.lp,pointercancel:this.hp,gotpointercapture:this.ul,lostpointercapture:this.em})}v(qe,fe);k=qe.prototype;k.ip=function(a){re(this.b,a)};k.jp=function(a){re(this.b,a)};k.mp=function(a){re(this.b,a)};k.kp=function(a){re(this.b,a)};k.lp=function(a){re(this.b,a)};k.hp=function(a){re(this.b,a)};k.em=function(a){re(this.b,a)};k.ul=function(a){re(this.b,a)};function pe(a,b,c){Oc.call(this,a);this.b=b;a=c?c:{};this.buttons=se(a);this.pressure=te(a,this.buttons);this.bubbles="bubbles"in a?a.bubbles:!1;this.cancelable="cancelable"in a?a.cancelable:!1;this.view="view"in a?a.view:null;this.detail="detail"in a?a.detail:null;this.screenX="screenX"in a?a.screenX:0;this.screenY="screenY"in a?a.screenY:0;this.clientX="clientX"in a?a.clientX:0;this.clientY="clientY"in a?a.clientY:0;this.ctrlKey="ctrlKey"in a?a.ctrlKey:!1;this.altKey="altKey"in a?a.altKey:!1;this.shiftKey=
"shiftKey"in a?a.shiftKey:!1;this.metaKey="metaKey"in a?a.metaKey:!1;this.button="button"in a?a.button:0;this.relatedTarget="relatedTarget"in a?a.relatedTarget:null;this.pointerId="pointerId"in a?a.pointerId:0;this.width="width"in a?a.width:0;this.height="height"in a?a.height:0;this.tiltX="tiltX"in a?a.tiltX:0;this.tiltY="tiltY"in a?a.tiltY:0;this.pointerType="pointerType"in a?a.pointerType:"";this.isPrimary="isPrimary"in a?a.isPrimary:!1;b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}
v(pe,Oc);function se(a){if(a.buttons||ue)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function te(a,b){var c=0;a.pressure?c=a.pressure:c=b?.5:0;return c}var ue=!1;try{ue=1===(new MouseEvent("click",{buttons:1})).buttons}catch(a){};function ve(a,b){fe.call(this,a,{touchstart:this.rq,touchmove:this.qq,touchend:this.pq,touchcancel:this.oq});this.a=a.i;this.j=b;this.i=void 0;this.g=0;this.c=void 0}v(ve,fe);k=ve.prototype;k.ij=function(){this.g=0;this.c=void 0};
function we(a,b,c){b=je(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.g;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.i===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function xe(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.changedTouches),f=e.length,g;for(g=0;g<f;++g){var h=we(a,b,e[g]);h.preventDefault=d;c.call(a,b,h)}}
k.rq=function(a){var b=a.touches,c=Object.keys(this.a),d=c.length;if(d>=b.length){var e=[],f;for(f=0;f<d;++f){var g=c[f];var h=this.a[g];var l;if(!(l=1==g))a:{for(var m=b.length,n=0;n<m;n++)if(l=b[n],l.identifier===g-2){l=!0;break a}l=!1}l||e.push(h.out)}for(f=0;f<e.length;++f)this.Kf(a,e[f])}b=a.changedTouches[0];c=Object.keys(this.a).length;if(!c||1===c&&(1).toString()in this.a)this.i=b.identifier,void 0!==this.c&&clearTimeout(this.c);ye(this,a);this.g++;xe(this,a,this.cp)};
k.cp=function(a,b){this.a[b.pointerId]={target:b.target,out:b,Wi:b.target};var c=this.b;b.bubbles=!0;ke(c,"pointerover",b,a);c=this.b;b.bubbles=!1;ke(c,"pointerenter",b,a);ke(this.b,"pointerdown",b,a)};k.qq=function(a){a.preventDefault();xe(this,a,this.km)};
k.km=function(a,b){var c=this.a[b.pointerId];if(c){var d=c.out,e=c.Wi;ke(this.b,"pointermove",b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(me(this.b,d,a),le(this.b,b,a)):(b.target=e,b.relatedTarget=null,this.Kf(a,b)));c.out=b;c.Wi=b.target}};k.pq=function(a){ye(this,a);xe(this,a,this.sq)};
k.sq=function(a,b){ke(this.b,"pointerup",b,a);this.b.out(b,a);ze(this.b,b,a);delete this.a[b.pointerId];b.isPrimary&&(this.i=void 0,this.c=setTimeout(this.ij.bind(this),200))};k.oq=function(a){xe(this,a,this.Kf)};k.Kf=function(a,b){this.b.cancel(b,a);this.b.out(b,a);ze(this.b,b,a);delete this.a[b.pointerId];b.isPrimary&&(this.i=void 0,this.c=setTimeout(this.ij.bind(this),200))};
function ye(a,b){var c=a.j.i;b=b.changedTouches[0];if(a.i===b.identifier){var d=[b.clientX,b.clientY];c.push(d);setTimeout(function(){ma(c,d)},2500)}};function Ae(a){Qc.call(this);this.g=a;this.i={};this.f={};this.a=[];Yd?Be(this,new qe(this)):Zd?Be(this,new ne(this)):(a=new ge(this),Be(this,a),Xd&&Be(this,new ve(this,a)));a=this.a.length;for(var b,c=0;c<a;c++)b=this.a[c],Ce(this,Object.keys(b.f))}v(Ae,Qc);function Be(a,b){var c=Object.keys(b.f);c&&(c.forEach(function(a){var c=b.f[a];c&&(this.f[a]=c.bind(b))},a),a.a.push(b))}Ae.prototype.c=function(a){var b=this.f[a.type];b&&b(a)};
function Ce(a,b){b.forEach(function(a){y(this.g,a,this.c,this)},a)}function De(a,b){b.forEach(function(a){Kc(this.g,a,this.c,this)},a)}function je(a,b){for(var c={},d,e=0,f=Ee.length;e<f;e++)d=Ee[e][0],c[d]=a[d]||b[d]||Ee[e][1];return c}function ze(a,b,c){b.bubbles=!1;ke(a,"pointerleave",b,c)}Ae.prototype.out=function(a,b){a.bubbles=!0;ke(this,"pointerout",a,b)};Ae.prototype.cancel=function(a,b){ke(this,"pointercancel",a,b)};
function me(a,b,c){a.out(b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||ze(a,b,c)}function le(a,b,c){b.bubbles=!0;ke(a,"pointerover",b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||(b.bubbles=!1,ke(a,"pointerenter",b,c))}function ke(a,b,c,d){a.b(new pe(b,d,c))}function re(a,b){a.b(new pe(b.type,b,b))}Ae.prototype.ka=function(){for(var a=this.a.length,b,c=0;c<a;c++)b=this.a[c],De(this,Object.keys(b.f));Qc.prototype.ka.call(this)};
var Ee=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Fe(a,b){Qc.call(this);this.i=a;this.j=0;this.o=!1;this.f=[];this.D=b?b*Sd:Sd;this.c=null;a=this.i.a;this.S=0;this.u={};this.g=new Ae(a);this.a=null;this.l=y(this.g,"pointerdown",this.Ol,this);this.v=y(this.g,"pointermove",this.Lp,this)}v(Fe,Qc);function Ge(a,b){var c=new ee("click",a.i,b);a.b(c);a.j?(clearTimeout(a.j),a.j=0,c=new ee("dblclick",a.i,b),a.b(c)):a.j=setTimeout(function(){this.j=0;var a=new ee("singleclick",this.i,b);this.b(a)}.bind(a),250)}
function He(a,b){"pointerup"==b.type||"pointercancel"==b.type?delete a.u[b.pointerId]:"pointerdown"==b.type&&(a.u[b.pointerId]=!0);a.S=Object.keys(a.u).length}k=Fe.prototype;k.Jh=function(a){He(this,a);var b=new ee("pointerup",this.i,a);this.b(b);this.o||a.button||Ge(this,this.c);this.S||(this.f.forEach(Ec),this.f.length=0,this.o=!1,this.c=null,Nc(this.a),this.a=null)};
k.Ol=function(a){He(this,a);var b=new ee("pointerdown",this.i,a);this.b(b);this.c=a;this.f.length||(this.a=new Ae(document),this.f.push(y(this.a,"pointermove",this.Hm,this),y(this.a,"pointerup",this.Jh,this),y(this.g,"pointercancel",this.Jh,this)))};k.Hm=function(a){if(Ie(this,a)){this.o=!0;var b=new ee("pointerdrag",this.i,a,this.o);this.b(b)}a.preventDefault()};k.Lp=function(a){this.b(new ee(a.type,this.i,a,!(!this.c||!Ie(this,a))))};
function Ie(a,b){return Math.abs(b.clientX-a.c.clientX)>a.D||Math.abs(b.clientY-a.c.clientY)>a.D}k.ka=function(){this.v&&(Ec(this.v),this.v=null);this.l&&(Ec(this.l),this.l=null);this.f.forEach(Ec);this.f.length=0;this.a&&(Nc(this.a),this.a=null);this.g&&(Nc(this.g),this.g=null);Qc.prototype.ka.call(this)};function Ke(a,b){this.l=a;this.c=b;this.b=[];this.i=[];this.a={}}Ke.prototype.clear=function(){this.b.length=0;this.i.length=0;ub(this.a)};function Le(a){var b=a.b,c=a.i,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),Me(a,0));b=a.c(d);delete a.a[b];return d}Ke.prototype.f=function(a){xa(!(this.c(a)in this.a),31);var b=this.l(a);return Infinity!=b?(this.b.push(a),this.i.push(b),this.a[this.c(a)]=!0,Ne(this,0,this.b.length-1),!0):!1};
function Me(a,b){for(var c=a.b,d=a.i,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var l=2*b+1,m=2*b+2,l=m<e&&d[m]<d[l]?m:l;c[b]=c[l];d[b]=d[l];b=l}c[b]=f;d[b]=g;Ne(a,h,b)}function Ne(a,b,c){var d=a.b;a=a.i;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function Oe(a){var b=a.l,c=a.b,d=a.i,e=0,f=c.length,g;for(g=0;g<f;++g){var h=c[g];var l=b(h);Infinity==l?delete a.a[a.c(h)]:(d[e]=l,c[e++]=h)}c.length=e;d.length=e;for(b=(a.b.length>>1)-1;0<=b;b--)Me(a,b)};function Pe(a,b){Ke.call(this,function(b){return a.apply(null,b)},function(a){return a[0].bb()});this.v=b;this.j=0;this.g={}}v(Pe,Ke);Pe.prototype.f=function(a){var b=Ke.prototype.f.call(this,a);b&&y(a[0],"change",this.o,this);return b};Pe.prototype.o=function(a){a=a.target;var b=a.getState();if(2===b||3===b||4===b||5===b)Kc(a,"change",this.o,this),a=a.bb(),a in this.g&&(delete this.g[a],--this.j),this.v()};
function Qe(a,b,c){for(var d=0,e,f;a.j<b&&d<c&&0<a.b.length;)e=Le(a)[0],f=e.bb(),0!==e.getState()||f in a.g||(a.g[f]=!0,++a.j,++d,e.load())};function Re(a){return function(b,c,d){if(void 0!==b)return b=ka(a,b,d),b=Ca(b+c,0,a.length-1),c=Math.floor(b),b!=c&&c<a.length-1?a[c]/Math.pow(a[c]/a[c+1],b-c):a[c]}}function Se(a,b,c){return function(d,e,f){if(void 0!==d)return d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(-f/2+.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)}};function Te(a){if(void 0!==a)return 0}function Ue(a,b){if(void 0!==a)return a+b}function Ve(a){var b=2*Math.PI/a;return function(a,d){if(void 0!==a)return a=Math.floor((a+d)/b+.5)*b}}function We(){var a=Ha(5);return function(b,c){if(void 0!==b)return Math.abs(b+c)<=a?0:b+c}};function Xe(a,b){a=void 0!==b?a.toFixed(b):""+a;b=a.indexOf(".");b=-1===b?a.length:b;return 2<b?a:Array(3-b).join("0")+a}function Ye(a){a=(""+a).split(".");for(var b=["1","3"],c=0;c<Math.max(a.length,b.length);c++){var d=parseInt(a[c]||"0",10),e=parseInt(b[c]||"0",10);if(d>e)return 1;if(e>d)return-1}return 0};function Ze(a,b){a[0]+=b[0];a[1]+=b[1];return a}function $e(a,b){var c=b.pd(),d=b.wa();b=d[0];var d=d[1],e=a[0]-b;a=a[1]-d;e||a||(e=1);var f=Math.sqrt(e*e+a*a);return[b+c*e/f,d+c*a/f]}function af(a,b){var c=a[0];a=a[1];var d=b[0],e=b[1];b=d[0];var d=d[1],f=e[0],e=e[1],g=f-b,h=e-d,c=g||h?(g*(c-b)+h*(a-d))/(g*g+h*h||0):0;0>=c?(a=b,c=d):1<=c?(a=f,c=e):(a=b+c*g,c=d+c*h);return[a,c]}
function bf(a,b,c){b=Ia(b+180,360)-180;var d=Math.abs(3600*b);c=c||0;var e=Math.pow(10,c),f=Math.floor(d/3600),g=Math.floor((d-3600*f)/60),d=Math.ceil((d-3600*f-60*g)*e)/e;60<=d&&(d=0,g+=1);60<=g&&(g=0,f+=1);return f+"\u00b0 "+Xe(g)+"\u2032 "+Xe(d,c)+"\u2033"+(b?" "+a.charAt(0>b?1:0):"")}function cf(a,b,c){return a?b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c)):""}function df(a,b){for(var c=!0,d=a.length-1;0<=d;--d)if(a[d]!=b[d]){c=!1;break}return c}
function ef(a,b){var c=Math.cos(b);b=Math.sin(b);var d=a[1]*c+a[0]*b;a[0]=a[0]*c-a[1]*b;a[1]=d;return a}function gf(a,b){a[0]*=b;a[1]*=b}function hf(a,b){var c=a[0]-b[0];a=a[1]-b[1];return c*c+a*a}function jf(a,b){return Math.sqrt(hf(a,b))}function kf(a,b){return hf(a,af(a,b))}function lf(a,b){return cf(a,"{x}, {y}",b)};function mf(){return!0}function nf(){return!1};function of(){Tc.call(this);this.l=Oa();this.v=-1;this.f={};this.o=this.g=0}v(of,Tc);k=of.prototype;k.Ab=function(a,b){b=b?b:[NaN,NaN];this.Kb(a[0],a[1],b,Infinity);return b};k.sb=function(a){return this.Mc(a[0],a[1])};k.Mc=nf;k.G=function(a){this.v!=this.i&&(this.l=this.se(this.l),this.v=this.i);var b=this.l;a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};k.Rb=function(a){return this.Vd(a*a)};k.tb=function(a,b){this.Dc(ec(a,b));return this};function pf(a,b,c,d,e,f){for(var g=f?f:[],h=0;b<c;b+=d){var l=a[b],m=a[b+1];g[h++]=e[0]*l+e[2]*m+e[4];g[h++]=e[1]*l+e[3]*m+e[5]}f&&g.length!=h&&(g.length=h);return g}function qf(a,b,c,d,e,f,g){for(var h=g?g:[],l=0,m;b<c;b+=d)for(h[l++]=a[b]+e,h[l++]=a[b+1]+f,m=b+2;m<b+d;++m)h[l++]=a[m];g&&h.length!=l&&(h.length=l);return h};function rf(){of.call(this);this.ja="XY";this.a=2;this.A=null}v(rf,of);function sf(a){var b;"XY"==a?b=2:"XYZ"==a||"XYM"==a?b=3:"XYZM"==a&&(b=4);return b}k=rf.prototype;k.Mc=nf;k.se=function(a){return $a(this.A,0,this.A.length,this.a,a)};k.ac=function(){return this.A.slice(0,this.a)};k.ga=function(){return this.A};k.bc=function(){return this.A.slice(this.A.length-this.a)};k.cc=function(){return this.ja};
k.Vd=function(a){this.o!=this.i&&(ub(this.f),this.g=0,this.o=this.i);if(0>a||this.g&&a<=this.g)return this;var b=a.toString();if(this.f.hasOwnProperty(b))return this.f[b];var c=this.hd(a);if(c.ga().length<this.A.length)return this.f[b]=c;this.g=a;return this};k.hd=function(){return this};k.qa=function(){return this.a};function tf(a,b,c){a.a=sf(b);a.ja=b;a.A=c}
function uf(a,b,c,d){if(b)c=sf(b);else{for(b=0;b<d;++b)if(c.length)c=c[0];else{a.ja="XY";a.a=2;return}c=c.length;var e;2==c?e="XY":3==c?e="XYZ":4==c&&(e="XYZM");b=e}a.ja=b;a.a=c}k.Dc=function(a){this.A&&(a(this.A,this.A,this.a),this.s())};
k.rotate=function(a,b){var c=this.ga();if(c){var d=c.length,e=this.qa(),f=c?c:[],g=Math.cos(a);a=Math.sin(a);var h=b[0];b=b[1];for(var l=0,m=0;m<d;m+=e){var n=c[m]-h,p=c[m+1]-b;f[l++]=h+n*g-p*a;f[l++]=b+n*a+p*g;for(n=m+2;n<m+e;++n)f[l++]=c[n]}c&&f.length!=l&&(f.length=l);this.s()}};
k.scale=function(a,b,c){var d=b;void 0===d&&(d=a);var e=c;e||(e=nb(this.G()));if(c=this.ga()){b=c.length;for(var f=this.qa(),g=c?c:[],h=e[0],e=e[1],l=0,m=0;m<b;m+=f){var n=c[m]-h,p=c[m+1]-e;g[l++]=h+a*n;g[l++]=e+d*p;for(n=m+2;n<m+f;++n)g[l++]=c[n]}c&&g.length!=l&&(g.length=l);this.s()}};k.translate=function(a,b){var c=this.ga();c&&(qf(c,0,c.length,this.qa(),a,b,c),this.s())};function vf(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],l=a[b+1],e=e+(g*h-f*l),f=h,g=l;return e/2}function wf(a,b,c,d){var e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g],e=e+vf(a,b,h,d);b=h}return e};function xf(a,b,c,d,e,f,g){var h=a[b],l=a[b+1],m=a[c]-h,n=a[c+1]-l;if(m||n)if(f=((e-h)*m+(f-l)*n)/(m*m+n*n),1<f)b=c;else if(0<f){for(e=0;e<d;++e)g[e]=Ja(a[b+e],a[c+e],f);g.length=d;return}for(e=0;e<d;++e)g[e]=a[b+e];g.length=d}function yf(a,b,c,d,e){var f=a[b],g=a[b+1];for(b+=d;b<c;b+=d){var h=a[b],l=a[b+1],f=Ga(f,g,h,l);f>e&&(e=f);f=h;g=l}return e}function zf(a,b,c,d,e){var f;var g=0;for(f=c.length;g<f;++g){var h=c[g];e=yf(a,b,h,d,e);b=h}return e}
function Af(a,b,c,d,e,f,g,h,l,m,n){if(b==c)return m;if(!e){var p=Ga(g,h,a[b],a[b+1]);if(p<m){for(n=0;n<d;++n)l[n]=a[b+n];l.length=d;return p}return m}for(var q=n?n:[NaN,NaN],r=b+d;r<c;)if(xf(a,r-d,r,d,g,h,q),p=Ga(g,h,q[0],q[1]),p<m){m=p;for(n=0;n<d;++n)l[n]=q[n];l.length=d;r+=d}else r+=d*Math.max((Math.sqrt(p)-Math.sqrt(m))/e|0,1);if(f&&(xf(a,c-d,b,d,g,h,q),p=Ga(g,h,q[0],q[1]),p<m)){m=p;for(n=0;n<d;++n)l[n]=q[n];l.length=d}return m}
function Bf(a,b,c,d,e,f,g,h,l,m,n){n=n?n:[NaN,NaN];var p;var q=0;for(p=c.length;q<p;++q){var r=c[q];m=Af(a,b,r,d,e,f,g,h,l,m,n);b=r}return m};function Cf(a,b){var c=0,d;var e=0;for(d=b.length;e<d;++e)a[c++]=b[e];return c}function Df(a,b,c,d){var e;var f=0;for(e=c.length;f<e;++f){var g=c[f],h;for(h=0;h<d;++h)a[b++]=g[h]}return b}function Ef(a,b,c,d,e){e=e?e:[];var f=0,g;var h=0;for(g=c.length;h<g;++h)b=Df(a,b,c[h],d),e[f++]=b;e.length=f;return e};function Ff(a,b,c,d,e){e=void 0!==e?e:[];for(var f=0;b<c;b+=d)e[f++]=a.slice(b,b+d);e.length=f;return e}function Gf(a,b,c,d,e){e=void 0!==e?e:[];var f=0,g;var h=0;for(g=c.length;h<g;++h){var l=c[h];e[f++]=Ff(a,b,l,d,e[f]);b=l}e.length=f;return e};function Hf(a,b,c,d,e,f,g){var h=(c-b)/d;if(3>h){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var l=Array(h);l[0]=1;l[h-1]=1;c=[b,c-d];for(var m=0,n;0<c.length;){var p=c.pop(),q=c.pop(),r=0,u=a[q],x=a[q+1],B=a[p],E=a[p+1];for(n=q+d;n<p;n+=d){var A=Fa(a[n],a[n+1],u,x,B,E);A>r&&(m=n,r=A)}r>e&&(l[(m-b)/d]=1,q+d<m&&c.push(q,m),m+d<p&&c.push(m,p))}for(n=0;n<h;++n)l[n]&&(f[g++]=a[b+n*d],f[g++]=a[b+n*d+1]);return g}
function If(a,b,c,d,e,f,g,h){var l;var m=0;for(l=c.length;m<l;++m){var n=c[m];a:{var p=a,q=n,r=d,u=e,x=f,B=g;if(b!=q){var E=u*Math.round(p[b]/u),A=u*Math.round(p[b+1]/u);b+=r;x[B++]=E;x[B++]=A;do{var L=u*Math.round(p[b]/u);g=u*Math.round(p[b+1]/u);b+=r;if(b==q){x[B++]=L;x[B++]=g;g=B;break a}}while(L==E&&g==A);for(;b<q;){var oa=u*Math.round(p[b]/u);var ha=u*Math.round(p[b+1]/u);b+=r;if(oa!=L||ha!=g){var ga=L-E,z=g-A,M=oa-E,ba=ha-A;ga*ba==z*M&&(0>ga&&M<ga||ga==M||0<ga&&M>ga)&&(0>z&&ba<z||z==ba||0<z&&
ba>z)||(x[B++]=L,x[B++]=g,E=L,A=g);L=oa;g=ha}}x[B++]=L;x[B++]=g}g=B}h.push(g);b=n}return g};function Jf(a,b){rf.call(this);this.c=this.j=-1;this.ma(a,b)}v(Jf,rf);k=Jf.prototype;k.clone=function(){var a=new Jf(null);Kf(a,this.ja,this.A.slice());return a};k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;this.c!=this.i&&(this.j=Math.sqrt(yf(this.A,0,this.A.length,this.a,0)),this.c=this.i);return Af(this.A,0,this.A.length,this.a,this.j,!0,a,b,c,d)};k.qn=function(){return vf(this.A,0,this.A.length,this.a)};k.X=function(){return Ff(this.A,0,this.A.length,this.a)};
k.hd=function(a){var b=[];b.length=Hf(this.A,0,this.A.length,this.a,a,b,0);a=new Jf(null);Kf(a,"XY",b);return a};k.U=function(){return"LinearRing"};k.Xa=function(){};k.ma=function(a,b){a?(uf(this,b,a,1),this.A||(this.A=[]),this.A.length=Df(this.A,0,a,this.a),this.s()):Kf(this,"XY",null)};function Kf(a,b,c){tf(a,b,c);a.s()};function C(a,b){rf.call(this);this.ma(a,b)}v(C,rf);k=C.prototype;k.clone=function(){var a=new C(null);a.ba(this.ja,this.A.slice());return a};k.Kb=function(a,b,c,d){var e=this.A;a=Ga(a,b,e[0],e[1]);if(a<d){d=this.a;for(b=0;b<d;++b)c[b]=e[b];c.length=d;return a}return d};k.X=function(){return this.A?this.A.slice():[]};k.se=function(a){return Za(this.A,a)};k.U=function(){return"Point"};k.Xa=function(a){return Ua(a,this.A[0],this.A[1])};
k.ma=function(a,b){a?(uf(this,b,a,0),this.A||(this.A=[]),this.A.length=Cf(this.A,a),this.s()):this.ba("XY",null)};k.ba=function(a,b){tf(this,a,b);this.s()};function Lf(a,b,c,d,e){return!db(e,function(e){return!Mf(a,b,c,d,e[0],e[1])})}function Mf(a,b,c,d,e,f){for(var g=0,h=a[c-d],l=a[c-d+1];b<c;b+=d){var m=a[b],n=a[b+1];l<=f?n>f&&0<(m-h)*(f-l)-(e-h)*(n-l)&&g++:n<=f&&0>(m-h)*(f-l)-(e-h)*(n-l)&&g--;h=m;l=n}return!!g}function Nf(a,b,c,d,e,f){if(!c.length||!Mf(a,b,c[0],d,e,f))return!1;var g;b=1;for(g=c.length;b<g;++b)if(Mf(a,c[b-1],c[b],d,e,f))return!1;return!0};function Of(a,b,c,d,e,f,g){var h,l=e[f+1],m=[],n=c[0];var p=a[n-d];var q=a[n-d+1];for(h=b;h<n;h+=d){var r=a[h];var u=a[h+1];if(l<=q&&u<=l||q<=l&&l<=u)p=(l-q)/(u-q)*(r-p)+p,m.push(p);p=r;q=u}n=NaN;q=-Infinity;m.sort(ia);p=m[0];h=1;for(u=m.length;h<u;++h){r=m[h];var x=Math.abs(r-p);x>q&&(p=(p+r)/2,Nf(a,b,c,d,p,l)&&(n=p,q=x));p=r}isNaN(n)&&(n=e[f]);return g?(g.push(n,l),g):[n,l]};function Pf(a,b,c,d,e,f){for(var g=[a[b],a[b+1]],h=[],l;b+d<c;b+=d){h[0]=a[b+d];h[1]=a[b+d+1];if(l=e.call(f,g,h))return l;g[0]=h[0];g[1]=h[1]}return!1};function Qf(a,b,c,d,e){var f=ab(Oa(),a,b,c,d);return qb(e,f)?Va(e,f)||f[0]>=e[0]&&f[2]<=e[2]||f[1]>=e[1]&&f[3]<=e[3]?!0:Pf(a,b,c,d,function(a,b){var c=!1,d=Wa(e,a),f=Wa(e,b);if(1===d||1===f)c=!0;else{var g=e[0],h=e[1],r=e[2],u=e[3],x=b[0];b=b[1];a=(b-a[1])/(x-a[0]);f&2&&!(d&2)&&(c=x-(b-u)/a,c=c>=g&&c<=r);c||!(f&4)||d&4||(c=b-(x-r)*a,c=c>=h&&c<=u);c||!(f&8)||d&8||(c=x-(b-h)/a,c=c>=g&&c<=r);c||!(f&16)||d&16||(c=b-(x-g)*a,c=c>=h&&c<=u)}return c}):!1}
function Rf(a,b,c,d,e){var f=c[0];if(!(Qf(a,b,f,d,e)||Mf(a,b,f,d,e[0],e[1])||Mf(a,b,f,d,e[0],e[3])||Mf(a,b,f,d,e[2],e[1])||Mf(a,b,f,d,e[2],e[3])))return!1;if(1===c.length)return!0;b=1;for(f=c.length;b<f;++b)if(Lf(a,c[b-1],c[b],d,e))return!1;return!0};function Sf(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],l=a[b+1],e=e+(h-f)*(l+g),f=h,g=l;return 0<e}function Tf(a,b,c,d){var e=0;d=void 0!==d?d:!1;var f;var g=0;for(f=b.length;g<f;++g){var h=b[g],e=Sf(a,e,h,c);if(!g){if(d&&e||!d&&!e)return!1}else if(d&&!e||!d&&e)return!1;e=h}return!0}
function Uf(a,b,c,d,e){e=void 0!==e?e:!1;var f;var g=0;for(f=c.length;g<f;++g){var h=c[g],l=Sf(a,b,h,d);if(g?e&&!l||!e&&l:e&&l||!e&&!l)for(var l=a,m=h,n=d;b<m-n;){var p;for(p=0;p<n;++p){var q=l[b+p];l[b+p]=l[m-n+p];l[m-n+p]=q}b+=n;m-=n}b=h}return b}function Vf(a,b,c,d){var e=0,f;var g=0;for(f=b.length;g<f;++g)e=Uf(a,e,b[g],c,d);return e};function D(a,b){rf.call(this);this.c=[];this.u=-1;this.D=null;this.I=this.C=this.B=-1;this.j=null;this.ma(a,b)}v(D,rf);k=D.prototype;k.pk=function(a){this.A?la(this.A,a.ga()):this.A=a.ga().slice();this.c.push(this.A.length);this.s()};k.clone=function(){var a=new D(null);a.ba(this.ja,this.A.slice(),this.c.slice());return a};
k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;this.C!=this.i&&(this.B=Math.sqrt(zf(this.A,0,this.c,this.a,0)),this.C=this.i);return Bf(this.A,0,this.c,this.a,this.B,!0,a,b,c,d)};k.Mc=function(a,b){return Nf(this.ec(),0,this.c,this.a,a,b)};k.tn=function(){return wf(this.ec(),0,this.c,this.a)};k.X=function(a){if(void 0!==a){var b=this.ec().slice();Uf(b,0,this.c,this.a,a)}else b=this.A;return Gf(b,0,this.c,this.a)};k.Bb=function(){return this.c};
function Wf(a){if(a.u!=a.i){var b=nb(a.G());a.D=Of(a.ec(),0,a.c,a.a,b,0);a.u=a.i}return a.D}k.Tk=function(){return new C(Wf(this))};k.Zk=function(){return this.c.length};k.Ch=function(a){if(0>a||this.c.length<=a)return null;var b=new Jf(null);Kf(b,this.ja,this.A.slice(a?this.c[a-1]:0,this.c[a]));return b};k.Sd=function(){var a=this.ja,b=this.A,c=this.c,d=[],e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g],l=new Jf(null);Kf(l,a,b.slice(e,h));d.push(l);e=h}return d};
k.ec=function(){if(this.I!=this.i){var a=this.A;Tf(a,this.c,this.a)?this.j=a:(this.j=a.slice(),this.j.length=Uf(this.j,0,this.c,this.a));this.I=this.i}return this.j};k.hd=function(a){var b=[],c=[];b.length=If(this.A,0,this.c,this.a,Math.sqrt(a),b,0,c);a=new D(null);a.ba("XY",b,c);return a};k.U=function(){return"Polygon"};k.Xa=function(a){return Rf(this.ec(),0,this.c,this.a,a)};
k.ma=function(a,b){a?(uf(this,b,a,2),this.A||(this.A=[]),a=Ef(this.A,0,a,this.a,this.c),this.A.length=a.length?a[a.length-1]:0,this.s()):this.ba("XY",null,this.c)};k.ba=function(a,b,c){tf(this,a,b);this.c=c;this.s()};function Xf(a,b,c,d){var e=d?d:32;d=[];var f;for(f=0;f<e;++f)la(d,a.offset(b,c,2*Math.PI*f/e));d.push(d[0],d[1]);a=new D(null);a.ba("XY",d,[d.length]);return a}function Yf(a){var b=a[0],c=a[1],d=a[2];a=a[3];b=[b,c,b,a,d,a,d,c,b,c];c=new D(null);c.ba("XY",b,[b.length]);return c}
function Zf(a,b,c){var d=b?b:32,e=a.qa();b=a.ja;for(var f=new D(null,b),d=e*(d+1),e=Array(d),g=0;g<d;g++)e[g]=0;f.ba(b,e,[e.length]);$f(f,a.wa(),a.pd(),c);return f}function $f(a,b,c,d){var e=a.ga(),f=a.ja,g=a.qa(),h=a.Bb(),l=e.length/g-1;d=d?d:0;for(var m,n,p=0;p<=l;++p)n=p*g,m=d+2*Ia(p,l)*Math.PI/l,e[n]=b[0]+c*Math.cos(m),e[n+1]=b[1]+c*Math.sin(m);a.ba(f,e,h)};function F(a){Tc.call(this);a=tb({},a);this.o=[0,0];this.c=[];this.wf=this.wf.bind(this);this.v=$b(a.projection);ag(this,a)}v(F,Tc);
function ag(a,b){var c={};c.center=void 0!==b.center?b.center:null;var d=void 0!==b.minZoom?b.minZoom:0;var e=void 0!==b.maxZoom?b.maxZoom:28;var f=void 0!==b.zoomFactor?b.zoomFactor:2;if(void 0!==b.resolutions){e=b.resolutions;var g=e[0];var h=e[e.length-1];e=Re(e)}else{g=$b(b.projection);h=g.G();var l=(h?Math.max(lb(h),mb(h)):360*zb.degrees/g.sc())/256/Math.pow(2,0),m=l/Math.pow(2,28);g=b.maxResolution;void 0!==g?d=0:g=l/Math.pow(f,d);h=b.minResolution;void 0===h&&(h=void 0!==b.maxZoom?void 0!==
b.maxResolution?g/Math.pow(f,e):l/Math.pow(f,e):m);e=d+Math.floor(Math.log(g/h)/Math.log(f));h=g/Math.pow(f,e-d);e=Se(f,g,e-d)}a.a=g;a.f=h;a.C=f;a.j=b.resolutions;a.l=d;(void 0!==b.enableRotation?b.enableRotation:1)?(d=b.constrainRotation,d=void 0===d||!0===d?We():!1===d?Ue:"number"===typeof d?Ve(d):Ue):d=Te;a.g={center:void 0!==b.extent?Bc(b.extent):Cc,resolution:e,rotation:d};void 0!==b.resolution?c.resolution=b.resolution:void 0!==b.zoom&&(c.resolution=a.constrainResolution(a.a,b.zoom-a.l));c.rotation=
void 0!==b.rotation?b.rotation:0;a.H(c);a.D=b}function bg(a,b){var c=tb({},a.D);void 0!==c.resolution?c.resolution=a.Pa():c.zoom=a.Hh();c.center=a.wa();c.rotation=a.Qa();return tb({},c,b)}k=F.prototype;
k.animate=function(a){var b=Date.now(),c=this.wa().slice(),d=this.Pa(),e=this.Qa(),f=arguments.length;if(1<f&&"function"===typeof arguments[f-1]){var g=arguments[f-1];--f}for(var h=[],l=0;l<f;++l){var m=arguments[l],n={start:b,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1E3,easing:m.easing||sd};m.center&&(n.Rg=c,n.Tg=m.center,c=n.Tg);void 0!==m.zoom?(n.tf=d,n.zd=this.constrainResolution(this.a,m.zoom-this.l,0),d=n.zd):m.resolution&&(n.tf=d,n.zd=m.resolution,d=n.zd);void 0!==
m.rotation&&(n.Sg=e,n.uf=m.rotation,e=n.uf);n.callback=g;b+=n.duration;h.push(n)}this.c.push(h);cg(this,0,1);this.wf()};k.Ic=function(){return 0<dg(this)[0]};k.Rk=function(){return 0<dg(this)[1]};k.ed=function(){cg(this,0,-dg(this)[0]);for(var a=0,b=this.c.length;a<b;++a){var c=this.c[a];c[0].callback&&c[0].callback(!1)}this.c.length=0};
k.wf=function(){void 0!==this.u&&(cancelAnimationFrame(this.u),this.u=void 0);if(this.Ic()){for(var a=Date.now(),b=!1,c=this.c.length-1;0<=c;--c){for(var d=this.c[c],e=!0,f=0,g=d.length;f<g;++f){var h=d[f];if(!h.complete){b=a-h.start;b=0<h.duration?b/h.duration:1;1<=b?(h.complete=!0,b=1):e=!1;b=h.easing(b);if(h.Rg){var l=h.Rg[0],m=h.Rg[1];this.set("center",[l+b*(h.Tg[0]-l),m+b*(h.Tg[1]-m)])}h.tf&&h.zd&&(l=1===b?h.zd:h.tf+b*(h.zd-h.tf),h.anchor&&this.set("center",eg(this,l,h.anchor)),this.set("resolution",
l));void 0!==h.Sg&&void 0!==h.uf&&(b=1===b?h.uf:h.Sg+b*(h.uf-h.Sg),h.anchor&&this.set("center",fg(this,b,h.anchor)),this.set("rotation",b));b=!0;if(!h.complete)break}}e&&(this.c[c]=null,cg(this,0,-1),(d=d[0].callback)&&d(!0))}this.c=this.c.filter(Boolean);b&&void 0===this.u&&(this.u=requestAnimationFrame(this.wf))}};function fg(a,b,c){var d=a.wa();if(void 0!==d){var e=[d[0]-c[0],d[1]-c[1]];ef(e,b-a.Qa());Ze(e,c)}return e}
function eg(a,b,c){var d,e=a.wa();a=a.Pa();void 0!==e&&void 0!==a&&(d=[c[0]-b*(c[0]-e[0])/a,c[1]-b*(c[1]-e[1])/a]);return d}function gg(a){var b=[100,100];a='.ol-viewport[data-view="'+w(a)+'"]';if(a=document.querySelector(a))a=getComputedStyle(a),b[0]=parseInt(a.width,10),b[1]=parseInt(a.height,10);return b}k.Ec=function(a){return this.g.center(a)};k.constrainResolution=function(a,b,c){return this.g.resolution(a,b||0,c||0)};k.constrainRotation=function(a,b){return this.g.rotation(a,b||0)};k.wa=function(){return this.get("center")};
function dg(a,b){return void 0!==b?(b[0]=a.o[0],b[1]=a.o[1],b):a.o.slice()}k.dd=function(a){a=a||gg(this);var b=this.wa();xa(b,1);var c=this.Pa();xa(void 0!==c,2);var d=this.Qa();xa(void 0!==d,3);return ob(b,c,d,a)};k.Nm=function(){return this.a};k.Pm=function(){return this.f};k.Om=function(){return this.Ce(this.f)};k.eq=function(a){ag(this,bg(this,{maxZoom:a}))};k.Qm=function(){return this.Ce(this.a)};k.fq=function(a){ag(this,bg(this,{minZoom:a}))};k.Rm=function(){return this.v};k.Pa=function(){return this.get("resolution")};
k.Sm=function(){return this.j};k.ze=function(a,b){b=b||gg(this);return Math.max(lb(a)/b[0],mb(a)/b[1])};function hg(a){var b=a.a,c=Math.log(b/a.f)/Math.log(2);return function(a){return b/Math.pow(2,a*c)}}k.Qa=function(){return this.get("rotation")};function ig(a){var b=a.a,c=Math.log(b/a.f)/Math.log(2);return function(a){return Math.log(b/a)/Math.log(2)/c}}k.getState=function(){var a=this.wa(),b=this.v,c=this.Pa(),d=this.Qa();return{center:a.slice(),projection:void 0!==b?b:null,resolution:c,rotation:d}};
k.Hh=function(){var a,b=this.Pa();void 0!==b&&(a=this.Ce(b));return a};k.Ce=function(a){if(a>=this.f&&a<=this.a){var b=this.l||0;if(this.j){var c=ka(this.j,a,1);b+=c;if(c==this.j.length-1)return b;var d=this.j[c];c=d/this.j[c+1]}else d=this.a,c=this.C;b+=Math.log(d/a)/Math.log(c)}return b};
k.Qf=function(a,b){b=b||{};var c=b.size;c||(c=gg(this));if(a instanceof rf)if("Circle"===a.U()){a=a.G();var d=Yf(a);d.rotate(this.Qa(),nb(a))}else d=a;else xa(Array.isArray(a),24),xa(!kb(a),25),d=Yf(a);var e=b.padding?b.padding:[0,0,0,0],f=void 0!==b.constrainResolution?b.constrainResolution:!0,g=void 0!==b.nearest?b.nearest:!1,h;void 0!==b.minResolution?h=b.minResolution:void 0!==b.maxZoom?h=this.constrainResolution(this.a,b.maxZoom-this.l,0):h=0;var l=d.ga(),m=this.Qa();a=Math.cos(-m);var m=Math.sin(-m),
n=Infinity,p=Infinity,q=-Infinity,r=-Infinity;d=d.qa();for(var u=0,x=l.length;u<x;u+=d)var B=l[u]*a-l[u+1]*m,E=l[u]*m+l[u+1]*a,n=Math.min(n,B),p=Math.min(p,E),q=Math.max(q,B),r=Math.max(r,E);c=this.ze([n,p,q,r],[c[0]-e[1]-e[3],c[1]-e[0]-e[2]]);c=isNaN(c)?h:Math.max(c,h);f&&(h=this.constrainResolution(c,0,0),!g&&h<c&&(h=this.constrainResolution(h,-1,0)),c=h);m=-m;h=(n+q)/2+(e[1]-e[3])/2*c;e=(p+r)/2+(e[0]-e[2])/2*c;a=[h*a-e*m,e*a+h*m];e=b.callback?b.callback:ua;void 0!==b.duration?this.animate({resolution:c,
center:a,duration:b.duration,easing:b.easing},e):(this.Vc(c),this.ob(a),setTimeout(e.bind(void 0,!0),0))};k.uk=function(a,b,c){var d=this.Qa(),e=Math.cos(-d),d=Math.sin(-d),f=a[0]*e-a[1]*d;a=a[1]*e+a[0]*d;var g=this.Pa(),f=f+(b[0]/2-c[0])*g;a+=(c[1]-b[1]/2)*g;d=-d;this.ob([f*e-a*d,a*e+f*d])};function jg(a){return!!a.wa()&&void 0!==a.Pa()}k.rotate=function(a,b){void 0!==b&&(b=fg(this,a,b),this.ob(b));this.Oe(a)};k.ob=function(a){this.set("center",a);this.Ic()&&this.ed()};
function cg(a,b,c){a.o[b]+=c;a.s()}k.Vc=function(a){this.set("resolution",a);this.Ic()&&this.ed()};k.Oe=function(a){this.set("rotation",a);this.Ic()&&this.ed()};k.lq=function(a){a=this.constrainResolution(this.a,a-this.l,0);this.Vc(a)};function kg(a,b,c){this.f=a;this.c=b;this.g=c;this.b=[];this.a=this.i=0}function lg(a){a.b.length=0;a.i=0;a.a=0}function mg(a){if(6>a.b.length)return!1;var b=Date.now()-a.g,c=a.b.length-3;if(a.b[c+2]<b)return!1;for(var d=c-3;0<d&&a.b[d+2]>b;)d-=3;b=a.b[c+2]-a.b[d+2];if(b<1E3/60)return!1;var e=a.b[c]-a.b[d],c=a.b[c+1]-a.b[d+1];a.i=Math.atan2(c,e);a.a=Math.sqrt(e*e+c*c)/b;return a.a>a.c};function ng(a){Tc.call(this);this.v=null;this.Ha(!0);this.handleEvent=a.handleEvent}v(ng,Tc);ng.prototype.c=function(){return this.get("active")};ng.prototype.f=function(){return this.v};ng.prototype.Ha=function(a){this.set("active",a)};ng.prototype.setMap=function(a){this.v=a};function og(a,b,c,d){if(void 0!==b){var e=a.Qa(),f=a.wa();void 0!==e&&f&&0<d?a.animate({rotation:b,anchor:c,duration:d,easing:rd}):a.rotate(b,c)}}
function pg(a,b,c,d){var e=a.Pa();b=a.constrainResolution(e,b,0);if(c&&void 0!==b&&b!==e){var f=a.wa();c=eg(a,b,c);c=a.Ec(c);c=[(b*f[0]-e*c[0])/(b-e),(b*f[1]-e*c[1])/(b-e)]}qg(a,b,c,d)}function qg(a,b,c,d){if(b){var e=a.Pa(),f=a.wa();void 0!==e&&f&&b!==e&&d?a.animate({resolution:b,anchor:c,duration:d,easing:rd}):(c&&(c=eg(a,b,c),a.ob(c)),a.Vc(b))}};function rg(a){a=a?a:{};this.a=a.delta?a.delta:1;ng.call(this,{handleEvent:sg});this.g=void 0!==a.duration?a.duration:250}v(rg,ng);function sg(a){var b=!1,c=a.originalEvent;if("dblclick"==a.type){var b=a.coordinate,c=c.shiftKey?-this.a:this.a,d=a.map.Z();pg(d,c,b,this.g);a.preventDefault();b=!0}return!b};function tg(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function ug(a){a=a.originalEvent;return!a.button&&!(Qd&&Rd&&a.ctrlKey)}function vg(a){return"pointermove"==a.type}function wg(a){return"singleclick"==a.type}function xg(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function yg(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}
function Ag(a){a=a.originalEvent.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a}function Bg(a){xa(a.b,56);return"mouse"==a.b.pointerType}function Cg(a){a=a.b;return a.isPrimary&&0===a.button};function Dg(a){a=a?a:{};ng.call(this,{handleEvent:a.handleEvent?a.handleEvent:Eg});this.yf=a.handleDownEvent?a.handleDownEvent:nf;this.If=a.handleDragEvent?a.handleDragEvent:ua;this.Jf=a.handleMoveEvent?a.handleMoveEvent:ua;this.sk=a.handleUpEvent?a.handleUpEvent:nf;this.D=!1;this.na={};this.o=[]}v(Dg,ng);function Fg(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}
function Eg(a){if(!(a instanceof ee))return!0;var b=!1,c=a.type;if("pointerdown"===c||"pointerdrag"===c||"pointerup"===c)c=a.b,"pointerup"==a.type?delete this.na[c.pointerId]:"pointerdown"==a.type?this.na[c.pointerId]=c:c.pointerId in this.na&&(this.na[c.pointerId]=c),this.o=vb(this.na);this.D?"pointerdrag"==a.type?this.If(a):"pointerup"==a.type&&(this.D=this.sk(a)&&0<this.o.length):"pointerdown"==a.type?(this.D=a=this.yf(a),b=this.Xc(a)):"pointermove"==a.type&&this.Jf(a);return!b}
Dg.prototype.Xc=function(a){return a};function Gg(a){Dg.call(this,{handleDownEvent:Hg,handleDragEvent:Ig,handleUpEvent:Jg});a=a?a:{};this.a=a.kinetic;this.g=null;this.u=a.condition?a.condition:xg;this.j=!1}v(Gg,Dg);function Ig(a){var b=this.o,c=Fg(b);if(b.length==this.l){if(this.a&&this.a.b.push(c[0],c[1],Date.now()),this.g){var d=this.g[0]-c[0],e=c[1]-this.g[1];a=a.map.Z();var f=a.getState(),d=[d,e];gf(d,f.resolution);ef(d,f.rotation);Ze(d,f.center);d=a.Ec(d);a.ob(d)}}else this.a&&lg(this.a);this.g=c;this.l=b.length}
function Jg(a){var b=a.map;a=b.Z();if(this.o.length)return this.a&&lg(this.a),this.g=null,!0;if(!this.j&&this.a&&mg(this.a)){var c=this.a;c=(c.c-c.a)/c.f;var d=this.a.i,e=a.wa(),e=b.Ja(e),b=b.Wa([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]);a.animate({center:a.Ec(b),duration:500,easing:rd})}cg(a,1,-1);return!1}
function Hg(a){if(0<this.o.length&&this.u(a)){var b=a.map.Z();this.g=null;this.D||cg(b,1,1);dg(b)[0]&&b.ob(a.frameState.viewState.center);this.a&&lg(this.a);this.j=1<this.o.length;return!0}return!1}Gg.prototype.Xc=nf;function Kg(a){a=a?a:{};Dg.call(this,{handleDownEvent:Lg,handleDragEvent:Mg,handleUpEvent:Ng});this.g=a.condition?a.condition:tg;this.a=void 0;this.j=void 0!==a.duration?a.duration:250}v(Kg,Dg);function Mg(a){if(Bg(a)){var b=a.map,c=b.Z();if(c.g.rotation!==Te){b=b.Ob();a=a.pixel;a=Math.atan2(b[1]/2-a[1],a[0]-b[0]/2);if(void 0!==this.a){var b=a-this.a,d=c.Qa();og(c,d-b)}this.a=a}}}
function Ng(a){if(!Bg(a))return!0;a=a.map.Z();cg(a,1,-1);var b=a.Qa(),c=this.j,b=a.constrainRotation(b,0);og(a,b,void 0,c);return!1}function Lg(a){return Bg(a)&&ug(a)&&this.g(a)?(cg(a.map.Z(),1,1),this.a=void 0,!0):!1}Kg.prototype.Xc=nf;function Og(a){this.Gc=null;this.a=document.createElement("div");this.a.style.position="absolute";this.a.className="ol-box "+a;this.i=this.c=this.b=null}v(Og,Mc);Og.prototype.ka=function(){this.setMap(null)};function Pg(a){var b=a.c,c=a.i;a=a.a.style;a.left=Math.min(b[0],c[0])+"px";a.top=Math.min(b[1],c[1])+"px";a.width=Math.abs(c[0]-b[0])+"px";a.height=Math.abs(c[1]-b[1])+"px"}
Og.prototype.setMap=function(a){if(this.b){this.b.C.removeChild(this.a);var b=this.a.style;b.left=b.top=b.width=b.height="inherit"}(this.b=a)&&this.b.C.appendChild(this.a)};function Qg(a){var b=a.c,c=a.i,b=[b,[b[0],c[1]],c,[c[0],b[1]]].map(a.b.Wa,a.b);b[4]=b[0].slice();a.Gc?a.Gc.ma([b]):a.Gc=new D([b])}Og.prototype.V=function(){return this.Gc};function Rg(a){Dg.call(this,{handleDownEvent:Sg,handleDragEvent:Tg,handleUpEvent:Ug});a=a?a:{};this.a=new Og(a.className||"ol-dragbox");this.u=void 0!==a.minArea?a.minArea:64;this.g=null;this.C=a.condition?a.condition:mf;this.l=a.boxEndCondition?a.boxEndCondition:Vg}v(Rg,Dg);function Vg(a,b,c){a=c[0]-b[0];b=c[1]-b[1];return a*a+b*b>=this.u}function Tg(a){if(Bg(a)){var b=this.a,c=a.pixel;b.c=this.g;b.i=c;Qg(b);Pg(b);this.b(new Wg(Xg,a.coordinate,a))}}Rg.prototype.V=function(){return this.a.V()};
Rg.prototype.j=ua;function Ug(a){if(!Bg(a))return!0;this.a.setMap(null);this.l(a,this.g,a.pixel)&&(this.j(a),this.b(new Wg(Yg,a.coordinate,a)));return!1}function Sg(a){if(Bg(a)&&ug(a)&&this.C(a)){this.g=a.pixel;this.a.setMap(a.map);var b=this.a,c=this.g;b.c=this.g;b.i=c;Qg(b);Pg(b);this.b(new Wg(Zg,a.coordinate,a));return!0}return!1}var Zg="boxstart",Xg="boxdrag",Yg="boxend";function Wg(a,b,c){Oc.call(this,a);this.coordinate=b;this.mapBrowserEvent=c}v(Wg,Oc);function $g(a){a=a?a:{};var b=a.condition?a.condition:yg;this.B=void 0!==a.duration?a.duration:200;this.I=void 0!==a.out?a.out:!1;Rg.call(this,{condition:b,className:a.className||"ol-dragzoom"})}v($g,Rg);
$g.prototype.j=function(){var a=this.v,b=a.Z(),c=a.Ob(),d=this.V().G();if(this.I){var e=b.dd(c),d=[a.Ja(eb(d)),a.Ja(hb(d))],a=Ya(void 0),f;var g=0;for(f=d.length;g<f;++g)Pa(a,d[g]);d=b.ze(a,c);rb(e,1/d);d=e}c=b.constrainResolution(b.ze(d,c));e=nb(d);e=b.Ec(e);b.animate({resolution:c,center:e,duration:this.B,easing:rd})};function ah(a){ng.call(this,{handleEvent:bh});a=a||{};this.a=function(a){return xg(a)&&Ag(a)};this.g=a.condition?a.condition:this.a;this.j=void 0!==a.duration?a.duration:100;this.o=void 0!==a.pixelDelta?a.pixelDelta:128}v(ah,ng);
function bh(a){var b=!1;if("keydown"==a.type){var c=a.originalEvent.keyCode;if(this.g(a)&&(40==c||37==c||39==c||38==c)){var b=a.map.Z(),d=b.Pa()*this.o,e=0,f=0;40==c?f=-d:37==c?e=-d:39==c?e=d:f=d;d=[e,f];ef(d,b.Qa());c=this.j;if(e=b.wa())d=b.Ec([e[0]+d[0],e[1]+d[1]]),c?b.animate({duration:c,easing:td,center:d}):b.ob(d);a.preventDefault();b=!0}}return!b};function ch(a){ng.call(this,{handleEvent:dh});a=a?a:{};this.g=a.condition?a.condition:Ag;this.a=a.delta?a.delta:1;this.j=void 0!==a.duration?a.duration:100}v(ch,ng);function dh(a){var b=!1;if("keydown"==a.type||"keypress"==a.type){var c=a.originalEvent.charCode;!this.g(a)||43!=c&&45!=c||(b=43==c?this.a:-this.a,c=a.map.Z(),pg(c,b,void 0,this.j),a.preventDefault(),b=!0)}return!b};function eh(a){ng.call(this,{handleEvent:fh});a=a||{};this.j=0;this.D=void 0!==a.duration?a.duration:250;this.na=void 0!==a.timeout?a.timeout:80;this.C=void 0!==a.useAnchor?a.useAnchor:!0;this.R=a.constrainResolution||!1;this.a=null;this.l=this.o=this.u=this.g=void 0}v(eh,ng);
function fh(a){var b=a.type;if("wheel"!==b&&"mousewheel"!==b)return!0;a.preventDefault();var b=a.map,c=a.originalEvent;this.C&&(this.a=a.coordinate);if("wheel"==a.type){var d=c.deltaY;Od&&c.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(d/=Sd);c.deltaMode===WheelEvent.DOM_DELTA_LINE&&(d*=40)}else"mousewheel"==a.type&&(d=-c.wheelDeltaY,Pd&&(d/=3));if(0===d)return!1;a=Date.now();void 0===this.g&&(this.g=a);if(!this.o||400<a-this.g)this.o=4>Math.abs(d)?gh:hh;if(this.o===gh){b=b.Z();this.l?clearTimeout(this.l):
cg(b,1,1);this.l=setTimeout(this.B.bind(this),400);var c=b.Pa()*Math.pow(2,d/300),e=b.f,f=b.a,g=0;c<e?(c=Math.max(c,e/1.5),g=1):c>f&&(c=Math.min(c,1.5*f),g=-1);if(this.a){var h=eg(b,c,this.a);b.ob(b.Ec(h))}b.Vc(c);!g&&this.R&&b.animate({resolution:b.constrainResolution(c,0<d?-1:1),easing:rd,anchor:this.a,duration:this.D});0<g?b.animate({resolution:e,easing:rd,anchor:this.a,duration:500}):0>g&&b.animate({resolution:f,easing:rd,anchor:this.a,duration:500});this.g=a;return!1}this.j+=d;d=Math.max(this.na-
(a-this.g),0);clearTimeout(this.u);this.u=setTimeout(this.I.bind(this,b),d);return!1}eh.prototype.B=function(){this.l=void 0;cg(this.v.Z(),1,-1)};eh.prototype.I=function(a){a=a.Z();a.Ic()&&a.ed();pg(a,-Ca(this.j,-1,1),this.a,this.D);this.o=void 0;this.j=0;this.a=null;this.u=this.g=void 0};eh.prototype.T=function(a){this.C=a;a||(this.a=null)};var gh="trackpad",hh="wheel";function ih(a){Dg.call(this,{handleDownEvent:jh,handleDragEvent:kh,handleUpEvent:lh});a=a||{};this.g=null;this.j=void 0;this.a=!1;this.l=0;this.C=void 0!==a.threshold?a.threshold:.3;this.u=void 0!==a.duration?a.duration:250}v(ih,Dg);
function kh(a){var b=0,c=this.o[0],d=this.o[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);void 0!==this.j&&(b=c-this.j,this.l+=b,!this.a&&Math.abs(this.l)>this.C&&(this.a=!0));this.j=c;a=a.map;c=a.Z();if(c.g.rotation!==Te){var d=a.a.getBoundingClientRect(),e=Fg(this.o);e[0]-=d.left;e[1]-=d.top;this.g=a.Wa(e);this.a&&(d=c.Qa(),a.render(),og(c,d+b,this.g))}}
function lh(a){if(2>this.o.length){a=a.map.Z();cg(a,1,-1);if(this.a){var b=a.Qa(),c=this.g,d=this.u,b=a.constrainRotation(b,0);og(a,b,c,d)}return!1}return!0}function jh(a){return 2<=this.o.length?(a=a.map,this.g=null,this.j=void 0,this.a=!1,this.l=0,this.D||cg(a.Z(),1,1),!0):!1}ih.prototype.Xc=nf;function mh(a){Dg.call(this,{handleDownEvent:nh,handleDragEvent:oh,handleUpEvent:ph});a=a?a:{};this.l=a.constrainResolution||!1;this.g=null;this.u=void 0!==a.duration?a.duration:400;this.a=void 0;this.j=1}v(mh,Dg);
function oh(a){var b=1,c=this.o[0],d=this.o[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);void 0!==this.a&&(b=this.a/e);this.a=e;a=a.map;var e=a.Z(),d=e.Pa(),f=e.a,g=e.f,c=d*b;c>f?(b=f/d,c=f):c<g&&(b=g/d,c=g);1!=b&&(this.j=b);b=a.a.getBoundingClientRect();d=Fg(this.o);d[0]-=b.left;d[1]-=b.top;this.g=a.Wa(d);a.render();qg(e,c,this.g)}
function ph(a){if(2>this.o.length){a=a.map.Z();cg(a,1,-1);var b=a.Pa();if(this.l||b<a.f||b>a.a){var c=this.g,d=this.u,b=a.constrainResolution(b,0,this.j-1);qg(a,b,c,d)}return!1}return!0}function nh(a){return 2<=this.o.length?(a=a.map,this.g=null,this.a=void 0,this.j=1,this.D||cg(a.Z(),1,1),!0):!1}mh.prototype.Xc=nf;function qh(a){a=a?a:{};var b=new Yc,c=new kg(-.005,.05,100);(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&b.push(new Kg);(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&b.push(new rg({delta:a.zoomDelta,duration:a.zoomDuration}));(void 0!==a.dragPan?a.dragPan:1)&&b.push(new Gg({kinetic:c}));(void 0!==a.pinchRotate?a.pinchRotate:1)&&b.push(new ih);(void 0!==a.pinchZoom?a.pinchZoom:1)&&b.push(new mh({constrainResolution:a.constrainResolution,duration:a.zoomDuration}));if(void 0!==a.keyboard?
a.keyboard:1)b.push(new ah),b.push(new ch({delta:a.zoomDelta,duration:a.zoomDuration}));(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&b.push(new eh({constrainResolution:a.constrainResolution,duration:a.zoomDuration}));(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&b.push(new $g({duration:a.zoomDuration}));return b};function sh(a){Tc.call(this);var b=tb({},a);b.opacity=void 0!==a.opacity?a.opacity:1;b.visible=void 0!==a.visible?a.visible:!0;b.zIndex=void 0!==a.zIndex?a.zIndex:0;b.maxResolution=void 0!==a.maxResolution?a.maxResolution:Infinity;b.minResolution=void 0!==a.minResolution?a.minResolution:0;this.H(b);this.a={layer:this,Je:!0}}v(sh,Tc);
function th(a){a.a.opacity=Ca(a.hc(),0,1);a.a.yj=a.$f();a.a.visible=a.Mb();a.a.extent=a.G();a.a.zIndex=a.Ba();a.a.maxResolution=a.fc();a.a.minResolution=Math.max(a.gc(),0);return a.a}k=sh.prototype;k.G=function(){return this.get("extent")};k.fc=function(){return this.get("maxResolution")};k.gc=function(){return this.get("minResolution")};k.hc=function(){return this.get("opacity")};k.Mb=function(){return this.get("visible")};k.Ba=function(){return this.get("zIndex")};
k.vc=function(a){this.set("extent",a)};k.Ac=function(a){this.set("maxResolution",a)};k.Bc=function(a){this.set("minResolution",a)};k.wc=function(a){this.set("opacity",a)};k.xc=function(a){this.set("visible",a)};k.Vb=function(a){this.set("zIndex",a)};function uh(a){var b=a||{};a=tb({},b);delete a.layers;b=b.layers;sh.call(this,a);this.f=[];this.c={};y(this,Vc(vh),this.Hl,this);b?Array.isArray(b)?b=new Yc(b.slice(),{unique:!0}):xa(b instanceof Yc,43):b=new Yc(void 0,{unique:!0});this.xi(b)}v(uh,sh);k=uh.prototype;k.Fd=function(){};k.Fe=function(){this.Mb()&&this.s()};
k.Hl=function(){this.f.forEach(Ec);this.f.length=0;var a=this.qd();this.f.push(y(a,"add",this.Gl,this),y(a,"remove",this.Il,this));for(var b in this.c)this.c[b].forEach(Ec);ub(this.c);var a=a.a,c;b=0;for(c=a.length;b<c;b++){var d=a[b];this.c[w(d).toString()]=[y(d,"propertychange",this.Fe,this),y(d,"change",this.Fe,this)]}this.s()};k.Gl=function(a){a=a.element;var b=w(a).toString();this.c[b]=[y(a,"propertychange",this.Fe,this),y(a,"change",this.Fe,this)];this.s()};
k.Il=function(a){a=w(a.element).toString();this.c[a].forEach(Ec);delete this.c[a];this.s()};k.qd=function(){return this.get(vh)};k.xi=function(a){this.set(vh,a)};
k.Yf=function(a){var b=void 0!==a?a:[],c=b.length;this.qd().forEach(function(a){a.Yf(b)});a=th(this);var d;for(d=b.length;c<d;c++){var e=b[c];e.opacity*=a.opacity;e.visible=e.visible&&a.visible;e.maxResolution=Math.min(e.maxResolution,a.maxResolution);e.minResolution=Math.max(e.minResolution,a.minResolution);void 0!==a.extent&&(e.extent=void 0!==e.extent?pb(e.extent,a.extent):a.extent)}return b};k.$f=function(){return"ready"};var vh="layers";function wh(a){var b=tb({},a);delete b.source;sh.call(this,b);this.v=this.l=this.o=null;a.map&&this.setMap(a.map);y(this,Vc("source"),this.Ul,this);this.Wc(a.source?a.source:null)}v(wh,sh);function xh(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution}k=wh.prototype;k.Yf=function(a){a=a?a:[];a.push(th(this));return a};k.ha=function(){return this.get("source")||null};k.$f=function(){var a=this.ha();return a?a.getState():"undefined"};k.Tn=function(){this.s()};
k.Ul=function(){this.v&&(Ec(this.v),this.v=null);var a=this.ha();a&&(this.v=y(a,"change",this.Tn,this));this.s()};k.setMap=function(a){this.o&&(Ec(this.o),this.o=null);a||this.s();this.l&&(Ec(this.l),this.l=null);a&&(this.o=y(a,"precompose",function(a){var b=th(this);b.Je=!1;b.zIndex=Infinity;a.frameState.layerStatesArray.push(b);a.frameState.layerStates[w(this)]=b},this),this.l=y(this,"change",a.render,a),this.s())};k.Wc=function(a){this.set("source",a)};function yh(){this.b={};this.a=0}yh.prototype.clear=function(){this.b={};this.a=0};yh.prototype.get=function(a,b,c){a=b+":"+a+":"+(c?gd(c):"null");return a in this.b?this.b[a]:null};yh.prototype.set=function(a,b,c,d){this.b[b+":"+a+":"+(c?gd(c):"null")]=d;++this.a};var zh=new yh;var Ah=Array(6);function Bh(){return[1,0,0,1,0,0]}function Ch(a){return Dh(a,1,0,0,1,0,0)}function Eh(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],l=b[0],m=b[1],n=b[2],p=b[3],q=b[4];b=b[5];a[0]=c*l+e*m;a[1]=d*l+f*m;a[2]=c*n+e*p;a[3]=d*n+f*p;a[4]=c*q+e*b+g;a[5]=d*q+f*b+h;return a}function Dh(a,b,c,d,e,f,g){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;return a}function Fh(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}
function Gh(a,b){var c=b[0],d=b[1];b[0]=a[0]*c+a[2]*d+a[4];b[1]=a[1]*c+a[3]*d+a[5];return b}function Hh(a,b){var c=Math.cos(b);b=Math.sin(b);Eh(a,Dh(Ah,c,b,-b,c,0,0))}function Ih(a,b,c){return Eh(a,Dh(Ah,b,0,0,c,0,0))}function Jh(a,b,c){Eh(a,Dh(Ah,1,0,0,1,b,c))}function Kh(a,b,c,d,e,f,g,h){var l=Math.sin(f);f=Math.cos(f);a[0]=d*f;a[1]=e*l;a[2]=-d*l;a[3]=e*f;a[4]=g*d*f-h*d*l+b;a[5]=g*e*l+h*e*f+c;return a}
function Lh(a){var b=a[0]*a[3]-a[1]*a[2];xa(!!b,32);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5];a[0]=f/b;a[1]=-d/b;a[2]=-e/b;a[3]=c/b;a[4]=(e*h-f*g)/b;a[5]=-(c*h-d*g)/b;return a};function Mh(a,b){this.o=b;this.c={};this.v={}}v(Mh,Mc);function Nh(a){var b=a.viewState,c=a.coordinateToPixelTransform,d=a.pixelToCoordinateTransform;Kh(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);Lh(Fh(d,c))}k=Mh.prototype;k.ka=function(){for(var a in this.c)Nc(this.c[a])};function Oh(){if(32<zh.a){var a=0,b;for(b in zh.b){var c=zh.b[b];a++&3||Rc(c)||(delete zh.b[b],--zh.a)}}}
k.Ea=function(a,b,c,d,e,f,g){function h(a,c){var f=w(a).toString(),g=b.layerStates[w(c)].Je;if(!(f in b.skippedFeatureUids)||g)return d.call(e,a,g?c:null)}var l,m=b.viewState,n=m.resolution,p=m.projection,m=a;if(p.i){var p=p.G(),q=lb(p),r=a[0];if(r<p[0]||r>p[2])m=[r+q*Math.ceil((p[0]-r)/q),a[1]]}p=b.layerStatesArray;for(q=p.length-1;0<=q;--q){var u=p[q],r=u.layer;if(xh(u,n)&&f.call(g,r)&&(u=Ph(this,r),r.ha()&&(l=u.Ea(r.ha().u?m:a,b,c,h,e)),l))return l}};
k.Ei=function(a,b,c,d,e){return void 0!==this.Ea(a,b,c,mf,this,d,e)};function Ph(a,b){var c=w(b).toString();if(c in a.c)return a.c[c];b=b.Fd(a);a.c[c]=b;a.v[c]=y(b,"change",a.Fl,a);return b}k.Fl=function(){this.o.render()};k.Jg=ua;k.Rp=function(a,b){for(var c in this.c)if(!(b&&c in b.layerStates)){a=c;var d=this.c[a];delete this.c[a];Ec(this.v[a]);delete this.v[a];Nc(d)}};function Qh(a,b){for(var c in a.c)if(!(c in b.layerStates)){b.postRenderFunctions.push(a.Rp.bind(a));break}}
function ra(a,b){return a.zIndex-b.zIndex};function Rh(a,b,c,d,e){Oc.call(this,a);this.vectorContext=b;this.frameState=c;this.context=d;this.glContext=e}v(Rh,Oc);var Sh=[0,0,0,1],Th=[],Uh=[0,0,0,1];function Vh(a,b,c,d){b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))};function Wh(){}k=Wh.prototype;k.zb=function(){};k.rd=function(){};k.Zb=function(){};k.te=function(){};k.ue=function(){};k.mc=function(){};k.nc=function(){};k.oc=function(){};k.pc=function(){};k.qc=function(){};k.rc=function(){};k.yc=function(){};k.Ma=function(){};k.Ub=function(){};k.Cb=function(){};function Xh(a,b,c,d,e){this.i=a;this.u=b;this.c=c;this.S=d;this.Yb=e;this.M=this.b=this.a=this.Ua=this.R=this.I=null;this.na=this.T=this.l=this.B=this.C=this.D=0;this.fa=!1;this.f=this.fb=0;this.pa=!1;this.oa=0;this.Ia="";this.va=this.Jb=0;this.Sa=!1;this.j=this.$a=0;this.ra=this.o=this.g=null;this.v=[];this.xb=Bh()}v(Xh,Wh);
function Yh(a,b,c){if(a.M){b=pf(b,0,c,2,a.S,a.v);c=a.i;var d=a.xb,e=c.globalAlpha;1!=a.l&&(c.globalAlpha=e*a.l);var f=a.fb;a.fa&&(f+=a.Yb);var g;var h=0;for(g=b.length;h<g;h+=2){var l=b[h]-a.D,m=b[h+1]-a.C;a.pa&&(l=Math.round(l),m=Math.round(m));if(f||1!=a.f){var n=l+a.D,p=m+a.C;Kh(d,n,p,a.f,a.f,f,-n,-p);c.setTransform.apply(c,d)}c.drawImage(a.M,a.T,a.na,a.oa,a.B,l,m,a.oa,a.B)}(f||1!=a.f)&&c.setTransform(1,0,0,1,0,0);1!=a.l&&(c.globalAlpha=e)}}
function Zh(a,b,c,d){var e=0;if(a.ra&&""!==a.Ia){a.g&&$h(a,a.g);a.o&&ai(a,a.o);var f=a.ra,g=a.i,h=a.Ua;h?(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline)):(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.Ua={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline});b=pf(b,e,c,d,a.S,a.v);f=a.i;g=a.$a;for(a.Sa&&(g+=a.Yb);e<c;e+=d){var h=b[e]+
a.Jb,l=b[e+1]+a.va;if(g||1!=a.j){var m=Kh(a.xb,h,l,a.j,a.j,g,-h,-l);f.setTransform.apply(f,m)}a.o&&f.strokeText(a.Ia,h,l);a.g&&f.fillText(a.Ia,h,l)}(g||1!=a.j)&&f.setTransform(1,0,0,1,0,0)}}function bi(a,b,c,d,e,f){var g=a.i;a=pf(b,c,d,e,a.S,a.v);g.moveTo(a[0],a[1]);b=a.length;f&&(b-=2);for(c=2;c<b;c+=2)g.lineTo(a[c],a[c+1]);f&&g.closePath();return d}function ci(a,b,c,d,e){var f;var g=0;for(f=d.length;g<f;++g)c=bi(a,b,c,d[g],e,!0);return c}k=Xh.prototype;
k.Zb=function(a){if(qb(this.c,a.G())){if(this.a||this.b){this.a&&$h(this,this.a);this.b&&ai(this,this.b);var b=this.S;var c=this.v,d=a.ga();b=d?pf(d,0,d.length,a.qa(),b,c):null;c=b[2]-b[0];d=b[3]-b[1];c=Math.sqrt(c*c+d*d);d=this.i;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);this.a&&d.fill();this.b&&d.stroke()}""!==this.Ia&&Zh(this,a.wa(),2,2)}};k.rd=function(a){this.Ma(a.Fa(),a.Ga());this.Ub(a.Y());this.Cb(a.Na())};
k.zb=function(a){switch(a.U()){case "Point":this.qc(a);break;case "LineString":this.mc(a);break;case "Polygon":this.rc(a);break;case "MultiPoint":this.oc(a);break;case "MultiLineString":this.nc(a);break;case "MultiPolygon":this.pc(a);break;case "GeometryCollection":this.ue(a);break;case "Circle":this.Zb(a)}};k.te=function(a,b){(a=(0,b.Za)(a))&&qb(this.c,a.G())&&(this.rd(b),this.zb(a))};k.ue=function(a){a=a.a;var b;var c=0;for(b=a.length;c<b;++c)this.zb(a[c])};
k.qc=function(a){var b=a.ga();a=a.qa();this.M&&Yh(this,b,b.length);""!==this.Ia&&Zh(this,b,b.length,a)};k.oc=function(a){var b=a.ga();a=a.qa();this.M&&Yh(this,b,b.length);""!==this.Ia&&Zh(this,b,b.length,a)};k.mc=function(a){if(qb(this.c,a.G())){if(this.b){ai(this,this.b);var b=this.i,c=a.ga();b.beginPath();bi(this,c,0,c.length,a.qa(),!1);b.stroke()}""!==this.Ia&&(a=di(a),Zh(this,a,2,2))}};
k.nc=function(a){var b=a.G();if(qb(this.c,b)){if(this.b){ai(this,this.b);var b=this.i,c=a.ga(),d=0,e=a.Bb(),f=a.qa();b.beginPath();var g;var h=0;for(g=e.length;h<g;++h)d=bi(this,c,d,e[h],f,!1);b.stroke()}""!==this.Ia&&(a=ei(a),Zh(this,a,a.length,2))}};k.rc=function(a){if(qb(this.c,a.G())){if(this.b||this.a){this.a&&$h(this,this.a);this.b&&ai(this,this.b);var b=this.i;b.beginPath();ci(this,a.ec(),0,a.Bb(),a.qa());this.a&&b.fill();this.b&&b.stroke()}""!==this.Ia&&(a=Wf(a),Zh(this,a,2,2))}};
k.pc=function(a){if(qb(this.c,a.G())){if(this.b||this.a){this.a&&$h(this,this.a);this.b&&ai(this,this.b);var b=this.i,c=fi(a),d=0,e=a.c,f=a.qa(),g;b.beginPath();var h=0;for(g=e.length;h<g;++h)d=ci(this,c,d,e[h],f);this.a&&b.fill();this.b&&b.stroke()}""!==this.Ia&&(a=gi(a),Zh(this,a,a.length,2))}};function $h(a,b){var c=a.i,d=a.I;d?d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle):(c.fillStyle=b.fillStyle,a.I={fillStyle:b.fillStyle})}
function ai(a,b){var c=a.i,d=a.R;d?(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),Td&&!pa(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle)):(c.lineCap=b.lineCap,Td&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=
b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.R={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}
k.Ma=function(a,b){a?(a=a.b,this.a={fillStyle:id(a?a:Sh)}):this.a=null;if(b){a=b.a;var c=b.f,d=b.i,e=b.g,f=b.j,g=b.c;b=b.o;this.b={lineCap:void 0!==c?c:"round",lineDash:d?d:Th,lineDashOffset:e?e:0,lineJoin:void 0!==f?f:"round",lineWidth:this.u*(void 0!==g?g:1),miterLimit:void 0!==b?b:10,strokeStyle:id(a?a:Uh)}}else this.b=null};
k.Ub=function(a){if(a){var b=a.Hc(),c=a.Y(1),d=a.Oc(),e=a.ic();this.D=b[0];this.C=b[1];this.B=e[1];this.M=c;this.l=a.f;this.T=d[0];this.na=d[1];this.fa=a.l;this.fb=a.g;this.f=a.a;this.pa=a.v;this.oa=e[0]}else this.M=null};
k.Cb=function(a){if(a){var b=a.Fa();b?(b=b.b,this.g={fillStyle:id(b?b:Sh)}):this.g=null;var c=a.Ga();if(c){var b=c.a,d=c.f,e=c.i,f=c.g,g=c.j,h=c.c,c=c.o;this.o={lineCap:void 0!==d?d:"round",lineDash:e?e:Th,lineDashOffset:f?f:0,lineJoin:void 0!==g?g:"round",lineWidth:void 0!==h?h:1,miterLimit:void 0!==c?c:10,strokeStyle:id(b?b:Uh)}}else this.o=null;var b=a.a,d=a.i,e=a.c,f=a.o,g=a.f,h=a.b,c=a.Na(),l=a.g;a=a.j;this.ra={font:void 0!==b?b:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==
a?a:"middle"};this.Ia=void 0!==c?c:"";this.Jb=void 0!==d?this.u*d:0;this.va=void 0!==e?this.u*e:0;this.Sa=void 0!==f?f:!1;this.$a=void 0!==g?g:0;this.j=this.u*(void 0!==h?h:1)}else this.Ia=""};function hi(a,b){Mh.call(this,0,b);this.i=jd();this.b=this.i.canvas;this.b.style.width="100%";this.b.style.height="100%";this.b.style.display="block";this.b.className="ol-unselectable";a.insertBefore(this.b,a.childNodes[0]||null);this.a=!0;this.f=Bh()}v(hi,Mh);
function ii(a,b,c){var d=a.o,e=a.i;if(Rc(d,b)){var f=c.extent,g=c.pixelRatio,h=c.viewState.rotation,l=c.viewState,m=c.pixelRatio/l.resolution;a=Kh(a.f,a.b.width/2,a.b.height/2,m,-m,-l.rotation,-l.center[0],-l.center[1]);d.b(new Rh(b,new Xh(e,g,f,a,h),c,e,null))}}hi.prototype.U=function(){return"canvas"};
hi.prototype.Jg=function(a){if(a){var b=this.i,c=a.pixelRatio,d=Math.round(a.size[0]*c),e=Math.round(a.size[1]*c);this.b.width!=d||this.b.height!=e?(this.b.width=d,this.b.height=e):b.clearRect(0,0,d,e);c=a.viewState.rotation;Nh(a);ii(this,"precompose",a);var f=a.layerStatesArray;qa(f);c&&(b.save(),Vh(b,c,d/2,e/2));var d=a.viewState.resolution,g,e=0;for(g=f.length;e<g;++e){var h=f[e];var l=h.layer;l=Ph(this,l);xh(h,d)&&"ready"==h.yj&&l.sd(a,h)&&l.S(a,h,b)}c&&b.restore();ii(this,"postcompose",a);this.a||
(this.b.style.display="",this.a=!0);Qh(this,a);a.postRenderFunctions.push(Oh)}else this.a&&(this.b.style.display="none",this.a=!1)};hi.prototype.Di=function(a,b,c,d,e,f){var g=b.viewState.resolution,h=b.layerStatesArray,l=h.length;a=Gh(b.pixelToCoordinateTransform,a.slice());for(--l;0<=l;--l){var m=h[l];var n=m.layer;if(xh(m,g)&&e.call(f,n)&&(m=Ph(this,n).u(a,b,c,d)))return m}};var ji=["Polygon","Circle","LineString","Image","Text"];function ki(){};function li(a){this.b=a};function mi(a){this.b=a}v(mi,li);mi.prototype.U=function(){return 35632};function ni(a){this.b=a}v(ni,li);ni.prototype.U=function(){return 35633};function oi(){this.b="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}
v(oi,mi);var pi=new oi;
function qi(){this.b="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}
v(qi,ni);var ri=new qi;function si(a,b){this.B=a.getUniformLocation(b,"n");this.oa=a.getUniformLocation(b,"k");this.c=a.getUniformLocation(b,"j");this.f=a.getUniformLocation(b,"i");this.a=a.getUniformLocation(b,"m");this.ra=a.getUniformLocation(b,"l");this.i=a.getUniformLocation(b,"h");this.I=a.getUniformLocation(b,"p");this.R=a.getUniformLocation(b,"o");this.j=a.getAttribLocation(b,"f");this.b=a.getAttribLocation(b,"e");this.S=a.getAttribLocation(b,"g")};function ti(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function ui(a,b){a[0]=b[0];a[1]=b[1];a[4]=b[2];a[5]=b[3];a[12]=b[4];a[13]=b[5];return a};function vi(a,b){this.origin=nb(b);this.xb=Bh();this.Sa=Bh();this.$a=Bh();this.Jb=ti();this.b=[];this.o=null;this.i=[];this.f=[];this.a=[];this.l=null;this.g=void 0}v(vi,Wh);
vi.prototype.La=function(a,b,c,d,e,f,g,h,l,m,n){var p=a.b;if(this.g){var q=p.isEnabled(p.STENCIL_TEST);var r=p.getParameter(p.STENCIL_FUNC);var u=p.getParameter(p.STENCIL_VALUE_MASK);var x=p.getParameter(p.STENCIL_REF);var B=p.getParameter(p.STENCIL_WRITEMASK);var E=p.getParameter(p.STENCIL_FAIL);var A=p.getParameter(p.STENCIL_PASS_DEPTH_PASS);var L=p.getParameter(p.STENCIL_PASS_DEPTH_FAIL);p.enable(p.STENCIL_TEST);p.clear(p.STENCIL_BUFFER_BIT);p.stencilMask(255);p.stencilFunc(p.ALWAYS,1,255);p.stencilOp(p.KEEP,
p.KEEP,p.REPLACE);this.g.La(a,b,c,d,e,f,g,h,l,m,n);p.stencilMask(0);p.stencilFunc(p.NOTEQUAL,1,255)}wi(a,34962,this.l);wi(a,34963,this.o);f=this.rf(p,a,e,f);var oa=Ch(this.xb);Ih(oa,2/(c*e[0]),2/(c*e[1]));Hh(oa,-d);Jh(oa,-(b[0]-this.origin[0]),-(b[1]-this.origin[1]));b=Ch(this.$a);Ih(b,2/e[0],2/e[1]);e=Ch(this.Sa);d&&Hh(e,-d);p.uniformMatrix4fv(f.i,!1,ui(this.Jb,oa));p.uniformMatrix4fv(f.f,!1,ui(this.Jb,b));p.uniformMatrix4fv(f.c,!1,ui(this.Jb,e));p.uniform1f(f.a,g);if(l){m?a=this.ve(p,a,h,l,n):(p.clear(p.COLOR_BUFFER_BIT|
p.DEPTH_BUFFER_BIT),this.Od(p,a,h,!0),a=(a=l(null))?a:void 0);var ha=a}else this.Od(p,a,h,!1);this.sf(p,f);this.g&&(q||p.disable(p.STENCIL_TEST),p.clear(p.STENCIL_BUFFER_BIT),p.stencilFunc(r,x,u),p.stencilMask(B),p.stencilOp(E,L,A));return ha};function xi(a,b,c,d){a.drawElements(4,d-c,b.g?5125:5123,c*(b.g?4:2))};var yi=[0,0,0,1],zi=[],Ai=[0,0,0,1];function Bi(a,b,c,d,e,f){a=(c-a)*(f-b)-(e-a)*(d-b);return a<=Ci&&a>=-Ci?void 0:0<a}var Ci=Number.EPSILON||2.220446049250313E-16;function Di(a){this.b=void 0!==a?a:[];this.a=Ei}var Ei=35044;function Fi(a,b){vi.call(this,0,b);this.v=null;this.j=[];this.u=[];this.S=0;this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,s:!1}}v(Fi,vi);k=Fi.prototype;
k.Zb=function(a,b){var c=a.pd(),d=a.qa();if(c){this.i.push(this.b.length);this.f.push(b);this.c.s&&(this.u.push(this.b.length),this.c.s=!1);this.S=c;a=a.ga();a=qf(a,0,2,d,-this.origin[0],-this.origin[1]);b=this.a.length;var c=this.b.length,e=b/4,f;for(f=0;2>f;f+=d)this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=0,this.a[b++]=this.S,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=1,this.a[b++]=this.S,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=2,this.a[b++]=this.S,this.a[b++]=a[f],this.a[b++]=
a[f+1],this.a[b++]=3,this.a[b++]=this.S,this.b[c++]=e,this.b[c++]=e+1,this.b[c++]=e+2,this.b[c++]=e+2,this.b[c++]=e+3,this.b[c++]=e,e+=4}else this.c.s&&(this.j.pop(),this.j.length&&(d=this.j[this.j.length-1],this.c.fillColor=d[0],this.c.strokeColor=d[1],this.c.lineWidth=d[2],this.c.s=!1))};k.Db=function(){this.l=new Di(this.a);this.o=new Di(this.b);this.i.push(this.b.length);!this.u.length&&0<this.j.length&&(this.j=[]);this.b=this.a=null};
k.Eb=function(a){var b=this.l,c=this.o;return function(){Gi(a,b);Gi(a,c)}};k.rf=function(a,b,c,d){var e=Hi(b,pi,ri);if(this.v)var f=this.v;else this.v=f=new si(a,e);b.Qc(e);a.enableVertexAttribArray(f.b);a.vertexAttribPointer(f.b,2,5126,!1,16,0);a.enableVertexAttribArray(f.j);a.vertexAttribPointer(f.j,1,5126,!1,16,8);a.enableVertexAttribArray(f.S);a.vertexAttribPointer(f.S,1,5126,!1,16,12);a.uniform2fv(f.I,c);a.uniform1f(f.ra,d);return f};
k.sf=function(a,b){a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.j);a.disableVertexAttribArray(b.S)};
k.Od=function(a,b,c){if(wb(c)){var d=this.i[this.i.length-1];for(c=this.u.length-1;0<=c;--c){var e=this.u[c];var f=this.j[c];a.uniform4fv(this.v.B,f[0]);Ii(this,a,f[1],f[2]);xi(a,b,e,d);d=e}}else{var g=this.i.length-2;f=d=this.i[g+1];for(e=this.u.length-1;0<=e;--e){var h=this.j[e];a.uniform4fv(this.v.B,h[0]);Ii(this,a,h[1],h[2]);for(h=this.u[e];0<=g&&this.i[g]>=h;){var l=this.i[g];var m=this.f[g];m=w(m).toString();c[m]&&(d!==f&&xi(a,b,d,f),f=l);g--;d=l}d!==f&&xi(a,b,d,f);d=f=h}}};
k.ve=function(a,b,c,d,e){var f,g;var h=this.i.length-2;var l=this.i[h+1];for(f=this.u.length-1;0<=f;--f){var m=this.j[f];a.uniform4fv(this.v.B,m[0]);Ii(this,a,m[1],m[2]);for(g=this.u[f];0<=h&&this.i[h]>=g;){m=this.i[h];var n=this.f[h];var p=w(n).toString();if(void 0===c[p]&&n.V()&&(void 0===e||qb(e,n.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),xi(a,b,m,l),l=d(n)))return l;h--;l=m}}};function Ii(a,b,c,d){b.uniform4fv(a.v.R,c);b.uniform1f(a.v.oa,d)}
k.Ma=function(a,b){if(b){var c=b.i;this.c.lineDash=c?c:zi;c=b.g;this.c.lineDashOffset=c?c:0;c=b.a;c instanceof CanvasGradient||c instanceof CanvasPattern?c=Ai:c=ed(c).map(function(a,b){return 3!=b?a/255:a})||Ai;b=b.c;b=void 0!==b?b:1}else c=[0,0,0,0],b=0;a=a?a.b:[0,0,0,0];a instanceof CanvasGradient||a instanceof CanvasPattern?a=yi:a=ed(a).map(function(a,b){return 3!=b?a/255:a})||yi;this.c.strokeColor&&pa(this.c.strokeColor,c)&&this.c.fillColor&&pa(this.c.fillColor,a)&&this.c.lineWidth===b||(this.c.s=
!0,this.c.fillColor=a,this.c.strokeColor=c,this.c.lineWidth=b,this.j.push([a,c,b]))};function Ji(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}v(Ji,mi);var Ki=new Ji;
function Li(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}v(Li,ni);var Mi=new Li;
function Ni(a,b){this.c=a.getUniformLocation(b,"j");this.f=a.getUniformLocation(b,"i");this.a=a.getUniformLocation(b,"k");this.i=a.getUniformLocation(b,"h");this.v=a.getAttribLocation(b,"e");this.u=a.getAttribLocation(b,"f");this.b=a.getAttribLocation(b,"c");this.D=a.getAttribLocation(b,"g");this.C=a.getAttribLocation(b,"d")};function Oi(a,b){this.j=a;this.b=b;this.a={};this.c={};this.i={};this.l=this.v=this.f=this.o=null;(this.g=ja(fa,"OES_element_index_uint"))&&b.getExtension("OES_element_index_uint");y(this.j,"webglcontextlost",this.Xo,this);y(this.j,"webglcontextrestored",this.Yo,this)}v(Oi,Mc);
function wi(a,b,c){var d=a.b,e=c.b,f=String(w(c));if(f in a.a)d.bindBuffer(b,a.a[f].buffer);else{var g=d.createBuffer();d.bindBuffer(b,g);var h;34962==b?h=new Float32Array(e):34963==b&&(h=a.g?new Uint32Array(e):new Uint16Array(e));d.bufferData(b,h,c.a);a.a[f]={lc:c,buffer:g}}}function Gi(a,b){var c=a.b;b=String(w(b));var d=a.a[b];c.isContextLost()||c.deleteBuffer(d.buffer);delete a.a[b]}k=Oi.prototype;
k.ka=function(){Lc(this.j);var a=this.b;if(!a.isContextLost()){for(var b in this.a)a.deleteBuffer(this.a[b].buffer);for(b in this.i)a.deleteProgram(this.i[b]);for(b in this.c)a.deleteShader(this.c[b]);a.deleteFramebuffer(this.f);a.deleteRenderbuffer(this.l);a.deleteTexture(this.v)}};k.Wo=function(){return this.b};
function Pi(a){if(!a.f){var b=a.b,c=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,c);var d=Qi(b,1,1),e=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,e);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,1,1);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0);b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,e);b.bindTexture(b.TEXTURE_2D,null);b.bindRenderbuffer(b.RENDERBUFFER,null);b.bindFramebuffer(b.FRAMEBUFFER,null);a.f=c;
a.v=d;a.l=e}return a.f}function Ri(a,b){var c=String(w(b));if(c in a.c)return a.c[c];var d=a.b,e=d.createShader(b.U());d.shaderSource(e,b.b);d.compileShader(e);return a.c[c]=e}function Hi(a,b,c){var d=w(b)+"/"+w(c);if(d in a.i)return a.i[d];var e=a.b,f=e.createProgram();e.attachShader(f,Ri(a,b));e.attachShader(f,Ri(a,c));e.linkProgram(f);return a.i[d]=f}k.Xo=function(){ub(this.a);ub(this.c);ub(this.i);this.l=this.v=this.f=this.o=null};k.Yo=function(){};
k.Qc=function(a){if(a==this.o)return!1;this.b.useProgram(a);this.o=a;return!0};function Si(a,b,c){var d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);void 0!==b&&a.texParameteri(3553,10242,b);void 0!==c&&a.texParameteri(3553,10243,c);return d}function Qi(a,b,c){var d=Si(a,void 0,void 0);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null);return d}
function Ti(a,b){var c=Si(a,33071,33071);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return c};function Ui(a,b){vi.call(this,0,b);this.C=this.D=void 0;this.S=[];this.v=[];this.oa=void 0;this.j=[];this.c=[];this.I=this.ra=void 0;this.B=null;this.fb=this.fa=this.na=this.T=this.Ua=this.R=void 0;this.va=[];this.u=[];this.pa=void 0}v(Ui,vi);k=Ui.prototype;k.Eb=function(a){var b=this.l,c=this.o,d=this.va,e=this.u,f=a.b;return function(){if(!f.isContextLost()){var g;var h=0;for(g=d.length;h<g;++h)f.deleteTexture(d[h]);h=0;for(g=e.length;h<g;++h)f.deleteTexture(e[h])}Gi(a,b);Gi(a,c)}};
function Vi(a,b,c,d){var e=a.D,f=a.C,g=a.oa,h=a.ra,l=a.I,m=a.R,n=a.Ua,p=a.T,q=a.na?1:0,r=-a.fa,u=a.fb,x=a.pa,B=Math.cos(r),r=Math.sin(r),E=a.b.length,A=a.a.length,L;for(L=0;L<c;L+=d){var oa=b[L]-a.origin[0];var ha=b[L+1]-a.origin[1];var ga=A/8;var z=-u*e;var M=-u*(g-f);a.a[A++]=oa;a.a[A++]=ha;a.a[A++]=z*B-M*r;a.a[A++]=z*r+M*B;a.a[A++]=n/l;a.a[A++]=(p+g)/h;a.a[A++]=m;a.a[A++]=q;z=u*(x-e);M=-u*(g-f);a.a[A++]=oa;a.a[A++]=ha;a.a[A++]=z*B-M*r;a.a[A++]=z*r+M*B;a.a[A++]=(n+x)/l;a.a[A++]=(p+g)/h;a.a[A++]=
m;a.a[A++]=q;z=u*(x-e);M=u*f;a.a[A++]=oa;a.a[A++]=ha;a.a[A++]=z*B-M*r;a.a[A++]=z*r+M*B;a.a[A++]=(n+x)/l;a.a[A++]=p/h;a.a[A++]=m;a.a[A++]=q;z=-u*e;M=u*f;a.a[A++]=oa;a.a[A++]=ha;a.a[A++]=z*B-M*r;a.a[A++]=z*r+M*B;a.a[A++]=n/l;a.a[A++]=p/h;a.a[A++]=m;a.a[A++]=q;a.b[E++]=ga;a.b[E++]=ga+1;a.b[E++]=ga+2;a.b[E++]=ga;a.b[E++]=ga+2;a.b[E++]=ga+3}}k.oc=function(a,b){this.i.push(this.b.length);this.f.push(b);b=a.ga();Vi(this,b,b.length,a.qa())};
k.qc=function(a,b){this.i.push(this.b.length);this.f.push(b);b=a.ga();Vi(this,b,b.length,a.qa())};k.Db=function(a){a=a.b;this.S.push(this.b.length);this.v.push(this.b.length);this.l=new Di(this.a);this.o=new Di(this.b);var b={};Wi(this.va,this.j,b,a);Wi(this.u,this.c,b,a);this.oa=this.C=this.D=void 0;this.c=this.j=null;this.I=this.ra=void 0;this.b=null;this.fb=this.fa=this.na=this.T=this.Ua=this.R=void 0;this.a=null;this.pa=void 0};
function Wi(a,b,c,d){var e,f=b.length;for(e=0;e<f;++e){var g=b[e];var h=w(g).toString();h in c?g=c[h]:(g=Ti(d,g),c[h]=g);a[e]=g}}
k.rf=function(a,b){var c=Hi(b,Ki,Mi);if(this.B)var d=this.B;else this.B=d=new Ni(a,c);b.Qc(c);a.enableVertexAttribArray(d.b);a.vertexAttribPointer(d.b,2,5126,!1,32,0);a.enableVertexAttribArray(d.v);a.vertexAttribPointer(d.v,2,5126,!1,32,8);a.enableVertexAttribArray(d.C);a.vertexAttribPointer(d.C,2,5126,!1,32,16);a.enableVertexAttribArray(d.u);a.vertexAttribPointer(d.u,1,5126,!1,32,24);a.enableVertexAttribArray(d.D);a.vertexAttribPointer(d.D,1,5126,!1,32,28);return d};
k.sf=function(a,b){a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.v);a.disableVertexAttribArray(b.C);a.disableVertexAttribArray(b.u);a.disableVertexAttribArray(b.D)};
k.Od=function(a,b,c,d){var e=d?this.u:this.va;d=d?this.v:this.S;if(wb(c)){var f;c=0;var g=e.length;for(f=0;c<g;++c){a.bindTexture(3553,e[c]);var h=d[c];xi(a,b,f,h);f=h}}else for(f=g=0,h=e.length;f<h;++f){a.bindTexture(3553,e[f]);for(var l=0<f?d[f-1]:0,m=d[f],n=l;g<this.i.length&&this.i[g]<=m;){var p=w(this.f[g]).toString();void 0!==c[p]?(n!==l&&xi(a,b,n,l),l=n=g===this.i.length-1?m:this.i[g+1]):l=g===this.i.length-1?m:this.i[g+1];g++}n!==l&&xi(a,b,n,l)}};
k.ve=function(a,b,c,d,e){var f,g,h=this.i.length-1;for(f=this.u.length-1;0<=f;--f){a.bindTexture(3553,this.u[f]);var l=0<f?this.v[f-1]:0;for(g=this.v[f];0<=h&&this.i[h]>=l;){var m=this.i[h];var n=this.f[h];var p=w(n).toString();if(void 0===c[p]&&n.V()&&(void 0===e||qb(e,n.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),xi(a,b,m,g),g=d(n)))return g;g=m;h--}}};
k.Ub=function(a){var b=a.Hc(),c=a.Y(1),d=a.ye(),e=a.qg(1),f=a.f,g=a.Oc(),h=a.l,l=a.g,m=a.ic();a=a.a;if(this.j.length){var n=this.j[this.j.length-1];w(n)!=w(c)&&(this.S.push(this.b.length),this.j.push(c))}else this.j.push(c);this.c.length?(n=this.c[this.c.length-1],w(n)!=w(e)&&(this.v.push(this.b.length),this.c.push(e))):this.c.push(e);this.D=b[0];this.C=b[1];this.oa=m[1];this.ra=d[1];this.I=d[0];this.R=f;this.Ua=g[0];this.T=g[1];this.fa=l;this.na=h;this.fb=a;this.pa=m[0]};function Xi(a,b,c){var d=b-c;return a[0]===a[d]&&a[1]===a[d+1]&&3<(b-0)/c?!!vf(a,0,b,c):!1};function Yi(){this.b="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}v(Yi,mi);var Zi=new Yi;
function $i(){this.b="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"}
v($i,ni);var aj=new $i;function bj(a,b){this.B=a.getUniformLocation(b,"n");this.oa=a.getUniformLocation(b,"k");this.R=a.getUniformLocation(b,"l");this.c=a.getUniformLocation(b,"j");this.f=a.getUniformLocation(b,"i");this.a=a.getUniformLocation(b,"m");this.ra=a.getUniformLocation(b,"p");this.i=a.getUniformLocation(b,"h");this.I=a.getUniformLocation(b,"o");this.g=a.getAttribLocation(b,"g");this.o=a.getAttribLocation(b,"d");this.l=a.getAttribLocation(b,"f");this.b=a.getAttribLocation(b,"e")};function cj(a,b){vi.call(this,0,b);this.v=null;this.u=[];this.j=[];this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,s:!1}}v(cj,vi);
function dj(a,b,c,d){var e,f=a.a.length,g=a.b.length,h="bevel"===a.c.lineJoin?0:"miter"===a.c.lineJoin?1:2,l="butt"===a.c.lineCap?0:"square"===a.c.lineCap?1:2,m=Xi(b,c,d),n=g,p=1;for(e=0;e<c;e+=d){var q=f/7;var r=u;var u=x||[b[e],b[e+1]];if(e)if(e===c-d){if(m)var x=B;else r=r||[0,0],f=ej(a,r,u,[0,0],p*fj*(l||1),f),f=ej(a,r,u,[0,0],-p*fj*(l||1),f),a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=n,a.b[g++]=q+1,a.b[g++]=q,l&&(f=ej(a,r,u,[0,0],p*gj*l,f),f=ej(a,r,u,[0,0],-p*gj*l,f),a.b[g++]=q+2,a.b[g++]=q,
a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2);break}else x=[b[e+d],b[e+d+1]];else{x=[b[e+d],b[e+d+1]];if(c-0===2*d&&pa(u,x))break;if(m){r=[b[c-2*d],b[c-2*d+1]];var B=x}else{l&&(f=ej(a,[0,0],u,x,p*hj*l,f),f=ej(a,[0,0],u,x,-p*hj*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2);f=ej(a,[0,0],u,x,p*ij*(l||1),f);f=ej(a,[0,0],u,x,-p*ij*(l||1),f);n=f/7-1;continue}}var E=Bi(r[0],r[1],u[0],u[1],x[0],x[1])?-1:1;f=ej(a,r,u,x,E*jj*(h||1),f);f=ej(a,r,u,x,E*kj*(h||1),f);f=
ej(a,r,u,x,-E*lj*(h||1),f);0<e&&(a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=0<p*E?n:n-1);a.b[g++]=q;a.b[g++]=q+2;a.b[g++]=q+1;n=q+2;p=E;h&&(f=ej(a,r,u,x,E*mj*h,f),a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q)}m&&(q=q||f/7,E=Sf([r[0],r[1],u[0],u[1],x[0],x[1]],0,6,2)?1:-1,f=ej(a,r,u,x,E*jj*(h||1),f),ej(a,r,u,x,-E*lj*(h||1),f),a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=q+1,a.b[g++]=q,a.b[g++]=0<p*E?n:n-1)}
function ej(a,b,c,d,e,f){a.a[f++]=b[0];a.a[f++]=b[1];a.a[f++]=c[0];a.a[f++]=c[1];a.a[f++]=d[0];a.a[f++]=d[1];a.a[f++]=e;return f}function nj(a,b,c,d){c-=b;return c<2*d?!1:c===2*d?!pa([a[b],a[b+1]],[a[b+d],a[b+d+1]]):!0}k=cj.prototype;k.mc=function(a,b){var c=a.ga();a=a.qa();nj(c,0,c.length,a)&&(c=qf(c,0,c.length,a,-this.origin[0],-this.origin[1]),this.c.s&&(this.j.push(this.b.length),this.c.s=!1),this.i.push(this.b.length),this.f.push(b),dj(this,c,c.length,a))};
k.nc=function(a,b){var c=this.b.length,d=a.Bb();d.unshift(0);var e=a.ga();a=a.qa();var f;if(1<d.length){var g=1;for(f=d.length;g<f;++g)if(nj(e,d[g-1],d[g],a)){var h=qf(e,d[g-1],d[g],a,-this.origin[0],-this.origin[1]);dj(this,h,h.length,a)}}this.b.length>c&&(this.i.push(c),this.f.push(b),this.c.s&&(this.j.push(c),this.c.s=!1))};
function oj(a,b,c,d){Xi(b,b.length,d)||(b.push(b[0]),b.push(b[1]));dj(a,b,b.length,d);if(c.length){var e;b=0;for(e=c.length;b<e;++b)Xi(c[b],c[b].length,d)||(c[b].push(c[b][0]),c[b].push(c[b][1])),dj(a,c[b],c[b].length,d)}}function pj(a,b,c){c=void 0===c?a.b.length:c;a.i.push(c);a.f.push(b);a.c.s&&(a.j.push(c),a.c.s=!1)}k.Db=function(){this.l=new Di(this.a);this.o=new Di(this.b);this.i.push(this.b.length);!this.j.length&&0<this.u.length&&(this.u=[]);this.b=this.a=null};
k.Eb=function(a){var b=this.l,c=this.o;return function(){Gi(a,b);Gi(a,c)}};
k.rf=function(a,b,c,d){var e=Hi(b,Zi,aj);if(this.v)var f=this.v;else this.v=f=new bj(a,e);b.Qc(e);a.enableVertexAttribArray(f.o);a.vertexAttribPointer(f.o,2,5126,!1,28,0);a.enableVertexAttribArray(f.b);a.vertexAttribPointer(f.b,2,5126,!1,28,8);a.enableVertexAttribArray(f.l);a.vertexAttribPointer(f.l,2,5126,!1,28,16);a.enableVertexAttribArray(f.g);a.vertexAttribPointer(f.g,1,5126,!1,28,24);a.uniform2fv(f.I,c);a.uniform1f(f.ra,d);return f};
k.sf=function(a,b){a.disableVertexAttribArray(b.o);a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.l);a.disableVertexAttribArray(b.g)};
k.Od=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL));if(wb(c)){var g=this.i[this.i.length-1];for(c=this.j.length-1;0<=c;--c){var h=this.j[c];var l=this.u[c];qj(this,a,l[0],l[1],l[2]);xi(a,b,h,g);a.clear(a.DEPTH_BUFFER_BIT);g=h}}else{var m=this.i.length-2;l=g=this.i[m+1];for(h=this.j.length-1;0<=h;--h){var n=this.u[h];qj(this,a,n[0],n[1],n[2]);for(n=this.j[h];0<=m&&this.i[m]>=n;){var p=this.i[m];
var q=this.f[m];q=w(q).toString();c[q]&&(g!==l&&(xi(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),l=p);m--;g=p}g!==l&&(xi(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT));g=l=n}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))};
k.ve=function(a,b,c,d,e){var f,g;var h=this.i.length-2;var l=this.i[h+1];for(f=this.j.length-1;0<=f;--f){var m=this.u[f];qj(this,a,m[0],m[1],m[2]);for(g=this.j[f];0<=h&&this.i[h]>=g;){m=this.i[h];var n=this.f[h];var p=w(n).toString();if(void 0===c[p]&&n.V()&&(void 0===e||qb(e,n.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),xi(a,b,m,l),l=d(n)))return l;h--;l=m}}};function qj(a,b,c,d,e){b.uniform4fv(a.v.B,c);b.uniform1f(a.v.oa,d);b.uniform1f(a.v.R,e)}
k.Ma=function(a,b){a=b.f;this.c.lineCap=void 0!==a?a:"round";a=b.i;this.c.lineDash=a?a:zi;a=b.g;this.c.lineDashOffset=a?a:0;a=b.j;this.c.lineJoin=void 0!==a?a:"round";a=b.a;a instanceof CanvasGradient||a instanceof CanvasPattern?a=Ai:a=ed(a).map(function(a,b){return 3!=b?a/255:a})||Ai;var c=b.c,c=void 0!==c?c:1;b=b.o;b=void 0!==b?b:10;this.c.strokeColor&&pa(this.c.strokeColor,a)&&this.c.lineWidth===c&&this.c.miterLimit===b||(this.c.s=!0,this.c.strokeColor=a,this.c.lineWidth=c,this.c.miterLimit=b,
this.u.push([a,c,b]))};var ij=3,fj=5,hj=7,gj=11,jj=13,kj=17,lj=19,mj=23;function rj(){this.b="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}v(rj,mi);var sj=new rj;function tj(){this.b="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}v(tj,ni);var uj=new tj;
function vj(a,b){this.B=a.getUniformLocation(b,"e");this.c=a.getUniformLocation(b,"d");this.f=a.getUniformLocation(b,"c");this.a=a.getUniformLocation(b,"f");this.i=a.getUniformLocation(b,"b");this.b=a.getAttribLocation(b,"a")};function wj(a){a=a||{};this.a=void 0!==a.color?a.color:null;this.f=a.lineCap;this.i=void 0!==a.lineDash?a.lineDash:null;this.g=a.lineDashOffset;this.j=a.lineJoin;this.o=a.miterLimit;this.c=a.width;this.b=void 0}k=wj.prototype;k.clone=function(){var a=this.a;return new wj({color:a&&a.slice?a.slice():a||void 0,lineCap:this.f,lineDash:this.i?this.i.slice():void 0,lineDashOffset:this.g,lineJoin:this.j,miterLimit:this.o,width:this.c})};k.No=function(){return this.a};k.Vk=function(){return this.f};
k.Oo=function(){return this.i};k.Wk=function(){return this.g};k.Xk=function(){return this.j};k.bl=function(){return this.o};k.Po=function(){return this.c};k.Qo=function(a){this.a=a;this.b=void 0};k.aq=function(a){this.f=a;this.b=void 0};k.setLineDash=function(a){this.i=a;this.b=void 0};k.bq=function(a){this.g=a;this.b=void 0};k.cq=function(a){this.j=a;this.b=void 0};k.gq=function(a){this.o=a;this.b=void 0};k.jq=function(a){this.c=a;this.b=void 0};function xj(a){this.b=this.a=this.i=void 0;this.f=void 0===a?!0:a;this.c=0}function yj(a){var b=a.b;if(b){var c=b.next,d=b.ub;c&&(c.ub=d);d&&(d.next=c);a.b=c||d;a.i===a.a?(a.b=void 0,a.i=void 0,a.a=void 0):a.i===b?a.i=a.b:a.a===b&&(a.a=d?a.b.ub:a.b);a.c--}}function zj(a){a.b=a.i;if(a.b)return a.b.data}function Aj(a){if(a.b&&a.b.next)return a.b=a.b.next,a.b.data}function Bj(a){if(a.b&&a.b.next)return a.b.next.data}function Cj(a){if(a.b&&a.b.ub)return a.b=a.b.ub,a.b.data}
function Dj(a){if(a.b&&a.b.ub)return a.b.ub.data}function Ej(a){if(a.b)return a.b.data}xj.prototype.concat=function(a){if(a.b){if(this.b){var b=this.b.next;this.b.next=a.i;a.i.ub=this.b;b.ub=a.a;a.a.next=b;this.c+=a.c}else this.b=a.b,this.i=a.i,this.a=a.a,this.c=a.c;a.b=void 0;a.i=void 0;a.a=void 0;a.c=0}};var Fj={$d:function(){}};
(function(a){function b(a,e,f,g,h){f=f||0;g=g||a.length-1;for(h=h||d;g>f;){if(600<g-f){var l=g-f+1,m=e-f+1,n=Math.log(l),p=.5*Math.exp(2*n/3),n=.5*Math.sqrt(n*p*(l-p)/l)*(0>m-l/2?-1:1);b(a,e,Math.max(f,Math.floor(e-m*p/l+n)),Math.min(g,Math.floor(e+(l-m)*p/l+n)),h)}l=a[e];m=f;p=g;c(a,f,e);for(0<h(a[g],l)&&c(a,f,g);m<p;){c(a,m,p);m++;for(p--;0>h(a[m],l);)m++;for(;0<h(a[p],l);)p--}0===h(a[f],l)?c(a,f,p):(p++,c(a,p,g));p<=e&&(f=p+1);e<=p&&(g=p-1)}}function c(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function d(a,
b){return a<b?-1:a>b?1:0}function e(a,b){if(!(this instanceof e))return new e(a,b);this.Hf=Math.max(4,a||9);this.fh=Math.max(2,Math.ceil(.4*this.Hf));b&&this.ek(b);this.clear()}function f(a,b){g(a,0,a.children.length,b,a)}function g(a,b,c,d,e){e||(e=u(null));e.ca=Infinity;e.da=Infinity;e.$=-Infinity;e.ia=-Infinity;for(var f;b<c;b++)f=a.children[b],h(e,a.ib?d(f):f);return e}function h(a,b){a.ca=Math.min(a.ca,b.ca);a.da=Math.min(a.da,b.da);a.$=Math.max(a.$,b.$);a.ia=Math.max(a.ia,b.ia)}function l(a,
b){return a.ca-b.ca}function m(a,b){return a.da-b.da}function n(a){return(a.$-a.ca)*(a.ia-a.da)}function p(a){return a.$-a.ca+(a.ia-a.da)}function q(a,b){return a.ca<=b.ca&&a.da<=b.da&&b.$<=a.$&&b.ia<=a.ia}function r(a,b){return b.ca<=a.$&&b.da<=a.ia&&b.$>=a.ca&&b.ia>=a.da}function u(a){return{children:a,height:1,ib:!0,ca:Infinity,da:Infinity,$:-Infinity,ia:-Infinity}}function x(a,b,c,d,e){for(var f=[b,c],g;f.length;)c=f.pop(),b=f.pop(),c-b<=d||(g=b+Math.ceil((c-b)/d/2)*d,B(a,g,b,c,e),f.push(b,g,
g,c))}var B=b;e.prototype={all:function(){return this.$g(this.data,[])},search:function(a){var b=this.data,c=[],d=this.wb;if(!r(a,b))return c;for(var e=[],f,g,h,l;b;){f=0;for(g=b.children.length;f<g;f++)h=b.children[f],l=b.ib?d(h):h,r(a,l)&&(b.ib?c.push(h):q(a,l)?this.$g(h,c):e.push(h));b=e.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.fh){for(var b=0,c=a.length;b<c;b++)this.Ca(a[b]);return this}a=this.bh(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===
a.height?this.hh(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.eh(a,this.data.height-a.height-1,!0)):this.data=a;return this},Ca:function(a){a&&this.eh(a,this.data.height-1);return this},clear:function(){this.data=u([]);return this},remove:function(a,b){if(!a)return this;for(var c=this.data,d=this.wb(a),e=[],f=[],g,h,l,m;c||e.length;){c||(c=e.pop(),h=e[e.length-1],g=f.pop(),m=!0);if(c.ib){a:{l=a;var n=c.children,p=b;if(p){for(var r=0;r<n.length;r++)if(p(l,n[r])){l=r;
break a}l=-1}else l=n.indexOf(l)}if(-1!==l){c.children.splice(l,1);e.push(c);this.ck(e);break}}m||c.ib||!q(c,d)?h?(g++,c=h.children[g],m=!1):c=null:(e.push(c),f.push(g),g=0,h=c,c=c.children[0])}return this},wb:function(a){return a},Lf:l,Mf:m,toJSON:function(){return this.data},$g:function(a,b){for(var c=[];a;)a.ib?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},bh:function(a,b,c,d){var e=c-b+1,g=this.Hf;if(e<=g){var h=u(a.slice(b,c+1));f(h,this.wb);return h}d||(d=Math.ceil(Math.log(e)/
Math.log(g)),g=Math.ceil(e/Math.pow(g,d-1)));h=u([]);h.ib=!1;h.height=d;var e=Math.ceil(e/g),g=e*Math.ceil(Math.sqrt(g)),l;for(x(a,b,c,g,this.Lf);b<=c;b+=g){var m=Math.min(b+g-1,c);x(a,b,m,e,this.Mf);for(l=b;l<=m;l+=e){var n=Math.min(l+e-1,m);h.children.push(this.bh(a,l,n,d-1))}}f(h,this.wb);return h},bk:function(a,b,c,d){for(var e,f,g,h,l,m,p,q;;){d.push(b);if(b.ib||d.length-1===c)break;p=q=Infinity;e=0;for(f=b.children.length;e<f;e++)g=b.children[e],l=n(g),m=(Math.max(g.$,a.$)-Math.min(g.ca,a.ca))*
(Math.max(g.ia,a.ia)-Math.min(g.da,a.da))-l,m<q?(q=m,p=l<p?l:p,h=g):m===q&&l<p&&(p=l,h=g);b=h||b.children[0]}return b},eh:function(a,b,c){var d=this.wb;c=c?a:d(a);var d=[],e=this.bk(c,this.data,b,d);e.children.push(a);for(h(e,c);0<=b;)if(d[b].children.length>this.Hf)this.jk(d,b),b--;else break;this.Zj(c,d,b)},jk:function(a,b){var c=a[b],d=c.children.length,e=this.fh;this.$j(c,e,d);d=this.ak(c,e,d);d=u(c.children.splice(d,c.children.length-d));d.height=c.height;d.ib=c.ib;f(c,this.wb);f(d,this.wb);
b?a[b-1].children.push(d):this.hh(c,d)},hh:function(a,b){this.data=u([a,b]);this.data.height=a.height+1;this.data.ib=!1;f(this.data,this.wb)},ak:function(a,b,c){var d,e;var f=e=Infinity;for(d=b;d<=c-b;d++){var h=g(a,0,d,this.wb);var l=g(a,d,c,this.wb);var m=Math.max(0,Math.min(h.$,l.$)-Math.max(h.ca,l.ca))*Math.max(0,Math.min(h.ia,l.ia)-Math.max(h.da,l.da));h=n(h)+n(l);if(m<f){f=m;var p=d;e=h<e?h:e}else m===f&&h<e&&(e=h,p=d)}return p},$j:function(a,b,c){var d=a.ib?this.Lf:l,e=a.ib?this.Mf:m,f=this.ah(a,
b,c,d);b=this.ah(a,b,c,e);f<b&&a.children.sort(d)},ah:function(a,b,c,d){a.children.sort(d);d=this.wb;var e=g(a,0,b,d),f=g(a,c-b,c,d),l=p(e)+p(f),m;for(m=b;m<c-b;m++){var n=a.children[m];h(e,a.ib?d(n):n);l+=p(e)}for(m=c-b-1;m>=b;m--)n=a.children[m],h(f,a.ib?d(n):n),l+=p(f);return l},Zj:function(a,b,c){for(;0<=c;c--)h(b[c],a)},ck:function(a){for(var b=a.length-1,c;0<=b;b--)0===a[b].children.length?0<b?(c=a[b-1].children,c.splice(c.indexOf(a[b]),1)):this.clear():f(a[b],this.wb)},ek:function(a){var b=
["return a"," - b",";"];this.Lf=new Function("a","b",b.join(a[0]));this.Mf=new Function("a","b",b.join(a[1]));this.wb=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};a["default"]=e})(Fj.$d=Fj.$d||{});Fj.$d=Fj.$d.default;function Gj(a){this.a=Fj.$d(a);this.b={}}k=Gj.prototype;k.Ca=function(a,b){a={ca:a[0],da:a[1],$:a[2],ia:a[3],value:b};this.a.Ca(a);this.b[w(b)]=a};k.load=function(a,b){for(var c=Array(b.length),d=0,e=b.length;d<e;d++){var f=a[d],g=b[d],f={ca:f[0],da:f[1],$:f[2],ia:f[3],value:g};c[d]=f;this.b[w(g)]=f}this.a.load(c)};k.remove=function(a){a=w(a);var b=this.b[a];delete this.b[a];return null!==this.a.remove(b)};function Hj(a,b,c){var d=a.b[w(c)];bb([d.ca,d.da,d.$,d.ia],b)||(a.remove(c),a.Ca(b,c))}
function Ij(a){return a.a.all().map(function(a){return a.value})}function Jj(a,b){return a.a.search({ca:b[0],da:b[1],$:b[2],ia:b[3]}).map(function(a){return a.value})}k.forEach=function(a,b){return Kj(Ij(this),a,b)};function Lj(a,b,c,d){return Kj(Jj(a,b),c,d)}function Kj(a,b,c){for(var d,e=0,f=a.length;e<f&&!(d=b.call(c,a[e]));e++);return d}k.clear=function(){this.a.clear();this.b={}};k.G=function(a){var b=this.a.data;return Xa(b.ca,b.da,b.$,b.ia,a)};
k.concat=function(a){this.a.load(a.a.all());for(var b in a.b)this.b[b|0]=a.b[b|0]};function Mj(a,b){vi.call(this,0,b);this.g=new cj(0,b);this.v=null;this.u=[];this.c=[];this.j={fillColor:null,s:!1}}v(Mj,vi);
function Nj(a,b,c,d){var e=new xj,f=new Gj;b=Oj(a,b,d,e,f,!0);if(c.length){var g,h=[];var l=0;for(g=c.length;l<g;++l){var m={list:new xj,$:void 0,Mg:new Gj};h.push(m);m.$=Oj(a,c[l],d,m.list,m.Mg,!1)}h.sort(function(a,b){return b.$[0]===a.$[0]?a.$[1]-b.$[1]:b.$[0]-a.$[0]});for(l=0;l<h.length;++l){c=h[l].list;g=d=zj(c);do{if(Pj(g,f).length){var n=!0;break}g=Aj(c)}while(d!==g);n||(Qj(c,h[l].Mg,!0),Rj(c,h[l].$[0],e,b[0],f)&&(f.concat(h[l].Mg),Qj(e,f,!1)))}}else Qj(e,f,!1);Sj(a,e,f)}
function Oj(a,b,c,d,e,f){var g,h=a.a.length/2,l,m=[],n=[];if(f===Sf(b,0,b.length,c)){var p=l=Tj(a,b[0],b[1],h++);f=b[0];var q=b[1];var r=c;for(g=b.length;r<g;r+=c){var u=Tj(a,b[r],b[r+1],h++);n.push(Uj(p,u,d));m.push([Math.min(p.x,u.x),Math.min(p.y,u.y),Math.max(p.x,u.x),Math.max(p.y,u.y)]);b[r]>f&&(f=b[r],q=b[r+1]);p=u}}else for(r=b.length-c,p=l=Tj(a,b[r],b[r+1],h++),f=b[r],q=b[r+1],r-=c,g=0;r>=g;r-=c)u=Tj(a,b[r],b[r+1],h++),n.push(Uj(p,u,d)),m.push([Math.min(p.x,u.x),Math.min(p.y,u.y),Math.max(p.x,
u.x),Math.max(p.y,u.y)]),b[r]>f&&(f=b[r],q=b[r+1]),p=u;n.push(Uj(u,l,d));m.push([Math.min(p.x,u.x),Math.min(p.y,u.y),Math.max(p.x,u.x),Math.max(p.y,u.y)]);e.load(m,n);return[f,q]}function Qj(a,b,c){var d=zj(a),e=d,f=Aj(a),g=!1;do{var h=c?Bi(f.W.x,f.W.y,e.W.x,e.W.y,e.aa.x,e.aa.y):Bi(e.aa.x,e.aa.y,e.W.x,e.W.y,f.W.x,f.W.y);void 0===h?(Vj(e,f,a,b),g=!0,f===d&&(d=Bj(a)),f=e,Cj(a)):e.W.Fb!==h&&(e.W.Fb=h,g=!0);e=f;f=Aj(a)}while(e!==d);return g}
function Rj(a,b,c,d,e){for(var f=zj(a);f.W.x!==b;)f=Aj(a);b=f.W;d={x:d,y:b.y,hb:-1};var g=Infinity,h;var l=Pj({aa:b,W:d},e,!0);var m=0;for(h=l.length;m<h;++m){var n=l[m],p=Wj(b,d,n.aa,n.W,!0),q=Math.abs(b.x-p[0]);if(q<g&&void 0!==Bi(b.x,b.y,n.aa.x,n.aa.y,n.W.x,n.W.y)){g=q;var r={x:p[0],y:p[1],hb:-1};f=n}}if(Infinity===g)return!1;l=f.W;if(0<g&&(f=Xj(b,r,f.W,e),f.length))for(r=Infinity,m=0,h=f.length;m<h;++m)if(g=f[m],n=Math.atan2(b.y-g.y,d.x-g.x),n<r||n===r&&g.x<l.x)r=n,l=g;for(f=zj(c);f.W.x!==l.x||
f.W.y!==l.y;)f=Aj(c);d={x:b.x,y:b.y,hb:b.hb,Fb:void 0};m={x:f.W.x,y:f.W.y,hb:f.W.hb,Fb:void 0};Bj(a).aa=d;Uj(b,f.W,a,e);Uj(m,d,a,e);f.W=m;a.f&&a.b&&(a.i=a.b,a.a=a.b.ub);c.concat(a);return!0}
function Sj(a,b,c){for(var d=!1,e=Yj(b,c);3<b.c;)if(e){if(!Zj(a,b,c,e,d)&&!Qj(b,c,d)&&!ak(a,b,c,!0))break}else if(!Zj(a,b,c,e,d)&&!Qj(b,c,d)&&!ak(a,b,c))if(e=Yj(b,c)){var d=b,f=2*d.c,g=Array(f),h=zj(d),l=h,m=0;do g[m++]=l.aa.x,g[m++]=l.aa.y,l=Aj(d);while(l!==h);d=!Sf(g,0,f,2);Qj(b,c,d)}else{e=a;d=b;f=g=zj(d);do{h=Pj(f,c);if(h.length){g=h[0];h=Wj(f.aa,f.W,g.aa,g.W);h=Tj(e,h[0],h[1],e.a.length/2);l=new xj;m=new Gj;Uj(h,f.W,l,m);f.W=h;Hj(c,[Math.min(f.aa.x,h.x),Math.min(f.aa.y,h.y),Math.max(f.aa.x,h.x),
Math.max(f.aa.y,h.y)],f);for(f=Aj(d);f!==g;)Uj(f.aa,f.W,l,m),c.remove(f),yj(d),f=Ej(d);Uj(g.aa,h,l,m);g.aa=h;Hj(c,[Math.min(g.W.x,h.x),Math.min(g.W.y,h.y),Math.max(g.W.x,h.x),Math.max(g.W.y,h.y)],g);Qj(d,c,!1);Sj(e,d,c);Qj(l,m,!1);Sj(e,l,m);break}f=Aj(d)}while(f!==g);break}3===b.c&&(e=a.b.length,a.b[e++]=Dj(b).aa.hb,a.b[e++]=Ej(b).aa.hb,a.b[e++]=Bj(b).aa.hb)}
function Zj(a,b,c,d,e){var f=a.b.length,g=zj(b),h=Dj(b),l=g,m=Aj(b),n=Bj(b),p=!1;do{var q=l.aa;var r=l.W;var u=m.W;if(!1===r.Fb){var x=e?bk(n.W,u,r,q,h.aa):bk(h.aa,q,r,u,n.W);!d&&Pj({aa:q,W:u},c).length||!x||Xj(q,r,u,c,!0).length||!d&&!1!==q.Fb&&!1!==u.Fb&&Sf([h.aa.x,h.aa.y,q.x,q.y,r.x,r.y,u.x,u.y,n.W.x,n.W.y],0,10,2)!==!e||(a.b[f++]=q.hb,a.b[f++]=r.hb,a.b[f++]=u.hb,Vj(l,m,b,c),m===g&&(g=n),p=!0)}h=Dj(b);l=Ej(b);m=Aj(b);n=Bj(b)}while(l!==g&&3<b.c);return p}
function ak(a,b,c,d){var e=zj(b);Aj(b);var f=e,g=Aj(b),h=!1;do{var l=Wj(f.aa,f.W,g.aa,g.W,d);if(l){var h=a.b.length,m=a.a.length/2,n=Cj(b);yj(b);c.remove(n);var p=n===e;d?(l[0]===f.aa.x&&l[1]===f.aa.y?(Cj(b),l=f.aa,g.aa=l,c.remove(f),p=p||f===e):(l=g.W,f.W=l,c.remove(g),p=p||g===e),yj(b)):(l=Tj(a,l[0],l[1],m),f.W=l,g.aa=l,Hj(c,[Math.min(f.aa.x,f.W.x),Math.min(f.aa.y,f.W.y),Math.max(f.aa.x,f.W.x),Math.max(f.aa.y,f.W.y)],f),Hj(c,[Math.min(g.aa.x,g.W.x),Math.min(g.aa.y,g.W.y),Math.max(g.aa.x,g.W.x),
Math.max(g.aa.y,g.W.y)],g));a.b[h++]=n.aa.hb;a.b[h++]=n.W.hb;a.b[h++]=l.hb;h=!0;if(p)break}f=Dj(b);g=Aj(b)}while(f!==e);return h}function Yj(a,b){var c=zj(a),d=c;do{if(Pj(d,b).length)return!1;d=Aj(a)}while(d!==c);return!0}function Tj(a,b,c,d){var e=a.a.length;a.a[e++]=b;a.a[e++]=c;return{x:b,y:c,hb:d,Fb:void 0}}
function Uj(a,b,c,d){var e={aa:a,W:b},f={ub:void 0,next:void 0,data:e},g=c.b;if(g){var h=g.next;f.ub=g;f.next=h;g.next=f;h&&(h.ub=f);g===c.a&&(c.a=f)}else c.i=f,c.a=f,c.f&&(f.next=f,f.ub=f);c.b=f;c.c++;d&&d.Ca([Math.min(a.x,b.x),Math.min(a.y,b.y),Math.max(a.x,b.x),Math.max(a.y,b.y)],e);return e}function Vj(a,b,c,d){Ej(c)===b&&(yj(c),a.W=b.W,d.remove(b),Hj(d,[Math.min(a.aa.x,a.W.x),Math.min(a.aa.y,a.W.y),Math.max(a.aa.x,a.W.x),Math.max(a.aa.y,a.W.y)],a))}
function Xj(a,b,c,d,e){var f,g,h=[],l=Jj(d,[Math.min(a.x,b.x,c.x),Math.min(a.y,b.y,c.y),Math.max(a.x,b.x,c.x),Math.max(a.y,b.y,c.y)]);d=0;for(f=l.length;d<f;++d)for(g in l[d]){var m=l[d][g];"object"!==typeof m||e&&!m.Fb||m.x===a.x&&m.y===a.y||m.x===b.x&&m.y===b.y||m.x===c.x&&m.y===c.y||-1!==h.indexOf(m)||!Mf([a.x,a.y,b.x,b.y,c.x,c.y],0,6,2,m.x,m.y)||h.push(m)}return h}
function Pj(a,b,c){var d=a.aa,e=a.W;b=Jj(b,[Math.min(d.x,e.x),Math.min(d.y,e.y),Math.max(d.x,e.x),Math.max(d.y,e.y)]);var f=[],g;var h=0;for(g=b.length;h<g;++h){var l=b[h];a!==l&&(c||l.aa!==e||l.W!==d)&&Wj(d,e,l.aa,l.W,c)&&f.push(l)}return f}
function Wj(a,b,c,d,e){var f=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);if(f&&(d=((d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x))/f,c=((b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x))/f,!e&&d>Ci&&d<1-Ci&&c>Ci&&c<1-Ci||e&&0<=d&&1>=d&&0<=c&&1>=c))return[a.x+d*(b.x-a.x),a.y+d*(b.y-a.y)]}
function bk(a,b,c,d,e){if(void 0===b.Fb||void 0===d.Fb)return!1;var f=(c.x-d.x)*(b.y-d.y)>(c.y-d.y)*(b.x-d.x);e=(e.x-d.x)*(b.y-d.y)<(e.y-d.y)*(b.x-d.x);a=(a.x-b.x)*(d.y-b.y)>(a.y-b.y)*(d.x-b.x);c=(c.x-b.x)*(d.y-b.y)<(c.y-b.y)*(d.x-b.x);b=b.Fb?c||a:c&&a;return(d.Fb?e||f:e&&f)&&b}k=Mj.prototype;
k.pc=function(a,b){var c=a.c,d=a.qa(),e=this.b.length,f=this.g.b.length;a=a.ga();var g,h,l;var m=h=0;for(g=c.length;m<g;++m){var n=c[m];if(0<n.length){var p=qf(a,h,n[0],d,-this.origin[0],-this.origin[1]);if(p.length){var q=[];h=1;for(l=n.length;h<l;++h)if(n[h]!==n[h-1]){var r=qf(a,n[h-1],n[h],d,-this.origin[0],-this.origin[1]);q.push(r)}oj(this.g,p,q,d);Nj(this,p,q,d)}}h=n[n.length-1]}this.b.length>e&&(this.i.push(e),this.f.push(b),this.j.s&&(this.c.push(e),this.j.s=!1));this.g.b.length>f&&pj(this.g,
b,f)};k.rc=function(a,b){var c=a.Bb(),d=a.qa();if(0<c.length){a=a.ga().map(Number);var e=qf(a,0,c[0],d,-this.origin[0],-this.origin[1]);if(e.length){var f=[],g;var h=1;for(g=c.length;h<g;++h)if(c[h]!==c[h-1]){var l=qf(a,c[h-1],c[h],d,-this.origin[0],-this.origin[1]);f.push(l)}this.i.push(this.b.length);this.f.push(b);this.j.s&&(this.c.push(this.b.length),this.j.s=!1);pj(this.g,b);oj(this.g,e,f,d);Nj(this,e,f,d)}}};
k.Db=function(a){this.l=new Di(this.a);this.o=new Di(this.b);this.i.push(this.b.length);this.g.Db(a);!this.c.length&&0<this.u.length&&(this.u=[]);this.b=this.a=null};k.Eb=function(a){var b=this.l,c=this.o,d=this.g.Eb(a);return function(){Gi(a,b);Gi(a,c);d()}};k.rf=function(a,b){var c=Hi(b,sj,uj);if(this.v)var d=this.v;else this.v=d=new vj(a,c);b.Qc(c);a.enableVertexAttribArray(d.b);a.vertexAttribPointer(d.b,2,5126,!1,8,0);return d};k.sf=function(a,b){a.disableVertexAttribArray(b.b)};
k.Od=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL));if(wb(c)){var g=this.i[this.i.length-1];for(c=this.c.length-1;0<=c;--c){var h=this.c[c];var l=this.u[c];a.uniform4fv(this.v.B,l);xi(a,b,h,g);g=h}}else{var m=this.i.length-2;l=g=this.i[m+1];for(h=this.c.length-1;0<=h;--h){var n=this.u[h];a.uniform4fv(this.v.B,n);for(n=this.c[h];0<=m&&this.i[m]>=n;){var p=this.i[m];var q=this.f[m];q=w(q).toString();
c[q]&&(g!==l&&(xi(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),l=p);m--;g=p}g!==l&&(xi(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT));g=l=n}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))};
k.ve=function(a,b,c,d,e){var f,g;var h=this.i.length-2;var l=this.i[h+1];for(f=this.c.length-1;0<=f;--f){var m=this.u[f];a.uniform4fv(this.v.B,m);for(g=this.c[f];0<=h&&this.i[h]>=g;){m=this.i[h];var n=this.f[h];var p=w(n).toString();if(void 0===c[p]&&n.V()&&(void 0===e||qb(e,n.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),xi(a,b,m,l),l=d(n)))return l;h--;l=m}}};
k.Ma=function(a,b){a=a?a.b:[0,0,0,0];a instanceof CanvasGradient||a instanceof CanvasPattern?a=yi:a=ed(a).map(function(a,b){return 3!=b?a/255:a})||yi;this.j.fillColor&&pa(a,this.j.fillColor)||(this.j.fillColor=a,this.j.s=!0,this.u.push(a));b?this.g.Ma(null,b):this.g.Ma(null,new wj({color:[0,0,0,0],lineWidth:0}))};function ck(){}ck.prototype.La=function(){};function dk(a,b,c){this.f=b;this.g=a;this.c=c;this.a={}}v(dk,ki);function ek(a,b){var c=[],d;for(d in a.a){var e=a.a[d],f;for(f in e)c.push(e[f].Eb(b))}return function(){for(var a=c.length,b,d=0;d<a;d++)b=c[d].apply(this,arguments);return b}}function fk(a,b){for(var c in a.a){var d=a.a[c],e;for(e in d)d[e].Db(b)}}dk.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0";a=this.a[c];void 0===a&&(a={},this.a[c]=a);c=a[b];void 0===c&&(c=new gk[b](this.g,this.f),a[b]=c);return c};
dk.prototype.i=function(){return wb(this.a)};dk.prototype.La=function(a,b,c,d,e,f,g,h){var l=Object.keys(this.a).map(Number);l.sort(ia);var m,n;var p=0;for(m=l.length;p<m;++p){var q=this.a[l[p].toString()];var r=0;for(n=ji.length;r<n;++r){var u=q[ji[r]];void 0!==u&&u.La(a,b,c,d,e,f,g,h,void 0,!1)}}};
function hk(a,b,c,d,e,f,g,h,l,m,n){var p=ik,q=Object.keys(a.a).map(Number);q.sort(function(a,b){return b-a});var r,u;var x=0;for(r=q.length;x<r;++x){var B=a.a[q[x].toString()];for(u=ji.length-1;0<=u;--u){var E=B[ji[u]];if(void 0!==E&&(E=E.La(b,c,d,e,p,f,g,h,l,m,n)))return E}}}
dk.prototype.Ea=function(a,b,c,d,e,f,g,h,l,m){var n=b.b;n.bindFramebuffer(n.FRAMEBUFFER,Pi(b));var p;void 0!==this.c&&(p=Qa(Za(a),d*this.c));return hk(this,b,a,d,e,g,h,l,function(a){var b=new Uint8Array(4);n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,b);if(0<b[3]&&(a=m(a)))return a},!0,p)};
function jk(a,b,c,d,e,f,g,h){var l=c.b;l.bindFramebuffer(l.FRAMEBUFFER,Pi(c));return void 0!==hk(a,c,b,d,e,f,g,h,function(){var a=new Uint8Array(4);l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,a);return 0<a[3]},!1)}var ik=[1,1],gk={Circle:Fi,Image:Ui,LineString:cj,Polygon:Mj,Text:ck};function kk(a,b,c,d,e,f,g){this.b=a;this.i=b;this.a=f;this.c=g;this.j=e;this.g=d;this.f=c;this.o=this.l=this.v=null}v(kk,Wh);k=kk.prototype;k.rd=function(a){this.Ma(a.Fa(),a.Ga());this.Ub(a.Y())};
k.zb=function(a){switch(a.U()){case "Point":this.qc(a,null);break;case "LineString":this.mc(a,null);break;case "Polygon":this.rc(a,null);break;case "MultiPoint":this.oc(a,null);break;case "MultiLineString":this.nc(a,null);break;case "MultiPolygon":this.pc(a,null);break;case "GeometryCollection":this.ue(a,null);break;case "Circle":this.Zb(a,null)}};k.te=function(a,b){(a=(0,b.Za)(a))&&qb(this.a,a.G())&&(this.rd(b),this.zb(a))};k.ue=function(a){a=a.a;var b;var c=0;for(b=a.length;c<b;++c)this.zb(a[c])};
k.qc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"Image");d.Ub(this.v);d.qc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};k.oc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"Image");d.Ub(this.v);d.oc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};
k.mc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"LineString");d.Ma(null,this.o);d.mc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};k.nc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"LineString");d.Ma(null,this.o);d.nc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};
k.rc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"Polygon");d.Ma(this.l,this.o);d.rc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};k.pc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"Polygon");d.Ma(this.l,this.o);d.pc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};
k.Zb=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"Circle");d.Ma(this.l,this.o);d.Zb(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};k.Ub=function(a){this.v=a};k.Ma=function(a,b){this.l=a;this.o=b};function lk(){this.c=0;this.b={};this.i=this.a=null}k=lk.prototype;k.clear=function(){this.c=0;this.b={};this.i=this.a=null};k.forEach=function(a,b){for(var c=this.a;c;)a.call(b,c.Yc,c.uc,this),c=c.Nb};k.get=function(a){a=this.b[a];xa(!!a,15);if(a===this.i)return a.Yc;a===this.a?(this.a=this.a.Nb,this.a.vd=null):(a.Nb.vd=a.vd,a.vd.Nb=a.Nb);a.Nb=null;a.vd=this.i;this.i=this.i.Nb=a;return a.Yc};
k.pop=function(){var a=this.a;delete this.b[a.uc];a.Nb&&(a.Nb.vd=null);this.a=a.Nb;this.a||(this.i=null);--this.c;return a.Yc};k.replace=function(a,b){this.get(a);this.b[a].Yc=b};k.set=function(a,b){xa(!(a in this.b),16);b={uc:a,Nb:null,vd:this.i,Yc:b};this.i?this.i.Nb=b:this.a=b;this.i=b;this.b[a]=b;++this.c};function mk(a,b){Mh.call(this,0,b);this.b=document.createElement("CANVAS");this.b.style.width="100%";this.b.style.height="100%";this.b.style.display="block";this.b.className="ol-unselectable";a.insertBefore(this.b,a.childNodes[0]||null);this.S=this.D=0;this.C=jd();this.l=!0;this.i=Ld(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0});this.f=new Oi(this.b,this.i);y(this.b,"webglcontextlost",this.Yn,this);y(this.b,"webglcontextrestored",this.Zn,this);
this.a=new lk;this.u=null;this.j=new Ke(function(a){var b=a[1];a=a[2];var c=b[0]-this.u[0],b=b[1]-this.u[1];return 65536*Math.log(a)+Math.sqrt(c*c+b*b)/a}.bind(this),function(a){return a[0].bb()});this.B=function(){if(this.j.b.length){Oe(this.j);var a=Le(this.j);nk(this,a[0],a[3],a[4])}return!1}.bind(this);this.g=0;ok(this)}v(mk,Mh);
function nk(a,b,c,d){var e=a.i,f=b.bb();if(a.a.b.hasOwnProperty(f))a=a.a.get(f),e.bindTexture(3553,a.Ib),9729!=a.Ph&&(e.texParameteri(3553,10240,9729),a.Ph=9729),9729!=a.Rh&&(e.texParameteri(3553,10241,9729),a.Rh=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var h=a.C.canvas,l=a.C;a.D!==c[0]||a.S!==c[1]?(h.width=c[0],h.height=c[1],a.D=c[0],a.S=c[1]):l.clearRect(0,0,c[0],c[1]);l.drawImage(b.Y(),d,d,c[0],c[1],0,0,c[0],c[1]);e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,
0,6408,6408,5121,b.Y());e.texParameteri(3553,10240,9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.a.set(f,{Ib:g,Ph:9729,Rh:9729})}}function pk(a,b,c){var d=a.o;if(Rc(d,b)){a=a.f;var e=c.viewState;d.b(new Rh(b,new kk(a,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),c,null,a))}}k=mk.prototype;k.ka=function(){var a=this.i;a.isContextLost()||this.a.forEach(function(b){b&&a.deleteTexture(b.Ib)});Nc(this.f);Mh.prototype.ka.call(this)};
k.xk=function(a,b){a=this.i;for(var c;1024<this.a.c-this.g;){if(c=this.a.a.Yc)a.deleteTexture(c.Ib);else if(+this.a.a.uc==b.index)break;else--this.g;this.a.pop()}};k.U=function(){return"webgl"};k.Yn=function(a){a.preventDefault();this.a.clear();this.g=0;a=this.c;for(var b in a)a[b].mg()};k.Zn=function(){ok(this);this.o.render()};function ok(a){a=a.i;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
k.Jg=function(a){var b=this.f,c=this.i;if(c.isContextLost())return!1;if(!a)return this.l&&(this.b.style.display="none",this.l=!1),!1;this.u=a.focus;this.a.set((-a.index).toString(),null);++this.g;pk(this,"precompose",a);var d=[],e=a.layerStatesArray;qa(e);var f=a.viewState.resolution,g;var h=0;for(g=e.length;h<g;++h){var l=e[h];if(xh(l,f)&&"ready"==l.yj){var m=Ph(this,l.layer);m.ng(a,l,b)&&d.push(l)}}e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.b.width!=e||this.b.height!=f)this.b.width=
e,this.b.height=f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.b.width,this.b.height);h=0;for(g=d.length;h<g;++h)l=d[h],m=Ph(this,l.layer),m.Gi(a,l,b);this.l||(this.b.style.display="",this.l=!0);Nh(a);1024<this.a.c-this.g&&a.postRenderFunctions.push(this.xk.bind(this));this.j.b.length&&(a.postRenderFunctions.push(this.B),a.animate=!0);pk(this,"postcompose",a);Qh(this,a);a.postRenderFunctions.push(Oh)};
k.Ea=function(a,b,c,d,e,f,g){if(this.i.isContextLost())return!1;var h=b.viewState,l=b.layerStatesArray,m;for(m=l.length-1;0<=m;--m){var n=l[m];var p=n.layer;if(xh(n,h.resolution)&&f.call(g,p)&&(n=Ph(this,p).Ea(a,b,c,d,e)))return n}};k.Ei=function(a,b,c,d,e){c=!1;if(this.i.isContextLost())return!1;var f=b.viewState,g=b.layerStatesArray,h;for(h=g.length-1;0<=h;--h){var l=g[h],m=l.layer;if(xh(l,f.resolution)&&d.call(e,m)&&(c=Ph(this,m).Ue(a,b)))return!0}return c};
k.Di=function(a,b,c,d,e){if(this.i.isContextLost())return!1;var f=b.viewState,g=b.layerStatesArray,h;for(h=g.length-1;0<=h;--h){var l=g[h];var m=l.layer;if(xh(l,f.resolution)&&e.call(d,m)&&(l=Ph(this,m).lg(a,b,c,d)))return l}};var qk=["canvas","webgl"];
function G(a){Tc.call(this);var b=rk(a);this.Cf=void 0!==a.loadTilesWhileAnimating?a.loadTilesWhileAnimating:!1;this.Df=void 0!==a.loadTilesWhileInteracting?a.loadTilesWhileInteracting:!1;this.If=void 0!==a.pixelRatio?a.pixelRatio:Sd;this.yf=b.logos;this.pa=function(){this.j=void 0;this.Sp.call(this,Date.now())}.bind(this);this.Yb=Bh();this.Jf=Bh();this.ad=0;this.I=this.R=this.T=this.g=this.c=null;this.a=document.createElement("DIV");this.a.className="ol-viewport"+(Xd?" ol-touch":"");this.a.style.position=
"relative";this.a.style.overflow="hidden";this.a.style.width="100%";this.a.style.height="100%";this.a.style.msTouchAction="none";this.a.style.touchAction="none";this.C=document.createElement("DIV");this.C.className="ol-overlaycontainer";this.a.appendChild(this.C);this.D=document.createElement("DIV");this.D.className="ol-overlaycontainer-stopevent";for(var c="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),d=0,e=c.length;d<e;++d)y(this.D,c[d],Pc);this.a.appendChild(this.D);
this.Sa=new Fe(this,a.moveTolerance);for(var f in de)y(this.Sa,de[f],this.Ih,this);this.va=b.keyboardEventTarget;this.u=null;y(this.a,"wheel",this.ld,this);y(this.a,"mousewheel",this.ld,this);this.l=b.controls;this.o=b.interactions;this.v=b.overlays;this.rg={};this.B=new b.Up(this.a,this);this.na=null;this.xb=[];this.$a=new Pe(this.ql.bind(this),this.Wl.bind(this));this.fa={};y(this,Vc("layergroup"),this.El,this);y(this,Vc("view"),this.Xl,this);y(this,Vc("size"),this.Tl,this);y(this,Vc("target"),
this.Vl,this);this.H(b.values);this.l.forEach(function(a){a.setMap(this)},this);y(this.l,"add",function(a){a.element.setMap(this)},this);y(this.l,"remove",function(a){a.element.setMap(null)},this);this.o.forEach(function(a){a.setMap(this)},this);y(this.o,"add",function(a){a.element.setMap(this)},this);y(this.o,"remove",function(a){a.element.setMap(null)},this);this.v.forEach(this.kh,this);y(this.v,"add",function(a){this.kh(a.element)},this);y(this.v,"remove",function(a){var b=a.element.g;void 0!==
b&&delete this.rg[b.toString()];a.element.setMap(null)},this)}v(G,Tc);k=G.prototype;k.kk=function(a){this.l.push(a)};k.lk=function(a){this.o.push(a)};k.ih=function(a){this.Kc().qd().push(a)};k.jh=function(a){this.v.push(a)};k.kh=function(a){var b=a.g;void 0!==b&&(this.rg[b.toString()]=a);a.setMap(this)};
k.ka=function(){Nc(this.Sa);Nc(this.B);Kc(this.a,"wheel",this.ld,this);Kc(this.a,"mousewheel",this.ld,this);this.f&&(window.removeEventListener("resize",this.f,!1),this.f=void 0);this.j&&(cancelAnimationFrame(this.j),this.j=void 0);this.Le(null);Tc.prototype.ka.call(this)};k.we=function(a,b,c){if(this.c)return a=this.Wa(a),c=c?c:{},this.B.Ea(a,this.c,void 0!==c.hitTolerance?c.hitTolerance*this.c.pixelRatio:0,b,null,c.layerFilter?c.layerFilter:mf,null)};
k.Im=function(a,b,c,d,e){if(this.c)return this.B.Di(a,this.c,b,void 0!==c?c:null,d?d:mf,void 0!==e?e:null)};k.Yl=function(a,b){if(!this.c)return!1;a=this.Wa(a);b=b?b:{};return this.B.Ei(a,this.c,void 0!==b.hitTolerance?b.hitTolerance*this.c.pixelRatio:0,b.layerFilter?b.layerFilter:mf,null)};k.Tf=function(a){return this.Wa(this.xe(a))};k.xe=function(a){var b=this.a.getBoundingClientRect();a=a.changedTouches?a.changedTouches[0]:a;return[a.clientX-b.left,a.clientY-b.top]};k.ag=function(){return this.get("target")};
k.jd=function(){var a=this.ag();return void 0!==a?"string"===typeof a?document.getElementById(a):a:null};k.Wa=function(a){var b=this.c;return b?Gh(b.pixelToCoordinateTransform,a.slice()):null};k.Lk=function(){return this.l};k.fl=function(){return this.v};k.el=function(a){a=this.rg[a.toString()];return void 0!==a?a:null};k.Sk=function(){return this.o};k.Kc=function(){return this.get("layergroup")};k.Xh=function(){return this.Kc().qd()};
k.Ja=function(a){var b=this.c;return b?Gh(b.coordinateToPixelTransform,a.slice(0,2)):null};k.Ob=function(){return this.get("size")};k.Z=function(){return this.get("view")};k.sl=function(){return this.a};k.ql=function(a,b,c,d){var e=this.c;if(!(e&&b in e.wantedTiles&&e.wantedTiles[b][a.bb()]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};k.ld=function(a,b){a=new Jd(b||a.type,this,a);this.Ih(a)};
k.Ih=function(a){if(this.c){this.na=a.coordinate;a.frameState=this.c;var b=this.o.a,c;if(!1!==this.b(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.c()&&!d.handleEvent(a))break}}};k.Rl=function(){var a=this.c,b=this.$a;if(b.b.length){var c=16,d=c;if(a){var e=a.viewHints;e[0]&&(c=this.Cf?8:0,d=2);e[1]&&(c=this.Df?8:0,d=2)}b.j<c&&(Oe(b),Qe(b,c,d))}b=this.xb;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};k.Tl=function(){this.render()};
k.Vl=function(){var a;this.ag()&&(a=this.jd());if(this.u){for(var b=0,c=this.u.length;b<c;++b)Ec(this.u[b]);this.u=null}a?(a.appendChild(this.a),a=this.va?this.va:a,this.u=[y(a,"keydown",this.ld,this),y(a,"keypress",this.ld,this)],this.f||(this.f=this.Ad.bind(this),window.addEventListener("resize",this.f,!1))):(ld(this.a),this.f&&(window.removeEventListener("resize",this.f,!1),this.f=void 0));this.Ad()};k.Wl=function(){this.render()};k.Lh=function(){this.render()};
k.Xl=function(){this.T&&(Ec(this.T),this.T=null);this.R&&(Ec(this.R),this.R=null);var a=this.Z();a&&(this.a.setAttribute("data-view",w(a)),this.T=y(a,"propertychange",this.Lh,this),this.R=y(a,"change",this.Lh,this));this.render()};k.El=function(){this.I&&(this.I.forEach(Ec),this.I=null);var a=this.Kc();a&&(this.I=[y(a,"propertychange",this.render,this),y(a,"change",this.render,this)]);this.render()};k.Tp=function(){this.j&&cancelAnimationFrame(this.j);this.pa()};
k.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.pa))};k.Mp=function(a){return this.l.remove(a)};k.Np=function(a){return this.o.remove(a)};k.Pp=function(a){return this.Kc().qd().remove(a)};k.Qp=function(a){return this.v.remove(a)};
k.Sp=function(a){var b,c=this.Ob(),d=this.Z(),e=Oa(),f=this.c,g=null;if(void 0!==c&&0<c[0]&&0<c[1]&&d&&jg(d)){var g=dg(d,this.c?this.c.viewHints:void 0),h=this.Kc().Yf(),l={};var m=0;for(b=h.length;m<b;++m)l[w(h[m].layer)]=h[m];m=d.getState();g={animate:!1,attributions:{},coordinateToPixelTransform:this.Yb,extent:e,focus:this.na?this.na:m.center,index:this.ad++,layerStates:l,layerStatesArray:h,logos:tb({},this.yf),pixelRatio:this.If,pixelToCoordinateTransform:this.Jf,postRenderFunctions:[],size:c,
skippedFeatureUids:this.fa,tileQueue:this.$a,time:a,usedTiles:{},viewState:m,viewHints:g,wantedTiles:{}}}g&&(g.extent=ob(m.center,m.resolution,m.rotation,g.size,e));this.c=g;this.B.Jg(g);g&&(g.animate&&this.render(),Array.prototype.push.apply(this.xb,g.postRenderFunctions),!f||this.g&&(kb(this.g)||bb(g.extent,this.g))||(this.b(new Id("movestart",this,f)),this.g=Ya(this.g)),!this.g||g.viewHints[0]||g.viewHints[1]||bb(g.extent,this.g)||(this.b(new Id("moveend",this,g)),Ra(g.extent,this.g)));this.b(new Id("postrender",
this,g));setTimeout(this.Rl.bind(this),0)};k.qj=function(a){this.set("layergroup",a)};k.Qg=function(a){this.set("size",a)};k.Le=function(a){this.set("target",a)};k.iq=function(a){this.set("view",a)};k.xj=function(a){a=w(a).toString();this.fa[a]=!0;this.render()};
k.Ad=function(){var a=this.jd();if(a){var b=getComputedStyle(a);this.Qg([a.offsetWidth-parseFloat(b.borderLeftWidth)-parseFloat(b.paddingLeft)-parseFloat(b.paddingRight)-parseFloat(b.borderRightWidth),a.offsetHeight-parseFloat(b.borderTopWidth)-parseFloat(b.paddingTop)-parseFloat(b.paddingBottom)-parseFloat(b.borderBottomWidth)])}else this.Qg(void 0)};k.Cj=function(a){a=w(a).toString();delete this.fa[a];this.render()};
function rk(a){var b=null;void 0!==a.keyboardEventTarget&&(b="string"===typeof a.keyboardEventTarget?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"===typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"https://openlayers.org/";else{var e=a.logo;"string"===typeof e?d[e]="":e instanceof HTMLElement?d[w(e).toString()]=e:e&&(xa("string"==typeof e.href,44),xa("string"==typeof e.src,45),d[e.src]=e.href)}e=a.layers instanceof uh?a.layers:new uh({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=void 0!==a.view?a.view:new F;var e=Mh,f;void 0!==a.renderer?(Array.isArray(a.renderer)?f=a.renderer:"string"===typeof a.renderer?f=[a.renderer]:xa(!1,46),0<=f.indexOf("dom")&&(f=f.concat(qk))):f=qk;var g;
var h=0;for(g=f.length;h<g;++h){var l=f[h];if("canvas"==l){if(Ud){e=hi;break}}else if("webgl"==l&&Md){e=mk;break}}void 0!==a.controls?Array.isArray(a.controls)?f=new Yc(a.controls.slice()):(xa(a.controls instanceof Yc,47),f=a.controls):f=xd();void 0!==a.interactions?Array.isArray(a.interactions)?h=new Yc(a.interactions.slice()):(xa(a.interactions instanceof Yc,48),h=a.interactions):h=qh();void 0!==a.overlays?Array.isArray(a.overlays)?a=new Yc(a.overlays.slice()):(xa(a.overlays instanceof Yc,49),a=
a.overlays):a=new Yc;return{controls:f,interactions:h,keyboardEventTarget:b,logos:d,overlays:a,Up:e,values:c}};function sk(a){Tc.call(this);this.g=a.id;this.l=void 0!==a.insertFirst?a.insertFirst:!0;this.v=void 0!==a.stopEvent?a.stopEvent:!0;this.c=document.createElement("DIV");this.c.className="ol-overlay-container ol-selectable";this.c.style.position="absolute";this.autoPan=void 0!==a.autoPan?a.autoPan:!1;this.j=a.autoPanAnimation||{};this.o=void 0!==a.autoPanMargin?a.autoPanMargin:20;this.a={re:"",Ie:"",nf:"",vf:"",visible:!0};this.f=null;y(this,Vc(tk),this.zl,this);y(this,Vc(uk),this.Jl,this);y(this,Vc(vk),
this.Nl,this);y(this,Vc(wk),this.Pl,this);y(this,Vc(xk),this.Ql,this);void 0!==a.element&&this.lj(a.element);this.rj(void 0!==a.offset?a.offset:[0,0]);this.uj(void 0!==a.positioning?a.positioning:"top-left");void 0!==a.position&&this.Ne(a.position)}v(sk,Tc);k=sk.prototype;k.Rd=function(){return this.get(tk)};k.Jm=function(){return this.g};k.Me=function(){return this.get(uk)};k.Dh=function(){return this.get(vk)};k.Yh=function(){return this.get(wk)};k.Eh=function(){return this.get(xk)};
k.zl=function(){for(var a=this.c;a.lastChild;)a.removeChild(a.lastChild);(a=this.Rd())&&this.c.appendChild(a)};k.Jl=function(){this.f&&(ld(this.c),Ec(this.f),this.f=null);var a=this.Me();a&&(this.f=y(a,"postrender",this.render,this),yk(this),a=this.v?a.D:a.C,this.l?a.insertBefore(this.c,a.childNodes[0]||null):a.appendChild(this.c))};k.render=function(){yk(this)};k.Nl=function(){yk(this)};
k.Pl=function(){yk(this);if(this.get(wk)&&this.autoPan){var a=this.Me();if(a&&a.jd()){var b=zk(a.jd(),a.Ob()),c=this.Rd(),d=c.offsetWidth,e=getComputedStyle(c),d=d+(parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)),e=c.offsetHeight,f=getComputedStyle(c),e=e+(parseInt(f.marginTop,10)+parseInt(f.marginBottom,10)),g=zk(c,[d,e]),c=this.o;Va(b,g)||(d=g[0]-b[0],e=b[2]-g[2],f=g[1]-b[1],g=b[3]-g[3],b=[0,0],0>d?b[0]=d-c:0>e&&(b[0]=Math.abs(e)+c),0>f?b[1]=f-c:0>g&&(b[1]=Math.abs(g)+c),0===b[0]&&0===b[1])||
(c=a.Z().wa(),c=a.Ja(c),b=[c[0]+b[0],c[1]+b[1]],a.Z().animate({center:a.Wa(b),duration:this.j.duration,easing:this.j.easing}))}}};k.Ql=function(){yk(this)};k.lj=function(a){this.set(tk,a)};k.setMap=function(a){this.set(uk,a)};k.rj=function(a){this.set(vk,a)};k.Ne=function(a){this.set(wk,a)};function zk(a,b){var c=a.getBoundingClientRect();a=c.left+window.pageXOffset;c=c.top+window.pageYOffset;return[a,c,a+b[0],c+b[1]]}k.uj=function(a){this.set(xk,a)};
function Ak(a,b){a.a.visible!==b&&(a.c.style.display=b?"":"none",a.a.visible=b)}
function yk(a){var b=a.Me(),c=a.Yh();if(b&&b.c&&c){var c=b.Ja(c),d=b.Ob(),b=a.c.style,e=a.Dh(),f=a.Eh();Ak(a,!0);var g=e[0],e=e[1];if("bottom-right"==f||"center-right"==f||"top-right"==f)""!==a.a.Ie&&(a.a.Ie=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.a.nf!=g&&(a.a.nf=b.right=g);else{""!==a.a.nf&&(a.a.nf=b.right="");if("bottom-center"==f||"center-center"==f||"top-center"==f)g-=a.c.offsetWidth/2;g=Math.round(c[0]+g)+"px";a.a.Ie!=g&&(a.a.Ie=b.left=g)}if("bottom-left"==f||"bottom-center"==f||"bottom-right"==
f)""!==a.a.vf&&(a.a.vf=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.a.re!=c&&(a.a.re=b.bottom=c);else{""!==a.a.re&&(a.a.re=b.bottom="");if("center-left"==f||"center-center"==f||"center-right"==f)e-=a.c.offsetHeight/2;c=Math.round(c[1]+e)+"px";a.a.vf!=c&&(a.a.vf=b.top=c)}}else Ak(a,!1)}var tk="element",uk="map",vk="offset",wk="position",xk="positioning";function Bk(a){function b(a){a=h.Tf(a);l.a.Z().ob(a);window.removeEventListener("mousemove",c);window.removeEventListener("mouseup",b)}function c(a){a=h.Tf({clientX:a.clientX-n.offsetWidth/2,clientY:a.clientY+n.offsetHeight/2});m.Ne(a)}a=a?a:{};this.j=void 0!==a.collapsed?a.collapsed:!0;this.o=void 0!==a.collapsible?a.collapsible:!0;this.o||(this.j=!1);var d=void 0!==a.className?a.className:"ol-overviewmap",e=void 0!==a.tipLabel?a.tipLabel:"Overview map",f=void 0!==a.collapseLabel?a.collapseLabel:
"\u00ab";"string"===typeof f?(this.u=document.createElement("span"),this.u.textContent=f):this.u=f;f=void 0!==a.label?a.label:"\u00bb";"string"===typeof f?(this.D=document.createElement("span"),this.D.textContent=f):this.D=f;var g=this.o&&!this.j?this.u:this.D,f=document.createElement("button");f.setAttribute("type","button");f.title=e;f.appendChild(g);y(f,"click",this.an,this);this.C=document.createElement("DIV");this.C.className="ol-overviewmap-map";var h=this.c=new G({controls:new Yc,interactions:new Yc,
view:a.view});a.layers&&a.layers.forEach(function(a){h.ih(a)},this);e=document.createElement("DIV");e.className="ol-overviewmap-box";e.style.boxSizing="border-box";this.l=new sk({position:[0,0],positioning:"bottom-left",element:e});this.c.jh(this.l);e=document.createElement("div");e.className=d+" ol-unselectable ol-control"+(this.j&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible");e.appendChild(this.C);e.appendChild(f);md.call(this,{element:e,render:a.render?a.render:Ck,target:a.target});
var l=this,m=this.l,n=this.l.Rd();n.addEventListener("mousedown",function(){window.addEventListener("mousemove",c);window.addEventListener("mouseup",b)})}v(Bk,md);k=Bk.prototype;k.setMap=function(a){var b=this.a;a!==b&&(b&&((b=b.Z())&&Kc(b,Vc("rotation"),this.Ge,this),this.c.Le(null)),md.prototype.setMap.call(this,a),a&&(this.c.Le(this.C),this.v.push(y(a,"propertychange",this.Kl,this)),this.c.Xh().dc()||this.c.qj(a.Kc()),a=a.Z()))&&(y(a,Vc("rotation"),this.Ge,this),jg(a)&&(this.c.Ad(),Dk(this)))};
k.Kl=function(a){"view"===a.key&&((a=a.oldValue)&&Kc(a,Vc("rotation"),this.Ge,this),a=this.a.Z(),y(a,Vc("rotation"),this.Ge,this))};k.Ge=function(){this.c.Z().Oe(this.a.Z().Qa())};function Ck(){var a=this.a,b=this.c;if(a.c&&b.c){var c=a.Ob(),a=a.Z().dd(c),d=b.Ob(),c=b.Z().dd(d),e=b.Ja(ib(a)),f=b.Ja(gb(a)),b=Math.abs(e[0]-f[0]),e=Math.abs(e[1]-f[1]),f=d[0],d=d[1];b<.1*f||e<.1*d||b>.75*f||e>.75*d?Dk(this):Va(c,a)||(a=this.c,c=this.a.Z(),a.Z().ob(c.wa()))}Ek(this)}
function Dk(a){var b=a.a;a=a.c;var c=b.Ob(),b=b.Z().dd(c);a=a.Z();rb(b,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2)));a.Qf(b)}function Ek(a){var b=a.a,c=a.c;if(b.c&&c.c){var d=b.Ob(),e=b.Z(),f=c.Z(),c=e.Qa(),b=a.l,g=a.l.Rd(),h=e.dd(d),d=f.Pa(),e=eb(h),f=hb(h);if(a=a.a.Z().wa()){var l=[e[0]-a[0],e[1]-a[1]];ef(l,c);Ze(l,a)}b.Ne(l);g&&(g.style.width=Math.abs((e[0]-f[0])/d)+"px",g.style.height=Math.abs((f[1]-e[1])/d)+"px")}}k.an=function(a){a.preventDefault();Fk(this)};
function Fk(a){a.element.classList.toggle("ol-collapsed");a.j?kd(a.u,a.D):kd(a.D,a.u);a.j=!a.j;var b=a.c;a.j||b.c||(b.Ad(),Dk(a),Jc(b,"postrender",function(){Ek(this)},a))}k.$m=function(){return this.o};k.cn=function(a){this.o!==a&&(this.o=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.j&&Fk(this))};k.bn=function(a){this.o&&this.j!==a&&Fk(this)};k.Zm=function(){return this.j};k.gl=function(){return this.c};function Gk(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-scale-line";this.o=document.createElement("DIV");this.o.className=b+"-inner";this.c=document.createElement("DIV");this.c.className=b+" ol-unselectable";this.c.appendChild(this.o);this.u=null;this.l=void 0!==a.minWidth?a.minWidth:64;this.j=!1;this.B=void 0;this.D="";md.call(this,{element:this.c,render:a.render?a.render:Hk,target:a.target});y(this,Vc(Ik),this.T,this);this.I(a.units||"metric")}v(Gk,md);var Jk=[1,2,5];Gk.prototype.C=function(){return this.get(Ik)};
function Hk(a){(a=a.frameState)?this.u=a.viewState:this.u=null;Kk(this)}Gk.prototype.T=function(){Kk(this)};Gk.prototype.I=function(a){this.set(Ik,a)};
function Kk(a){var b=a.u;if(b){var c=b.projection,d=c.sc(),b=Sb(c,b.resolution,b.center)*d,d=a.l*b,c="",e=a.C();"degrees"==e?(c=zb.degrees,b/=c,d<c/60?(c="\u2033",b*=3600):d<c?(c="\u2032",b*=60):c="\u00b0"):"imperial"==e?.9144>d?(c="in",b/=.0254):1609.344>d?(c="ft",b/=.3048):(c="mi",b/=1609.344):"nautical"==e?(b/=1852,c="nm"):"metric"==e?.001>d?(c="\u03bcm",b*=1E6):1>d?(c="mm",b*=1E3):1E3>d?c="m":(c="km",b/=1E3):"us"==e?.9144>d?(c="in",b*=39.37):1609.344>d?(c="ft",b/=.30480061):(c="mi",b/=1609.3472):
xa(!1,33);for(var e=3*Math.floor(Math.log(a.l*b)/Math.log(10)),f;;){f=Jk[(e%3+3)%3]*Math.pow(10,Math.floor(e/3));d=Math.round(f/b);if(isNaN(d)){a.c.style.display="none";a.j=!1;return}if(d>=a.l)break;++e}b=f+" "+c;a.D!=b&&(a.o.innerHTML=b,a.D=b);a.B!=d&&(a.o.style.width=d+"px",a.B=d);a.j||(a.c.style.display="",a.j=!0)}else a.j&&(a.c.style.display="none",a.j=!1)}var Ik="units";function Lk(a){a=a?a:{};this.c=void 0;this.j=Mk;this.D=this.l=0;this.I=null;this.na=!1;this.T=void 0!==a.duration?a.duration:200;var b=void 0!==a.className?a.className:"ol-zoomslider",c=document.createElement("button");c.setAttribute("type","button");c.className=b+"-thumb ol-unselectable";var d=document.createElement("div");d.className=b+" ol-unselectable ol-control";d.appendChild(c);this.o=new Ae(d);y(this.o,"pointerdown",this.yl,this);y(this.o,"pointermove",this.wl,this);y(this.o,"pointerup",this.xl,
this);y(d,"click",this.vl,this);y(c,"click",Pc);md.call(this,{element:d,render:a.render?a.render:Nk})}v(Lk,md);Lk.prototype.ka=function(){Nc(this.o);md.prototype.ka.call(this)};var Mk=0;k=Lk.prototype;k.setMap=function(a){md.prototype.setMap.call(this,a);a&&a.render()};
function Nk(a){if(a.frameState){if(!this.na){var b=this.element,c=b.offsetWidth,d=b.offsetHeight,e=b.firstElementChild,f=getComputedStyle(e),b=e.offsetWidth+parseFloat(f.marginRight)+parseFloat(f.marginLeft),e=e.offsetHeight+parseFloat(f.marginTop)+parseFloat(f.marginBottom);this.I=[b,e];c>d?(this.j=1,this.D=c-b):(this.j=Mk,this.l=d-e);this.na=!0}a=a.frameState.viewState.resolution;a!==this.c&&(this.c=a,Ok(this,a))}}
k.vl=function(a){var b=this.a.Z();a=Pk(this,Ca(1===this.j?(a.offsetX-this.I[0]/2)/this.D:(a.offsetY-this.I[1]/2)/this.l,0,1));b.animate({resolution:b.constrainResolution(a),duration:this.T,easing:rd})};k.yl=function(a){this.u||a.b.target!==this.element.firstElementChild||(cg(this.a.Z(),1,1),this.C=a.clientX,this.B=a.clientY,this.u=!0)};
k.wl=function(a){if(this.u){var b=this.element.firstElementChild;this.c=Pk(this,Ca(1===this.j?(a.clientX-this.C+parseInt(b.style.left,10))/this.D:(a.clientY-this.B+parseInt(b.style.top,10))/this.l,0,1));this.a.Z().Vc(this.c);Ok(this,this.c);this.C=a.clientX;this.B=a.clientY}};k.xl=function(){if(this.u){var a=this.a.Z();cg(a,1,-1);a.animate({resolution:a.constrainResolution(this.c),duration:this.T,easing:rd});this.u=!1;this.B=this.C=void 0}};
function Ok(a,b){b=1-ig(a.a.Z())(b);var c=a.element.firstElementChild;1==a.j?c.style.left=a.D*b+"px":c.style.top=a.l*b+"px"}function Pk(a,b){return hg(a.a.Z())(1-b)};function Qk(a){a=a?a:{};this.c=a.extent?a.extent:null;var b=void 0!==a.className?a.className:"ol-zoom-extent",c=void 0!==a.label?a.label:"E",d=void 0!==a.tipLabel?a.tipLabel:"Fit to extent",e=document.createElement("button");e.setAttribute("type","button");e.title=d;e.appendChild("string"===typeof c?document.createTextNode(c):c);y(e,"click",this.j,this);c=document.createElement("div");c.className=b+" ol-unselectable ol-control";c.appendChild(e);md.call(this,{element:c,target:a.target})}v(Qk,md);
Qk.prototype.j=function(a){a.preventDefault();a=this.a.Z();var b=this.c?this.c:a.v.G();a.Qf(b)};function Rk(a){Tc.call(this);a=a?a:{};this.a=null;y(this,Vc(Sk),this.vm,this);this.gg(void 0!==a.tracking?a.tracking:!1)}v(Rk,Tc);k=Rk.prototype;k.ka=function(){this.gg(!1);Tc.prototype.ka.call(this)};
k.ap=function(a){if(null!==a.alpha){var b=Ha(a.alpha);this.set(Tk,b);"boolean"===typeof a.absolute&&a.absolute?this.set(Uk,b):"number"===typeof a.webkitCompassHeading&&-1!=a.webkitCompassAccuracy&&this.set(Uk,Ha(a.webkitCompassHeading))}null!==a.beta&&this.set(Vk,Ha(a.beta));null!==a.gamma&&this.set(Wk,Ha(a.gamma));this.s()};k.Fk=function(){return this.get(Tk)};k.Ik=function(){return this.get(Vk)};k.Ok=function(){return this.get(Wk)};k.um=function(){return this.get(Uk)};k.Th=function(){return this.get(Sk)};
k.vm=function(){if(Vd){var a=this.Th();a&&!this.a?this.a=y(window,"deviceorientation",this.ap,this):a||null===this.a||(Ec(this.a),this.a=null)}};k.gg=function(a){this.set(Sk,a)};var Tk="alpha",Vk="beta",Wk="gamma",Uk="heading",Sk="tracking";function Xk(a){this.f=a.opacity;this.l=a.rotateWithView;this.g=a.rotation;this.a=a.scale;this.v=a.snapToPixel}k=Xk.prototype;k.Ze=function(){return this.f};k.$e=function(){return this.l};k.af=function(){return this.g};k.bf=function(){return this.a};k.Ae=function(){return this.v};k.td=function(a){this.f=a};k.cf=function(a){this.g=a};k.ud=function(a){this.a=a};function Yk(a){this.D=this.u=this.c=null;this.Va=void 0!==a.fill?a.fill:null;this.oa=[0,0];this.o=a.points;this.b=void 0!==a.radius?a.radius:a.radius1;this.i=a.radius2;this.j=void 0!==a.angle?a.angle:0;this.Ya=void 0!==a.stroke?a.stroke:null;this.B=this.ra=this.C=null;this.S=a.atlasManager;Zk(this,this.S);Xk.call(this,{opacity:1,rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:!1,rotation:void 0!==a.rotation?a.rotation:0,scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0})}
v(Yk,Xk);k=Yk.prototype;k.clone=function(){var a=new Yk({fill:this.Fa()?this.Fa().clone():void 0,points:this.o,radius:this.b,radius2:this.i,angle:this.j,snapToPixel:this.v,stroke:this.Ga()?this.Ga().clone():void 0,rotation:this.g,rotateWithView:this.l,atlasManager:this.S});a.td(this.f);a.ud(this.a);return a};k.Hc=function(){return this.C};k.Pi=function(){return this.j};k.Fa=function(){return this.Va};k.qg=function(){return this.D};k.Y=function(){return this.u};k.ye=function(){return this.B};
k.Ye=function(){return 2};k.Oc=function(){return this.oa};k.Qi=function(){return this.o};k.Ri=function(){return this.b};k.Fh=function(){return this.i};k.ic=function(){return this.ra};k.Ga=function(){return this.Ya};k.Nh=function(){};k.load=function(){};k.Bj=function(){};
function Zk(a,b){var c="",d="",e=0,f=null,g=0;if(a.Ya){var h=a.Ya.a;null===h&&(h=Uh);h=id(h);g=a.Ya.c;void 0===g&&(g=1);f=a.Ya.i;Td||(f=null);d=a.Ya.j;void 0===d&&(d="round");c=a.Ya.f;void 0===c&&(c="round");e=a.Ya.o;void 0===e&&(e=10)}var l=2*(a.b+g)+1,c={strokeStyle:h,zj:g,size:l,lineCap:c,lineDash:f,lineJoin:d,miterLimit:e};if(void 0===b){var m=jd(l,l);a.u=m.canvas;b=l=a.u.width;a.rh(c,m,0,0);a.Va?a.D=a.u:(m=jd(c.size,c.size),a.D=m.canvas,a.qh(c,m,0,0))}else l=Math.round(l),(d=!a.Va)&&(m=a.qh.bind(a,
c)),a.Ya?(e=a.Ya,void 0===e.b&&(e.b="s",e.b=e.a?"string"===typeof e.a?e.b+e.a:e.b+w(e.a).toString():e.b+"-",e.b+=","+(void 0!==e.f?e.f.toString():"-")+","+(e.i?e.i.toString():"-")+","+(void 0!==e.g?e.g:"-")+","+(void 0!==e.j?e.j:"-")+","+(void 0!==e.o?e.o.toString():"-")+","+(void 0!==e.c?e.c.toString():"-")),e=e.b):e="-",a.Va?(f=a.Va,void 0===f.a&&(f.a=f.b instanceof CanvasPattern||f.b instanceof CanvasGradient?w(f.b).toString():"f"+(f.b?gd(f.b):"-")),f=f.a):f="-",a.c&&e==a.c[1]&&f==a.c[2]&&a.b==
a.c[3]&&a.i==a.c[4]&&a.j==a.c[5]&&a.o==a.c[6]||(a.c=["r"+e+f+(void 0!==a.b?a.b.toString():"-")+(void 0!==a.i?a.i.toString():"-")+(void 0!==a.j?a.j.toString():"-")+(void 0!==a.o?a.o.toString():"-"),e,f,a.b,a.i,a.j,a.o]),m=b.add(a.c[0],l,l,a.rh.bind(a,c),m),a.u=m.image,a.oa=[m.offsetX,m.offsetY],b=m.image.width,a.D=d?m.Zl:a.u;a.C=[l/2,l/2];a.ra=[l,l];a.B=[b,b]}
k.rh=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();var e=this.o;if(Infinity===e)b.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{var f=void 0!==this.i?this.i:this.b;f!==this.b&&(e*=2);for(c=0;c<=e;c++){d=2*c*Math.PI/e-Math.PI/2+this.j;var g=c%2?f:this.b;b.lineTo(a.size/2+g*Math.cos(d),a.size/2+g*Math.sin(d))}}this.Va&&(c=this.Va.b,null===c&&(c=Sh),b.fillStyle=id(c),b.fill());this.Ya&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.zj,a.lineDash&&b.setLineDash(a.lineDash),
b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke());b.closePath()};
k.qh=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();c=this.o;if(Infinity===c)b.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{d=void 0!==this.i?this.i:this.b;d!==this.b&&(c*=2);var e;for(e=0;e<=c;e++){var f=2*e*Math.PI/c-Math.PI/2+this.j;var g=e%2?d:this.b;b.lineTo(a.size/2+g*Math.cos(f),a.size/2+g*Math.sin(f))}}b.fillStyle=Sh;b.fill();this.Ya&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.zj,a.lineDash&&b.setLineDash(a.lineDash),b.stroke());b.closePath()};function $k(a){a=a||{};Yk.call(this,{points:Infinity,fill:a.fill,radius:a.radius,snapToPixel:a.snapToPixel,stroke:a.stroke,atlasManager:a.atlasManager})}v($k,Yk);$k.prototype.clone=function(){var a=new $k({fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,radius:this.b,snapToPixel:this.v,atlasManager:this.S});a.td(this.f);a.ud(this.a);return a};$k.prototype.Uc=function(a){this.b=a;Zk(this,this.S)};function al(a){a=a||{};this.b=void 0!==a.color?a.color:null;this.a=void 0}al.prototype.clone=function(){var a=this.b;return new al({color:a&&a.slice?a.slice():a||void 0})};al.prototype.i=function(){return this.b};al.prototype.c=function(a){this.b=a;this.a=void 0};function bl(a){a=a||{};this.Gc=null;this.Za=cl;void 0!==a.geometry&&this.Ra(a.geometry);this.Va=void 0!==a.fill?a.fill:null;this.M=void 0!==a.image?a.image:null;this.Ya=void 0!==a.stroke?a.stroke:null;this.Ia=void 0!==a.text?a.text:null;this.Fj=a.zIndex}k=bl.prototype;
k.clone=function(){var a=this.V();a&&a.clone&&(a=a.clone());return new bl({geometry:a,fill:this.Fa()?this.Fa().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,text:this.Na()?this.Na().clone():void 0,zIndex:this.Ba()})};k.V=function(){return this.Gc};k.Pk=function(){return this.Za};k.Fa=function(){return this.Va};k.pf=function(a){this.Va=a};k.Y=function(){return this.M};k.Og=function(a){this.M=a};k.Ga=function(){return this.Ya};
k.qf=function(a){this.Ya=a};k.Na=function(){return this.Ia};k.xd=function(a){this.Ia=a};k.Ba=function(){return this.Fj};k.Ra=function(a){"function"===typeof a?this.Za=a:"string"===typeof a?this.Za=function(b){return b.get(a)}:a?a&&(this.Za=function(){return a}):this.Za=cl;this.Gc=a};k.Vb=function(a){this.Fj=a};function dl(a){if("function"!==typeof a){if(Array.isArray(a))var b=a;else xa(a instanceof bl,41),b=[a];a=function(){return b}}return a}var el=null;
function fl(){if(!el){var a=new al({color:"rgba(255,255,255,0.4)"}),b=new wj({color:"#3399CC",width:1.25});el=[new bl({image:new $k({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return el}
function gl(){var a={},b=[255,255,255,1],c=[0,153,255,1];a.Polygon=[new bl({fill:new al({color:[255,255,255,.5]})})];a.MultiPolygon=a.Polygon;a.LineString=[new bl({stroke:new wj({color:b,width:5})}),new bl({stroke:new wj({color:c,width:3})})];a.MultiLineString=a.LineString;a.Circle=a.Polygon.concat(a.LineString);a.Point=[new bl({image:new $k({radius:6,fill:new al({color:c}),stroke:new wj({color:b,width:1.5})}),zIndex:Infinity})];a.MultiPoint=a.Point;a.GeometryCollection=a.Polygon.concat(a.LineString,
a.Point);return a}function cl(a){return a.V()};function H(a){Tc.call(this);this.a=void 0;this.c="geometry";this.g=null;this.j=void 0;this.f=null;y(this,Vc(this.c),this.Ee,this);void 0!==a&&(a instanceof of||!a?this.Ra(a):this.H(a))}v(H,Tc);k=H.prototype;k.clone=function(){var a=new H(this.N());a.Tc(this.c);var b=this.V();b&&a.Ra(b.clone());(b=this.g)&&a.hg(b);return a};k.V=function(){return this.get(this.c)};k.wm=function(){return this.a};k.Qk=function(){return this.c};k.xm=function(){return this.g};k.Lc=function(){return this.j};k.Al=function(){this.s()};
k.Ee=function(){this.f&&(Ec(this.f),this.f=null);var a=this.V();a&&(this.f=y(a,"change",this.Al,this));this.s()};k.Ra=function(a){this.set(this.c,a)};k.hg=function(a){this.j=(this.g=a)?hl(a):void 0;this.s()};k.jc=function(a){this.a=a;this.s()};k.Tc=function(a){Kc(this,Vc(this.c),this.Ee,this);this.c=a;y(this,Vc(this.c),this.Ee,this);this.Ee()};
function hl(a){var b;if("function"===typeof a)2==a.length?b=function(b){return a(this,b)}:b=a;else{if(Array.isArray(a))var c=a;else xa(a instanceof bl,41),c=[a];b=function(){return c}}return b};var il=document.implementation.createDocument("","",null);function jl(a,b){return il.createElementNS(a,b)}function kl(a,b){return ll(a,b,[]).join("")}function ll(a,b,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)ll(a,b,c);return c}function ml(a){return a instanceof Document}function nl(a){return a instanceof Node}
function pl(a){return(new DOMParser).parseFromString(a,"application/xml")}function ql(a,b){return function(c,d){c=a.call(b,c,d);void 0!==c&&la(d[d.length-1],c)}}function rl(a,b){return function(c,d){c=a.call(void 0!==b?b:this,c,d);void 0!==c&&d[d.length-1].push(c)}}function sl(a,b){return function(c,d){c=a.call(void 0!==b?b:this,c,d);void 0!==c&&(d[d.length-1]=c)}}
function tl(a){return function(b,c){var d=a.call(this,b,c);if(void 0!==d){c=c[c.length-1];b=b.localName;var e;b in c?e=c[b]:e=c[b]=[];e.push(d)}}}function I(a,b){return function(c,d){var e=a.call(this,c,d);void 0!==e&&(d[d.length-1][void 0!==b?b:c.localName]=e)}}function J(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e);e[e.length-1].node.appendChild(c)}}
function vl(a){var b,c;return function(d,e,f){if(!b){b={};var g={};g[d.localName]=a;b[d.namespaceURI]=g;c=wl(d.localName)}xl(b,c,e,f)}}function wl(a,b){return function(c,d,e){c=d[d.length-1].node;d=a;void 0===d&&(d=e);e=b;void 0===b&&(e=c.namespaceURI);return jl(e,d)}}var yl=wl();function zl(a,b){for(var c=b.length,d=Array(c),e=0;e<c;++e)d[e]=a[b[e]];return d}function K(a,b,c){c=void 0!==c?c:{};var d;var e=0;for(d=a.length;e<d;++e)c[a[e]]=b;return c}
function Al(a,b,c,d){for(b=b.firstElementChild;b;b=b.nextElementSibling){var e=a[b.namespaceURI];void 0!==e&&(e=e[b.localName])&&e.call(d,b,c)}}function N(a,b,c,d,e){d.push(a);Al(b,c,d,e);return d.pop()}function xl(a,b,c,d,e,f){for(var g=(void 0!==e?e:c).length,h,l,m=0;m<g;++m)h=c[m],void 0!==h&&(l=b.call(f,h,d,void 0!==e?e[m]:void 0),void 0!==l&&a[l.namespaceURI][l.localName].call(f,l,h,d))}function Bl(a,b,c,d,e,f,g){e.push(a);xl(b,c,d,e,f,g);e.pop()};function Cl(a,b,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET","function"===typeof a?a(e,f,g):a,!0);"arraybuffer"==b.U()&&(h.responseType="arraybuffer");h.onload=function(){if(!h.status||200<=h.status&&300>h.status){var a=b.U();if("json"==a||"text"==a)var e=h.responseText;else"xml"==a?(e=h.responseXML)||(e=pl(h.responseText)):"arraybuffer"==a&&(e=h.response);e?c.call(this,b.Oa(e,{featureProjection:g}),b.kb(e)):d.call(this)}else d.call(this)}.bind(this);h.onerror=function(){d.call(this)}.bind(this);
h.send()}}function Dl(a,b){return Cl(a,b,function(a){this.cd(a)},ua)};function El(){this.f=this.defaultDataProjection=null}function Fl(a,b,c){var d;c&&(d={dataProjection:c.dataProjection?c.dataProjection:a.kb(b),featureProjection:c.featureProjection});return Gl(a,d)}function Gl(a,b){return tb({dataProjection:a.defaultDataProjection,featureProjection:a.f},b)}
function Hl(a,b,c){var d=c?Tb(c.featureProjection):null,e=c?Tb(c.dataProjection):null,f;d&&e&&!dc(d,e)?a instanceof of?f=(b?a.clone():a).tb(b?d:e,b?e:d):f=hc(a,e,d):f=a;if(b&&c&&void 0!==c.decimals){var g=Math.pow(10,c.decimals);f===a&&(f=f.clone());f.Dc(function(a){for(var b=0,c=a.length;b<c;++b)a[b]=Math.round(a[b]*g)/g;return a})}return f};function Il(){El.call(this)}v(Il,El);function Jl(a){return"string"===typeof a?(a=JSON.parse(a))?a:null:null!==a?a:null}k=Il.prototype;k.U=function(){return"json"};k.Tb=function(a,b){return this.Rc(Jl(a),Fl(this,a,b))};k.Oa=function(a,b){return this.yg(Jl(a),Fl(this,a,b))};k.Sc=function(a,b){return this.Cg(Jl(a),Fl(this,a,b))};k.kb=function(a){return this.Fg(Jl(a))};k.Bd=function(a,b){return JSON.stringify(this.Zc(a,b))};k.Wb=function(a,b){return JSON.stringify(this.he(a,b))};
k.$c=function(a,b){return JSON.stringify(this.je(a,b))};function Kl(a,b,c,d,e,f){var g=NaN,h=NaN,l=(c-b)/d;if(1===l)g=a[b],h=a[b+1];else if(2==l)g=(1-e)*a[b]+e*a[b+d],h=(1-e)*a[b+1]+e*a[b+d+1];else if(l){var h=a[b],l=a[b+1],m=0,g=[0],n;for(n=b+d;n<c;n+=d){var p=a[n],q=a[n+1],m=m+Math.sqrt((p-h)*(p-h)+(q-l)*(q-l));g.push(m);h=p;l=q}c=e*m;l=0;m=g.length;for(n=!1;l<m;)e=l+(m-l>>1),h=+ia(g[e],c),0>h?l=e+1:(m=e,n=!h);e=n?l:~l;0>e?(c=(c-g[-e-2])/(g[-e-1]-g[-e-2]),b+=(-e-2)*d,g=Ja(a[b],a[b+d],c),h=Ja(a[b+1],a[b+d+1],c)):(g=a[b+e*d],h=a[b+e*d+1])}return f?(f[0]=
g,f[1]=h,f):[g,h]}function Ll(a,b,c,d,e,f){if(c==b)return null;if(e<a[b+d-1])return f?(c=a.slice(b,b+d),c[d-1]=e,c):null;if(a[c-1]<e)return f?(c=a.slice(c-d,c),c[d-1]=e,c):null;if(e==a[b+d-1])return a.slice(b,b+d);b/=d;for(c/=d;b<c;)f=b+c>>1,e<a[(f+1)*d-1]?c=f:b=f+1;c=a[b*d-1];if(e==c)return a.slice((b-1)*d,(b-1)*d+d);f=(e-c)/(a[(b+1)*d-1]-c);c=[];var g;for(g=0;g<d-1;++g)c.push(Ja(a[(b-1)*d+g],a[b*d+g],f));c.push(e);return c}
function Ml(a,b,c,d,e,f){var g=0;if(f)return Ll(a,g,b[b.length-1],c,d,e);if(d<a[c-1])return e?(a=a.slice(0,c),a[c-1]=d,a):null;if(a[a.length-1]<d)return e?(a=a.slice(a.length-c),a[c-1]=d,a):null;e=0;for(f=b.length;e<f;++e){var h=b[e];if(g!=h){if(d<a[g+c-1])break;else if(d<=a[h-1])return Ll(a,g,h,c,d,!1);g=h}}return null};function O(a,b){rf.call(this);this.c=null;this.u=this.D=this.j=-1;this.ma(a,b)}v(O,rf);k=O.prototype;k.mk=function(a){this.A?la(this.A,a):this.A=a.slice();this.s()};k.clone=function(){var a=new O(null);a.ba(this.ja,this.A.slice());return a};k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;this.u!=this.i&&(this.D=Math.sqrt(yf(this.A,0,this.A.length,this.a,0)),this.u=this.i);return Af(this.A,0,this.A.length,this.a,this.D,!1,a,b,c,d)};
k.Ck=function(a,b){return Pf(this.A,0,this.A.length,this.a,a,b)};k.nn=function(a,b){return"XYM"!=this.ja&&"XYZM"!=this.ja?null:Ll(this.A,0,this.A.length,this.a,a,void 0!==b?b:!1)};k.X=function(){return Ff(this.A,0,this.A.length,this.a)};k.wh=function(a,b){return Kl(this.A,0,this.A.length,this.a,a,b)};k.pn=function(){var a=this.A,b=this.a,c=a[0],d=a[1],e=0,f;for(f=0+b;f<this.A.length;f+=b)var g=a[f],h=a[f+1],e=e+Math.sqrt((g-c)*(g-c)+(h-d)*(h-d)),c=g,d=h;return e};
function di(a){a.j!=a.i&&(a.c=a.wh(.5,a.c),a.j=a.i);return a.c}k.hd=function(a){var b=[];b.length=Hf(this.A,0,this.A.length,this.a,a,b,0);a=new O(null);a.ba("XY",b);return a};k.U=function(){return"LineString"};k.Xa=function(a){return Qf(this.A,0,this.A.length,this.a,a)};k.ma=function(a,b){a?(uf(this,b,a,1),this.A||(this.A=[]),this.A.length=Df(this.A,0,a,this.a),this.s()):this.ba("XY",null)};k.ba=function(a,b){tf(this,a,b);this.s()};function P(a,b){rf.call(this);this.c=[];this.j=this.u=-1;this.ma(a,b)}v(P,rf);k=P.prototype;k.nk=function(a){this.A?la(this.A,a.ga().slice()):this.A=a.ga().slice();this.c.push(this.A.length);this.s()};k.clone=function(){var a=new P(null);a.ba(this.ja,this.A.slice(),this.c.slice());return a};k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;this.j!=this.i&&(this.u=Math.sqrt(zf(this.A,0,this.c,this.a,0)),this.j=this.i);return Bf(this.A,0,this.c,this.a,this.u,!1,a,b,c,d)};
k.rn=function(a,b,c){return"XYM"!=this.ja&&"XYZM"!=this.ja||!this.A.length?null:Ml(this.A,this.c,this.a,a,void 0!==b?b:!1,void 0!==c?c:!1)};k.X=function(){return Gf(this.A,0,this.c,this.a)};k.Bb=function(){return this.c};k.Yk=function(a){if(0>a||this.c.length<=a)return null;var b=new O(null);b.ba(this.ja,this.A.slice(a?this.c[a-1]:0,this.c[a]));return b};
k.gd=function(){var a=this.A,b=this.c,c=this.ja,d=[],e=0,f;var g=0;for(f=b.length;g<f;++g){var h=b[g],l=new O(null);l.ba(c,a.slice(e,h));d.push(l);e=h}return d};function ei(a){var b=[],c=a.A,d=0,e=a.c;a=a.a;var f;var g=0;for(f=e.length;g<f;++g){var h=e[g],d=Kl(c,d,h,a,.5);la(b,d);d=h}return b}k.hd=function(a){var b=[],c=[],d=this.A,e=this.c,f=this.a,g=0,h=0,l;var m=0;for(l=e.length;m<l;++m){var n=e[m],h=Hf(d,g,n,f,a,b,h);c.push(h);g=n}b.length=h;a=new P(null);a.ba("XY",b,c);return a};k.U=function(){return"MultiLineString"};
k.Xa=function(a){a:{var b=this.A,c=this.c,d=this.a,e=0,f;var g=0;for(f=c.length;g<f;++g){if(Qf(b,e,c[g],d,a)){a=!0;break a}e=c[g]}a=!1}return a};k.ma=function(a,b){a?(uf(this,b,a,2),this.A||(this.A=[]),a=Ef(this.A,0,a,this.a,this.c),this.A.length=a.length?a[a.length-1]:0,this.s()):this.ba("XY",null,this.c)};k.ba=function(a,b,c){tf(this,a,b);this.c=c;this.s()};function Nl(a,b){var c=a.ja,d=[],e=[],f;var g=0;for(f=b.length;g<f;++g){var h=b[g];g||(c=h.ja);la(d,h.ga());e.push(d.length)}a.ba(c,d,e)};function Q(a,b){rf.call(this);this.ma(a,b)}v(Q,rf);k=Q.prototype;k.qk=function(a){this.A?la(this.A,a.ga()):this.A=a.ga().slice();this.s()};k.clone=function(){var a=new Q(null);a.ba(this.ja,this.A.slice());return a};k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;var e=this.A,f=this.a,g;var h=0;for(g=e.length;h<g;h+=f){var l=Ga(a,b,e[h],e[h+1]);if(l<d){d=l;for(l=0;l<f;++l)c[l]=e[h+l];c.length=f}}return d};k.X=function(){return Ff(this.A,0,this.A.length,this.a)};
k.il=function(a){var b=this.A?this.A.length/this.a:0;if(0>a||b<=a)return null;b=new C(null);b.ba(this.ja,this.A.slice(a*this.a,(a+1)*this.a));return b};k.Zd=function(){var a=this.A,b=this.ja,c=this.a,d=[],e;var f=0;for(e=a.length;f<e;f+=c){var g=new C(null);g.ba(b,a.slice(f,f+c));d.push(g)}return d};k.U=function(){return"MultiPoint"};k.Xa=function(a){var b=this.A,c=this.a,d;var e=0;for(d=b.length;e<d;e+=c){var f=b[e];var g=b[e+1];if(Ua(a,f,g))return!0}return!1};
k.ma=function(a,b){a?(uf(this,b,a,1),this.A||(this.A=[]),this.A.length=Df(this.A,0,a,this.a),this.s()):this.ba("XY",null)};k.ba=function(a,b){tf(this,a,b);this.s()};function R(a,b){rf.call(this);this.c=[];this.u=-1;this.D=null;this.I=this.C=this.B=-1;this.j=null;this.ma(a,b)}v(R,rf);k=R.prototype;k.rk=function(a){if(this.A){var b=this.A.length;la(this.A,a.ga());a=a.Bb().slice();var c;var d=0;for(c=a.length;d<c;++d)a[d]+=b}else this.A=a.ga().slice(),a=a.Bb().slice(),this.c.push();this.c.push(a);this.s()};k.clone=function(){for(var a=new R(null),b=this.c.length,c=Array(b),d=0;d<b;++d)c[d]=this.c[d].slice();Ol(a,this.ja,this.A.slice(),c);return a};
k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;if(this.C!=this.i){var e=this.c,f=0,g=0,h;var l=0;for(h=e.length;l<h;++l)var m=e[l],g=zf(this.A,f,m,this.a,g),f=m[m.length-1];this.B=Math.sqrt(g);this.C=this.i}e=fi(this);f=this.c;g=this.a;l=this.B;h=0;var m=[NaN,NaN],n;var p=0;for(n=f.length;p<n;++p){var q=f[p];d=Bf(e,h,q,g,l,!0,a,b,c,d,m);h=q[q.length-1]}return d};
k.Mc=function(a,b){a:{var c=fi(this),d=this.c,e=0;if(d.length){var f;var g=0;for(f=d.length;g<f;++g){var h=d[g];if(Nf(c,e,h,this.a,a,b)){a=!0;break a}e=h[h.length-1]}}a=!1}return a};k.sn=function(){var a=fi(this),b=this.c,c=0,d=0,e;var f=0;for(e=b.length;f<e;++f)var g=b[f],d=d+wf(a,c,g,this.a),c=g[g.length-1];return d};
k.X=function(a){if(void 0!==a){var b=fi(this).slice();Vf(b,this.c,this.a,a)}else b=this.A;a=b;b=this.c;var c=this.a,d=0,e=[],f=0,g;var h=0;for(g=b.length;h<g;++h){var l=b[h];e[f++]=Gf(a,d,l,c,e[f]);d=l[l.length-1]}e.length=f;return e};
function gi(a){if(a.u!=a.i){var b=a.A,c=a.c,d=a.a,e=0,f=[],g;var h=0;for(g=c.length;h<g;++h){var l=c[h],e=$a(b,e,l[0],d);f.push((e[0]+e[2])/2,(e[1]+e[3])/2);e=l[l.length-1]}b=fi(a);c=a.c;d=a.a;h=0;g=[];l=0;for(e=c.length;l<e;++l){var m=c[l];g=Of(b,h,m,d,f,2*l,g);h=m[m.length-1]}a.D=g;a.u=a.i}return a.D}k.Uk=function(){var a=new Q(null);a.ba("XY",gi(this).slice());return a};
function fi(a){if(a.I!=a.i){var b=a.A;a:{var c=a.c;var d;var e=0;for(d=c.length;e<d;++e)if(!Tf(b,c[e],a.a,void 0)){c=!1;break a}c=!0}c?a.j=b:(a.j=b.slice(),a.j.length=Vf(a.j,a.c,a.a));a.I=a.i}return a.j}k.hd=function(a){var b=[],c=[],d=this.A,e=this.c,f=this.a;a=Math.sqrt(a);var g=0,h=0,l;var m=0;for(l=e.length;m<l;++m){var n=e[m],p=[],h=If(d,g,n,f,a,b,h,p);c.push(p);g=n[n.length-1]}b.length=h;d=new R(null);Ol(d,"XY",b,c);return d};
k.jl=function(a){if(0>a||this.c.length<=a)return null;if(a){var b=this.c[a-1];b=b[b.length-1]}else b=0;a=this.c[a].slice();var c=a[a.length-1];if(b){var d;var e=0;for(d=a.length;e<d;++e)a[e]-=b}e=new D(null);e.ba(this.ja,this.A.slice(b,c),a);return e};k.Td=function(){var a=this.ja,b=this.A,c=this.c,d=[],e=0,f,g;var h=0;for(f=c.length;h<f;++h){var l=c[h].slice(),m=l[l.length-1];if(e){var n=0;for(g=l.length;n<g;++n)l[n]-=e}n=new D(null);n.ba(a,b.slice(e,m),l);d.push(n);e=m}return d};k.U=function(){return"MultiPolygon"};
k.Xa=function(a){a:{var b=fi(this),c=this.c,d=this.a,e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g];if(Rf(b,e,h,d,a)){a=!0;break a}e=h[h.length-1]}a=!1}return a};k.ma=function(a,b){if(a){uf(this,b,a,3);this.A||(this.A=[]);b=this.A;var c=this.a,d=this.c,e=0,d=d?d:[],f=0,g;var h=0;for(g=a.length;h<g;++h)e=Ef(b,e,a[h],c,d[f]),d[f++]=e,e=e[e.length-1];d.length=f;d.length?(a=d[d.length-1],this.A.length=a.length?a[a.length-1]:0):this.A.length=0;this.s()}else Ol(this,"XY",null,this.c)};
function Ol(a,b,c,d){tf(a,b,c);a.c=d;a.s()}function Pl(a,b){var c=a.ja,d=[],e=[],f;var g=0;for(f=b.length;g<f;++g){var h=b[g];g||(c=h.ja);var l=d.length;var m=h.Bb();var n;var p=0;for(n=m.length;p<n;++p)m[p]+=l;la(d,h.ga());e.push(m)}Ol(a,c,d,e)};function Ql(a){a=a?a:{};El.call(this);this.b=a.geometryName}v(Ql,Il);
function Rl(a,b){if(!a)return null;if("number"===typeof a.x&&"number"===typeof a.y)var c="Point";else if(a.points)c="MultiPoint";else if(a.paths)c=1===a.paths.length?"LineString":"MultiLineString";else if(a.rings){var d=a.rings,e=Sl(a),f=[],g=[];c=[];var h;var l=0;for(h=d.length;l<h;++l)f.length=0,Df(f,0,d[l],e.length),Sf(f,0,f.length,e.length)?g.push([d[l]]):c.push(d[l]);for(;c.length;){d=c.shift();e=!1;for(l=g.length-1;0<=l;l--)if(Va((new Jf(g[l][0])).G(),(new Jf(d)).G())){g[l].push(d);e=!0;break}e||
g.push([d.reverse()])}a=tb({},a);1===g.length?(c="Polygon",a.rings=g[0]):(c="MultiPolygon",a.rings=g)}return Hl((0,Tl[c])(a),!1,b)}function Sl(a){var b="XY";!0===a.hasZ&&!0===a.hasM?b="XYZM":!0===a.hasZ?b="XYZ":!0===a.hasM&&(b="XYM");return b}function Ul(a){a=a.ja;return{hasZ:"XYZ"===a||"XYZM"===a,hasM:"XYM"===a||"XYZM"===a}}
var Tl={Point:function(a){return void 0!==a.m&&void 0!==a.z?new C([a.x,a.y,a.z,a.m],"XYZM"):void 0!==a.z?new C([a.x,a.y,a.z],"XYZ"):void 0!==a.m?new C([a.x,a.y,a.m],"XYM"):new C([a.x,a.y])},LineString:function(a){return new O(a.paths[0],Sl(a))},Polygon:function(a){return new D(a.rings,Sl(a))},MultiPoint:function(a){return new Q(a.points,Sl(a))},MultiLineString:function(a){return new P(a.paths,Sl(a))},MultiPolygon:function(a){return new R(a.rings,Sl(a))}},Vl={Point:function(a){var b=a.X(),c;a=a.ja;
"XYZ"===a?c={x:b[0],y:b[1],z:b[2]}:"XYM"===a?c={x:b[0],y:b[1],m:b[2]}:"XYZM"===a?c={x:b[0],y:b[1],z:b[2],m:b[3]}:"XY"===a?c={x:b[0],y:b[1]}:xa(!1,34);return c},LineString:function(a){var b=Ul(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:[a.X()]}},Polygon:function(a){var b=Ul(a);return{hasZ:b.hasZ,hasM:b.hasM,rings:a.X(!1)}},MultiPoint:function(a){var b=Ul(a);return{hasZ:b.hasZ,hasM:b.hasM,points:a.X()}},MultiLineString:function(a){var b=Ul(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:a.X()}},MultiPolygon:function(a){var b=
Ul(a);a=a.X(!1);for(var c=[],d=0;d<a.length;d++)for(var e=a[d].length-1;0<=e;e--)c.push(a[d][e]);return{hasZ:b.hasZ,hasM:b.hasM,rings:c}}};k=Ql.prototype;k.Rc=function(a,b){var c=Rl(a.geometry,b),d=new H;this.b&&d.Tc(this.b);d.Ra(c);b&&b.dg&&a.attributes[b.dg]&&d.jc(a.attributes[b.dg]);a.attributes&&d.H(a.attributes);return d};k.yg=function(a,b){b=b?b:{};if(a.features){var c=[],d=a.features,e;b.dg=a.objectIdFieldName;a=0;for(e=d.length;a<e;++a)c.push(this.Rc(d[a],b));return c}return[this.Rc(a,b)]};
k.Cg=function(a,b){return Rl(a,b)};k.Fg=function(a){return a.spatialReference&&a.spatialReference.wkid?Tb("EPSG:"+a.spatialReference.wkid):null};function Wl(a,b){return(0,Vl[a.U()])(Hl(a,!0,b),b)}k.je=function(a,b){return Wl(a,Gl(this,b))};k.Zc=function(a,b){b=Gl(this,b);var c={},d=a.V();d&&(c.geometry=Wl(d,b));d=a.N();delete d[a.c];c.attributes=wb(d)?{}:d;b&&b.featureProjection&&(c.spatialReference={wkid:Tb(b.featureProjection).mb.split(":").pop()});return c};
k.he=function(a,b){b=Gl(this,b);var c=[],d;var e=0;for(d=a.length;e<d;++e)c.push(this.Zc(a[e],b));return{features:c}};function Xl(a){this.kc=a};function Yl(a,b){this.kc=a;this.b=Array.prototype.slice.call(arguments,1);xa(2<=this.b.length,57)}v(Yl,Xl);function Zl(a){var b=["And"].concat(Array.prototype.slice.call(arguments));Yl.apply(this,b)}v(Zl,Yl);function $l(a,b,c){this.kc="BBOX";this.geometryName=a;this.extent=b;this.srsName=c}v($l,Xl);function am(a,b){this.kc=a;this.b=b}v(am,Xl);function bm(a,b,c){am.call(this,"During",a);this.a=b;this.i=c}v(bm,am);function cm(a,b,c,d){am.call(this,a,b);this.i=c;this.a=d}v(cm,am);function dm(a,b,c){cm.call(this,"PropertyIsEqualTo",a,b,c)}v(dm,cm);function em(a,b){cm.call(this,"PropertyIsGreaterThan",a,b)}v(em,cm);function fm(a,b){cm.call(this,"PropertyIsGreaterThanOrEqualTo",a,b)}v(fm,cm);function gm(a,b,c,d){this.kc=a;this.geometryName=b||"the_geom";this.geometry=c;this.srsName=d}v(gm,Xl);function hm(a,b,c){gm.call(this,"Intersects",a,b,c)}v(hm,gm);function im(a,b,c){am.call(this,"PropertyIsBetween",a);this.a=b;this.i=c}v(im,am);function jm(a,b,c,d,e,f){am.call(this,"PropertyIsLike",a);this.c=b;this.g=void 0!==c?c:"*";this.f=void 0!==d?d:".";this.i=void 0!==e?e:"!";this.a=f}v(jm,am);function km(a){am.call(this,"PropertyIsNull",a)}v(km,am);function lm(a,b){cm.call(this,"PropertyIsLessThan",a,b)}v(lm,cm);function mm(a,b){cm.call(this,"PropertyIsLessThanOrEqualTo",a,b)}v(mm,cm);function nm(a){this.kc="Not";this.condition=a}v(nm,Xl);function om(a,b,c){cm.call(this,"PropertyIsNotEqualTo",a,b,c)}v(om,cm);function pm(a){var b=["Or"].concat(Array.prototype.slice.call(arguments));Yl.apply(this,b)}v(pm,Yl);function qm(a,b,c){gm.call(this,"Within",a,b,c)}v(qm,gm);function rm(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new (Function.prototype.bind.apply(Zl,b))}function sm(a,b,c){return new $l(a,b,c)};function tm(a){of.call(this);this.a=a?a:null;um(this)}v(tm,of);function vm(a){var b=[],c;var d=0;for(c=a.length;d<c;++d)b.push(a[d].clone());return b}function wm(a){var b;if(a.a){var c=0;for(b=a.a.length;c<b;++c)Kc(a.a[c],"change",a.s,a)}}function um(a){var b;if(a.a){var c=0;for(b=a.a.length;c<b;++c)y(a.a[c],"change",a.s,a)}}k=tm.prototype;k.clone=function(){var a=new tm(null);a.oj(this.a);return a};
k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;var e=this.a,f;var g=0;for(f=e.length;g<f;++g)d=e[g].Kb(a,b,c,d);return d};k.Mc=function(a,b){var c=this.a,d;var e=0;for(d=c.length;e<d;++e)if(c[e].Mc(a,b))return!0;return!1};k.se=function(a){Ya(a);for(var b=this.a,c=0,d=b.length;c<d;++c)cb(a,b[c].G());return a};k.Vf=function(){return vm(this.a)};
k.Vd=function(a){this.o!=this.i&&(ub(this.f),this.g=0,this.o=this.i);if(0>a||this.g&&a<this.g)return this;var b=a.toString();if(this.f.hasOwnProperty(b))return this.f[b];var c=[],d=this.a,e=!1,f;var g=0;for(f=d.length;g<f;++g){var h=d[g],l=h.Vd(a);c.push(l);l!==h&&(e=!0)}if(e)return a=new tm(null),wm(a),a.a=c,um(a),a.s(),this.f[b]=a;this.g=a;return this};k.U=function(){return"GeometryCollection"};k.Xa=function(a){var b=this.a,c;var d=0;for(c=b.length;d<c;++d)if(b[d].Xa(a))return!0;return!1};
k.rotate=function(a,b){for(var c=this.a,d=0,e=c.length;d<e;++d)c[d].rotate(a,b);this.s()};k.scale=function(a,b,c){c||(c=nb(this.G()));for(var d=this.a,e=0,f=d.length;e<f;++e)d[e].scale(a,b,c);this.s()};k.oj=function(a){a=vm(a);wm(this);this.a=a;um(this);this.s()};k.Dc=function(a){var b=this.a,c;var d=0;for(c=b.length;d<c;++d)b[d].Dc(a);this.s()};k.translate=function(a,b){var c=this.a,d;var e=0;for(d=c.length;e<d;++e)c[e].translate(a,b);this.s()};k.ka=function(){wm(this);of.prototype.ka.call(this)};function xm(a){a=a?a:{};El.call(this);this.defaultDataProjection=Tb(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326");a.featureProjection&&(this.f=Tb(a.featureProjection));this.b=a.geometryName}v(xm,Il);function ym(a,b){return a?Hl((0,zm[a.type])(a),!1,b):null}function Am(a,b){return(0,Bm[a.U()])(Hl(a,!0,b),b)}
var zm={Point:function(a){return new C(a.coordinates)},LineString:function(a){return new O(a.coordinates)},Polygon:function(a){return new D(a.coordinates)},MultiPoint:function(a){return new Q(a.coordinates)},MultiLineString:function(a){return new P(a.coordinates)},MultiPolygon:function(a){return new R(a.coordinates)},GeometryCollection:function(a,b){a=a.geometries.map(function(a){return ym(a,b)});return new tm(a)}},Bm={Point:function(a){return{type:"Point",coordinates:a.X()}},LineString:function(a){return{type:"LineString",
coordinates:a.X()}},Polygon:function(a,b){if(b)var c=b.rightHanded;return{type:"Polygon",coordinates:a.X(c)}},MultiPoint:function(a){return{type:"MultiPoint",coordinates:a.X()}},MultiLineString:function(a){return{type:"MultiLineString",coordinates:a.X()}},MultiPolygon:function(a,b){if(b)var c=b.rightHanded;return{type:"MultiPolygon",coordinates:a.X(c)}},GeometryCollection:function(a,b){return{type:"GeometryCollection",geometries:a.a.map(function(a){var c=tb({},b);delete c.featureProjection;return Am(a,
c)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};k=xm.prototype;k.Rc=function(a,b){a="Feature"===a.type?a:{type:"Feature",geometry:a};b=ym(a.geometry,b);var c=new H;this.b&&c.Tc(this.b);c.Ra(b);void 0!==a.id&&c.jc(a.id);a.properties&&c.H(a.properties);return c};k.yg=function(a,b){if("FeatureCollection"===a.type){var c=[];a=a.features;var d;var e=0;for(d=a.length;e<d;++e)c.push(this.Rc(a[e],b))}else c=[this.Rc(a,b)];return c};k.Cg=function(a,b){return ym(a,b)};
k.Fg=function(a){a=a.crs;var b;a?"name"==a.type?b=Tb(a.properties.name):"EPSG"==a.type?b=Tb("EPSG:"+a.properties.code):xa(!1,36):b=this.defaultDataProjection;return b};k.Zc=function(a,b){b=Gl(this,b);var c={type:"Feature"},d=a.a;void 0!==d&&(c.id=d);(d=a.V())?c.geometry=Am(d,b):c.geometry=null;b=a.N();delete b[a.c];wb(b)?c.properties=null:c.properties=b;return c};k.he=function(a,b){b=Gl(this,b);var c=[],d;var e=0;for(d=a.length;e<d;++e)c.push(this.Zc(a[e],b));return{type:"FeatureCollection",features:c}};
k.je=function(a,b){return Am(a,Gl(this,b))};function Cm(){this.i=new XMLSerializer;El.call(this)}v(Cm,El);k=Cm.prototype;k.U=function(){return"xml"};k.Tb=function(a,b){return ml(a)?Dm(this,a,b):nl(a)?this.xg(a,b):"string"===typeof a?(a=pl(a),Dm(this,a,b)):null};function Dm(a,b,c){a=Em(a,b,c);return 0<a.length?a[0]:null}k.xg=function(){return null};k.Oa=function(a,b){return ml(a)?Em(this,a,b):nl(a)?this.zc(a,b):"string"===typeof a?(a=pl(a),Em(this,a,b)):[]};
function Em(a,b,c){var d=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&la(d,a.zc(b,c));return d}k.Sc=function(a,b){if(ml(a))return null;if(nl(a))return this.aj(a,b);"string"===typeof a&&pl(a);return null};k.aj=function(){return null};k.kb=function(a){return ml(a)?this.Eg(a):nl(a)?this.kf(a):"string"===typeof a?(a=pl(a),this.Eg(a)):null};k.Eg=function(){return this.defaultDataProjection};k.kf=function(){return this.defaultDataProjection};
k.Bd=function(a,b){return this.i.serializeToString(this.Vg(a,b))};k.Vg=function(){return null};k.Wb=function(a,b){a=this.Xb(a,b);return this.i.serializeToString(a)};k.Xb=function(){return null};k.$c=function(a,b){a=this.ie(a,b);return this.i.serializeToString(a)};k.ie=function(){return null};function Fm(a){a=a?a:{};this.featureType=a.featureType;this.featureNS=a.featureNS;this.srsName=a.srsName;this.schemaLocation="";this.b={};this.b["http://www.opengis.net/gml"]={featureMember:sl(Fm.prototype.be),featureMembers:sl(Fm.prototype.be)};Cm.call(this)}v(Fm,Cm);var Gm=/^[\s\xa0]*$/;k=Fm.prototype;
k.be=function(a,b){var c=a.localName,d=null;if("FeatureCollection"==c)"http://www.opengis.net/wfs"===a.namespaceURI?d=N([],this.b,a,b,this):d=N(null,this.b,a,b,this);else if("featureMembers"==c||"featureMember"==c){var e=b[0],f=e.featureType,g=e.featureNS,h;if(!f&&a.childNodes){f=[];g={};var l=0;for(h=a.childNodes.length;l<h;++l){var m=a.childNodes[l];if(1===m.nodeType){var n=m.nodeName.split(":").pop();if(-1===f.indexOf(n)){var p="",q=0,m=m.namespaceURI,r;for(r in g){if(g[r]===m){p=r;break}++q}p||
(p="p"+q,g[p]=m);f.push(p+":"+n)}}}"featureMember"!=c&&(e.featureType=f,e.featureNS=g)}"string"===typeof g&&(l=g,g={},g.p0=l);var e={},f=Array.isArray(f)?f:[f],u;for(u in g){n={};l=0;for(h=f.length;l<h;++l)(-1===f[l].indexOf(":")?"p0":f[l].split(":")[0])===u&&(n[f[l].split(":").pop()]="featureMembers"==c?rl(this.wg,this):sl(this.wg,this));e[g[u]]=n}"featureMember"==c?d=N(void 0,e,a,b):d=N([],e,a,b)}null===d&&(d=[]);return d};
k.gf=function(a,b){var c=b[0];c.srsName=a.firstElementChild.getAttribute("srsName");if(a=N(null,this.Zg,a,b,this))return Hl(a,!1,c)};
k.wg=function(a,b){var c;(c=a.getAttribute("fid"))||(c=a.getAttributeNS("http://www.opengis.net/gml","id")||"");var d={},e;for(a=a.firstElementChild;a;a=a.nextElementSibling){var f=a.localName;if(0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)){var g=kl(a,!1);Gm.test(g)&&(g=void 0);d[f]=g}else"boundedBy"!==f&&(e=f),d[f]=this.gf(a,b)}b=new H(d);e&&b.Tc(e);c&&b.jc(c);return b};
k.fj=function(a,b){if(a=this.ff(a,b))return b=new C(null),b.ba("XYZ",a),b};k.dj=function(a,b){if(a=N([],this.Nj,a,b,this))return new Q(a)};k.cj=function(a,b){if(a=N([],this.Mj,a,b,this))return b=new P(null),Nl(b,a),b};k.ej=function(a,b){if(a=N([],this.Oj,a,b,this))return b=new R(null),Pl(b,a),b};k.Xi=function(a,b){Al(this.Rj,a,b,this)};k.Mh=function(a,b){Al(this.Kj,a,b,this)};k.Yi=function(a,b){Al(this.Sj,a,b,this)};k.hf=function(a,b){if(a=this.ff(a,b))return b=new O(null),b.ba("XYZ",a),b};
k.wp=function(a,b){if(a=N(null,this.ke,a,b,this))return a};k.bj=function(a,b){if(a=this.ff(a,b))return b=new Jf(null),Kf(b,"XYZ",a),b};k.jf=function(a,b){if((a=N([null],this.zf,a,b,this))&&a[0]){b=new D(null);var c=a[0],d=[c.length],e;var f=1;for(e=a.length;f<e;++f)la(c,a[f]),d.push(c.length);b.ba("XYZ",c,d);return b}};k.ff=function(a,b){return N(null,this.ke,a,b,this)};k.Nj={"http://www.opengis.net/gml":{pointMember:rl(Fm.prototype.Xi),pointMembers:rl(Fm.prototype.Xi)}};
k.Mj={"http://www.opengis.net/gml":{lineStringMember:rl(Fm.prototype.Mh),lineStringMembers:rl(Fm.prototype.Mh)}};k.Oj={"http://www.opengis.net/gml":{polygonMember:rl(Fm.prototype.Yi),polygonMembers:rl(Fm.prototype.Yi)}};k.Rj={"http://www.opengis.net/gml":{Point:rl(Fm.prototype.ff)}};k.Kj={"http://www.opengis.net/gml":{LineString:rl(Fm.prototype.hf)}};k.Sj={"http://www.opengis.net/gml":{Polygon:rl(Fm.prototype.jf)}};k.le={"http://www.opengis.net/gml":{LinearRing:sl(Fm.prototype.wp)}};
k.aj=function(a,b){return(a=this.gf(a,[Fl(this,a,b?b:{})]))?a:null};k.zc=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};b&&tb(c,Fl(this,a,b));return this.be(a,[c])||[]};k.kf=function(a){return Tb(this.srsName?this.srsName:a.firstElementChild.getAttribute("srsName"))};function Hm(a){a=kl(a,!1);return Im(a)}function Im(a){if(a=/^\s*(true|1)|(false|0)\s*$/.exec(a))return void 0!==a[1]||!1}function Jm(a){a=kl(a,!1);a=Date.parse(a);return isNaN(a)?void 0:a/1E3}function Km(a){a=kl(a,!1);return Lm(a)}function Lm(a){if(a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a))return parseFloat(a[1])}function Mm(a){a=kl(a,!1);return Nm(a)}function Nm(a){if(a=/^\s*(\d+)\s*$/.exec(a))return parseInt(a[1],10)}function S(a){return kl(a,!1).trim()}
function Om(a,b){Pm(a,b?"1":"0")}function Qm(a,b){a.appendChild(il.createTextNode(b.toPrecision()))}function Rm(a,b){a.appendChild(il.createTextNode(b.toString()))}function Pm(a,b){a.appendChild(il.createTextNode(b))};function Sm(a){a=a?a:{};Fm.call(this,a);this.l=void 0!==a.surface?a.surface:!1;this.c=void 0!==a.curve?a.curve:!1;this.g=void 0!==a.multiCurve?a.multiCurve:!0;this.j=void 0!==a.multiSurface?a.multiSurface:!0;this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}v(Sm,Fm);k=Sm.prototype;k.Ap=function(a,b){if(a=N([],this.Lj,a,b,this))return b=new P(null),Nl(b,a),b};
k.Bp=function(a,b){if(a=N([],this.Pj,a,b,this))return b=new R(null),Pl(b,a),b};k.ph=function(a,b){Al(this.Hj,a,b,this)};k.Aj=function(a,b){Al(this.Uj,a,b,this)};k.Ep=function(a,b){return N([null],this.Qj,a,b,this)};k.Hp=function(a,b){return N([null],this.Tj,a,b,this)};k.Fp=function(a,b){return N([null],this.zf,a,b,this)};k.zp=function(a,b){return N([null],this.ke,a,b,this)};k.cm=function(a,b){(a=N(void 0,this.le,a,b,this))&&b[b.length-1].push(a)};
k.yk=function(a,b){(a=N(void 0,this.le,a,b,this))&&(b[b.length-1][0]=a)};k.gj=function(a,b){if((a=N([null],this.Vj,a,b,this))&&a[0]){b=new D(null);var c=a[0],d=[c.length],e;var f=1;for(e=a.length;f<e;++f)la(c,a[f]),d.push(c.length);b.ba("XYZ",c,d);return b}};k.Zi=function(a,b){if(a=N([null],this.Ij,a,b,this))return b=new O(null),b.ba("XYZ",a),b};k.vp=function(a,b){a=N([null],this.Jj,a,b,this);return Xa(a[1][0],a[1][1],a[2][0],a[2][1])};
k.xp=function(a,b){var c=kl(a,!1),d=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;a=[];for(var e;e=d.exec(c);)a.push(parseFloat(e[1])),c=c.substr(e[0].length);if(""===c){b=b[0].srsName;c="enu";b&&(c=Tb(b).b);if("neu"===c)for(b=0,c=a.length;b<c;b+=3)d=a[b],a[b]=a[b+1],a[b+1]=d;b=a.length;2==b&&a.push(0);if(b)return a}};
k.Bg=function(a,b){var c=kl(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension");b="enu";d&&(b=Tb(d).b);c=c.split(/\s+/);d=2;a.getAttribute("srsDimension")?d=Nm(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=Nm(a.getAttribute("dimension")):e&&(d=Nm(e));for(var f,g=[],h=0,l=c.length;h<l;h+=d)a=parseFloat(c[h]),e=parseFloat(c[h+1]),f=3===d?parseFloat(c[h+2]):0,"en"===b.substr(0,2)?g.push(a,e,f):g.push(e,a,f);return g};
k.ke={"http://www.opengis.net/gml":{pos:sl(Sm.prototype.xp),posList:sl(Sm.prototype.Bg)}};k.zf={"http://www.opengis.net/gml":{interior:Sm.prototype.cm,exterior:Sm.prototype.yk}};
k.Zg={"http://www.opengis.net/gml":{Point:sl(Fm.prototype.fj),MultiPoint:sl(Fm.prototype.dj),LineString:sl(Fm.prototype.hf),MultiLineString:sl(Fm.prototype.cj),LinearRing:sl(Fm.prototype.bj),Polygon:sl(Fm.prototype.jf),MultiPolygon:sl(Fm.prototype.ej),Surface:sl(Sm.prototype.gj),MultiSurface:sl(Sm.prototype.Bp),Curve:sl(Sm.prototype.Zi),MultiCurve:sl(Sm.prototype.Ap),Envelope:sl(Sm.prototype.vp)}};k.Lj={"http://www.opengis.net/gml":{curveMember:rl(Sm.prototype.ph),curveMembers:rl(Sm.prototype.ph)}};
k.Pj={"http://www.opengis.net/gml":{surfaceMember:rl(Sm.prototype.Aj),surfaceMembers:rl(Sm.prototype.Aj)}};k.Hj={"http://www.opengis.net/gml":{LineString:rl(Fm.prototype.hf),Curve:rl(Sm.prototype.Zi)}};k.Uj={"http://www.opengis.net/gml":{Polygon:rl(Fm.prototype.jf),Surface:rl(Sm.prototype.gj)}};k.Vj={"http://www.opengis.net/gml":{patches:sl(Sm.prototype.Ep)}};k.Ij={"http://www.opengis.net/gml":{segments:sl(Sm.prototype.Hp)}};k.Jj={"http://www.opengis.net/gml":{lowerCorner:rl(Sm.prototype.Bg),upperCorner:rl(Sm.prototype.Bg)}};
k.Qj={"http://www.opengis.net/gml":{PolygonPatch:sl(Sm.prototype.Fp)}};k.Tj={"http://www.opengis.net/gml":{LineStringSegment:sl(Sm.prototype.zp)}};function Tm(a,b,c){var d=c[c.length-1];c=d.hasZ;d=d.srsName;b=b.X();for(var e=b.length,f=Array(e),g,h=0;h<e;++h){g=b[h];var l=h,m=c,n="enu";d&&(n=Tb(d).b);n="en"===n.substr(0,2)?g[0]+" "+g[1]:g[1]+" "+g[0];m&&(n+=" "+(g[2]||0));f[l]=n}Pm(a,f.join(" "))}
k.ni=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=jl(a.namespaceURI,"pos");a.appendChild(d);c=c[c.length-1];a=c.hasZ;var e=c.srsName;c="enu";e&&(c=Tb(e).b);b=b.X();c="en"===c.substr(0,2)?b[0]+" "+b[1]:b[1]+" "+b[0];a&&(c+=" "+(b[2]||0));Pm(d,c)};var Um={"http://www.opengis.net/gml":{lowerCorner:J(Pm),upperCorner:J(Pm)}};k=Sm.prototype;
k.jn=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);Bl({node:a},Um,yl,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)};k.ki=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=jl(a.namespaceURI,"posList");a.appendChild(d);Tm(d,b,c)};k.hn=function(a,b){a=b[b.length-1];b=a.node;var c=a.exteriorWritten;void 0===c&&(a.exteriorWritten=!0);return jl(b.namespaceURI,void 0!==c?"interior":"exterior")};
k.Se=function(a,b,c){var d=c[c.length-1],e=d.hasZ,d=d.srsName;"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d);"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Sd(),Bl({node:a,hasZ:e,srsName:d},Vm,this.hn,b,c,void 0,this)):"Surface"===a.nodeName&&(e=jl(a.namespaceURI,"patches"),a.appendChild(e),a=jl(e.namespaceURI,"PolygonPatch"),e.appendChild(a),this.Se(a,b,c))};
k.Re=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d);"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=jl(a.namespaceURI,"posList"),a.appendChild(d),Tm(d,b,c)):"Curve"===a.nodeName&&(d=jl(a.namespaceURI,"segments"),a.appendChild(d),a=jl(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.Re(a,b,c))};
k.mi=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName,d=d.surface;f&&a.setAttribute("srsName",f);b=b.Td();Bl({node:a,hasZ:e,srsName:f,surface:d},Wm,this.o,b,c,void 0,this)};k.kn=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.hasZ;e&&a.setAttribute("srsName",e);b=b.Zd();Bl({node:a,hasZ:d,srsName:e},Xm,wl("pointMember"),b,c,void 0,this)};
k.li=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName,d=d.curve;f&&a.setAttribute("srsName",f);b=b.gd();Bl({node:a,hasZ:e,srsName:f,curve:d},Ym,this.o,b,c,void 0,this)};k.oi=function(a,b,c){var d=jl(a.namespaceURI,"LinearRing");a.appendChild(d);this.ki(d,b,c)};k.pi=function(a,b,c){var d=this.a(b,c);d&&(a.appendChild(d),this.Se(d,b,c))};k.ln=function(a,b,c){var d=jl(a.namespaceURI,"Point");a.appendChild(d);this.ni(d,b,c)};
k.ji=function(a,b,c){var d=this.a(b,c);d&&(a.appendChild(d),this.Re(d,b,c))};k.od=function(a,b,c){var d=c[c.length-1],e=tb({},d);e.node=a;var f;Array.isArray(b)?d.dataProjection?f=hc(b,d.featureProjection,d.dataProjection):f=b:f=Hl(b,!0,d);Bl(e,Zm,this.a,[f],c,void 0,this)};
k.ii=function(a,b,c){var d=b.a;d&&a.setAttribute("fid",d);var d=c[c.length-1],e=d.featureNS,f=b.c;d.lb||(d.lb={},d.lb[e]={});var g=b.N();b=[];var h=[];for(m in g){var l=g[m];null!==l&&(b.push(m),h.push(l),m==f||l instanceof of?m in d.lb[e]||(d.lb[e][m]=J(this.od,this)):m in d.lb[e]||(d.lb[e][m]=J(Pm)))}var m=tb({},d);m.node=a;Bl(m,d.lb,wl(void 0,e),h,c,b)};
var Wm={"http://www.opengis.net/gml":{surfaceMember:J(Sm.prototype.pi),polygonMember:J(Sm.prototype.pi)}},Xm={"http://www.opengis.net/gml":{pointMember:J(Sm.prototype.ln)}},Ym={"http://www.opengis.net/gml":{lineStringMember:J(Sm.prototype.ji),curveMember:J(Sm.prototype.ji)}},Vm={"http://www.opengis.net/gml":{exterior:J(Sm.prototype.oi),interior:J(Sm.prototype.oi)}},Zm={"http://www.opengis.net/gml":{Curve:J(Sm.prototype.Re),MultiCurve:J(Sm.prototype.li),Point:J(Sm.prototype.ni),MultiPoint:J(Sm.prototype.kn),
LineString:J(Sm.prototype.Re),MultiLineString:J(Sm.prototype.li),LinearRing:J(Sm.prototype.ki),Polygon:J(Sm.prototype.Se),MultiPolygon:J(Sm.prototype.mi),Surface:J(Sm.prototype.Se),MultiSurface:J(Sm.prototype.mi),Envelope:J(Sm.prototype.jn)}},$m={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};Sm.prototype.o=function(a,b){return jl("http://www.opengis.net/gml",$m[b[b.length-1].node.nodeName])};
Sm.prototype.a=function(a,b){var c=b[b.length-1];b=c.multiSurface;var d=c.surface,e=c.curve,c=c.multiCurve;Array.isArray(a)?a="Envelope":(a=a.U(),"MultiPolygon"===a&&!0===b?a="MultiSurface":"Polygon"===a&&!0===d?a="Surface":"LineString"===a&&!0===e?a="Curve":"MultiLineString"===a&&!0===c&&(a="MultiCurve"));return jl("http://www.opengis.net/gml",a)};
Sm.prototype.ie=function(a,b){b=Gl(this,b);var c=jl("http://www.opengis.net/gml","geom"),d={node:c,hasZ:this.hasZ,srsName:this.srsName,curve:this.c,surface:this.l,multiSurface:this.j,multiCurve:this.g};b&&tb(d,b);this.od(c,a,[d]);return c};
Sm.prototype.Xb=function(a,b){b=Gl(this,b);var c=jl("http://www.opengis.net/gml","featureMembers");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var d={srsName:this.srsName,hasZ:this.hasZ,curve:this.c,surface:this.l,multiSurface:this.j,multiCurve:this.g,featureNS:this.featureNS,featureType:this.featureType};b&&tb(d,b);b=[d];var e=b[b.length-1],d=e.featureType,f=e.featureNS,g={};g[f]={};g[f][d]=J(this.ii,this);e=tb({},e);e.node=c;Bl(e,g,wl(d,
f),a,b);return c};function an(a){a=a?a:{};Fm.call(this,a);this.b["http://www.opengis.net/gml"].featureMember=rl(Fm.prototype.be);this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}v(an,Fm);k=an.prototype;
k.$i=function(a,b){a=kl(a,!1).replace(/^\s*|\s*$/g,"");var c=b[0].srsName;b="enu";c&&(c=Tb(c))&&(b=c.b);a=a.trim().split(/\s+/);for(var d,e,f=[],g=0,h=a.length;g<h;g++)e=a[g].split(/,+/),c=parseFloat(e[0]),d=parseFloat(e[1]),e=3===e.length?parseFloat(e[2]):0,"en"===b.substr(0,2)?f.push(c,d,e):f.push(d,c,e);return f};k.tp=function(a,b){a=N([null],this.Gj,a,b,this);return Xa(a[1][0],a[1][1],a[1][3],a[1][4])};k.am=function(a,b){(a=N(void 0,this.le,a,b,this))&&b[b.length-1].push(a)};
k.bp=function(a,b){(a=N(void 0,this.le,a,b,this))&&(b[b.length-1][0]=a)};k.ke={"http://www.opengis.net/gml":{coordinates:sl(an.prototype.$i)}};k.zf={"http://www.opengis.net/gml":{innerBoundaryIs:an.prototype.am,outerBoundaryIs:an.prototype.bp}};k.Gj={"http://www.opengis.net/gml":{coordinates:rl(an.prototype.$i)}};
k.Zg={"http://www.opengis.net/gml":{Point:sl(Fm.prototype.fj),MultiPoint:sl(Fm.prototype.dj),LineString:sl(Fm.prototype.hf),MultiLineString:sl(Fm.prototype.cj),LinearRing:sl(Fm.prototype.bj),Polygon:sl(Fm.prototype.jf),MultiPolygon:sl(Fm.prototype.ej),Box:sl(an.prototype.tp)}};
k.jg=function(a,b){var c=b[b.length-1];b=c.multiSurface;var d=c.surface,c=c.multiCurve;Array.isArray(a)?a="Envelope":(a=a.U(),"MultiPolygon"===a&&!0===b?a="MultiSurface":"Polygon"===a&&!0===d?a="Surface":"MultiLineString"===a&&!0===c&&(a="MultiCurve"));return jl("http://www.opengis.net/gml",a)};k.ai=function(a,b,c){var d=c[c.length-1],e=tb({},d);e.node=a;var f;Array.isArray(b)?d.dataProjection?f=hc(b,d.featureProjection,d.dataProjection):f=b:f=Hl(b,!0,d);Bl(e,bn,this.jg,[f],c,void 0,this)};
k.Pe=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d);"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=cn(a.namespaceURI),a.appendChild(d),dn(d,b,c)):"Curve"===a.nodeName&&(d=jl(a.namespaceURI,"segments"),a.appendChild(d),a=jl(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.Pe(a,b,c))};function cn(a){a=jl(a,"coordinates");a.setAttribute("decimal",".");a.setAttribute("cs",",");a.setAttribute("ts"," ");return a}
function dn(a,b,c){var d=c[c.length-1];c=d.hasZ;d=d.srsName;b=b.X();for(var e=b.length,f=Array(e),g,h=0;h<e;++h)g=b[h],f[h]=en(g,d,c);Pm(a,f.join(" "))}
k.Qe=function(a,b,c){var d=c[c.length-1],e=d.hasZ,d=d.srsName;"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d);"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Sd(),Bl({node:a,hasZ:e,srsName:d},fn,this.dn,b,c,void 0,this)):"Surface"===a.nodeName&&(e=jl(a.namespaceURI,"patches"),a.appendChild(e),a=jl(e.namespaceURI,"PolygonPatch"),e.appendChild(a),this.Qe(a,b,c))};
k.dn=function(a,b){a=b[b.length-1];b=a.node;var c=a.exteriorWritten;void 0===c&&(a.exteriorWritten=!0);return jl(b.namespaceURI,void 0!==c?"innerBoundaryIs":"outerBoundaryIs")};k.gi=function(a,b,c){var d=jl(a.namespaceURI,"LinearRing");a.appendChild(d);this.ci(d,b,c)};function en(a,b,c){var d="enu";b&&(d=Tb(b).b);b="en"===d.substr(0,2)?a[0]+","+a[1]:a[1]+","+a[0];c&&(b+=","+(a[2]||0));return b}
k.di=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName,d=d.curve;f&&a.setAttribute("srsName",f);b=b.gd();Bl({node:a,hasZ:e,srsName:f,curve:d},gn,this.a,b,c,void 0,this)};k.fi=function(a,b,c){var d=c[c.length-1];c=d.hasZ;var e=d.srsName;e&&a.setAttribute("srsName",e);d=cn(a.namespaceURI);a.appendChild(d);a=b.X();a=en(a,e,c);Pm(d,a)};
k.fn=function(a,b,c){var d=c[c.length-1],e=d.hasZ;(d=d.srsName)&&a.setAttribute("srsName",d);b=b.Zd();Bl({node:a,hasZ:e,srsName:d},hn,wl("pointMember"),b,c,void 0,this)};k.gn=function(a,b,c){var d=jl(a.namespaceURI,"Point");a.appendChild(d);this.fi(d,b,c)};k.bi=function(a,b,c){var d=this.jg(b,c);d&&(a.appendChild(d),this.Pe(d,b,c))};k.ci=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=cn(a.namespaceURI);a.appendChild(d);dn(d,b,c)};
k.ei=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName,d=d.surface;f&&a.setAttribute("srsName",f);b=b.Td();Bl({node:a,hasZ:e,srsName:f,surface:d},jn,this.a,b,c,void 0,this)};k.hi=function(a,b,c){var d=this.jg(b,c);d&&(a.appendChild(d),this.Qe(d,b,c))};k.en=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);Bl({node:a},kn,yl,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)};
var bn={"http://www.opengis.net/gml":{Curve:J(an.prototype.Pe),MultiCurve:J(an.prototype.di),Point:J(an.prototype.fi),MultiPoint:J(an.prototype.fn),LineString:J(an.prototype.Pe),MultiLineString:J(an.prototype.di),LinearRing:J(an.prototype.ci),Polygon:J(an.prototype.Qe),MultiPolygon:J(an.prototype.ei),Surface:J(an.prototype.Qe),MultiSurface:J(an.prototype.ei),Envelope:J(an.prototype.en)}},fn={"http://www.opengis.net/gml":{outerBoundaryIs:J(an.prototype.gi),innerBoundaryIs:J(an.prototype.gi)}},hn={"http://www.opengis.net/gml":{pointMember:J(an.prototype.gn)}},
gn={"http://www.opengis.net/gml":{lineStringMember:J(an.prototype.bi),curveMember:J(an.prototype.bi)}};an.prototype.a=function(a,b){return jl("http://www.opengis.net/gml",ln[b[b.length-1].node.nodeName])};var ln={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},jn={"http://www.opengis.net/gml":{surfaceMember:J(an.prototype.hi),polygonMember:J(an.prototype.hi)}},kn={"http://www.opengis.net/gml":{lowerCorner:J(Pm),upperCorner:J(Pm)}};function mn(a){a=a?a:{};Cm.call(this);this.defaultDataProjection=Tb("EPSG:4326");this.b=a.readExtensions}v(mn,Cm);var nn=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];function on(a,b,c,d){a.push(parseFloat(c.getAttribute("lon")),parseFloat(c.getAttribute("lat")));"ele"in d?(a.push(d.ele),delete d.ele,b.hasZ=!0):a.push(0);"time"in d?(a.push(d.time),delete d.time,b.hasM=!0):a.push(0);return a}
function pn(a,b,c){var d="XY",e=2;a.hasZ&&a.hasM?(d="XYZM",e=4):a.hasZ?(d="XYZ",e=3):a.hasM&&(d="XYM",e=3);if(4!==e){var f;var g=0;for(f=b.length/4;g<f;g++)b[g*e]=b[4*g],b[g*e+1]=b[4*g+1],a.hasZ&&(b[g*e+2]=b[4*g+2]),a.hasM&&(b[g*e+2]=b[4*g+3]);b.length=b.length/4*e;if(c)for(g=0,f=c.length;g<f;g++)c[g]=c[g]/4*e}return d}function qn(a,b){var c=b[b.length-1],d=a.getAttribute("href");null!==d&&(c.link=d);Al(rn,a,b)}function sn(a,b){b[b.length-1].extensionsNode_=a}
function tn(a,b){var c=b[0];if(a=N({flatCoordinates:[],layoutOptions:{}},un,a,b)){b=a.flatCoordinates;delete a.flatCoordinates;var d=a.layoutOptions;delete a.layoutOptions;var d=pn(d,b),e=new O(null);e.ba(d,b);Hl(e,!1,c);c=new H(e);c.H(a);return c}}
function vn(a,b){var c=b[0];if(a=N({flatCoordinates:[],ends:[],layoutOptions:{}},wn,a,b)){b=a.flatCoordinates;delete a.flatCoordinates;var d=a.ends;delete a.ends;var e=a.layoutOptions;delete a.layoutOptions;var e=pn(e,b,d),f=new P(null);f.ba(e,b,d);Hl(f,!1,c);c=new H(f);c.H(a);return c}}function xn(a,b){var c=b[0];if(b=N({},yn,a,b)){var d={};a=on([],d,a,b);d=pn(d,a);a=new C(a,d);Hl(a,!1,c);c=new H(a);c.H(b);return c}}
var zn={rte:tn,trk:vn,wpt:xn},An=K(nn,{rte:rl(tn),trk:rl(vn),wpt:rl(xn)}),rn=K(nn,{text:I(S,"linkText"),type:I(S,"linkType")}),un=K(nn,{name:I(S),cmt:I(S),desc:I(S),src:I(S),link:qn,number:I(Mm),extensions:sn,type:I(S),rtept:function(a,b){var c=N({},Bn,a,b);c&&(b=b[b.length-1],on(b.flatCoordinates,b.layoutOptions,a,c))}}),Bn=K(nn,{ele:I(Km),time:I(Jm)}),wn=K(nn,{name:I(S),cmt:I(S),desc:I(S),src:I(S),link:qn,number:I(Mm),type:I(S),extensions:sn,trkseg:function(a,b){var c=b[b.length-1];Al(Cn,a,b);c.ends.push(c.flatCoordinates.length)}}),
Cn=K(nn,{trkpt:function(a,b){var c=N({},Dn,a,b);c&&(b=b[b.length-1],on(b.flatCoordinates,b.layoutOptions,a,c))}}),Dn=K(nn,{ele:I(Km),time:I(Jm)}),yn=K(nn,{ele:I(Km),time:I(Jm),magvar:I(Km),geoidheight:I(Km),name:I(S),cmt:I(S),desc:I(S),src:I(S),link:qn,sym:I(S),type:I(S),fix:I(S),sat:I(Mm),hdop:I(Km),vdop:I(Km),pdop:I(Km),ageofdgpsdata:I(Km),dgpsid:I(Mm),extensions:sn});
function En(a,b){b||(b=[]);for(var c=0,d=b.length;c<d;++c){var e=b[c];if(a.b){var f=e.get("extensionsNode_")||null;a.b(e,f)}e.set("extensionsNode_",void 0)}}mn.prototype.xg=function(a,b){if(!ja(nn,a.namespaceURI))return null;var c=zn[a.localName];if(!c)return null;a=c(a,[Fl(this,a,b)]);if(!a)return null;En(this,[a]);return a};mn.prototype.zc=function(a,b){return ja(nn,a.namespaceURI)?"gpx"==a.localName&&(a=N([],An,a,[Fl(this,a,b)]))?(En(this,a),a):[]:[]};
function Fn(a,b,c){a.setAttribute("href",b);b=c[c.length-1].properties;Bl({node:a},Gn,yl,[b.linkText,b.linkType],c,Hn)}function In(a,b,c){var d=c[c.length-1],e=d.node.namespaceURI,f=d.properties;a.setAttributeNS(null,"lat",b[1]);a.setAttributeNS(null,"lon",b[0]);switch(d.geometryLayout){case "XYZM":b[3]&&(f.time=b[3]);case "XYZ":b[2]&&(f.ele=b[2]);break;case "XYM":b[2]&&(f.time=b[2])}b="rtept"==a.nodeName?Jn[e]:Kn[e];d=zl(f,b);Bl({node:a,properties:f},Ln,yl,d,c,b)}
var Hn=["text","type"],Gn=K(nn,{text:J(Pm),type:J(Pm)}),Mn=K(nn,"name cmt desc src link number type rtept".split(" ")),Nn=K(nn,{name:J(Pm),cmt:J(Pm),desc:J(Pm),src:J(Pm),link:J(Fn),number:J(Rm),type:J(Pm),rtept:vl(J(In))}),Jn=K(nn,["ele","time"]),On=K(nn,"name cmt desc src link number type trkseg".split(" ")),Rn=K(nn,{name:J(Pm),cmt:J(Pm),desc:J(Pm),src:J(Pm),link:J(Fn),number:J(Rm),type:J(Pm),trkseg:vl(J(function(a,b,c){Bl({node:a,geometryLayout:b.ja,properties:{}},Pn,Qn,b.X(),c)}))}),Qn=wl("trkpt"),
Pn=K(nn,{trkpt:J(In)}),Kn=K(nn,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Ln=K(nn,{ele:J(Qm),time:J(function(a,b){b=new Date(1E3*b);a.appendChild(il.createTextNode(b.getUTCFullYear()+"-"+Xe(b.getUTCMonth()+1)+"-"+Xe(b.getUTCDate())+"T"+Xe(b.getUTCHours())+":"+Xe(b.getUTCMinutes())+":"+Xe(b.getUTCSeconds())+"Z"))}),magvar:J(Qm),geoidheight:J(Qm),name:J(Pm),cmt:J(Pm),desc:J(Pm),src:J(Pm),link:J(Fn),sym:J(Pm),type:J(Pm),fix:J(Pm),
sat:J(Rm),hdop:J(Qm),vdop:J(Qm),pdop:J(Qm),ageofdgpsdata:J(Qm),dgpsid:J(Rm)}),Sn={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Tn(a,b){if(a=a.V())if(a=Sn[a.U()])return jl(b[b.length-1].node.namespaceURI,a)}
var Un=K(nn,{rte:J(function(a,b,c){var d=c[0],e=b.N();a={node:a,properties:e};if(b=b.V())b=Hl(b,!0,d),a.geometryLayout=b.ja,e.rtept=b.X();d=Mn[c[c.length-1].node.namespaceURI];e=zl(e,d);Bl(a,Nn,yl,e,c,d)}),trk:J(function(a,b,c){var d=c[0],e=b.N();a={node:a,properties:e};if(b=b.V())b=Hl(b,!0,d),e.trkseg=b.gd();d=On[c[c.length-1].node.namespaceURI];e=zl(e,d);Bl(a,Rn,yl,e,c,d)}),wpt:J(function(a,b,c){var d=c[0],e=c[c.length-1];e.properties=b.N();if(b=b.V())b=Hl(b,!0,d),e.geometryLayout=b.ja,In(a,b.X(),
c)})});mn.prototype.Xb=function(a,b){b=Gl(this,b);var c=jl("http://www.topografix.com/GPX/1/1","gpx");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd");c.setAttribute("version","1.1");c.setAttribute("creator","OpenLayers");Bl({node:c},Un,Tn,a,[b]);return c};function Vn(){El.call(this)}v(Vn,El);function Wn(a){return"string"===typeof a?a:""}k=Vn.prototype;k.U=function(){return"text"};k.Tb=function(a,b){return this.ae(Wn(a),Gl(this,b))};k.Oa=function(a,b){return this.zg(Wn(a),Gl(this,b))};k.Sc=function(a,b){return this.wd(Wn(a),Gl(this,b))};k.kb=function(){return this.defaultDataProjection};k.Bd=function(a,b){return this.ge(a,Gl(this,b))};k.Wb=function(a,b){return this.Wg(a,Gl(this,b))};k.$c=function(a,b){return this.Cd(a,Gl(this,b))};function Xn(a){a=a?a:{};El.call(this);this.defaultDataProjection=Tb("EPSG:4326");this.b=a.altitudeMode?a.altitudeMode:"none"}v(Xn,Vn);var Yn=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Zn=/^H.([A-Z]{3}).*?:(.*)/,$n=/^HFDTE(\d{2})(\d{2})(\d{2})/,ao=/\r\n|\r|\n/;k=Xn.prototype;
k.ae=function(a,b){var c=this.b,d=a.split(ao);a={};var e=[],f=2E3,g=0,h=1,l=-1,m;var n=0;for(m=d.length;n<m;++n){var p=d[n],q;if("B"==p.charAt(0)){if(q=Yn.exec(p)){var p=parseInt(q[1],10),r=parseInt(q[2],10),u=parseInt(q[3],10),x=parseInt(q[4],10)+parseInt(q[5],10)/6E4;"S"==q[6]&&(x=-x);var B=parseInt(q[7],10)+parseInt(q[8],10)/6E4;"W"==q[9]&&(B=-B);e.push(B,x);"none"!=c&&e.push("gps"==c?parseInt(q[11],10):"barometric"==c?parseInt(q[12],10):0);q=Date.UTC(f,g,h,p,r,u);q<l&&(q=Date.UTC(f,g,h+1,p,r,
u));e.push(q/1E3);l=q}}else"H"==p.charAt(0)&&((q=$n.exec(p))?(h=parseInt(q[1],10),g=parseInt(q[2],10)-1,f=2E3+parseInt(q[3],10)):(q=Zn.exec(p))&&(a[q[1]]=q[2].trim()))}if(!e.length)return null;d=new O(null);d.ba("none"==c?"XYM":"XYZM",e);b=new H(Hl(d,!1,b));b.H(a);return b};k.zg=function(a,b){return(a=this.ae(a,b))?[a]:[]};k.ge=function(){};k.Wg=function(){};k.Cd=function(){};k.wd=function(){};function bo(a,b,c,d,e,f){Qc.call(this);this.j=null;this.M=a?a:new Image;null!==d&&(this.M.crossOrigin=d);this.c=f?document.createElement("CANVAS"):null;this.g=f;this.f=null;this.i=e;this.a=c;this.o=b;this.l=!1;2==this.i&&co(this)}v(bo,Qc);function co(a){var b=jd(1,1);try{b.drawImage(a.M,0,0),b.getImageData(0,0,1,1)}catch(c){a.l=!0}}bo.prototype.v=function(){this.i=3;this.f.forEach(Ec);this.f=null;this.b("change")};
bo.prototype.u=function(){this.i=2;this.a&&(this.M.width=this.a[0],this.M.height=this.a[1]);this.a=[this.M.width,this.M.height];this.f.forEach(Ec);this.f=null;co(this);if(!this.l&&null!==this.g){this.c.width=this.M.width;this.c.height=this.M.height;var a=this.c.getContext("2d");a.drawImage(this.M,0,0);for(var b=a.getImageData(0,0,this.M.width,this.M.height),c=b.data,d=this.g[0]/255,e=this.g[1]/255,f=this.g[2]/255,g=0,h=c.length;g<h;g+=4)c[g]*=d,c[g+1]*=e,c[g+2]*=f;a.putImageData(b,0,0)}this.b("change")};
bo.prototype.Y=function(){return this.c?this.c:this.M};bo.prototype.load=function(){if(0==this.i){this.i=1;this.f=[Jc(this.M,"error",this.v,this),Jc(this.M,"load",this.u,this)];try{this.M.src=this.o}catch(a){this.v()}}};function eo(a){a=a||{};this.o=void 0!==a.anchor?a.anchor:[.5,.5];this.u=null;this.i=void 0!==a.anchorOrigin?a.anchorOrigin:"top-left";this.C=void 0!==a.anchorXUnits?a.anchorXUnits:"fraction";this.B=void 0!==a.anchorYUnits?a.anchorYUnits:"fraction";this.ra=void 0!==a.crossOrigin?a.crossOrigin:null;var b=void 0!==a.img?a.img:null,c=void 0!==a.imgSize?a.imgSize:null,d=a.src;xa(!(void 0!==d&&b),4);xa(!b||b&&c,5);void 0!==d&&d.length||!b||(d=b.src||w(b).toString());xa(void 0!==d&&0<d.length,6);var e=void 0!==
a.src?0:2;this.j=void 0!==a.color?ed(a.color):null;var f=this.ra,g=this.j,h=zh.get(d,f,g);h||(h=new bo(b,d,c,f,e,g),zh.set(d,f,g,h));this.b=h;this.oa=void 0!==a.offset?a.offset:[0,0];this.c=void 0!==a.offsetOrigin?a.offsetOrigin:"top-left";this.S=null;this.D=void 0!==a.size?a.size:null;Xk.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0,rotateWithView:void 0!==a.rotateWithView?
a.rotateWithView:!1})}v(eo,Xk);k=eo.prototype;
k.clone=function(){var a=this.Y(1);if(2===this.b.i)if("IMG"===a.tagName.toUpperCase())var b=a.cloneNode(!0);else{b=document.createElement("canvas");var c=b.getContext("2d");b.width=a.width;b.height=a.height;c.drawImage(a,0,0)}return new eo({anchor:this.o.slice(),anchorOrigin:this.i,anchorXUnits:this.C,anchorYUnits:this.B,crossOrigin:this.ra,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,img:b?b:void 0,imgSize:b?this.b.a.slice():void 0,src:b?void 0:this.b.o,offset:this.oa.slice(),offsetOrigin:this.c,
size:null!==this.D?this.D.slice():void 0,opacity:this.f,scale:this.a,snapToPixel:this.v,rotation:this.g,rotateWithView:this.l})};
k.Hc=function(){if(this.u)return this.u;var a=this.o,b=this.ic();if("fraction"==this.C||"fraction"==this.B){if(!b)return null;a=this.o.slice();"fraction"==this.C&&(a[0]*=b[0]);"fraction"==this.B&&(a[1]*=b[1])}if("top-left"!=this.i){if(!b)return null;a===this.o&&(a=this.o.slice());if("top-right"==this.i||"bottom-right"==this.i)a[0]=-a[0]+b[0];if("bottom-left"==this.i||"bottom-right"==this.i)a[1]=-a[1]+b[1]}return this.u=a};k.Lo=function(){return this.j};k.Y=function(a){return this.b.Y(a)};k.ye=function(){return this.b.a};
k.Ye=function(){return this.b.i};k.qg=function(){var a=this.b;if(!a.j)if(a.l){var b=a.a[0],c=a.a[1],d=jd(b,c);d.fillRect(0,0,b,c);a.j=d.canvas}else a.j=a.M;return a.j};k.Oc=function(){if(this.S)return this.S;var a=this.oa;if("top-left"!=this.c){var b=this.ic(),c=this.b.a;if(!b||!c)return null;a=a.slice();if("top-right"==this.c||"bottom-right"==this.c)a[0]=c[0]-b[0]-a[0];if("bottom-left"==this.c||"bottom-right"==this.c)a[1]=c[1]-b[1]-a[1]}return this.S=a};k.Mo=function(){return this.b.o};
k.ic=function(){return this.D?this.D:this.b.a};k.Nh=function(a,b){return y(this.b,"change",a,b)};k.load=function(){this.b.load()};k.Bj=function(a,b){Kc(this.b,"change",a,b)};function fo(a){a=a||{};this.a=a.font;this.f=a.rotation;this.o=a.rotateWithView;this.b=a.scale;this.Ia=a.text;this.g=a.textAlign;this.j=a.textBaseline;this.Va=void 0!==a.fill?a.fill:new al({color:"#333"});this.Ya=void 0!==a.stroke?a.stroke:null;this.i=void 0!==a.offsetX?a.offsetX:0;this.c=void 0!==a.offsetY?a.offsetY:0}k=fo.prototype;
k.clone=function(){return new fo({font:this.a,rotation:this.f,rotateWithView:this.o,scale:this.b,text:this.Na(),textAlign:this.g,textBaseline:this.j,fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,offsetX:this.i,offsetY:this.c})};k.Nk=function(){return this.a};k.cl=function(){return this.i};k.dl=function(){return this.c};k.Fa=function(){return this.Va};k.Ro=function(){return this.o};k.So=function(){return this.f};k.To=function(){return this.b};k.Ga=function(){return this.Ya};
k.Na=function(){return this.Ia};k.nl=function(){return this.g};k.ol=function(){return this.j};k.nj=function(a){this.a=a};k.sj=function(a){this.i=a};k.tj=function(a){this.c=a};k.pf=function(a){this.Va=a};k.Uo=function(a){this.f=a};k.Si=function(a){this.b=a};k.qf=function(a){this.Ya=a};k.xd=function(a){this.Ia=a};k.vj=function(a){this.g=a};k.hq=function(a){this.j=a};function go(a){a=a?a:{};Cm.call(this);ho||(io=[255,255,255,1],jo=new al({color:io}),ko=[20,2],lo=mo="pixels",no=[64,64],oo="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",po=.5,qo=new eo({anchor:ko,anchorOrigin:"bottom-left",anchorXUnits:mo,anchorYUnits:lo,crossOrigin:"anonymous",rotation:0,scale:po,size:no,src:oo}),ro="NO_IMAGE",so=new wj({color:io,width:1}),to=new wj({color:[51,51,51,1],width:2}),uo=new fo({font:"bold 16px Helvetica",fill:jo,stroke:to,scale:.8}),vo=new bl({fill:jo,
image:qo,text:uo,stroke:so,zIndex:0}),ho=[vo]);this.defaultDataProjection=Tb("EPSG:4326");this.a=a.defaultStyle?a.defaultStyle:ho;this.c=void 0!==a.extractStyles?a.extractStyles:!0;this.j=void 0!==a.writeStyles?a.writeStyles:!0;this.b={};this.g=void 0!==a.showPointNames?a.showPointNames:!0}var ho,io,jo,ko,mo,lo,no,oo,po,qo,ro,so,to,uo,vo;v(go,Cm);
var wo=["http://www.google.com/kml/ext/2.2"],xo=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],yo={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"};
function zo(a,b){var c=[0,0],d="start";if(a.Y()){var e=a.Y().ye();null===e&&(e=no);2==e.length&&(d=a.Y().a,c[0]=d*e[0]/2,c[1]=-d*e[1]/2,d="left")}null!==a.Na()?(e=a.Na(),a=e.clone(),a.nj(e.a||uo.a),a.Si(e.b||uo.b),a.pf(e.Fa()||uo.Fa()),a.qf(e.Ga()||to)):a=uo.clone();a.xd(b);a.sj(c[0]);a.tj(c[1]);a.vj(d);return new bl({text:a})}
function Ao(a,b,c,d,e){return function(){var f=e,g="";f&&this.V()&&(f="Point"===this.V().U());f&&(g=this.get("name"),f=f&&g);if(a)return f?(f=zo(a[0],g),a.concat(f)):a;if(b){var h=Bo(b,c,d);return f?(f=zo(h[0],g),h.concat(f)):h}return f?(f=zo(c[0],g),c.concat(f)):c}}function Bo(a,b,c){return Array.isArray(a)?a:"string"===typeof a?(!(a in c)&&"#"+a in c&&(a="#"+a),Bo(c[a],b,c)):b}
function Co(a){a=kl(a,!1);if(a=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(a))return a=a[1],[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]}function Do(a){a=kl(a,!1);for(var b=[],c=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i,d;d=c.exec(a);)b.push(parseFloat(d[1]),parseFloat(d[2]),d[3]?parseFloat(d[3]):0),a=a.substr(d[0].length);if(""===a)return b}
function Eo(a){var b=kl(a,!1).trim();return a.baseURI&&"about:blank"!==a.baseURI?(new URL(b,a.baseURI)).href:b}function Fo(a){return Km(a)}function Go(a,b){return N(null,Ho,a,b)}function Io(a,b){if(b=N({A:[],Ej:[]},Jo,a,b)){a=b.A;b=b.Ej;var c;var d=0;for(c=Math.min(a.length,b.length);d<c;++d)a[4*d+3]=b[d];b=new O(null);b.ba("XYZM",a);return b}}function Ko(a,b){var c=N({},Lo,a,b);if(a=N(null,Mo,a,b))return b=new O(null),b.ba("XYZ",a),b.H(c),b}
function No(a,b){var c=N({},Lo,a,b);if(a=N(null,Mo,a,b))return b=new D(null),b.ba("XYZ",a,[a.length]),b.H(c),b}
function Oo(a,b){a=N([],Po,a,b);if(!a)return null;if(!a.length)return new tm(a);var c=!0,d=a[0].U(),e;var f=1;for(e=a.length;f<e;++f)if(b=a[f],b.U()!=d){c=!1;break}if(c)if("Point"==d){var g=a[0];c=g.ja;d=g.ga();f=1;for(e=a.length;f<e;++f)b=a[f],la(d,b.ga());g=new Q(null);g.ba(c,d);Qo(g,a)}else"LineString"==d?(g=new P(null),Nl(g,a),Qo(g,a)):"Polygon"==d?(g=new R(null),Pl(g,a),Qo(g,a)):"GeometryCollection"==d?g=new tm(a):xa(!1,37);else g=new tm(a);return g}
function Ro(a,b){var c=N({},Lo,a,b);if(a=N(null,Mo,a,b))return b=new C(null),b.ba("XYZ",a),b.H(c),b}function So(a,b){var c=N({},Lo,a,b);if((a=N([null],To,a,b))&&a[0]){b=new D(null);var d=a[0],e=[d.length],f;var g=1;for(f=a.length;g<f;++g)la(d,a[g]),e.push(d.length);b.ba("XYZ",d,e);b.H(c);return b}}
function Uo(a,b){b=N({},Vo,a,b);if(!b)return null;a="fillStyle"in b?b.fillStyle:jo;var c=b.fill;void 0===c||c||(a=null);c="imageStyle"in b?b.imageStyle:qo;c==ro&&(c=void 0);var d="textStyle"in b?b.textStyle:uo,e="strokeStyle"in b?b.strokeStyle:so;b=b.outline;void 0===b||b||(e=null);return[new bl({fill:a,image:c,stroke:e,text:d,zIndex:void 0})]}
function Qo(a,b){var c=b.length,d=Array(b.length),e=Array(b.length),f,g;var h=g=!1;for(f=0;f<c;++f){var l=b[f];d[f]=l.get("extrude");e[f]=l.get("altitudeMode");h=h||void 0!==d[f];g=g||e[f]}h&&a.set("extrude",d);g&&a.set("altitudeMode",e)}function Wo(a,b){Al(Xo,a,b)}function Yo(a,b){Al(Zo,a,b)}
var $o=K(xo,{displayName:I(S),value:I(S)}),Xo=K(xo,{Data:function(a,b){var c=a.getAttribute("name");Al($o,a,b);a=b[b.length-1];null!==c?a[c]=a.value:null!==a.displayName&&(a[a.displayName]=a.value)},SchemaData:function(a,b){Al(ap,a,b)}}),Zo=K(xo,{LatLonAltBox:function(a,b){if(a=N({},bp,a,b))b=b[b.length-1],b.extent=[parseFloat(a.west),parseFloat(a.south),parseFloat(a.east),parseFloat(a.north)],b.altitudeMode=a.altitudeMode,b.minAltitude=parseFloat(a.minAltitude),b.maxAltitude=parseFloat(a.maxAltitude)},
Lod:function(a,b){if(a=N({},cp,a,b))b=b[b.length-1],b.minLodPixels=parseFloat(a.minLodPixels),b.maxLodPixels=parseFloat(a.maxLodPixels),b.minFadeExtent=parseFloat(a.minFadeExtent),b.maxFadeExtent=parseFloat(a.maxFadeExtent)}}),bp=K(xo,{altitudeMode:I(S),minAltitude:I(Km),maxAltitude:I(Km),north:I(Km),south:I(Km),east:I(Km),west:I(Km)}),cp=K(xo,{minLodPixels:I(Km),maxLodPixels:I(Km),minFadeExtent:I(Km),maxFadeExtent:I(Km)}),Lo=K(xo,{extrude:I(Hm),altitudeMode:I(S)}),Ho=K(xo,{coordinates:sl(Do)}),To=
K(xo,{innerBoundaryIs:function(a,b){(a=N(void 0,dp,a,b))&&b[b.length-1].push(a)},outerBoundaryIs:function(a,b){(a=N(void 0,ep,a,b))&&(b[b.length-1][0]=a)}}),Jo=K(xo,{when:function(a,b){b=b[b.length-1].Ej;a=kl(a,!1);a=Date.parse(a);b.push(isNaN(a)?0:a)}},K(wo,{coord:function(a,b){b=b[b.length-1].A;a=kl(a,!1);(a=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(a))?b.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]),
0):b.push(0,0,0,0)}})),Mo=K(xo,{coordinates:sl(Do)}),fp=K(xo,{href:I(Eo)},K(wo,{x:I(Km),y:I(Km),w:I(Km),h:I(Km)})),gp=K(xo,{Icon:I(function(a,b){return(a=N({},fp,a,b))?a:null}),heading:I(Km),hotSpot:I(function(a){var b=a.getAttribute("xunits"),c=a.getAttribute("yunits");var d="insetPixels"!==b?"insetPixels"!==c?"bottom-left":"top-left":"insetPixels"!==c?"bottom-right":"top-right";return{x:parseFloat(a.getAttribute("x")),Xg:yo[b],y:parseFloat(a.getAttribute("y")),Yg:yo[c],origin:d}}),scale:I(Fo)}),
dp=K(xo,{LinearRing:sl(Go)}),hp=K(xo,{color:I(Co),scale:I(Fo)}),ip=K(xo,{color:I(Co),width:I(Km)}),Po=K(xo,{LineString:rl(Ko),LinearRing:rl(No),MultiGeometry:rl(Oo),Point:rl(Ro),Polygon:rl(So)}),jp=K(wo,{Track:rl(Io)}),lp=K(xo,{ExtendedData:Wo,Region:Yo,Link:function(a,b){Al(kp,a,b)},address:I(S),description:I(S),name:I(S),open:I(Hm),phoneNumber:I(S),visibility:I(Hm)}),kp=K(xo,{href:I(Eo)}),ep=K(xo,{LinearRing:sl(Go)}),mp=K(xo,{Style:I(Uo),key:I(S),styleUrl:I(Eo)}),op=K(xo,{ExtendedData:Wo,Region:Yo,
MultiGeometry:I(Oo,"geometry"),LineString:I(Ko,"geometry"),LinearRing:I(No,"geometry"),Point:I(Ro,"geometry"),Polygon:I(So,"geometry"),Style:I(Uo),StyleMap:function(a,b){if(a=N(void 0,np,a,b))b=b[b.length-1],Array.isArray(a)?b.Style=a:"string"===typeof a?b.styleUrl=a:xa(!1,38)},address:I(S),description:I(S),name:I(S),open:I(Hm),phoneNumber:I(S),styleUrl:I(Eo),visibility:I(Hm)},K(wo,{MultiTrack:I(function(a,b){if(a=N([],jp,a,b))return b=new P(null),Nl(b,a),b},"geometry"),Track:I(Io,"geometry")})),
pp=K(xo,{color:I(Co),fill:I(Hm),outline:I(Hm)}),ap=K(xo,{SimpleData:function(a,b){var c=a.getAttribute("name");null!==c&&(a=S(a),b[b.length-1][c]=a)}}),Vo=K(xo,{IconStyle:function(a,b){if(a=N({},gp,a,b)){b=b[b.length-1];var c="Icon"in a?a.Icon:{},d=!("Icon"in a)||0<Object.keys(c).length,e,f=c.href;f?e=f:d&&(e=oo);var f="bottom-left",g=a.hotSpot;if(g){var h=[g.x,g.y];var l=g.Xg;var m=g.Yg;f=g.origin}else e===oo?(h=ko,l=mo,m=lo):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(e)&&(h=[.5,0],m=l="fraction");
var n,g=c.x,p=c.y;void 0!==g&&void 0!==p&&(n=[g,p]);var q,g=c.w,c=c.h;void 0!==g&&void 0!==c&&(q=[g,c]);var r,c=a.heading;void 0!==c&&(r=Ha(c));a=a.scale;d?(e==oo&&(q=no,void 0===a&&(a=po)),e=new eo({anchor:h,anchorOrigin:f,anchorXUnits:l,anchorYUnits:m,crossOrigin:"anonymous",offset:n,offsetOrigin:"bottom-left",rotation:r,scale:a,size:q,src:e}),b.imageStyle=e):b.imageStyle=ro}},LabelStyle:function(a,b){(a=N({},hp,a,b))&&(b[b.length-1].textStyle=new fo({fill:new al({color:"color"in a?a.color:io}),
scale:a.scale}))},LineStyle:function(a,b){(a=N({},ip,a,b))&&(b[b.length-1].strokeStyle=new wj({color:"color"in a?a.color:io,width:"width"in a?a.width:1}))},PolyStyle:function(a,b){if(a=N({},pp,a,b)){b=b[b.length-1];b.fillStyle=new al({color:"color"in a?a.color:io});var c=a.fill;void 0!==c&&(b.fill=c);a=a.outline;void 0!==a&&(b.outline=a)}}}),np=K(xo,{Pair:function(a,b){if(a=N({},mp,a,b)){var c=a.key;c&&"normal"==c&&((c=a.styleUrl)&&(b[b.length-1]=c),(a=a.Style)&&(b[b.length-1]=a))}}});k=go.prototype;
k.vg=function(a,b){var c=K(xo,{Document:ql(this.vg,this),Folder:ql(this.vg,this),Placemark:rl(this.Dg,this),Style:this.Jp.bind(this),StyleMap:this.Ip.bind(this)});if(a=N([],c,a,b,this))return a};k.Dg=function(a,b){var c=N({geometry:null},op,a,b);if(c){var d=new H;a=a.getAttribute("id");null!==a&&d.jc(a);b=b[0];(a=c.geometry)&&Hl(a,!1,b);d.Ra(a);delete c.geometry;this.c&&d.hg(Ao(c.Style,c.styleUrl,this.a,this.b,this.g));delete c.Style;d.H(c);return d}};
k.Jp=function(a,b){var c=a.getAttribute("id");null!==c&&(b=Uo(a,b))&&(a=a.baseURI&&"about:blank"!==a.baseURI?(new URL("#"+c,a.baseURI)).href:"#"+c,this.b[a]=b)};k.Ip=function(a,b){var c=a.getAttribute("id");null!==c&&(b=N(void 0,np,a,b))&&(a=a.baseURI&&"about:blank"!==a.baseURI?(new URL("#"+c,a.baseURI)).href:"#"+c,this.b[a]=b)};k.xg=function(a,b){return ja(xo,a.namespaceURI)?(a=this.Dg(a,[Fl(this,a,b)]))?a:null:null};
k.zc=function(a,b){if(!ja(xo,a.namespaceURI))return[];var c=a.localName;if("Document"==c||"Folder"==c)return(c=this.vg(a,[Fl(this,a,b)]))?c:[];if("Placemark"==c)return(b=this.Dg(a,[Fl(this,a,b)]))?[b]:[];if("kml"==c){c=[];for(a=a.firstElementChild;a;a=a.nextElementSibling){var d=this.zc(a,b);d&&la(c,d)}return c}return[]};k.Cp=function(a){if(ml(a))return qp(this,a);if(nl(a))return rp(this,a);if("string"===typeof a)return a=pl(a),qp(this,a)};
function qp(a,b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE){var c=rp(a,b);if(c)return c}}function rp(a,b){var c;for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ja(xo,c.namespaceURI)&&"name"==c.localName)return S(c);for(c=b.firstElementChild;c;c=c.nextElementSibling)if(b=c.localName,ja(xo,c.namespaceURI)&&("Document"==b||"Folder"==b||"Placemark"==b||"kml"==b)&&(b=rp(a,c)))return b}
k.Dp=function(a){var b=[];ml(a)?la(b,sp(this,a)):nl(a)?la(b,tp(this,a)):"string"===typeof a&&(a=pl(a),la(b,sp(this,a)));return b};function sp(a,b){var c=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&la(c,tp(a,b));return c}
function tp(a,b){var c,d=[];for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ja(xo,c.namespaceURI)&&"NetworkLink"==c.localName){var e=N({},lp,c,[]);d.push(e)}for(c=b.firstElementChild;c;c=c.nextElementSibling)b=c.localName,!ja(xo,c.namespaceURI)||"Document"!=b&&"Folder"!=b&&"kml"!=b||la(d,tp(a,c));return d}k.Gp=function(a){var b=[];ml(a)?la(b,up(this,a)):nl(a)?la(b,this.lf(a)):"string"===typeof a&&(a=pl(a),la(b,up(this,a)));return b};
function up(a,b){var c=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&la(c,a.lf(b));return c}k.lf=function(a){var b,c=[];for(b=a.firstElementChild;b;b=b.nextElementSibling)if(ja(xo,b.namespaceURI)&&"Region"==b.localName){var d=N({},Zo,b,[]);c.push(d)}for(b=a.firstElementChild;b;b=b.nextElementSibling)a=b.localName,!ja(xo,b.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||la(c,this.lf(b));return c};
function vp(a,b){b=ed(b);b=[255*(4==b.length?b[3]:1),b[2],b[1],b[0]];var c;for(c=0;4>c;++c){var d=parseInt(b[c],10).toString(16);b[c]=1==d.length?"0"+d:d}Pm(a,b.join(""))}function wp(a,b,c){a={node:a};var d=b.U();if("GeometryCollection"==d){var e=b.Vf();var f=xp}else"MultiPoint"==d?(e=b.Zd(),f=yp):"MultiLineString"==d?(e=b.gd(),f=zp):"MultiPolygon"==d?(e=b.Td(),f=Ap):xa(!1,39);Bl(a,Bp,f,e,c)}function Cp(a,b,c){Bl({node:a},Dp,Ep,[b],c)}
function Fp(a,b,c){var d={node:a};b.a&&a.setAttribute("id",b.a);a=b.N();var e={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};e[b.c]=1;var f=Object.keys(a||{}).sort().filter(function(a){return!e[a]});if(0<f.length){var g=zl(a,f);Bl(d,Gp,Hp,[{names:f,values:g}],c)}if(f=b.Lc())if(f=f.call(b,0))f=Array.isArray(f)?f[0]:f,this.j&&(a.Style=f),(f=f.Na())&&(a.name=f.Na());f=Ip[c[c.length-1].node.namespaceURI];a=zl(a,f);Bl(d,Gp,yl,a,c,f);a=c[0];(b=b.V())&&(b=Hl(b,!0,a));Bl(d,
Gp,xp,[b],c)}function Jp(a,b,c){var d=b.ga();a={node:a};a.layout=b.ja;a.stride=b.qa();Bl(a,Kp,Lp,[d],c)}function Mp(a,b,c){b=b.Sd();var d=b.shift();a={node:a};Bl(a,Np,Op,b,c);Bl(a,Np,Pp,[d],c)}function Qp(a,b){Qm(a,Math.round(1E6*b)/1E6)}
var Rp=K(xo,["Document","Placemark"]),Up=K(xo,{Document:J(function(a,b,c){Bl({node:a},Sp,Tp,b,c,void 0,this)}),Placemark:J(Fp)}),Sp=K(xo,{Placemark:J(Fp)}),Vp=K(xo,{Data:J(function(a,b,c){a.setAttribute("name",b.name);a={node:a};b=b.value;"object"==typeof b?(null!==b&&b.displayName&&Bl(a,Vp,yl,[b.displayName],c,["displayName"]),null!==b&&b.value&&Bl(a,Vp,yl,[b.value],c,["value"])):Bl(a,Vp,yl,[b],c,["value"])}),value:J(function(a,b){Pm(a,b)}),displayName:J(function(a,b){a.appendChild(il.createCDATASection(b))})}),
Wp={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Xp=K(xo,["href"],K(wo,["x","y","w","h"])),Yp=K(xo,{href:J(Pm)},K(wo,{x:J(Qm),y:J(Qm),w:J(Qm),h:J(Qm)})),Zp=K(xo,["scale","heading","Icon","hotSpot"]),aq=K(xo,{Icon:J(function(a,b,c){a={node:a};var d=Xp[c[c.length-1].node.namespaceURI],e=zl(b,d);Bl(a,Yp,yl,e,c,d);d=Xp[wo[0]];e=zl(b,d);Bl(a,Yp,
$p,e,c,d)}),heading:J(Qm),hotSpot:J(function(a,b){a.setAttribute("x",b.x);a.setAttribute("y",b.y);a.setAttribute("xunits",b.Xg);a.setAttribute("yunits",b.Yg)}),scale:J(Qp)}),bq=K(xo,["color","scale"]),cq=K(xo,{color:J(vp),scale:J(Qp)}),dq=K(xo,["color","width"]),eq=K(xo,{color:J(vp),width:J(Qm)}),Dp=K(xo,{LinearRing:J(Jp)}),Bp=K(xo,{LineString:J(Jp),Point:J(Jp),Polygon:J(Mp),GeometryCollection:J(wp)}),Ip=K(xo,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Gp=K(xo,
{ExtendedData:J(function(a,b,c){a={node:a};var d=b.names;b=b.values;for(var e=d.length,f=0;f<e;f++)Bl(a,Vp,fq,[{name:d[f],value:b[f]}],c)}),MultiGeometry:J(wp),LineString:J(Jp),LinearRing:J(Jp),Point:J(Jp),Polygon:J(Mp),Style:J(function(a,b,c){a={node:a};var d={},e=b.Fa(),f=b.Ga(),g=b.Y();b=b.Na();g instanceof eo&&(d.IconStyle=g);b&&(d.LabelStyle=b);f&&(d.LineStyle=f);e&&(d.PolyStyle=e);b=gq[c[c.length-1].node.namespaceURI];d=zl(d,b);Bl(a,hq,yl,d,c,b)}),address:J(Pm),description:J(Pm),name:J(Pm),
open:J(Om),phoneNumber:J(Pm),styleUrl:J(Pm),visibility:J(Om)}),Kp=K(xo,{coordinates:J(function(a,b,c){c=c[c.length-1];var d=c.layout;c=c.stride;var e;"XY"==d||"XYM"==d?e=2:"XYZ"==d||"XYZM"==d?e=3:xa(!1,34);var f,g=b.length,h="";if(0<g){h+=b[0];for(d=1;d<e;++d)h+=","+b[d];for(f=c;f<g;f+=c)for(h+=" "+b[f],d=1;d<e;++d)h+=","+b[f+d]}Pm(a,h)})}),Np=K(xo,{outerBoundaryIs:J(Cp),innerBoundaryIs:J(Cp)}),iq=K(xo,{color:J(vp)}),gq=K(xo,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),hq=K(xo,{IconStyle:J(function(a,
b,c){a={node:a};var d={},e=b.ic(),f=b.ye(),g={href:b.b.o};if(e){g.w=e[0];g.h=e[1];var h=b.Hc(),l=b.Oc();l&&f&&l[0]&&l[1]!==e[1]&&(g.x=l[0],g.y=f[1]-(l[1]+e[1]));h&&h[0]&&h[1]!==e[1]&&(d.hotSpot={x:h[0],Xg:"pixels",y:e[1]-h[1],Yg:"pixels"})}d.Icon=g;e=b.a;1!==e&&(d.scale=e);(b=b.g)&&(d.heading=b);b=Zp[c[c.length-1].node.namespaceURI];d=zl(d,b);Bl(a,aq,yl,d,c,b)}),LabelStyle:J(function(a,b,c){a={node:a};var d={},e=b.Fa();e&&(d.color=e.b);(b=b.b)&&1!==b&&(d.scale=b);b=bq[c[c.length-1].node.namespaceURI];
d=zl(d,b);Bl(a,cq,yl,d,c,b)}),LineStyle:J(function(a,b,c){a={node:a};var d=dq[c[c.length-1].node.namespaceURI];b=zl({color:b.a,width:b.c},d);Bl(a,eq,yl,b,c,d)}),PolyStyle:J(function(a,b,c){Bl({node:a},iq,jq,[b.b],c)})});function $p(a,b,c){return jl(wo[0],"gx:"+c)}function Tp(a,b){return jl(b[b.length-1].node.namespaceURI,"Placemark")}function xp(a,b){if(a)return jl(b[b.length-1].node.namespaceURI,Wp[a.U()])}
var jq=wl("color"),Lp=wl("coordinates"),fq=wl("Data"),Hp=wl("ExtendedData"),Op=wl("innerBoundaryIs"),yp=wl("Point"),zp=wl("LineString"),Ep=wl("LinearRing"),Ap=wl("Polygon"),Pp=wl("outerBoundaryIs");
go.prototype.Xb=function(a,b){b=Gl(this,b);var c=jl(xo[4],"kml");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",wo[0]);c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var d={node:c},e={};1<a.length?e.Document=a:1==a.length&&(e.Placemark=a[0]);a=Rp[c.namespaceURI];
e=zl(e,a);Bl(d,Up,yl,e,[b],a,this);return c};Fj.Dd=function(){};
(function(a){function b(a){this.lc=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0);this.type=this.ea=0;this.length=this.lc.length}function c(a,b,c){var e=c.lc;var f=e[c.ea++];var g=(f&112)>>4;if(128>f)return d(a,g,b);f=e[c.ea++];g|=(f&127)<<3;if(128>f)return d(a,g,b);f=e[c.ea++];g|=(f&127)<<10;if(128>f)return d(a,g,b);f=e[c.ea++];g|=(f&127)<<17;if(128>f)return d(a,g,b);f=e[c.ea++];g|=(f&127)<<24;if(128>f)return d(a,g,b);f=e[c.ea++];if(128>f)return d(a,g|(f&1)<<31,b);throw Error("Expected varint not more than 10 bytes");
}function d(a,b,c){return c?4294967296*b+(a>>>0):4294967296*(b>>>0)+(a>>>0)}var e={read:function(a,b,c,d,e){var f=8*e-d-1;var g=(1<<f)-1,h=g>>1,l=-7;e=c?e-1:0;var m=c?-1:1,x=a[b+e];e+=m;c=x&(1<<-l)-1;x>>=-l;for(l+=f;0<l;c=256*c+a[b+e],e+=m,l-=8);f=c&(1<<-l)-1;c>>=-l;for(l+=d;0<l;f=256*f+a[b+e],e+=m,l-=8);if(0===c)c=1-h;else{if(c===g)return f?NaN:Infinity*(x?-1:1);f+=Math.pow(2,d);c-=h}return(x?-1:1)*f*Math.pow(2,c-d)},write:function(a,b,c,d,e,n){var f,g=8*n-e-1,h=(1<<g)-1,l=h>>1,m=23===e?Math.pow(2,
-24)-Math.pow(2,-77):0;n=d?0:n-1;var B=d?1:-1,E=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);isNaN(b)||Infinity===b?(b=isNaN(b)?1:0,d=h):(d=Math.floor(Math.log(b)/Math.LN2),1>b*(f=Math.pow(2,-d))&&(d--,f*=2),b=1<=d+l?b+m/f:b+m*Math.pow(2,1-l),2<=b*f&&(d++,f/=2),d+l>=h?(b=0,d=h):1<=d+l?(b=(b*f-1)*Math.pow(2,e),d+=l):(b=b*Math.pow(2,l-1)*Math.pow(2,e),d=0));for(;8<=e;a[c+n]=b&255,n+=B,b/=256,e-=8);d=d<<e|b;for(g+=e;0<g;a[c+n]=d&255,n+=B,d/=256,g-=8);a[c+n-B]|=128*E}};b.c=0;b.i=1;b.b=2;b.a=5;b.prototype={Ag:function(a,
b,c){for(c=c||this.length;this.ea<c;){var d=this.Ka(),e=d>>3,f=this.ea;this.type=d&7;a(e,b,this);this.ea===f&&this.mq(d)}return b},yp:function(){var a=e.read(this.lc,this.ea,!0,23,4);this.ea+=4;return a},up:function(){var a=e.read(this.lc,this.ea,!0,52,8);this.ea+=8;return a},Ka:function(a){var b=this.lc;var d=b[this.ea++];var e=d&127;if(128>d)return e;d=b[this.ea++];e|=(d&127)<<7;if(128>d)return e;d=b[this.ea++];e|=(d&127)<<14;if(128>d)return e;d=b[this.ea++];e|=(d&127)<<21;if(128>d)return e;d=b[this.ea];
return c(e|(d&15)<<28,a,this)},Kp:function(){return this.Ka(!0)},ce:function(){var a=this.Ka();return 1===a%2?(a+1)/-2:a/2},sp:function(){return!!this.Ka()},Gg:function(){for(var a=this.Ka()+this.ea,b=this.lc,c="",d=this.ea;d<a;){var e=b[d],n=null,p=239<e?4:223<e?3:191<e?2:1;if(d+p>a)break;if(1===p)128>e&&(n=e);else if(2===p){var q=b[d+1];128===(q&192)&&(n=(e&31)<<6|q&63,127>=n&&(n=null))}else if(3===p){q=b[d+1];var r=b[d+2];128===(q&192)&&128===(r&192)&&(n=(e&15)<<12|(q&63)<<6|r&63,2047>=n||55296<=
n&&57343>=n)&&(n=null)}else if(4===p){q=b[d+1];r=b[d+2];var u=b[d+3];128===(q&192)&&128===(r&192)&&128===(u&192)&&(n=(e&15)<<18|(q&63)<<12|(r&63)<<6|u&63,65535>=n||1114112<=n)&&(n=null)}null===n?(n=65533,p=1):65535<n&&(n-=65536,c+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023);c+=String.fromCharCode(n);d+=p}this.ea=a;return c},mq:function(a){a&=7;if(a===b.c)for(;127<this.lc[this.ea++];);else if(a===b.b)this.ea=this.Ka()+this.ea;else if(a===b.a)this.ea+=4;else if(a===b.i)this.ea+=8;else throw Error("Unimplemented type: "+
a);}};a["default"]=b})(Fj.Dd=Fj.Dd||{});Fj.Dd=Fj.Dd.default;Fj.xf={};Fj.xf.Bf=function(){};
(function(a){function b(a,b){this.layers=a.Ag(l,{},b)}function c(a,b){this.x=a;this.y=b}function d(a,b,c,d,f){this.properties={};this.extent=c;this.type=0;this.Cc=a;this.Ef=-1;this.ne=d;this.pe=f;a.Ag(e,this,b)}function e(a,b,c){if(1==a)b.id=c.Ka();else if(2==a)for(a=c.Ka()+c.ea;c.ea<a;){var d=b.ne[c.Ka()],e=b.pe[c.Ka()];b.properties[d]=e}else 3==a?b.type=c.Ka():4==a&&(b.Ef=c.ea)}function f(a,b){this.version=1;this.name=null;this.extent=4096;this.length=0;this.Cc=a;this.ne=[];this.pe=[];this.me=[];
a.Ag(g,this,b);this.length=this.me.length}function g(a,b,c){15===a?b.version=c.Ka():1===a?b.name=c.Gg():5===a?b.extent=c.Ka():2===a?b.me.push(c.ea):3===a?b.ne.push(c.Gg()):4===a&&b.pe.push(h(c))}function h(a){for(var b=null,c=a.Ka()+a.ea;a.ea<c;)b=a.Ka()>>3,b=1===b?a.Gg():2===b?a.yp():3===b?a.up():4===b?a.Kp():5===b?a.Ka():6===b?a.ce():7===b?a.sp():null;return b}function l(a,b,c){3===a&&(a=new m(c,c.Ka()+c.ea),a.length&&(b[a.name]=a))}c.prototype={clone:function(){return new c(this.x,this.y)},add:function(a){return this.clone().Yj(a)},
rotate:function(a){return this.clone().hk(a)},round:function(){return this.clone().ik()},angle:function(){return Math.atan2(this.y,this.x)},Yj:function(a){this.x+=a.x;this.y+=a.y;return this},hk:function(a){var b=Math.cos(a);a=Math.sin(a);var c=a*this.x+b*this.y;this.x=b*this.x-a*this.y;this.y=c;return this},ik:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}};c.Kq=function(a){return a instanceof c?a:Array.isArray(a)?new c(a[0],a[1]):a};d.b=["Unknown","Point","LineString",
"Polygon"];d.prototype.Oh=function(){var a=this.Cc;a.ea=this.Ef;for(var b=a.Ka()+a.ea,d=1,e=0,f=0,g=0,h=[],l;a.ea<b;)if(e||(e=a.Ka(),d=e&7,e>>=3),e--,1===d||2===d)f+=a.ce(),g+=a.ce(),1===d&&(l&&h.push(l),l=[]),l.push(new c(f,g));else if(7===d)l&&l.push(l[0].clone());else throw Error("unknown command "+d);l&&h.push(l);return h};d.prototype.bbox=function(){var a=this.Cc;a.ea=this.Ef;for(var b=a.Ka()+a.ea,c=1,d=0,e=0,f=0,g=Infinity,h=-Infinity,l=Infinity,m=-Infinity;a.ea<b;)if(d||(d=a.Ka(),c=d&7,d>>=
3),d--,1===c||2===c)e+=a.ce(),f+=a.ce(),e<g&&(g=e),e>h&&(h=e),f<l&&(l=f),f>m&&(m=f);else if(7!==c)throw Error("unknown command "+c);return[g,l,h,m]};var m=f;f.prototype.feature=function(a){if(0>a||a>=this.me.length)throw Error("feature index out of bounds");this.Cc.ea=this.me[a];a=this.Cc.Ka()+this.Cc.ea;return new d(this.Cc,a,this.extent,this.ne,this.pe)};var n=m;a["default"]={Bf:b,Wj:d,Xj:n};a.Bf=b;a.Wj=d;a.Xj=n})(Fj.xf=Fj.xf||{});function kq(a,b,c,d,e){this.g=e;this.i=a;this.b=b;this.f=c;this.c=d}k=kq.prototype;k.get=function(a){return this.c[a]};k.Bb=function(){return this.f};k.G=function(){this.a||(this.a="Point"===this.i?Za(this.b):$a(this.b,0,this.b.length,2));return this.a};k.Wn=function(){return this.g};k.ec=function(){return this.b};k.ga=kq.prototype.ec;k.V=function(){return this};k.Xn=function(){return this.c};k.Vd=kq.prototype.V;k.qa=function(){return 2};k.Lc=ua;k.U=function(){return this.i};function lq(a){El.call(this);a=a?a:{};this.defaultDataProjection=new Bb({code:"",units:"tile-pixels"});this.b=a.featureClass?a.featureClass:kq;this.a=a.geometryName;this.i=a.layerName?a.layerName:"layer";this.c=a.layers?a.layers:null}v(lq,El);k=lq.prototype;k.U=function(){return"arraybuffer"};
k.Oa=function(a,b){var c=this.c;a=new Fj.Dd(a);a=new Fj.xf.Bf(a);var d=[],e=this.b,f;for(f in a.layers)if(!c||-1!=c.indexOf(f)){var g=a.layers[f];for(var h=0,l=g.length;h<l;++h){if(e===kq){var m=void 0;var n=g.feature(h),p=f,q=n.Oh(),r=[],u=[];mq(q,u,r);var x=n.type;1===x?m=1===q.length?"Point":"MultiPoint":2===x?m=1===q.length?"LineString":"MultiLineString":3===x&&(m="Polygon");q=n.properties;q[this.i]=p;m=new this.b(m,u,r,q,n.id)}else{x=g.feature(h);u=f;r=b;m=new this.b;n=x.id;p=x.properties;p[this.i]=
u;this.a&&m.Tc(this.a);u=void 0;q=x.type;if(0===q)u=null;else{var x=x.Oh(),B=[],E=[];mq(x,E,B);1===q?u=1===x.length?new C(null):new Q(null):2===q?1===x.length?u=new O(null):u=new P(null):3===q&&(u=new D(null));u.ba("XY",E,B)}r=Hl(u,!1,Gl(this,r));m.Ra(r);m.jc(n);m.H(p)}d.push(m)}}return d};k.kb=function(){return this.defaultDataProjection};k.mn=function(a){this.c=a};
function mq(a,b,c){for(var d=0,e=0,f=a.length;e<f;++e){var g=a[e],h;var l=0;for(h=g.length;l<h;++l){var m=g[l];b.push(m.x,m.y)}d+=2*l;c.push(d)}}k.Tb=function(){};k.Sc=function(){};k.Bd=function(){};k.$c=function(){};k.Wb=function(){};function nq(){Cm.call(this);this.defaultDataProjection=Tb("EPSG:4326")}v(nq,Cm);function oq(a,b){b[b.length-1].fe[a.getAttribute("k")]=a.getAttribute("v")}
var pq=[null],qq=K(pq,{nd:function(a,b){b[b.length-1].md.push(a.getAttribute("ref"))},tag:oq}),sq=K(pq,{node:function(a,b){var c=b[0],d=b[b.length-1],e=a.getAttribute("id"),f=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];d.Sh[e]=f;a=N({fe:{}},rq,a,b);wb(a.fe)||(f=new C(f),Hl(f,!1,c),c=new H(f),c.jc(e),c.H(a.fe),d.features.push(c))},way:function(a,b){var c=b[0],d=a.getAttribute("id");a=N({md:[],fe:{}},qq,a,b);b=b[b.length-1];for(var e=[],f=0,g=a.md.length;f<g;f++)la(e,b.Sh[a.md[f]]);
a.md[0]==a.md[a.md.length-1]?(f=new D(null),f.ba("XY",e,[e.length])):(f=new O(null),f.ba("XY",e));Hl(f,!1,c);c=new H(f);c.jc(d);c.H(a.fe);b.features.push(c)}}),rq=K(pq,{tag:oq});nq.prototype.zc=function(a,b){b=Fl(this,a,b);return"osm"==a.localName&&(a=N({Sh:{},features:[]},sq,a,[b]),a.features)?a.features:[]};nq.prototype.Vg=function(){};nq.prototype.Xb=function(){};nq.prototype.ie=function(){};function tq(a){return a.getAttributeNS("http://www.w3.org/1999/xlink","href")};function uq(){}uq.prototype.read=function(a){return ml(a)?this.a(a):nl(a)?this.b(a):"string"===typeof a?(a=pl(a),this.a(a)):null};function vq(){}v(vq,uq);vq.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};vq.prototype.b=function(a){return(a=N({},wq,a,[]))?a:null};
var xq=[null,"http://www.opengis.net/ows/1.1"],wq=K(xq,{ServiceIdentification:I(function(a,b){return N({},yq,a,b)}),ServiceProvider:I(function(a,b){return N({},zq,a,b)}),OperationsMetadata:I(function(a,b){return N({},Aq,a,b)})}),Cq=K(xq,{DeliveryPoint:I(S),City:I(S),AdministrativeArea:I(S),PostalCode:I(S),Country:I(S),ElectronicMailAddress:I(S)}),Dq=K(xq,{Value:tl(function(a){return S(a)})}),Eq=K(xq,{AllowedValues:I(function(a,b){return N({},Dq,a,b)})}),Gq=K(xq,{Phone:I(function(a,b){return N({},
Fq,a,b)}),Address:I(function(a,b){return N({},Cq,a,b)})}),Iq=K(xq,{HTTP:I(function(a,b){return N({},Hq,a,b)})}),Hq=K(xq,{Get:tl(function(a,b){var c=tq(a);if(c)return N({href:c},Jq,a,b)}),Post:void 0}),Kq=K(xq,{DCP:I(function(a,b){return N({},Iq,a,b)})}),Aq=K(xq,{Operation:function(a,b){var c=a.getAttribute("name");(a=N({},Kq,a,b))&&(b[b.length-1][c]=a)}}),Fq=K(xq,{Voice:I(S),Facsimile:I(S)}),Jq=K(xq,{Constraint:tl(function(a,b){var c=a.getAttribute("name");if(c)return N({name:c},Eq,a,b)})}),Lq=K(xq,
{IndividualName:I(S),PositionName:I(S),ContactInfo:I(function(a,b){return N({},Gq,a,b)})}),yq=K(xq,{Title:I(S),ServiceTypeVersion:I(S),ServiceType:I(S)}),zq=K(xq,{ProviderName:I(S),ProviderSite:I(tq),ServiceContact:I(function(a,b){return N({},Lq,a,b)})});function Mq(a,b,c,d){var e;void 0!==d?e=d:e=[];for(var f=d=0;f<b;){var g=a[f++];e[d++]=a[f++];e[d++]=g;for(g=2;g<c;++g)e[d++]=a[f++]}e.length=d};function Nq(a){a=a?a:{};El.call(this);this.defaultDataProjection=Tb("EPSG:4326");this.b=a.factor?a.factor:1E5;this.a=a.geometryLayout?a.geometryLayout:"XY"}v(Nq,Vn);function Oq(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;var f;var g=0;for(f=a.length;g<f;)for(d=0;d<b;++d,++g){var h=a[g],l=h-e[d];e[d]=h;a[g]=l}return Pq(a,c?c:1E5)}function Qq(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;a=Rq(a,c?c:1E5);var f;c=0;for(f=a.length;c<f;)for(d=0;d<b;++d,++c)e[d]+=a[c],a[c]=e[d];return a}
function Pq(a,b){b=b?b:1E5;var c;var d=0;for(c=a.length;d<c;++d)a[d]=Math.round(a[d]*b);b=0;for(d=a.length;b<d;++b)c=a[b],a[b]=0>c?~(c<<1):c<<1;b="";d=0;for(c=a.length;d<c;++d){for(var e,f=a[d],g="";32<=f;)e=(32|f&31)+63,g+=String.fromCharCode(e),f>>=5;g+=String.fromCharCode(f+63);b+=g}return b}
function Rq(a,b){b=b?b:1E5;var c=[],d=0,e=0,f;var g=0;for(f=a.length;g<f;++g){var h=a.charCodeAt(g)-63,d=d|(h&31)<<e;32>h?(c.push(d),e=d=0):e+=5}a=0;for(d=c.length;a<d;++a)e=c[a],c[a]=e&1?~(e>>1):e>>1;a=0;for(d=c.length;a<d;++a)c[a]/=b;return c}k=Nq.prototype;k.ae=function(a,b){a=this.wd(a,b);return new H(a)};k.zg=function(a,b){return[this.ae(a,b)]};k.wd=function(a,b){var c=sf(this.a);a=Qq(a,c,this.b);Mq(a,a.length,c,a);c=Ff(a,0,a.length,c);return Hl(new O(c,this.a),!1,Gl(this,b))};
k.ge=function(a,b){if(a=a.V())return this.Cd(a,b);xa(!1,40);return""};k.Wg=function(a,b){return this.ge(a[0],b)};k.Cd=function(a,b){a=Hl(a,!0,Gl(this,b));b=a.ga();a=a.qa();Mq(b,b.length,a,b);return Oq(b,a,this.b)};function Sq(a){a=a?a:{};El.call(this);this.a=a.layerName;this.b=a.layers?a.layers:null;this.defaultDataProjection=Tb(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326")}v(Sq,Il);function Tq(a,b){var c=[],d,e;var f=0;for(e=a.length;f<e;++f){var g=a[f];0<f&&c.pop();0<=g?d=b[g]:d=b[~g].slice().reverse();c.push.apply(c,d)}a=0;for(b=c.length;a<b;++a)c[a]=c[a].slice();return c}
function Uq(a,b,c,d,e,f,g){a=a.geometries;var h=[],l;var m=0;for(l=a.length;m<l;++m)h[m]=Vq(a[m],b,c,d,e,f,g);return h}function Vq(a,b,c,d,e,f,g){var h=a.type,l=Wq[h];c="Point"===h||"MultiPoint"===h?l(a,c,d):l(a,b);b=new H;b.Ra(Hl(c,!1,g));void 0!==a.id&&b.jc(a.id);a=a.properties;e&&(a||(a={}),a[e]=f);a&&b.H(a);return b}
Sq.prototype.yg=function(a,b){if("Topology"==a.type){var c=null,d=null;if(a.transform){var e=a.transform;c=e.scale;d=e.translate}var f=a.arcs;if(e){e=c;var g=d,h;var l=0;for(h=f.length;l<h;++l){var m,n=f[l],p=e,q=g,r=0,u=0;var x=0;for(m=n.length;x<m;++x){var B=n[x];r+=B[0];u+=B[1];B[0]=r;B[1]=u;Xq(B,p,q)}}}e=[];a=a.objects;var g=this.a,E;for(E in a)this.b&&-1==this.b.indexOf(E)||("GeometryCollection"===a[E].type?(l=a[E],e.push.apply(e,Uq(l,f,c,d,g,E,b))):(l=a[E],e.push(Vq(l,f,c,d,g,E,b))));return e}return[]};
function Xq(a,b,c){a[0]=a[0]*b[0]+c[0];a[1]=a[1]*b[1]+c[1]}Sq.prototype.Fg=function(){return this.defaultDataProjection};
var Wq={Point:function(a,b,c){a=a.coordinates;b&&c&&Xq(a,b,c);return new C(a)},LineString:function(a,b){a=Tq(a.arcs,b);return new O(a)},Polygon:function(a,b){var c=[],d;var e=0;for(d=a.arcs.length;e<d;++e)c[e]=Tq(a.arcs[e],b);return new D(c)},MultiPoint:function(a,b,c){a=a.coordinates;var d;if(b&&c){var e=0;for(d=a.length;e<d;++e)Xq(a[e],b,c)}return new Q(a)},MultiLineString:function(a,b){var c=[],d;var e=0;for(d=a.arcs.length;e<d;++e)c[e]=Tq(a.arcs[e],b);return new P(c)},MultiPolygon:function(a,
b){var c=[],d,e;var f=0;for(e=a.arcs.length;f<e;++f){var g=a.arcs[f];var h=[];var l=0;for(d=g.length;l<d;++l)h[l]=Tq(g[l],b);c[f]=h}return new R(c)}};k=Sq.prototype;k.Zc=function(){};k.he=function(){};k.je=function(){};k.Cg=function(){};k.Rc=function(){};function Yq(a){a=a?a:{};this.c=a.featureType;this.a=a.featureNS;this.b=a.gmlFormat?a.gmlFormat:new Sm;this.o=a.schemaLocation?a.schemaLocation:Zq["1.1.0"];Cm.call(this)}v(Yq,Cm);var Zq={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};
Yq.prototype.zc=function(a,b){var c={featureType:this.c,featureNS:this.a};tb(c,Fl(this,a,b?b:{}));b=[c];this.b.b["http://www.opengis.net/gml"].featureMember=rl(Fm.prototype.be);(a=N([],this.b.b,a,b,this.b))||(a=[]);return a};Yq.prototype.j=function(a){if(ml(a))return $q(a);if(nl(a))return N({},ar,a,[]);if("string"===typeof a)return a=pl(a),$q(a)};Yq.prototype.g=function(a){if(ml(a))return br(this,a);if(nl(a))return cr(this,a);if("string"===typeof a)return a=pl(a),br(this,a)};
function br(a,b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE)return cr(a,b)}var dr={"http://www.opengis.net/gml":{boundedBy:I(Fm.prototype.gf,"bounds")}};function cr(a,b){var c={},d=Nm(b.getAttribute("numberOfFeatures"));c.numberOfFeatures=d;return N(c,dr,b,[],a.b)}
var er={"http://www.opengis.net/wfs":{totalInserted:I(Mm),totalUpdated:I(Mm),totalDeleted:I(Mm)}},fr={"http://www.opengis.net/ogc":{FeatureId:rl(function(a){return a.getAttribute("fid")})}},gr={"http://www.opengis.net/wfs":{Feature:function(a,b){Al(fr,a,b)}}},ar={"http://www.opengis.net/wfs":{TransactionSummary:I(function(a,b){return N({},er,a,b)},"transactionSummary"),InsertResults:I(function(a,b){return N([],gr,a,b)},"insertIds")}};
function $q(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return N({},ar,a,[])}var hr={"http://www.opengis.net/wfs":{PropertyName:J(Pm)}};function ir(a,b){var c=jl("http://www.opengis.net/ogc","Filter"),d=jl("http://www.opengis.net/ogc","FeatureId");c.appendChild(d);d.setAttribute("fid",b);a.appendChild(c)}function jr(a,b){a=(a?a:"feature")+":";return b.indexOf(a)?a+b:b}
var kr={"http://www.opengis.net/wfs":{Insert:J(function(a,b,c){var d=c[c.length-1],e=d.gmlVersion,d=jl(d.featureNS,d.featureType);a.appendChild(d);if(2===e){a=an.prototype;(e=b.a)&&d.setAttribute("fid",e);var e=c[c.length-1],f=e.featureNS,g=b.c;e.lb||(e.lb={},e.lb[f]={});var h=b.N();b=[];var l=[];for(n in h){var m=h[n];null!==m&&(b.push(n),l.push(m),n==g||m instanceof of?n in e.lb[f]||(e.lb[f][n]=J(a.ai,a)):n in e.lb[f]||(e.lb[f][n]=J(Pm)))}var n=tb({},e);n.node=d;Bl(n,e.lb,wl(void 0,f),l,c,b)}else Sm.prototype.ii(d,
b,c)}),Update:J(function(a,b,c){var d=c[c.length-1];xa(void 0!==b.a,27);var e=d.featurePrefix,f=d.featureNS;a.setAttribute("typeName",jr(e,d.featureType));a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f);e=b.a;if(void 0!==e){for(var f=b.O(),g=[],h=0,l=f.length;h<l;h++){var m=b.get(f[h]);void 0!==m&&g.push({name:f[h],value:m})}Bl({gmlVersion:d.gmlVersion,node:a,hasZ:d.hasZ,srsName:d.srsName},kr,wl("Property"),g,c);ir(a,e)}}),Delete:J(function(a,b,c){c=c[c.length-1];xa(void 0!==b.a,26);
var d=c.featurePrefix,e=c.featureNS;a.setAttribute("typeName",jr(d,c.featureType));a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+d,e);b=b.a;void 0!==b&&ir(a,b)}),Property:J(function(a,b,c){var d=jl("http://www.opengis.net/wfs","Name"),e=c[c.length-1].gmlVersion;a.appendChild(d);Pm(d,b.name);void 0!==b.value&&null!==b.value&&(d=jl("http://www.opengis.net/wfs","Value"),a.appendChild(d),b.value instanceof of?2===e?an.prototype.ai(d,b.value,c):Sm.prototype.od(d,b.value,c):Pm(d,b.value))}),
Native:J(function(a,b){b.vq&&a.setAttribute("vendorId",b.vq);void 0!==b.Vp&&a.setAttribute("safeToIgnore",b.Vp);void 0!==b.value&&Pm(a,b.value)})}};function lr(a,b,c){var d={node:a};b.b.forEach(function(a){Bl(d,mr,wl(a.kc),[a],c)})}function nr(a,b){void 0!==b.a&&a.setAttribute("matchCase",b.a.toString());or(a,b.b);pr(a,""+b.i)}function qr(a,b,c){a=jl("http://www.opengis.net/ogc",a);Pm(a,c);b.appendChild(a)}function or(a,b){qr("PropertyName",a,b)}function pr(a,b){qr("Literal",a,b)}
function rr(a,b){var c=jl("http://www.opengis.net/gml","TimeInstant");a.appendChild(c);a=jl("http://www.opengis.net/gml","timePosition");c.appendChild(a);Pm(a,b)}
var mr={"http://www.opengis.net/wfs":{Query:J(function(a,b,c){var d=c[c.length-1],e=d.featurePrefix,f=d.featureNS,g=d.propertyNames,h=d.srsName;a.setAttribute("typeName",e?jr(e,b):b);h&&a.setAttribute("srsName",h);f&&a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f);b=tb({},d);b.node=a;Bl(b,hr,wl("PropertyName"),g,c);if(d=d.filter)g=jl("http://www.opengis.net/ogc","Filter"),a.appendChild(g),Bl({node:g},mr,wl(d.kc),[d],c)})},"http://www.opengis.net/ogc":{During:J(function(a,b){var c=jl("http://www.opengis.net/fes",
"ValueReference");Pm(c,b.b);a.appendChild(c);c=jl("http://www.opengis.net/gml","TimePeriod");a.appendChild(c);a=jl("http://www.opengis.net/gml","begin");c.appendChild(a);rr(a,b.a);a=jl("http://www.opengis.net/gml","end");c.appendChild(a);rr(a,b.i)}),And:J(lr),Or:J(lr),Not:J(function(a,b,c){b=b.condition;Bl({node:a},mr,wl(b.kc),[b],c)}),BBOX:J(function(a,b,c){c[c.length-1].srsName=b.srsName;or(a,b.geometryName);Sm.prototype.od(a,b.extent,c)}),Intersects:J(function(a,b,c){c[c.length-1].srsName=b.srsName;
or(a,b.geometryName);Sm.prototype.od(a,b.geometry,c)}),Within:J(function(a,b,c){c[c.length-1].srsName=b.srsName;or(a,b.geometryName);Sm.prototype.od(a,b.geometry,c)}),PropertyIsEqualTo:J(nr),PropertyIsNotEqualTo:J(nr),PropertyIsLessThan:J(nr),PropertyIsLessThanOrEqualTo:J(nr),PropertyIsGreaterThan:J(nr),PropertyIsGreaterThanOrEqualTo:J(nr),PropertyIsNull:J(function(a,b){or(a,b.b)}),PropertyIsBetween:J(function(a,b){or(a,b.b);var c=jl("http://www.opengis.net/ogc","LowerBoundary");a.appendChild(c);
pr(c,""+b.a);c=jl("http://www.opengis.net/ogc","UpperBoundary");a.appendChild(c);pr(c,""+b.i)}),PropertyIsLike:J(function(a,b){a.setAttribute("wildCard",b.g);a.setAttribute("singleChar",b.f);a.setAttribute("escapeChar",b.i);void 0!==b.a&&a.setAttribute("matchCase",b.a.toString());or(a,b.b);pr(a,""+b.c)})}};
Yq.prototype.l=function(a){var b=jl("http://www.opengis.net/wfs","GetFeature");b.setAttribute("service","WFS");b.setAttribute("version","1.1.0");if(a){a.handle&&b.setAttribute("handle",a.handle);a.outputFormat&&b.setAttribute("outputFormat",a.outputFormat);void 0!==a.maxFeatures&&b.setAttribute("maxFeatures",a.maxFeatures);a.resultType&&b.setAttribute("resultType",a.resultType);void 0!==a.startIndex&&b.setAttribute("startIndex",a.startIndex);void 0!==a.count&&b.setAttribute("count",a.count);var c=
a.filter;if(a.bbox){xa(a.geometryName,12);var d=sm(a.geometryName,a.bbox,a.srsName);c?c=rm(c,d):c=d}}b.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.o);c={node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.a,featurePrefix:a.featurePrefix,geometryName:a.geometryName,filter:c,propertyNames:a.propertyNames?a.propertyNames:[]};xa(Array.isArray(a.featureTypes),11);a=a.featureTypes;c=[c];d=tb({},c[c.length-1]);d.node=b;Bl(d,mr,wl("Query"),a,c);return b};
Yq.prototype.v=function(a,b,c,d){var e=[],f=jl("http://www.opengis.net/wfs","Transaction"),g=d.version?d.version:"1.1.0",h="1.0.0"===g?2:3;f.setAttribute("service","WFS");f.setAttribute("version",g);if(d){var l=d.gmlOptions?d.gmlOptions:{};d.handle&&f.setAttribute("handle",d.handle)}f.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",Zq[g]);a&&(g={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,hasZ:d.hasZ,srsName:d.srsName},
tb(g,l),Bl(g,kr,wl("Insert"),a,e));b&&(g={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,hasZ:d.hasZ,srsName:d.srsName},tb(g,l),Bl(g,kr,wl("Update"),b,e));c&&Bl({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,srsName:d.srsName},kr,wl("Delete"),c,e);d.nativeElements&&Bl({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,srsName:d.srsName},kr,wl("Native"),
d.nativeElements,e);return f};Yq.prototype.Eg=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.kf(a);return null};Yq.prototype.kf=function(a){if(a.firstElementChild&&a.firstElementChild.firstElementChild)for(a=a.firstElementChild.firstElementChild,a=a.firstElementChild;a;a=a.nextElementSibling)if(0!==a.childNodes.length&&(1!==a.childNodes.length||3!==a.firstChild.nodeType)){var b=[{}];this.b.gf(a,b);return Tb(b.pop().srsName)}return null};function sr(a){a=a?a:{};El.call(this);this.b=void 0!==a.splitCollection?a.splitCollection:!1}v(sr,Vn);function tr(a){a=a.X();return a.length?a.join(" "):""}function ur(a){a=a.X();for(var b=[],c=0,d=a.length;c<d;++c)b.push(a[c].join(" "));return b.join(",")}function vr(a){var b=[];a=a.Sd();for(var c=0,d=a.length;c<d;++c)b.push("("+ur(a[c])+")");return b.join(",")}
function wr(a){var b=a.U(),c=(0,xr[b])(a),b=b.toUpperCase();if(a instanceof rf){a=a.ja;var d="";if("XYZ"===a||"XYZM"===a)d+="Z";if("XYM"===a||"XYZM"===a)d+="M";a=d;0<a.length&&(b+=" "+a)}return c.length?b+"("+c+")":b+" EMPTY"}
var xr={Point:tr,LineString:ur,Polygon:vr,MultiPoint:function(a){var b=[];a=a.Zd();for(var c=0,d=a.length;c<d;++c)b.push("("+tr(a[c])+")");return b.join(",")},MultiLineString:function(a){var b=[];a=a.gd();for(var c=0,d=a.length;c<d;++c)b.push("("+ur(a[c])+")");return b.join(",")},MultiPolygon:function(a){var b=[];a=a.Td();for(var c=0,d=a.length;c<d;++c)b.push("("+vr(a[c])+")");return b.join(",")},GeometryCollection:function(a){var b=[];a=a.Vf();for(var c=0,d=a.length;c<d;++c)b.push(wr(a[c]));return b.join(",")}};
k=sr.prototype;k.ae=function(a,b){return(a=this.wd(a,b))?(b=new H,b.Ra(a),b):null};k.zg=function(a,b){var c=[];a=this.wd(a,b);this.b&&"GeometryCollection"==a.U()?c=a.a:c=[a];b=[];for(var d=0,e=c.length;d<e;++d)a=new H,a.Ra(c[d]),b.push(a);return b};k.wd=function(a,b){a=new yr(new zr(a));Ar(a);return(a=Br(a))?Hl(a,!1,b):null};k.ge=function(a,b){return(a=a.V())?this.Cd(a,b):""};
k.Wg=function(a,b){if(1==a.length)return this.ge(a[0],b);for(var c=[],d=0,e=a.length;d<e;++d)c.push(a[d].V());a=new tm(c);return this.Cd(a,b)};k.Cd=function(a,b){return wr(Hl(a,!0,b))};function zr(a){this.a=a;this.b=-1}
function Cr(a){var b=a.a.charAt(++a.b),c={position:a.b,value:b};if("("==b)c.type=2;else if(","==b)c.type=5;else if(")"==b)c.type=3;else if("0"<=b&&"9">=b||"."==b||"-"==b){c.type=4;var b=a.b,d=!1,e=!1;do{if("."==f)d=!0;else if("e"==f||"E"==f)e=!0;var f=a.a.charAt(++a.b)}while("0"<=f&&"9">=f||"."==f&&(void 0===d||!d)||!e&&("e"==f||"E"==f)||e&&("-"==f||"+"==f));a=parseFloat(a.a.substring(b,a.b--));c.value=a}else if("a"<=b&&"z">=b||"A"<=b&&"Z">=b){c.type=1;b=a.b;do f=a.a.charAt(++a.b);while("a"<=f&&"z">=
f||"A"<=f&&"Z">=f);a=a.a.substring(b,a.b--).toUpperCase();c.value=a}else{if(" "==b||"\t"==b||"\r"==b||"\n"==b)return Cr(a);if(""===b)c.type=6;else throw Error("Unexpected character: "+b);}return c}function yr(a){this.i=a;this.a="XY"}function Ar(a){a.b=Cr(a.i)}function Dr(a,b){(b=a.b.type==b)&&Ar(a);return b}
function Br(a){var b=a.b;if(Dr(a,1)){var b=b.value,c="XY",d=a.b;1==a.b.type&&(d=d.value,"Z"===d?c="XYZ":"M"===d?c="XYM":"ZM"===d&&(c="XYZM"),"XY"!==c&&Ar(a));a.a=c;if("GEOMETRYCOLLECTION"==b){a:{if(Dr(a,2)){b=[];do b.push(Br(a));while(Dr(a,5));if(Dr(a,3)){a=b;break a}}else if(Er(a)){a=[];break a}throw Error(Fr(a));}return new tm(a)}d=Gr[b];c=Hr[b];if(!d||!c)throw Error("Invalid geometry type: "+b);b=d.call(a);return new c(b,a.a)}throw Error(Fr(a));}k=yr.prototype;
k.tg=function(){if(Dr(this,2)){var a=Ir(this);if(Dr(this,3))return a}else if(Er(this))return null;throw Error(Fr(this));};k.sg=function(){if(Dr(this,2)){var a=Jr(this);if(Dr(this,3))return a}else if(Er(this))return[];throw Error(Fr(this));};k.ug=function(){if(Dr(this,2)){var a=Kr(this);if(Dr(this,3))return a}else if(Er(this))return[];throw Error(Fr(this));};
k.fp=function(){if(Dr(this,2)){var a;if(2==this.b.type)for(a=[this.tg()];Dr(this,5);)a.push(this.tg());else a=Jr(this);if(Dr(this,3))return a}else if(Er(this))return[];throw Error(Fr(this));};k.ep=function(){if(Dr(this,2)){var a=Kr(this);if(Dr(this,3))return a}else if(Er(this))return[];throw Error(Fr(this));};k.gp=function(){if(Dr(this,2)){for(var a=[this.ug()];Dr(this,5);)a.push(this.ug());if(Dr(this,3))return a}else if(Er(this))return[];throw Error(Fr(this));};
function Ir(a){for(var b=[],c=a.a.length,d=0;d<c;++d){var e=a.b;if(Dr(a,4))b.push(e.value);else break}if(b.length==c)return b;throw Error(Fr(a));}function Jr(a){for(var b=[Ir(a)];Dr(a,5);)b.push(Ir(a));return b}function Kr(a){for(var b=[a.sg()];Dr(a,5);)b.push(a.sg());return b}function Er(a){var b=1==a.b.type&&"EMPTY"==a.b.value;b&&Ar(a);return b}function Fr(a){return"Unexpected `"+a.b.value+"` at position "+a.b.position+" in `"+a.i.a+"`"}
var Hr={POINT:C,LINESTRING:O,POLYGON:D,MULTIPOINT:Q,MULTILINESTRING:P,MULTIPOLYGON:R},Gr={POINT:yr.prototype.tg,LINESTRING:yr.prototype.sg,POLYGON:yr.prototype.ug,MULTIPOINT:yr.prototype.fp,MULTILINESTRING:yr.prototype.ep,MULTIPOLYGON:yr.prototype.gp};function Lr(){this.version=void 0}v(Lr,uq);Lr.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};Lr.prototype.b=function(a){this.version=a.getAttribute("version").trim();return(a=N({version:this.version},Mr,a,[]))?a:null};function Nr(a,b){return N({},Or,a,b)}function Pr(a,b){return N({},Qr,a,b)}function Rr(a,b){if(b=Nr(a,b))return a=[Nm(a.getAttribute("width")),Nm(a.getAttribute("height"))],b.size=a,b}
function Sr(a,b){return N([],Tr,a,b)}
var Ur=[null,"http://www.opengis.net/wms"],Mr=K(Ur,{Service:I(function(a,b){return N({},Vr,a,b)}),Capability:I(function(a,b){return N({},Wr,a,b)})}),Wr=K(Ur,{Request:I(function(a,b){return N({},Xr,a,b)}),Exception:I(function(a,b){return N([],Yr,a,b)}),Layer:I(function(a,b){return N({},Zr,a,b)})}),Vr=K(Ur,{Name:I(S),Title:I(S),Abstract:I(S),KeywordList:I(Sr),OnlineResource:I(tq),ContactInformation:I(function(a,b){return N({},$r,a,b)}),Fees:I(S),AccessConstraints:I(S),LayerLimit:I(Mm),MaxWidth:I(Mm),
MaxHeight:I(Mm)}),$r=K(Ur,{ContactPersonPrimary:I(function(a,b){return N({},as,a,b)}),ContactPosition:I(S),ContactAddress:I(function(a,b){return N({},bs,a,b)}),ContactVoiceTelephone:I(S),ContactFacsimileTelephone:I(S),ContactElectronicMailAddress:I(S)}),as=K(Ur,{ContactPerson:I(S),ContactOrganization:I(S)}),bs=K(Ur,{AddressType:I(S),Address:I(S),City:I(S),StateOrProvince:I(S),PostCode:I(S),Country:I(S)}),Yr=K(Ur,{Format:rl(S)}),Zr=K(Ur,{Name:I(S),Title:I(S),Abstract:I(S),KeywordList:I(Sr),CRS:tl(S),
EX_GeographicBoundingBox:I(function(a,b){var c=N({},cs,a,b);if(c){a=c.westBoundLongitude;b=c.southBoundLatitude;var d=c.eastBoundLongitude,c=c.northBoundLatitude;if(void 0!==a&&void 0!==b&&void 0!==d&&void 0!==c)return[a,b,d,c]}}),BoundingBox:tl(function(a){var b=[Lm(a.getAttribute("minx")),Lm(a.getAttribute("miny")),Lm(a.getAttribute("maxx")),Lm(a.getAttribute("maxy"))],c=[Lm(a.getAttribute("resx")),Lm(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:b,res:c}}),Dimension:tl(function(a){return{name:a.getAttribute("name"),
units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),"default":a.getAttribute("default"),multipleValues:Im(a.getAttribute("multipleValues")),nearestValue:Im(a.getAttribute("nearestValue")),current:Im(a.getAttribute("current")),values:S(a)}}),Attribution:I(function(a,b){return N({},ds,a,b)}),AuthorityURL:tl(function(a,b){if(b=Nr(a,b))return b.name=a.getAttribute("name"),b}),Identifier:tl(S),MetadataURL:tl(function(a,b){if(b=Nr(a,b))return b.type=a.getAttribute("type"),b}),DataURL:tl(Nr),
FeatureListURL:tl(Nr),Style:tl(function(a,b){return N({},es,a,b)}),MinScaleDenominator:I(Km),MaxScaleDenominator:I(Km),Layer:tl(function(a,b){var c=b[b.length-1],d=N({},Zr,a,b);if(d)return b=Im(a.getAttribute("queryable")),void 0===b&&(b=c.queryable),d.queryable=void 0!==b?b:!1,b=Nm(a.getAttribute("cascaded")),void 0===b&&(b=c.cascaded),d.cascaded=b,b=Im(a.getAttribute("opaque")),void 0===b&&(b=c.opaque),d.opaque=void 0!==b?b:!1,b=Im(a.getAttribute("noSubsets")),void 0===b&&(b=c.noSubsets),d.noSubsets=
void 0!==b?b:!1,(b=Lm(a.getAttribute("fixedWidth")))||(b=c.fixedWidth),d.fixedWidth=b,(a=Lm(a.getAttribute("fixedHeight")))||(a=c.fixedHeight),d.fixedHeight=a,["Style","CRS","AuthorityURL"].forEach(function(a){a in c&&(d[a]=(d[a]||[]).concat(c[a]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(a){a in d||(d[a]=c[a])}),d})}),ds=K(Ur,{Title:I(S),OnlineResource:I(tq),LogoURL:I(Rr)}),cs=K(Ur,{westBoundLongitude:I(Km),
eastBoundLongitude:I(Km),southBoundLatitude:I(Km),northBoundLatitude:I(Km)}),Xr=K(Ur,{GetCapabilities:I(Pr),GetMap:I(Pr),GetFeatureInfo:I(Pr)}),Qr=K(Ur,{Format:tl(S),DCPType:tl(function(a,b){return N({},fs,a,b)})}),fs=K(Ur,{HTTP:I(function(a,b){return N({},gs,a,b)})}),gs=K(Ur,{Get:I(Nr),Post:I(Nr)}),es=K(Ur,{Name:I(S),Title:I(S),Abstract:I(S),LegendURL:tl(Rr),StyleSheetURL:I(Nr),StyleURL:I(Nr)}),Or=K(Ur,{Format:I(S),OnlineResource:I(tq)}),Tr=K(Ur,{Keyword:rl(S)});function hs(a){a=a?a:{};this.a="http://mapserver.gis.umn.edu/mapserver";this.b=new an;this.c=a.layers?a.layers:null;Cm.call(this)}v(hs,Cm);
hs.prototype.zc=function(a,b){var c={};b&&tb(c,Fl(this,a,b));c=[c];a.setAttribute("namespaceURI",this.a);var d=a.localName;b=[];if(a.childNodes.length){if("msGMLOutput"==d)for(var e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];if(g.nodeType===Node.ELEMENT_NODE){var h=c[0],l=g.localName.replace("_layer","");if(!this.c||ja(this.c,l)){l+="_feature";h.featureType=l;h.featureNS=this.a;var m={};m[l]=rl(this.b.wg,this.b);h=K([h.featureNS,null],m);g.setAttribute("namespaceURI",this.a);(g=N([],h,
g,c,this.b))&&la(b,g)}}}"FeatureCollection"==d&&(a=N([],this.b.b,a,[{}],this.b))&&(b=a)}return b};hs.prototype.Vg=function(){};hs.prototype.Xb=function(){};hs.prototype.ie=function(){};function is(){this.i=new vq}v(is,uq);is.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};is.prototype.b=function(a){var b=a.getAttribute("version").trim(),c=this.i.b(a);if(!c)return null;c.version=b;return(c=N(c,js,a,[]))?c:null};function ks(a){var b=S(a).split(" ");if(b&&2==b.length&&(a=+b[0],b=+b[1],!isNaN(a)&&!isNaN(b)))return[a,b]}
var ls=[null,"http://www.opengis.net/wmts/1.0"],ms=[null,"http://www.opengis.net/ows/1.1"],js=K(ls,{Contents:I(function(a,b){return N({},ns,a,b)})}),ns=K(ls,{Layer:tl(function(a,b){return N({},os,a,b)}),TileMatrixSet:tl(function(a,b){return N({},ps,a,b)})}),os=K(ls,{Style:tl(function(a,b){if(b=N({},qs,a,b))return a="true"===a.getAttribute("isDefault"),b.isDefault=a,b}),Format:tl(S),TileMatrixSetLink:tl(function(a,b){return N({},rs,a,b)}),Dimension:tl(function(a,b){return N({},ss,a,b)}),ResourceURL:tl(function(a){var b=
a.getAttribute("format"),c=a.getAttribute("template");a=a.getAttribute("resourceType");var d={};b&&(d.format=b);c&&(d.template=c);a&&(d.resourceType=a);return d})},K(ms,{Title:I(S),Abstract:I(S),WGS84BoundingBox:I(function(a,b){a=N([],ts,a,b);if(2==a.length)return Na(a)}),Identifier:I(S)})),qs=K(ls,{LegendURL:tl(function(a){var b={};b.format=a.getAttribute("format");b.href=tq(a);return b})},K(ms,{Title:I(S),Identifier:I(S)})),rs=K(ls,{TileMatrixSet:I(S),TileMatrixSetLimits:I(function(a,b){return N([],
us,a,b)})}),us=K(ls,{TileMatrixLimits:rl(function(a,b){return N({},vs,a,b)})}),vs=K(ls,{TileMatrix:I(S),MinTileRow:I(Mm),MaxTileRow:I(Mm),MinTileCol:I(Mm),MaxTileCol:I(Mm)}),ss=K(ls,{Default:I(S),Value:tl(S)},K(ms,{Identifier:I(S)})),ts=K(ms,{LowerCorner:rl(ks),UpperCorner:rl(ks)}),ps=K(ls,{WellKnownScaleSet:I(S),TileMatrix:tl(function(a,b){return N({},ws,a,b)})},K(ms,{SupportedCRS:I(S),Identifier:I(S)})),ws=K(ls,{TopLeftCorner:I(ks),ScaleDenominator:I(Km),TileWidth:I(Mm),TileHeight:I(Mm),MatrixWidth:I(Mm),
MatrixHeight:I(Mm)},K(ms,{Identifier:I(S)}));function xs(a){Tc.call(this);a=a||{};this.a=null;this.f=fc;this.c=void 0;y(this,Vc("projection"),this.Am,this);y(this,Vc("tracking"),this.Bm,this);void 0!==a.projection&&this.Wh(a.projection);void 0!==a.trackingOptions&&this.wj(a.trackingOptions);this.Ke(void 0!==a.tracking?a.tracking:!1)}v(xs,Tc);k=xs.prototype;k.ka=function(){this.Ke(!1);Tc.prototype.ka.call(this)};k.Am=function(){var a=this.Uh();a&&(this.f=Vb(Tb("EPSG:4326"),a),this.a&&this.set("position",this.f(this.a)))};
k.Bm=function(){if(Wd){var a=this.Vh();a&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.np.bind(this),this.op.bind(this),this.Gh()):a||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}};
k.np=function(a){a=a.coords;this.set("accuracy",a.accuracy);this.set("altitude",null===a.altitude?void 0:a.altitude);this.set("altitudeAccuracy",null===a.altitudeAccuracy?void 0:a.altitudeAccuracy);this.set("heading",null===a.heading?void 0:Ha(a.heading));this.a?(this.a[0]=a.longitude,this.a[1]=a.latitude):this.a=[a.longitude,a.latitude];var b=this.f(this.a);this.set("position",b);this.set("speed",null===a.speed?void 0:a.speed);a=Xf(Jb,this.a,a.accuracy);a.Dc(this.f);this.set("accuracyGeometry",a);
this.s()};k.op=function(a){a.type="error";this.Ke(!1);this.b(a)};k.Dk=function(){return this.get("accuracy")};k.Ek=function(){return this.get("accuracyGeometry")||null};k.Gk=function(){return this.get("altitude")};k.Hk=function(){return this.get("altitudeAccuracy")};k.ym=function(){return this.get("heading")};k.zm=function(){return this.get("position")};k.Uh=function(){return this.get("projection")};k.ll=function(){return this.get("speed")};k.Vh=function(){return this.get("tracking")};k.Gh=function(){return this.get("trackingOptions")};
k.Wh=function(a){this.set("projection",Tb(a))};k.Ke=function(a){this.set("tracking",a)};k.wj=function(a){this.set("trackingOptions",a)};function ys(a,b,c){rf.call(this);this.Ng(a,b?b:0,c)}v(ys,rf);k=ys.prototype;k.clone=function(){var a=new ys(null);tf(a,this.ja,this.A.slice());a.s();return a};k.Kb=function(a,b,c,d){var e=this.A;a-=e[0];var f=b-e[1];b=a*a+f*f;if(b<d){if(b)for(d=this.pd()/Math.sqrt(b),c[0]=e[0]+d*a,c[1]=e[1]+d*f,d=2;d<this.a;++d)c[d]=e[d];else for(d=0;d<this.a;++d)c[d]=e[d];c.length=this.a;return b}return d};k.Mc=function(a,b){var c=this.A;a-=c[0];b-=c[1];return a*a+b*b<=zs(this)};
k.wa=function(){return this.A.slice(0,this.a)};k.se=function(a){var b=this.A,c=b[this.a]-b[0];return Xa(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)};k.pd=function(){return Math.sqrt(zs(this))};function zs(a){var b=a.A[a.a]-a.A[0];a=a.A[a.a+1]-a.A[1];return b*b+a*a}k.U=function(){return"Circle"};k.Xa=function(a){var b=this.G();return qb(a,b)?(b=this.wa(),a[0]<=b[0]&&a[2]>=b[0]||a[1]<=b[1]&&a[3]>=b[1]?!0:db(a,this.sb,this)):!1};
k.ob=function(a){var b=this.a,c=a.slice();c[b]=c[0]+(this.A[b]-this.A[0]);var d;for(d=1;d<b;++d)c[b+d]=a[d];tf(this,this.ja,c);this.s()};k.Ng=function(a,b,c){if(a){uf(this,c,a,0);this.A||(this.A=[]);c=this.A;a=Cf(c,a);c[a++]=c[0]+b;var d;b=1;for(d=this.a;b<d;++b)c[a++]=c[b];c.length=a}else tf(this,"XY",null);this.s()};k.X=function(){};k.ma=function(){};k.Uc=function(a){this.A[this.a]=this.A[0]+a;this.s()};function As(a,b,c){for(var d=[],e=a(0),f=a(1),g=b(e),h=b(f),l=[f,e],m=[h,g],n=[1,0],p={},q=1E5,r,u,x,B,E;0<--q&&0<n.length;)x=n.pop(),e=l.pop(),g=m.pop(),f=x.toString(),f in p||(d.push(g[0],g[1]),p[f]=!0),B=n.pop(),f=l.pop(),h=m.pop(),E=(x+B)/2,r=a(E),u=b(r),Fa(u[0],u[1],g[0],g[1],h[0],h[1])<c?(d.push(h[0],h[1]),f=B.toString(),p[f]=!0):(n.push(B,E,E,x),m.push(h,u,u,g),l.push(f,r,r,e));return d}function Bs(a,b,c,d,e){var f=Tb("EPSG:4326");return As(function(d){return[a,b+(c-b)*d]},ec(f,d),e)}
function Cs(a,b,c,d,e){var f=Tb("EPSG:4326");return As(function(d){return[b+(c-b)*d,a]},ec(f,d),e)};function Ds(a){a=a||{};this.j=this.v=null;this.f=this.o=Infinity;this.g=this.l=-Infinity;this.ra=this.oa=Infinity;this.R=this.I=-Infinity;this.Jb=void 0!==a.targetSize?a.targetSize:100;this.fb=void 0!==a.maxLines?a.maxLines:100;this.i=[];this.c=[];this.pa=void 0!==a.strokeStyle?a.strokeStyle:Es;this.D=this.u=void 0;this.a=this.b=this.S=null;1==a.showLabels&&(this.na=a.lonLabelFormatter?a.lonLabelFormatter:bf.bind(this,"EW"),this.Ua=a.latLabelFormatter?a.latLabelFormatter:bf.bind(this,"NS"),this.fa=
void 0==a.lonLabelPosition?0:a.lonLabelPosition,this.T=void 0==a.latLabelPosition?1:a.latLabelPosition,this.B=void 0!==a.lonLabelStyle?a.lonLabelStyle:new fo({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new al({color:"rgba(0,0,0,1)"}),stroke:new wj({color:"rgba(255,255,255,1)",width:3})}),this.C=void 0!==a.latLabelStyle?a.latLabelStyle:new fo({font:"12px Calibri,sans-serif",textAlign:"end",fill:new al({color:"rgba(0,0,0,1)"}),stroke:new wj({color:"rgba(255,255,255,1)",width:3})}),this.b=
[],this.a=[]);this.setMap(void 0!==a.map?a.map:null)}var Es=new wj({color:"rgba(0,0,0,0.2)"}),Fs=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function Gs(a,b,c,d,e,f,g){var h=g;c=Bs(b,c,d,a.j,e);h=void 0!==a.i[h]?a.i[h]:new O(null);h.ba("XY",c);qb(h.G(),f)&&(a.b&&(c=g,d=h.ga(),f=[d[0],Ca(f[1]+Math.abs(f[1]-f[3])*a.fa,Math.max(f[1],d[1]),Math.min(f[3],d[d.length-1]))],c=a.b[c]?a.b[c].Qd:new C(null),c.ma(f),a.b[g]={Qd:c,text:a.na(b)}),a.i[g++]=h);return g}
function Hs(a,b,c,d,e){var f=e;c=Cs(b,a.g,a.f,a.j,c);f=void 0!==a.c[f]?a.c[f]:new O(null);f.ba("XY",c);if(qb(f.G(),d)){if(a.a){c=e;var g=f.ga();d=[Ca(d[0]+Math.abs(d[0]-d[2])*a.T,Math.max(d[0],g[0]),Math.min(d[2],g[g.length-2])),g[1]];c=a.a[c]?a.a[c].Qd:new C(null);c.ma(d);a.a[e]={Qd:c,text:a.Ua(b)}}a.c[e++]=f}return e}k=Ds.prototype;k.Cm=function(){return this.v};k.al=function(){return this.i};k.hl=function(){return this.c};
k.Kh=function(a){var b=a.vectorContext,c=a.frameState,d=c.extent;a=c.viewState;var e=a.center,f=a.projection,g=a.resolution;a=c.pixelRatio;a=g*g/(4*a*a);if(!this.j||!dc(this.j,f)){var h=Tb("EPSG:4326"),l=f.G(),m=f.g,n=hc(m,h,f),p=m[2],q=m[1],r=m[0],u=n[3],x=n[2],B=n[1],n=n[0];this.o=m[3];this.f=p;this.l=q;this.g=r;this.oa=u;this.ra=x;this.I=B;this.R=n;this.u=ec(h,f);this.D=ec(f,h);this.S=this.D(nb(l));this.j=f}f.i&&(f=f.G(),h=lb(f),c=c.focus[0],c<f[0]||c>f[2])&&(c=h*Math.ceil((f[0]-c)/h),d=[d[0]+
c,d[1],d[2]+c,d[3]]);c=this.S[0];f=this.S[1];h=-1;m=Math.pow(this.Jb*g,2);p=[];q=[];g=0;for(l=Fs.length;g<l;++g){r=Fs[g]/2;p[0]=c-r;p[1]=f-r;q[0]=c+r;q[1]=f+r;this.u(p,p);this.u(q,q);r=Math.pow(q[0]-p[0],2)+Math.pow(q[1]-p[1],2);if(r<=m)break;h=Fs[g]}g=h;if(-1==g)this.i.length=this.c.length=0,this.b&&(this.b.length=0),this.a&&(this.a.length=0);else{c=this.D(e);e=c[0];c=c[1];f=this.fb;h=[Math.max(d[0],this.R),Math.max(d[1],this.I),Math.min(d[2],this.ra),Math.min(d[3],this.oa)];h=hc(h,this.j,"EPSG:4326");
m=h[3];q=h[1];e=Math.floor(e/g)*g;p=Ca(e,this.g,this.f);l=Gs(this,p,q,m,a,d,0);for(h=0;p!=this.g&&h++<f;)p=Math.max(p-g,this.g),l=Gs(this,p,q,m,a,d,l);p=Ca(e,this.g,this.f);for(h=0;p!=this.f&&h++<f;)p=Math.min(p+g,this.f),l=Gs(this,p,q,m,a,d,l);this.i.length=l;this.b&&(this.b.length=l);c=Math.floor(c/g)*g;e=Ca(c,this.l,this.o);l=Hs(this,e,a,d,0);for(h=0;e!=this.l&&h++<f;)e=Math.max(e-g,this.l),l=Hs(this,e,a,d,l);e=Ca(c,this.l,this.o);for(h=0;e!=this.o&&h++<f;)e=Math.min(e+g,this.o),l=Hs(this,e,a,
d,l);this.c.length=l;this.a&&(this.a.length=l)}b.Ma(null,this.pa);a=0;for(e=this.i.length;a<e;++a)g=this.i[a],b.zb(g);a=0;for(e=this.c.length;a<e;++a)g=this.c[a],b.zb(g);if(this.b)for(a=0,e=this.b.length;a<e;++a)g=this.b[a],this.B.xd(g.text),b.Cb(this.B),b.zb(g.Qd);if(this.a)for(a=0,e=this.a.length;a<e;++a)g=this.a[a],this.C.xd(g.text),b.Cb(this.C),b.zb(g.Qd)};
k.setMap=function(a){this.v&&(this.v.K("postcompose",this.Kh,this),this.v.render());a&&(a.J("postcompose",this.Kh,this),a.render());this.v=a};function Is(a,b,c,d,e){Qc.call(this);this.f=e;this.extent=a;this.a=c;this.resolution=b;this.state=d}v(Is,Qc);Is.prototype.s=function(){this.b("change")};Is.prototype.G=function(){return this.extent};Is.prototype.getState=function(){return this.state};function Js(a,b,c,d,e,f,g){Is.call(this,a,b,c,0,d);this.j=e;this.M=new Image;null!==f&&(this.M.crossOrigin=f);this.c={};this.i=null;this.state=0;this.g=g}v(Js,Is);k=Js.prototype;k.Y=function(a){if(void 0!==a){var b;a=w(a);if(a in this.c)return this.c[a];wb(this.c)?b=this.M:b=this.M.cloneNode(!1);return this.c[a]=b}return this.M};k.Fm=function(){this.state=3;this.i.forEach(Ec);this.i=null;this.s()};
k.Gm=function(){void 0===this.resolution&&(this.resolution=mb(this.extent)/this.M.height);this.state=2;this.i.forEach(Ec);this.i=null;this.s()};k.load=function(){if(0==this.state||3==this.state)this.state=1,this.s(),this.i=[Jc(this.M,"error",this.Fm,this),Jc(this.M,"load",this.Gm,this)],this.g(this,this.j)};k.Og=function(a){this.M=a};function Ks(a,b,c,d,e,f){this.c=f?f:null;Is.call(this,a,b,c,f?0:2,d);this.i=e}v(Ks,Is);Ks.prototype.g=function(a){this.state=a?3:2;this.s()};Ks.prototype.load=function(){0==this.state&&(this.state=1,this.s(),this.c(this.g.bind(this)))};Ks.prototype.Y=function(){return this.i};function Ls(a,b){Qc.call(this);this.ta=a;this.state=b;this.i=null;this.key=""}v(Ls,Qc);Ls.prototype.s=function(){this.b("change")};Ls.prototype.bb=function(){return this.key+"/"+this.ta};function Ms(a){if(!a.i)return a;var b=a.i;do{if(2==b.getState())return b;b=b.i}while(b);return a}Ls.prototype.f=function(){return this.ta};Ls.prototype.getState=function(){return this.state};function Ns(a,b){a.state=b;a.s()};function Os(a,b,c,d,e){Ls.call(this,a,b);this.g=c;this.M=new Image;null!==d&&(this.M.crossOrigin=d);this.c=null;this.j=e}v(Os,Ls);k=Os.prototype;k.ka=function(){1==this.state&&Ps(this);this.i&&Nc(this.i);this.state=5;this.s();Ls.prototype.ka.call(this)};k.Y=function(){return this.M};k.bb=function(){return this.g};k.Dm=function(){this.state=3;this.M=Qs;Ps(this);this.s()};k.Em=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4;Ps(this);this.s()};
k.load=function(){if(0==this.state||3==this.state)this.state=1,this.s(),this.c=[Jc(this.M,"error",this.Dm,this),Jc(this.M,"load",this.Em,this)],this.j(this,this.g)};function Ps(a){a.c.forEach(Ec);a.c=null}var Qs=new Image;Qs.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function Rs(a){a=a?a:{};ng.call(this,{handleEvent:mf});this.g=a.formatConstructors?a.formatConstructors:[];this.o=a.projection?Tb(a.projection):null;this.a=null;this.target=a.target?a.target:null}v(Rs,ng);function Ss(a){a=a.dataTransfer.files;var b;var c=0;for(b=a.length;c<b;++c){var d=a.item(c);var e=new FileReader;e.addEventListener("load",this.j.bind(this,d));e.readAsText(d)}}function Ts(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"}
Rs.prototype.j=function(a,b){b=b.target.result;var c=this.v,d=this.o;d||(d=c.Z().v);var c=this.g,e=[],f;var g=0;for(f=c.length;g<f;++g){var h=new c[g];var l={featureProjection:d};try{e=h.Oa(b,l)}catch(m){e=null}if(e&&0<e.length)break}this.b(new Us(Vs,a,e,d))};function Ws(a){var b=a.v;b&&(b=a.target?a.target:b.a,a.a=[y(b,"drop",Ss,a),y(b,"dragenter",Ts,a),y(b,"dragover",Ts,a),y(b,"drop",Ts,a)])}Rs.prototype.Ha=function(a){ng.prototype.Ha.call(this,a);a?Ws(this):Xs(this)};
Rs.prototype.setMap=function(a){Xs(this);ng.prototype.setMap.call(this,a);this.c()&&Ws(this)};function Xs(a){a.a&&(a.a.forEach(Ec),a.a=null)}var Vs="addfeatures";function Us(a,b,c,d){Oc.call(this,a);this.features=c;this.file=b;this.projection=d}v(Us,Oc);function Ys(a){a=a?a:{};Dg.call(this,{handleDownEvent:Zs,handleDragEvent:$s,handleUpEvent:at});this.l=a.condition?a.condition:yg;this.a=this.g=void 0;this.j=0;this.u=void 0!==a.duration?a.duration:400}v(Ys,Dg);
function $s(a){if(Bg(a)){var b=a.map,c=b.Ob(),d=a.pixel;a=d[0]-c[0]/2;d=c[1]/2-d[1];c=Math.atan2(d,a);a=Math.sqrt(a*a+d*d);b=b.Z();b.g.rotation!==Te&&void 0!==this.g&&(d=c-this.g,og(b,b.Qa()-d));this.g=c;void 0!==this.a&&(c=this.a*(b.Pa()/a),qg(b,c));void 0!==this.a&&(this.j=this.a/a);this.a=a}}
function at(a){if(!Bg(a))return!0;a=a.map.Z();cg(a,1,-1);var b=this.j-1,c=a.Qa(),c=a.constrainRotation(c,0);og(a,c,void 0,void 0);var c=a.Pa(),d=this.u,c=a.constrainResolution(c,0,b);qg(a,c,void 0,d);this.j=0;return!1}function Zs(a){return Bg(a)&&this.l(a)?(cg(a.map.Z(),1,1),this.a=this.g=void 0,!0):!1};function bt(a,b,c,d){this.fb=a;this.Ua=b;this.overlaps=d;this.c=0;this.resolution=c;this.ra=this.oa=null;this.a=[];this.coordinates=[];this.T=Bh();this.b=[];this.B=null;this.fa=Bh();this.na=Bh()}v(bt,Wh);
function ct(a,b,c,d,e,f,g){var h=a.coordinates.length,l=a.Sf();g&&(c+=e);g=[b[c],b[c+1]];var m=[NaN,NaN],n=!0,p;for(p=c+e;p<d;p+=e){m[0]=b[p];m[1]=b[p+1];var q=Wa(l,m);q!==r?(n&&(a.coordinates[h++]=g[0],a.coordinates[h++]=g[1]),a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],n=!1):1===q?(a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],n=!1):n=!0;g[0]=m[0];g[1]=m[1];var r=q}if(f&&n||p===c+e)a.coordinates[h++]=g[0],a.coordinates[h++]=g[1];return h}
function dt(a,b){a.oa=[0,b,0];a.a.push(a.oa);a.ra=[0,b,0];a.b.push(a.ra)}bt.prototype.Va=function(a,b){if(this.R){var c=Gh(this.T,this.R.slice());a.translate(c[0],c[1]);a.rotate(b)}a.fill();this.R&&a.setTransform.apply(a,this.na)};
function et(a,b,c,d,e,f,g,h,l){if(a.B&&pa(d,a.T))var m=a.B;else a.B||(a.B=[]),m=pf(a.coordinates,0,a.coordinates.length,2,d,a.B),Fh(a.T,d);d=!wb(f);for(var n=0,p=g.length,q=0,r,u=a.fa,x=a.na,B,E,A,L,oa=0,ha=0,ga=a.a!=g||a.overlaps?0:200;n<p;){var z=g[n];switch(z[0]){case 0:q=z[1];d&&f[w(q).toString()]||!q.V()?n=z[2]:void 0===l||qb(l,q.V().G())?++n:n=z[2]+1;break;case 1:oa>ga&&(a.Va(b,e),oa=0);ha>ga&&(b.stroke(),ha=0);oa||ha||(b.beginPath(),B=E=NaN);++n;break;case 2:q=z[1];r=m[q];z=m[q+1];A=m[q+2]-
r;q=m[q+3]-z;q=Math.sqrt(A*A+q*q);b.moveTo(r+q,z);b.arc(r,z,q,0,2*Math.PI,!0);++n;break;case 3:b.closePath();++n;break;case 4:q=z[1];r=z[2];var M=z[3];var ba=z[4]*c;var da=z[5]*c;var fb=z[6],ca=z[7],Ub=z[8],uc=z[9];var bc=z[10];A=z[11];L=z[12];var Je=z[13],zg=z[14];for(bc&&(A+=e);q<r;q+=2){z=m[q]-ba;bc=m[q+1]-da;Je&&(z=Math.round(z),bc=Math.round(bc));if(1!=L||A){var ff=z+ba,rh=bc+da;Kh(u,ff,rh,L,L,A,-ff,-rh);b.setTransform.apply(b,u)}ff=b.globalAlpha;1!=ca&&(b.globalAlpha=ff*ca);var rh=zg+Ub>M.width?
M.width-Ub:zg,Bq=fb+uc>M.height?M.height-uc:fb;b.drawImage(M,Ub,uc,rh,Bq,z,bc,rh*c,Bq*c);1!=ca&&(b.globalAlpha=ff);(1!=L||A)&&b.setTransform.apply(b,x)}++n;break;case 5:q=z[1];r=z[2];da=z[3];fb=z[4]*c;ca=z[5]*c;A=z[6];L=z[7]*c;M=z[8];ba=z[9];for((bc=z[10])&&(A+=e);q<r;q+=2){z=m[q]+fb;bc=m[q+1]+ca;if(1!=L||A)Kh(u,z,bc,L,L,A,-z,-bc),b.setTransform.apply(b,u);Ub=da.split("\n");uc=Ub.length;1<uc?(Je=Math.round(1.5*b.measureText("M").width),bc-=(uc-1)/2*Je):Je=0;for(zg=0;zg<uc;zg++)ff=Ub[zg],ba&&b.strokeText(ff,
z,bc),M&&b.fillText(ff,z,bc),bc+=Je;(1!=L||A)&&b.setTransform.apply(b,x)}++n;break;case 6:if(h&&(q=z[1],q=h(q)))return q;++n;break;case 7:ga?oa++:a.Va(b,e);++n;break;case 8:q=z[1];r=z[2];z=m[q];bc=m[q+1];A=z+.5|0;L=bc+.5|0;if(A!==B||L!==E)b.moveTo(z,bc),B=A,E=L;for(q+=2;q<r;q+=2)if(z=m[q],bc=m[q+1],A=z+.5|0,L=bc+.5|0,q==r-2||A!==B||L!==E)b.lineTo(z,bc),B=A,E=L;++n;break;case 9:a.R=z[2];oa&&(a.Va(b,e),oa=0,ha&&(b.stroke(),ha=0));b.fillStyle=z[1];++n;break;case 10:var q=void 0!==z[8]?z[8]:!0,ul=z[9];
r=z[2];ha&&(b.stroke(),ha=0);b.strokeStyle=z[1];b.lineWidth=q?r*c:r;b.lineCap=z[3];b.lineJoin=z[4];b.miterLimit=z[5];Td&&(r=z[6],A=z[7],q&&c!==ul&&(r=r.map(function(a){return a*c/ul}),A*=c/ul,z[6]=r,z[7]=A,z[9]=c),b.lineDashOffset=A,b.setLineDash(r));++n;break;case 11:b.font=z[1];b.textAlign=z[2];b.textBaseline=z[3];++n;break;case 12:ga?ha++:b.stroke();++n;break;default:++n}}oa&&a.Va(b,e);ha&&b.stroke()}bt.prototype.La=function(a,b,c,d,e){et(this,a,b,c,d,e,this.a,void 0,void 0)};
function ft(a){var b=a.b;b.reverse();var c,d=b.length,e=-1;for(c=0;c<d;++c){var f=b[c];var g=f[0];if(6==g)e=c;else if(0==g){f[2]=c;f=a.b;for(g=c;e<g;){var h=f[e];f[e]=f[g];f[g]=h;++e;--g}e=-1}}}function gt(a,b){a.oa[2]=a.a.length;a.oa=null;a.ra[2]=a.b.length;a.ra=null;b=[6,b];a.a.push(b);a.b.push(b)}bt.prototype.Te=ua;bt.prototype.Sf=function(){return this.Ua};function ht(a,b,c,d){bt.call(this,a,b,c,d);this.M=this.I=null;this.C=this.D=this.S=this.u=this.v=this.l=this.o=this.j=this.g=this.f=this.i=void 0}v(ht,bt);
ht.prototype.qc=function(a,b){if(this.M){dt(this,b);var c=a.ga(),d=this.coordinates.length;a=ct(this,c,0,c.length,a.qa(),!1,!1);this.a.push([4,d,a,this.M,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]);this.b.push([4,d,a,this.I,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]);gt(this,b)}};
ht.prototype.oc=function(a,b){if(this.M){dt(this,b);var c=a.ga(),d=this.coordinates.length;a=ct(this,c,0,c.length,a.qa(),!1,!1);this.a.push([4,d,a,this.M,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]);this.b.push([4,d,a,this.I,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]);gt(this,b)}};ht.prototype.Te=function(){ft(this);this.f=this.i=void 0;this.M=this.I=null;this.C=this.D=this.u=this.v=this.l=this.o=this.j=this.S=this.g=void 0};
ht.prototype.Ub=function(a){var b=a.Hc(),c=a.ic(),d=a.qg(1),e=a.Y(1),f=a.Oc();this.i=b[0];this.f=b[1];this.I=d;this.M=e;this.g=c[1];this.j=a.f;this.o=f[0];this.l=f[1];this.v=a.l;this.u=a.g;this.S=a.a;this.D=a.v;this.C=c[0]};function it(a,b,c,d){bt.call(this,a,b,c,d);this.f=null;this.i={Md:void 0,Gd:void 0,Hd:null,Id:void 0,Jd:void 0,Kd:void 0,Ld:void 0,eg:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}v(it,bt);function jt(a,b,c,d,e){var f=a.coordinates.length;b=ct(a,b,c,d,e,!1,!1);f=[8,f,b];a.a.push(f);a.b.push(f);return d}k=it.prototype;k.Sf=function(){this.f||(this.f=Ra(this.Ua),0<this.c&&Qa(this.f,this.resolution*(this.c+1)/2,this.f));return this.f};
function kt(a){var b=a.i,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,f=b.lineDashOffset,g=b.lineJoin,h=b.lineWidth,l=b.miterLimit;b.Md==c&&b.Gd==d&&pa(b.Hd,e)&&b.Id==f&&b.Jd==g&&b.Kd==h&&b.Ld==l||(b.eg!=a.coordinates.length&&(a.a.push([12]),b.eg=a.coordinates.length),a.a.push([10,c,h,d,g,l,e,f,!0,1],[1]),b.Md=c,b.Gd=d,b.Hd=e,b.Id=f,b.Jd=g,b.Kd=h,b.Ld=l)}
k.mc=function(a,b){var c=this.i,d=c.lineWidth;void 0!==c.strokeStyle&&void 0!==d&&(kt(this),dt(this,b),this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1],[1]),c=a.ga(),jt(this,c,0,c.length,a.qa()),this.b.push([12]),gt(this,b))};
k.nc=function(a,b){var c=this.i,d=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==d){kt(this);dt(this,b);this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1],[1]);c=a.Bb();d=a.ga();a=a.qa();var e=0,f;var g=0;for(f=c.length;g<f;++g)e=jt(this,d,e,c[g],a);this.b.push([12]);gt(this,b)}};k.Te=function(){this.i.eg!=this.coordinates.length&&this.a.push([12]);ft(this);this.i=null};
k.Ma=function(a,b){a=b.a;this.i.strokeStyle=id(a?a:Uh);a=b.f;this.i.lineCap=void 0!==a?a:"round";a=b.i;this.i.lineDash=a?a:Th;a=b.g;this.i.lineDashOffset=a?a:0;a=b.j;this.i.lineJoin=void 0!==a?a:"round";a=b.c;this.i.lineWidth=void 0!==a?a:1;b=b.o;this.i.miterLimit=void 0!==b?b:10;this.i.lineWidth>this.c&&(this.c=this.i.lineWidth,this.f=null)};function lt(a,b,c,d){bt.call(this,a,b,c,d);this.f=null;this.i={oh:void 0,Md:void 0,Gd:void 0,Hd:null,Id:void 0,Jd:void 0,Kd:void 0,Ld:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}v(lt,bt);
function mt(a,b,c,d,e){var f=a.i,g=void 0!==f.fillStyle,f=void 0!=f.strokeStyle,h=d.length,l=[1];a.a.push(l);a.b.push(l);for(l=0;l<h;++l){var m=d[l],n=a.coordinates.length;c=ct(a,b,c,m,e,!0,!f);c=[8,n,c];a.a.push(c);a.b.push(c);f&&(c=[3],a.a.push(c),a.b.push(c));c=m}b=[7];a.b.push(b);g&&a.a.push(b);f&&(g=[12],a.a.push(g),a.b.push(g));return c}k=lt.prototype;
k.Zb=function(a,b){var c=this.i,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){nt(this,a);dt(this,b);this.b.push([9,gd(Sh)]);void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);var e=a.ga(),d=this.coordinates.length;ct(this,e,0,e.length,a.qa(),!1,!1);a=[1];d=[2,d];this.a.push(a,d);this.b.push(a,d);a=[7];this.b.push(a);void 0!==c.fillStyle&&this.a.push(a);void 0!==c.strokeStyle&&(c=[12],this.a.push(c),this.b.push(c));
gt(this,b)}};k.rc=function(a,b){var c=this.i;nt(this,a);dt(this,b);this.b.push([9,gd(Sh)]);void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);var c=a.Bb(),d=a.ec();mt(this,d,0,c,a.qa());gt(this,b)};
k.pc=function(a,b){var c=this.i,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){nt(this,a);dt(this,b);this.b.push([9,gd(Sh)]);void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);c=a.c;d=fi(a);a=a.qa();var e=0,f;var g=0;for(f=c.length;g<f;++g)e=mt(this,d,e,c[g],a);gt(this,b)}};
k.Te=function(){ft(this);this.i=null;var a=this.fb;if(a){var b=this.coordinates,c;var d=0;for(c=b.length;d<c;++d)b[d]=a*Math.round(b[d]/a)}};k.Sf=function(){this.f||(this.f=Ra(this.Ua),0<this.c&&Qa(this.f,this.resolution*(this.c+1)/2,this.f));return this.f};
k.Ma=function(a,b){var c=this.i;a?(a=a.b,c.fillStyle=id(a?a:Sh)):c.fillStyle=void 0;b?(a=b.a,c.strokeStyle=id(a?a:Uh),a=b.f,c.lineCap=void 0!==a?a:"round",a=b.i,c.lineDash=a?a.slice():Th,a=b.g,c.lineDashOffset=a?a:0,a=b.j,c.lineJoin=void 0!==a?a:"round",a=b.c,c.lineWidth=void 0!==a?a:1,b=b.o,c.miterLimit=void 0!==b?b:10,c.lineWidth>this.c&&(this.c=c.lineWidth,this.f=null)):(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineDashOffset=void 0,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=
void 0)};function nt(a,b){var c=a.i,d=c.fillStyle,e=c.strokeStyle,f=c.lineCap,g=c.lineDash,h=c.lineDashOffset,l=c.lineJoin,m=c.lineWidth,n=c.miterLimit;if(void 0!==d&&("string"!==typeof d||c.oh!=d)){var p=[9,d];"string"!==typeof d&&(b=b.G(),p.push([b[0],b[3]]));a.a.push(p);c.oh=c.fillStyle}void 0===e||c.Md==e&&c.Gd==f&&pa(c.Hd,g)&&c.Id==h&&c.Jd==l&&c.Kd==m&&c.Ld==n||(a.a.push([10,e,m,f,l,n,g,h,!0,1]),c.Md=e,c.Gd=f,c.Hd=g,c.Id=h,c.Jd=l,c.Kd=m,c.Ld=n)};function ot(a,b,c,d){bt.call(this,a,b,c,d);this.C=this.D=this.S=null;this.Ia="";this.o=this.j=0;this.l=void 0;this.u=this.v=0;this.g=this.f=this.i=null}v(ot,bt);
ot.prototype.yc=function(a,b,c,d,e,f){if(""!==this.Ia&&this.g&&(this.i||this.f)){if(this.i){e=this.i;var g=this.S;if(!g||g.fillStyle!=e.fillStyle){var h=[9,e.fillStyle];this.a.push(h);this.b.push(h);g?g.fillStyle=e.fillStyle:this.S={fillStyle:e.fillStyle}}}this.f&&(e=this.f,g=this.D,g&&g.lineCap==e.lineCap&&g.lineDash==e.lineDash&&g.lineDashOffset==e.lineDashOffset&&g.lineJoin==e.lineJoin&&g.lineWidth==e.lineWidth&&g.miterLimit==e.miterLimit&&g.strokeStyle==e.strokeStyle||(h=[10,e.strokeStyle,e.lineWidth,
e.lineCap,e.lineJoin,e.miterLimit,e.lineDash,e.lineDashOffset,!1,1],this.a.push(h),this.b.push(h),g?(g.lineCap=e.lineCap,g.lineDash=e.lineDash,g.lineDashOffset=e.lineDashOffset,g.lineJoin=e.lineJoin,g.lineWidth=e.lineWidth,g.miterLimit=e.miterLimit,g.strokeStyle=e.strokeStyle):this.D={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle}));e=this.g;g=this.C;g&&g.font==e.font&&g.textAlign==
e.textAlign&&g.textBaseline==e.textBaseline||(h=[11,e.font,e.textAlign,e.textBaseline],this.a.push(h),this.b.push(h),g?(g.font=e.font,g.textAlign=e.textAlign,g.textBaseline=e.textBaseline):this.C={font:e.font,textAlign:e.textAlign,textBaseline:e.textBaseline});dt(this,f);e=this.coordinates.length;a=ct(this,a,b,c,d,!1,!1);a=[5,e,a,this.Ia,this.j,this.o,this.v,this.u,!!this.i,!!this.f,this.l];this.a.push(a);this.b.push(a);gt(this,f)}};
ot.prototype.Cb=function(a){if(a){var b=a.Fa();b?(b=b.b,b=id(b?b:Sh),this.i?this.i.fillStyle=b:this.i={fillStyle:b}):this.i=null;var c=a.Ga();if(c){var b=c.a,d=c.f,e=c.i,f=c.g,g=c.j,h=c.c,c=c.o,d=void 0!==d?d:"round",e=e?e.slice():Th,f=void 0!==f?f:0,g=void 0!==g?g:"round",h=void 0!==h?h:1,c=void 0!==c?c:10,b=id(b?b:Uh);if(this.f){var l=this.f;l.lineCap=d;l.lineDash=e;l.lineDashOffset=f;l.lineJoin=g;l.lineWidth=h;l.miterLimit=c;l.strokeStyle=b}else this.f={lineCap:d,lineDash:e,lineDashOffset:f,lineJoin:g,
lineWidth:h,miterLimit:c,strokeStyle:b}}else this.f=null;var m=a.a,b=a.i,d=a.c,e=a.o,h=a.f,c=a.b,f=a.Na(),g=a.g,l=a.j;a=void 0!==m?m:"10px sans-serif";g=void 0!==g?g:"center";l=void 0!==l?l:"middle";this.g?(m=this.g,m.font=a,m.textAlign=g,m.textBaseline=l):this.g={font:a,textAlign:g,textBaseline:l};this.Ia=void 0!==f?f:"";this.j=void 0!==b?b:0;this.o=void 0!==d?d:0;this.l=void 0!==e?e:!1;this.v=void 0!==h?h:0;this.u=void 0!==c?c:1}else this.Ia=""};function pt(a,b,c,d,e){this.v=a;this.c=b;this.o=d;this.l=c;this.f=e;this.a={};this.g=jd(1,1);this.j=Bh()}v(pt,ki);var qt={0:[[!0]]};function rt(a,b,c){var d,e=Math.floor(a.length/2);if(b>=e)for(d=e;d<b;d++)a[d][c]=!0;else if(b<e)for(d=b+1;d<e;d++)a[d][c]=!0}
function st(a){if(void 0!==qt[a])return qt[a];for(var b=2*a+1,c=Array(b),d=0;d<b;d++)c[d]=Array(b);for(var b=a,e=d=0;b>=d;)rt(c,a+b,a+d),rt(c,a+d,a+b),rt(c,a-d,a+b),rt(c,a-b,a+d),rt(c,a-b,a-d),rt(c,a-d,a-b),rt(c,a+d,a-b),rt(c,a+b,a-d),d++,e+=1+2*d,0<2*(e-b)+1&&(--b,e+=1-2*b);return qt[a]=c}function tt(a){for(var b in a.a){var c=a.a[b],d;for(d in c)c[d].Te()}}
pt.prototype.Ea=function(a,b,c,d,e,f){d=Math.round(d);var g=2*d+1,h=Kh(this.j,d+.5,d+.5,1/b,-1/b,-c,-a[0],-a[1]),l=this.g;l.canvas.width!==g||l.canvas.height!==g?(l.canvas.width=g,l.canvas.height=g):l.clearRect(0,0,g,g);if(void 0!==this.f){var m=Oa();Pa(m,a);Qa(m,b*(this.f+d),m)}var n=st(d);return ut(this,l,h,c,e,function(a){for(var b=l.getImageData(0,0,g,g).data,c=0;c<g;c++)for(var d=0;d<g;d++)if(n[c][d]&&0<b[4*(d*g+c)+3]){if(a=f(a))return a;l.clearRect(0,0,g,g);return}},m)};
function vt(a,b){var c=a.c;a=c[0];var d=c[1],e=c[2],c=c[3];a=[a,d,a,c,e,c,e,d];pf(a,0,8,2,b,a);return a}pt.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0";a=this.a[c];void 0===a&&(a={},this.a[c]=a);c=a[b];void 0===c&&(c=new wt[b](this.v,this.c,this.l,this.o),a[b]=c);return c};pt.prototype.i=function(){return wb(this.a)};
pt.prototype.La=function(a,b,c,d,e,f){var g=Object.keys(this.a).map(Number);g.sort(ia);var h=vt(this,c);a.save();a.beginPath();a.moveTo(h[0],h[1]);a.lineTo(h[2],h[3]);a.lineTo(h[4],h[5]);a.lineTo(h[6],h[7]);a.clip();f=f?f:ji;var l,m,h=0;for(l=g.length;h<l;++h){var n=this.a[g[h].toString()];var p=0;for(m=f.length;p<m;++p){var q=n[f[p]];void 0!==q&&q.La(a,b,c,d,e)}}a.restore()};
function ut(a,b,c,d,e,f,g){var h=Object.keys(a.a).map(Number);h.sort(function(a,b){return b-a});var l,m;var n=0;for(l=h.length;n<l;++n){var p=a.a[h[n].toString()];for(m=ji.length-1;0<=m;--m){var q=p[ji[m]];if(void 0!==q&&(q=et(q,b,1,c,d,e,q.b,f,g)))return q}}}var wt={Circle:lt,Image:ht,LineString:it,Polygon:lt,Text:ot};function xt(a){Sc.call(this);this.a=a}v(xt,Sc);xt.prototype.Ea=ua;xt.prototype.Ue=nf;xt.prototype.Nf=function(a,b,c){return function(d,e){return yt(a,b,d,e,function(a){c[d]||(c[d]={});c[d][a.ta.toString()]=a})}};xt.prototype.na=function(a){2===a.target.getState()&&zt(this)};function At(a,b){var c=b.getState();2!=c&&3!=c&&y(b,"change",a.na,a);0==c&&(b.load(),c=b.getState());return 2==c}function zt(a){var b=a.a;b.Mb()&&"ready"==b.$f()&&a.s()}
function Bt(a,b){b.Ki()&&a.postRenderFunctions.push(function(a,b,e){b=w(a).toString();a.fd(e.viewState.projection,e.usedTiles[b])}.bind(null,b))}function Ct(a,b){if(b){var c;var d=0;for(c=b.length;d<c;++d){var e=b[d];a[w(e).toString()]=e}}}function Dt(a,b){b=b.D;void 0!==b&&("string"===typeof b?a.logos[b]="":b&&(xa("string"==typeof b.href,44),xa("string"==typeof b.src,45),a.logos[b.src]=b.href))}
function Et(a,b,c,d){b=w(b).toString();c=c.toString();b in a?c in a[b]?(a=a[b][c],d.ca<a.ca&&(a.ca=d.ca),d.$>a.$&&(a.$=d.$),d.da<a.da&&(a.da=d.da),d.ia>a.ia&&(a.ia=d.ia)):a[b][c]=d:(a[b]={},a[b][c]=d)}
function Ft(a,b,c,d,e,f,g,h,l,m){var n=w(b).toString();n in a.wantedTiles||(a.wantedTiles[n]={});var p=a.wantedTiles[n];a=a.tileQueue;var q=c.minZoom,r,u,x;for(x=g;x>=q;--x){var B=oc(c,f,x,B);var E=c.Da(x);for(r=B.ca;r<=B.$;++r)for(u=B.da;u<=B.ia;++u)if(g-x<=h){var A=b.Nc(x,r,u,d,e);0==A.getState()&&(p[A.bb()]=!0,A.bb()in a.a||a.f([A,n,tc(c,A.ta),E]));l&&l.call(m,A)}else b.Ug(x,r,u,e)}};function Gt(a){xt.call(this,a);this.fa=Bh()}v(Gt,xt);function Ht(a,b,c){var d=b.pixelRatio,e=b.size[0]*d,f=b.size[1]*d,g=b.viewState.rotation,h=ib(c),l=hb(c),m=gb(c);c=eb(c);Gh(b.coordinateToPixelTransform,h);Gh(b.coordinateToPixelTransform,l);Gh(b.coordinateToPixelTransform,m);Gh(b.coordinateToPixelTransform,c);a.save();Vh(a,-g,e/2,f/2);a.beginPath();a.moveTo(h[0]*d,h[1]*d);a.lineTo(l[0]*d,l[1]*d);a.lineTo(m[0]*d,m[1]*d);a.lineTo(c[0]*d,c[1]*d);a.clip();Vh(a,g,e/2,f/2)}
function It(a,b,c,d,e){var f=a.a;if(Rc(f,b)){var g=d.size[0]*d.pixelRatio,h=d.size[1]*d.pixelRatio,l=d.viewState.rotation;Vh(c,-l,g/2,h/2);a=e?e:Jt(a,d,0);f.b(new Rh(b,new Xh(c,d.pixelRatio,d.extent,a,d.viewState.rotation),d,c,null));Vh(c,l,g/2,h/2)}}Gt.prototype.u=function(a,b,c,d){if(this.Ea(a,b,0,mf,this))return c.call(d,this.a,null)};Gt.prototype.ef=function(a,b,c,d){It(this,"postcompose",a,b,d)};
function Jt(a,b,c){var d=b.viewState,e=b.pixelRatio,f=e/d.resolution;return Kh(a.fa,e*b.size[0]/2,e*b.size[1]/2,f,-f,-d.rotation,-d.center[0]+c,-d.center[1])};function Kt(a,b){return w(a)-w(b)}function Lt(a,b){a=.5*a/b;return a*a}function Mt(a,b,c,d,e,f){var g=!1,h;if(h=c.Y()){var l=h.Ye();2==l||3==l?h.Bj(e,f):(0==l&&h.load(),h.Nh(e,f),g=!0)}if(e=(0,c.Za)(b))d=e.Vd(d),(0,Nt[d.U()])(a,d,c,b);return g}
var Nt={Point:function(a,b,c,d){var e=c.Y();if(e){if(2!=e.Ye())return;var f=a.b(c.Ba(),"Image");f.Ub(e);f.qc(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),a.yc(b.ga(),0,2,2,b,d)},LineString:function(a,b,c,d){var e=c.Ga();if(e){var f=a.b(c.Ba(),"LineString");f.Ma(null,e);f.mc(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),a.yc(di(b),0,2,2,b,d)},Polygon:function(a,b,c,d){var e=c.Fa(),f=c.Ga();if(e||f){var g=a.b(c.Ba(),"Polygon");g.Ma(e,f);g.rc(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),a.yc(Wf(b),
0,2,2,b,d)},MultiPoint:function(a,b,c,d){var e=c.Y();if(e){if(2!=e.Ye())return;var f=a.b(c.Ba(),"Image");f.Ub(e);f.oc(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),c=b.ga(),a.yc(c,0,c.length,b.qa(),b,d)},MultiLineString:function(a,b,c,d){var e=c.Ga();if(e){var f=a.b(c.Ba(),"LineString");f.Ma(null,e);f.nc(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),c=ei(b),a.yc(c,0,c.length,2,b,d)},MultiPolygon:function(a,b,c,d){var e=c.Fa(),f=c.Ga();if(f||e){var g=a.b(c.Ba(),"Polygon");g.Ma(e,f);g.pc(b,d)}if(e=
c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),c=gi(b),a.yc(c,0,c.length,2,b,d)},GeometryCollection:function(a,b,c,d){b=b.a;var e;var f=0;for(e=b.length;f<e;++f)(0,Nt[b[f].U()])(a,b[f],c,d)},Circle:function(a,b,c,d){var e=c.Fa(),f=c.Ga();if(e||f){var g=a.b(c.Ba(),"Circle");g.Ma(e,f);g.Zb(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),a.yc(b.wa(),0,2,2,b,d)}};function Ot(a){Gt.call(this,a);this.c=!1;this.v=-1;this.l=NaN;this.j=Oa();this.f=this.o=null;this.g=jd()}v(Ot,Gt);
Ot.prototype.S=function(a,b,c){var d=a.extent,e=a.pixelRatio,f=b.Je?a.skippedFeatureUids:{},g=a.viewState,h=g.projection,g=g.rotation,l=h.G(),m=this.a.ha(),n=Jt(this,a,0);It(this,"precompose",c,a,n);var p=b.extent,q=void 0!==p;q&&Ht(c,a,p);if((p=this.f)&&!p.i()){var r=0,u=0;if(Rc(this.a,"render")){var x=c.canvas.width;var B=c.canvas.height;if(g){var E=Math.round(Math.sqrt(x*x+B*B)),r=(E-x)/2,u=(E-B)/2;x=B=E}this.g.canvas.width=x;this.g.canvas.height=B;x=this.g}else x=c;B=x.globalAlpha;x.globalAlpha=
b.opacity;x!=c&&x.translate(r,u);var E=a.size[0]*e,A=a.size[1]*e;Vh(x,-g,E/2,A/2);p.La(x,e,n,g,f);if(m.u&&h.i&&!Va(l,d)){for(var h=d[0],m=lb(l),L=0;h<l[0];)--L,n=m*L,n=Jt(this,a,n),p.La(x,e,n,g,f),h+=m;L=0;for(h=d[2];h>l[2];)++L,n=m*L,n=Jt(this,a,n),p.La(x,e,n,g,f),h-=m;n=Jt(this,a,0)}Vh(x,g,E/2,A/2);x!=c&&(It(this,"render",x,a,n),c.drawImage(x.canvas,-r,-u),x.translate(-r,-u));x.globalAlpha=B}q&&c.restore();this.ef(c,a,b,n)};
Ot.prototype.Ea=function(a,b,c,d,e){if(this.f){var f=this.a,g={};return this.f.Ea(a,b.viewState.resolution,b.viewState.rotation,c,{},function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)})}};Ot.prototype.D=function(){zt(this)};
Ot.prototype.sd=function(a){function b(a){var b=a.Lc();if(b)var d=b.call(a,m);else(b=c.f)&&(d=b(a,m));if(d){if(d){b=!1;if(Array.isArray(d))for(var e=0,f=d.length;e<f;++e)b=Mt(q,a,d[e],Lt(m,n),this.D,this)||b;else b=Mt(q,a,d,Lt(m,n),this.D,this)||b;a=b}else a=!1;this.c=this.c||a}}var c=this.a,d=c.ha();Ct(a.attributions,d.j);Dt(a,d);var e=a.viewHints[0],f=a.viewHints[1],g=c.T,h=c.na;if(!this.c&&!g&&e||!h&&f)return!0;var l=a.extent,h=a.viewState,e=h.projection,m=h.resolution,n=a.pixelRatio,f=c.i,p=c.c,
g=c.get(Pt);void 0===g&&(g=Kt);l=Qa(l,p*m);p=h.projection.G();d.u&&h.projection.i&&!Va(p,a.extent)&&(a=Math.max(lb(l)/2,lb(p)),l[0]=p[0]-a,l[2]=p[2]+a);if(!this.c&&this.l==m&&this.v==f&&this.o==g&&Va(this.j,l))return!0;this.f=null;this.c=!1;var q=new pt(.5*m/n,l,m,d.T,c.c);d.Yd(l,m,e);if(g){var r=[];d.$b(l,function(a){r.push(a)},this);r.sort(g);r.forEach(b,this)}else d.$b(l,b,this);tt(q);this.l=m;this.v=f;this.o=g;this.j=l;this.f=q;return!0};function Qt(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}v(Qt,mi);var Rt=new Qt;function St(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}v(St,ni);var Tt=new St;
function Ut(a,b){this.i=a.getUniformLocation(b,"f");this.c=a.getUniformLocation(b,"e");this.g=a.getUniformLocation(b,"d");this.f=a.getUniformLocation(b,"g");this.b=a.getAttribLocation(b,"b");this.a=a.getAttribLocation(b,"c")};function Vt(a,b){xt.call(this,b);this.c=a;this.T=new Di([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.g=this.Ib=null;this.j=void 0;this.v=Bh();this.S=Bh();this.C=ti();this.u=null}v(Vt,xt);
function Wt(a,b,c){var d=a.c.i;if(void 0===a.j||a.j!=c){b.postRenderFunctions.push(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))}.bind(null,d,a.g,a.Ib));b=Qi(d,c,c);var e=d.createFramebuffer();d.bindFramebuffer(36160,e);d.framebufferTexture2D(36160,36064,3553,b,0);a.Ib=b;a.g=e;a.j=c}else d.bindFramebuffer(36160,a.g)}
Vt.prototype.Gi=function(a,b,c){Xt(this,"precompose",c,a);wi(c,34962,this.T);var d=c.b,e=Hi(c,Rt,Tt);if(this.u)var f=this.u;else this.u=f=new Ut(d,e);c.Qc(e)&&(d.enableVertexAttribArray(f.b),d.vertexAttribPointer(f.b,2,5126,!1,16,0),d.enableVertexAttribArray(f.a),d.vertexAttribPointer(f.a,2,5126,!1,16,8),d.uniform1i(f.f,0));d.uniformMatrix4fv(f.g,!1,ui(this.C,this.v));d.uniformMatrix4fv(f.c,!1,ui(this.C,this.S));d.uniform1f(f.i,b.opacity);d.bindTexture(3553,this.Ib);d.drawArrays(5,0,4);Xt(this,"postcompose",
c,a)};function Xt(a,b,c,d){a=a.a;if(Rc(a,b)){var e=d.viewState;a.b(new Rh(b,new kk(c,e.center,e.resolution,e.rotation,d.size,d.extent,d.pixelRatio),d,null,c))}}Vt.prototype.mg=function(){this.g=this.Ib=null;this.j=void 0};function Yt(a,b){Vt.call(this,a,b);this.l=!1;this.R=-1;this.I=NaN;this.D=Oa();this.o=this.f=this.B=null}v(Yt,Vt);k=Yt.prototype;k.Gi=function(a,b,c){this.o=b;var d=a.viewState,e=this.f,f=a.size,g=a.pixelRatio,h=this.c.i;e&&!e.i()&&(h.enable(h.SCISSOR_TEST),h.scissor(0,0,f[0]*g,f[1]*g),e.La(c,d.center,d.resolution,d.rotation,f,g,b.opacity,b.Je?a.skippedFeatureUids:{}),h.disable(h.SCISSOR_TEST))};k.ka=function(){var a=this.f;a&&(ek(a,this.c.f)(),this.f=null);Vt.prototype.ka.call(this)};
k.Ea=function(a,b,c,d,e){if(this.f&&this.o){c=b.viewState;var f=this.a,g={};return this.f.Ea(a,this.c.f,c.center,c.resolution,c.rotation,b.size,b.pixelRatio,this.o.opacity,{},function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)})}};k.Ue=function(a,b){if(this.f&&this.o){var c=b.viewState;return jk(this.f,a,this.c.f,c.resolution,c.rotation,b.pixelRatio,this.o.opacity,b.skippedFeatureUids)}return!1};
k.lg=function(a,b,c,d){a=Gh(b.pixelToCoordinateTransform,a.slice());if(this.Ue(a,b))return c.call(d,this.a,null)};k.Hi=function(){zt(this)};
k.ng=function(a,b,c){function d(a){var b=a.Lc();if(b)var c=b.call(a,m);else(b=e.f)&&(c=b(a,m));if(c){if(c){b=!1;if(Array.isArray(c))for(var d=c.length-1;0<=d;--d)b=Mt(q,a,c[d],Lt(m,n),this.Hi,this)||b;else b=Mt(q,a,c,Lt(m,n),this.Hi,this)||b;a=b}else a=!1;this.l=this.l||a}}var e=this.a;b=e.ha();Ct(a.attributions,b.j);Dt(a,b);var f=a.viewHints[0],g=a.viewHints[1],h=e.T,l=e.na;if(!this.l&&!h&&f||!l&&g)return!0;var g=a.extent,h=a.viewState,f=h.projection,m=h.resolution,n=a.pixelRatio,h=e.i,p=e.c,l=e.get(Pt);
void 0===l&&(l=Kt);g=Qa(g,p*m);if(!this.l&&this.I==m&&this.R==h&&this.B==l&&Va(this.D,g))return!0;this.f&&a.postRenderFunctions.push(ek(this.f,c));this.l=!1;var q=new dk(.5*m/n,g,e.c);b.Yd(g,m,f);if(l){var r=[];b.$b(g,function(a){r.push(a)},this);r.sort(l);r.forEach(d,this)}else b.$b(g,d,this);fk(q,c);this.I=m;this.R=h;this.B=l;this.D=g;this.f=q;return!0};function T(a){a=a?a:{};var b=tb({},a);delete b.style;delete b.renderBuffer;delete b.updateWhileAnimating;delete b.updateWhileInteracting;wh.call(this,b);this.c=void 0!==a.renderBuffer?a.renderBuffer:100;this.u=null;this.f=void 0;this.g(a.style);this.T=void 0!==a.updateWhileAnimating?a.updateWhileAnimating:!1;this.na=void 0!==a.updateWhileInteracting?a.updateWhileInteracting:!1}v(T,wh);T.prototype.Fd=function(a){var b=null,c=a.U();"canvas"===c?b=new Ot(this):"webgl"===c&&(b=new Yt(a,this));return b};
T.prototype.D=function(){return this.u};T.prototype.C=function(){return this.f};T.prototype.g=function(a){this.u=void 0!==a?a:fl;this.f=null===a?void 0:dl(this.u);this.s()};var Pt="renderOrder";function Zt(){return[[-Infinity,-Infinity,Infinity,Infinity]]};function $t(a){Tc.call(this);this.c=Tb(a.projection);this.j=au(a.attributions);this.D=a.logo;this.na=void 0!==a.state?a.state:"ready";this.u=void 0!==a.wrapX?a.wrapX:!1}v($t,Tc);function au(a){if("string"===typeof a)return[new Ac({html:a})];if(a instanceof Ac)return[a];if(Array.isArray(a)){for(var b=a.length,c=Array(b),d=0;d<b;d++){var e=a[d];c[d]="string"===typeof e?new Ac({html:e}):e}return c}return null}k=$t.prototype;k.Ea=ua;k.ya=function(){return this.j};k.xa=function(){return this.D};k.za=function(){return this.c};
k.getState=function(){return this.na};k.sa=function(){this.s()};k.ua=function(a){this.j=au(a);this.s()};function bu(a,b){a.na=b;a.s()};function U(a){a=a||{};$t.call(this,{attributions:a.attributions,logo:a.logo,projection:void 0,state:"ready",wrapX:void 0!==a.wrapX?a.wrapX:!0});this.B=ua;this.C=a.format;this.T=void 0==a.overlaps?!0:a.overlaps;this.I=a.url;a.loader?this.B=a.loader:void 0!==this.I&&(xa(this.C,7),this.B=Dl(this.I,this.C));this.fa=a.strategy?a.strategy:Zt;var b=void 0!==a.useSpatialIndex?a.useSpatialIndex:!0;this.a=b?new Gj:null;this.R=new Gj;this.g={};this.o={};this.l={};this.v={};this.f=null;if(a.features instanceof
Yc){var c=a.features;var d=c.a}else Array.isArray(a.features)&&(d=a.features);b||c||(c=new Yc(d));d&&cu(this,d);c&&du(this,c)}v(U,$t);k=U.prototype;k.yb=function(a){var b=w(a).toString();if(eu(this,b,a)){fu(this,b,a);var c=a.V();c?(b=c.G(),this.a&&this.a.Ca(b,a)):this.g[b]=a;this.b(new gu("addfeature",a))}this.s()};function fu(a,b,c){a.v[b]=[y(c,"change",a.Oi,a),y(c,"propertychange",a.Oi,a)]}
function eu(a,b,c){var d=!0,e=c.a;void 0!==e?e.toString()in a.o?d=!1:a.o[e.toString()]=c:(xa(!(b in a.l),30),a.l[b]=c);return d}k.cd=function(a){cu(this,a);this.s()};function cu(a,b){var c,d=[],e=[],f=[];var g=0;for(c=b.length;g<c;g++){var h=b[g];var l=w(h).toString();eu(a,l,h)&&e.push(h)}g=0;for(c=e.length;g<c;g++)h=e[g],l=w(h).toString(),fu(a,l,h),(b=h.V())?(l=b.G(),d.push(l),f.push(h)):a.g[l]=h;a.a&&a.a.load(d,f);g=0;for(c=e.length;g<c;g++)a.b(new gu("addfeature",e[g]))}
function du(a,b){var c=!1;y(a,"addfeature",function(a){c||(c=!0,b.push(a.feature),c=!1)});y(a,"removefeature",function(a){c||(c=!0,b.remove(a.feature),c=!1)});y(b,"add",function(a){c||(c=!0,this.yb(a.element),c=!1)},a);y(b,"remove",function(a){c||(c=!0,this.Gb(a.element),c=!1)},a);a.f=b}
k.clear=function(a){if(a){for(var b in this.v)this.v[b].forEach(Ec);this.f||(this.v={},this.o={},this.l={})}else if(this.a){this.a.forEach(this.Ig,this);for(var c in this.g)this.Ig(this.g[c])}this.f&&this.f.clear();this.a&&this.a.clear();this.R.clear();this.g={};this.b(new gu("clear"));this.s()};k.sh=function(a,b){if(this.a)return this.a.forEach(a,b);if(this.f)return this.f.forEach(a,b)};function hu(a,b,c){a.$b([b[0],b[1],b[0],b[1]],function(a){if(a.V().sb(b))return c.call(void 0,a)})}
k.$b=function(a,b,c){if(this.a)return Lj(this.a,a,b,c);if(this.f)return this.f.forEach(b,c)};k.th=function(a,b,c){return this.$b(a,function(d){if(d.V().Xa(a)&&(d=b.call(c,d)))return d})};k.Ah=function(){return this.f};k.Xe=function(){if(this.f)var a=this.f.a;else this.a&&(a=Ij(this.a),wb(this.g)||la(a,vb(this.g)));return a};k.zh=function(a){var b=[];hu(this,a,function(a){b.push(a)});return b};k.Uf=function(a){return Jj(this.a,a)};
k.vh=function(a,b){var c=a[0],d=a[1],e=null,f=[NaN,NaN],g=Infinity,h=[-Infinity,-Infinity,Infinity,Infinity],l=b?b:mf;Lj(this.a,h,function(a){if(l(a)){var b=a.V(),m=g;g=b.Kb(c,d,f,g);g<m&&(e=a,a=Math.sqrt(g),h[0]=c-a,h[1]=d-a,h[2]=c+a,h[3]=d+a)}});return e};k.G=function(a){return this.a.G(a)};k.yh=function(a){a=this.o[a.toString()];return void 0!==a?a:null};k.Mi=function(){return this.C};k.Ni=function(){return this.I};
k.Oi=function(a){a=a.target;var b=w(a).toString(),c=a.V();c?(c=c.G(),b in this.g?(delete this.g[b],this.a&&this.a.Ca(c,a)):this.a&&Hj(this.a,c,a)):b in this.g||(this.a&&this.a.remove(a),this.g[b]=a);c=a.a;void 0!==c?(c=c.toString(),b in this.l?(delete this.l[b],this.o[c]=a):this.o[c]!==a&&(iu(this,a),this.o[c]=a)):b in this.l||(iu(this,a),this.l[b]=a);this.s();this.b(new gu("changefeature",a))};
k.Yd=function(a,b,c){var d=this.R;a=this.fa(a,b);var e;var f=0;for(e=a.length;f<e;++f){var g=a[f];Lj(d,g,function(a){return Va(a.extent,g)})||(this.B.call(this,g,b,c),d.Ca(g,{extent:g.slice()}))}};k.Gb=function(a){var b=w(a).toString();b in this.g?delete this.g[b]:this.a&&this.a.remove(a);this.Ig(a);this.s()};k.Ig=function(a){var b=w(a).toString();this.v[b].forEach(Ec);delete this.v[b];var c=a.a;void 0!==c?delete this.o[c.toString()]:delete this.l[b];this.b(new gu("removefeature",a))};
function iu(a,b){for(var c in a.o)if(a.o[c]===b){delete a.o[c];break}}function gu(a,b){Oc.call(this,a);this.feature=b}v(gu,Oc);function ju(a){Dg.call(this,{handleDownEvent:ku,handleEvent:lu,handleUpEvent:mu});this.T=!1;this.fa=null;this.u=!1;this.Yb=a.source?a.source:null;this.$a=a.features?a.features:null;this.wk=a.snapTolerance?a.snapTolerance:12;this.R=a.type;this.g=nu(this.R);this.Sa=a.minPoints?a.minPoints:this.g===ou?3:2;this.va=a.maxPoints?a.maxPoints:Infinity;this.Cf=a.finishCondition?a.finishCondition:mf;var b=a.geometryFunction;if(!b)if("Circle"===this.R)b=function(a,b){b=b?b:new ys([NaN,NaN]);b.Ng(a[0],Math.sqrt(hf(a[0],
a[1])));return b};else{var c,d=this.g;d===pu?c=C:d===qu?c=O:d===ou&&(c=D);b=function(a,b){b?d===ou?b.ma([a[0].concat([a[0][0]])]):b.ma(a):b=new c(a);return b}}this.Za=b;this.I=this.C=this.a=this.B=this.j=this.l=null;this.ad=a.clickTolerance?a.clickTolerance*a.clickTolerance:36;this.pa=new T({source:new U({useSpatialIndex:!1,wrapX:a.wrapX?a.wrapX:!1}),style:a.style?a.style:ru()});this.xb=a.geometryName;this.vk=a.condition?a.condition:xg;this.Df=a.freehand?mf:a.freehandCondition?a.freehandCondition:
yg;y(this,Vc("active"),this.ri,this)}v(ju,Dg);function ru(){var a=gl();return function(b){return a[b.V().U()]}}k=ju.prototype;k.setMap=function(a){Dg.prototype.setMap.call(this,a);this.ri()};function lu(a){this.u=this.g!==pu&&this.Df(a);var b=!this.u;this.u&&"pointerdrag"===a.type&&null!==this.j?(su(this,a),b=!1):"pointermove"===a.type?b=tu(this,a):"dblclick"===a.type&&(b=!1);return Eg.call(this,a)&&b}
function ku(a){this.T=!this.u;return this.u?(this.fa=a.pixel,this.l||uu(this,a),!0):this.vk(a)?(this.fa=a.pixel,!0):!1}function mu(a){var b=!0;tu(this,a);var c=this.g===vu;this.T?(this.l?this.u||c?this.Pd():wu(this,a)?this.Cf(a)&&this.Pd():su(this,a):(uu(this,a),this.g===pu&&this.Pd()),b=!1):this.u&&(this.l=null,xu(this));return b}
function tu(a,b){if(a.fa&&(!a.u&&a.T||a.u&&!a.T)){var c=a.fa,d=b.pixel,e=c[0]-d[0],c=c[1]-d[1],e=e*e+c*c;a.T=a.u?e>a.ad:e<=a.ad}a.l?(e=b.coordinate,c=a.j.V(),a.g===pu?d=a.a:a.g===ou?(d=a.a[0],d=d[d.length-1],wu(a,b)&&(e=a.l.slice())):(d=a.a,d=d[d.length-1]),d[0]=e[0],d[1]=e[1],a.Za(a.a,c),a.B&&a.B.V().ma(e),c instanceof D&&a.g!==ou?(a.C||(a.C=new H(new O(null))),e=c.Ch(0),b=a.C.V(),b.ba(e.ja,e.ga())):a.I&&(b=a.C.V(),b.ma(a.I)),yu(a)):(b=b.coordinate.slice(),a.B?a.B.V().ma(b):(a.B=new H(new C(b)),
yu(a)));return!0}function wu(a,b){var c=!1;if(a.j){var d=!1,e=[a.l];a.g===qu?d=a.a.length>a.Sa:a.g===ou&&(d=a.a[0].length>a.Sa,e=[a.a[0][0],a.a[0][a.a[0].length-2]]);if(d)for(var d=b.map,f=0,g=e.length;f<g;f++){var h=e[f],l=d.Ja(h),m=b.pixel,c=m[0]-l[0],l=m[1]-l[1];if(c=Math.sqrt(c*c+l*l)<=(a.u?1:a.wk)){a.l=h;break}}}return c}
function uu(a,b){b=b.coordinate;a.l=b;a.g===pu?a.a=b.slice():a.g===ou?(a.a=[[b.slice(),b.slice()]],a.I=a.a[0]):(a.a=[b.slice(),b.slice()],a.g===vu&&(a.I=a.a));a.I&&(a.C=new H(new O(a.I)));b=a.Za(a.a);a.j=new H;a.xb&&a.j.Tc(a.xb);a.j.Ra(b);yu(a);a.b(new zu("drawstart",a.j))}
function su(a,b){b=b.coordinate;var c=a.j.V(),d;if(a.g===qu){a.l=b.slice();var e=a.a;e.length>=a.va&&(a.u?e.pop():d=!0);e.push(b.slice());a.Za(e,c)}else a.g===ou&&(e=a.a[0],e.length>=a.va&&(a.u?e.pop():d=!0),e.push(b.slice()),d&&(a.l=e[0]),a.Za(a.a,c));yu(a);d&&a.Pd()}
k.Op=function(){if(this.j){var a=this.j.V();if(this.g===qu){var b=this.a;b.splice(-2,1);this.Za(b,a);2<=b.length&&(this.l=b[b.length-2].slice())}else if(this.g===ou){b=this.a[0];b.splice(-2,1);var c=this.C.V();c.ma(b);this.Za(this.a,a)}0===b.length&&(this.l=null);yu(this)}};
k.Pd=function(){var a=xu(this),b=this.a,c=a.V();this.g===qu?(b.pop(),this.Za(b,c)):this.g===ou&&(b[0].pop(),this.Za(b,c),b=c.X());"MultiPoint"===this.R?a.Ra(new Q([b])):"MultiLineString"===this.R?a.Ra(new P([b])):"MultiPolygon"===this.R&&a.Ra(new R([b]));this.b(new zu("drawend",a));this.$a&&this.$a.push(a);this.Yb&&this.Yb.yb(a)};function xu(a){a.l=null;var b=a.j;b&&(a.j=null,a.B=null,a.C=null,a.pa.ha().clear(!0));return b}
k.vn=function(a){var b=a.V();this.j=a;this.a=b.X();a=this.a[this.a.length-1];this.l=a.slice();this.a.push(a.slice());yu(this);this.b(new zu("drawstart",this.j))};k.Xc=nf;function yu(a){var b=[];a.j&&b.push(a.j);a.C&&b.push(a.C);a.B&&b.push(a.B);a=a.pa.ha();a.clear(!0);a.cd(b)}k.ri=function(){var a=this.v,b=this.c();a&&b||xu(this);this.pa.setMap(b?a:null)};
function nu(a){var b;"Point"===a||"MultiPoint"===a?b=pu:"LineString"===a||"MultiLineString"===a?b=qu:"Polygon"===a||"MultiPolygon"===a?b=ou:"Circle"===a&&(b=vu);return b}var pu="Point",qu="LineString",ou="Polygon",vu="Circle";function zu(a,b){Oc.call(this,a);this.feature=b}v(zu,Oc);function Au(a){this.a=this.j=null;this.C=!1;this.B=this.l=null;a||(a={});a.extent&&this.g(a.extent);Dg.call(this,{handleDownEvent:Bu,handleDragEvent:Cu,handleEvent:Du,handleUpEvent:Eu});this.u=new T({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.boxStyle?a.boxStyle:Fu(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.I=new T({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.pointerStyle?a.pointerStyle:Gu(),updateWhileAnimating:!0,updateWhileInteracting:!0})}v(Au,Dg);
function Du(a){if(!(a instanceof ee))return!0;if("pointermove"==a.type&&!this.D){var b=a.pixel,c=a.map,d=Hu(this,b,c);d||(d=c.Wa(b));Iu(this,d)}Eg.call(this,a);return!1}
function Bu(a){function b(a){var b=null,c=null;a[0]==e[0]?b=e[2]:a[0]==e[2]&&(b=e[0]);a[1]==e[1]?c=e[3]:a[1]==e[3]&&(c=e[1]);return null!==b&&null!==c?[b,c]:null}var c=a.pixel,d=a.map,e=this.G();(a=Hu(this,c,d))&&e?(c=a[0]==e[0]||a[0]==e[2]?a[0]:null,d=a[1]==e[1]||a[1]==e[3]?a[1]:null,null!==c&&null!==d?this.a=Ju(b(a)):null!==c?this.a=Ku(b([c,e[1]]),b([c,e[3]])):null!==d&&(this.a=Ku(b([e[0],d]),b([e[2],d])))):(a=d.Wa(c),this.g([a[0],a[1],a[0],a[1]]),this.a=Ju(a));return!0}
function Cu(a){this.a&&(a=a.coordinate,this.g(this.a(a)),Iu(this,a));return!0}function Eu(){this.a=null;var a=this.G();a&&jb(a)||this.g(null);return!1}function Fu(){var a=gl();return function(){return a.Polygon}}function Gu(){var a=gl();return function(){return a.Point}}function Ju(a){return function(b){return Na([a,b])}}function Ku(a,b){return a[0]==b[0]?function(c){return Na([a,[c[0],b[1]]])}:a[1]==b[1]?function(c){return Na([a,[b[0],c[1]]])}:null}
function Hu(a,b,c){function d(a,b){return kf(e,a)-kf(e,b)}var e=c.Wa(b),f=a.G();if(f){f=[[[f[0],f[1]],[f[0],f[3]]],[[f[0],f[3]],[f[2],f[3]]],[[f[2],f[3]],[f[2],f[1]]],[[f[2],f[1]],[f[0],f[1]]]];f.sort(d);var f=f[0],g=af(e,f),h=c.Ja(g);if(10>=jf(b,h))return b=c.Ja(f[0]),c=c.Ja(f[1]),b=hf(h,b),c=hf(h,c),a.C=10>=Math.sqrt(Math.min(b,c)),a.C&&(g=b>c?f[1]:f[0]),g}return null}function Iu(a,b){var c=a.B;c?c.V().ma(b):(c=new H(new C(b)),a.B=c,a.I.ha().yb(c))}
Au.prototype.setMap=function(a){this.u.setMap(a);this.I.setMap(a);Dg.prototype.setMap.call(this,a)};Au.prototype.G=function(){return this.j};Au.prototype.g=function(a){this.j=a?a:null;var b=this.l;b?a?b.Ra(Yf(a)):b.Ra(void 0):(this.l=b=a?new H(Yf(a)):new H({}),this.u.ha().yb(b));this.b(new Lu(this.j))};function Lu(a){Oc.call(this,Mu);this.b=a}v(Lu,Oc);var Mu="extentchanged";function Nu(a){Dg.call(this,{handleDownEvent:Ou,handleDragEvent:Pu,handleEvent:Qu,handleUpEvent:Ru});this.ad=a.condition?a.condition:Cg;this.$a=function(a){return xg(a)&&wg(a)};this.xb=a.deleteCondition?a.deleteCondition:this.$a;this.Yb=a.insertVertexCondition?a.insertVertexCondition:mf;this.Sa=this.g=null;this.va=[0,0];this.C=this.I=!1;this.a=new Gj;this.fa=void 0!==a.pixelTolerance?a.pixelTolerance:10;this.l=this.pa=!1;this.j=[];this.B=new T({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.style?
a.style:Su(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.T={Point:this.Dn,LineString:this.ti,LinearRing:this.ti,Polygon:this.En,MultiPoint:this.Bn,MultiLineString:this.An,MultiPolygon:this.Cn,Circle:this.yn,GeometryCollection:this.zn};this.u=a.features;this.u.forEach(this.kg,this);y(this.u,"add",this.wn,this);y(this.u,"remove",this.xn,this);this.R=null}v(Nu,Dg);k=Nu.prototype;
k.kg=function(a){var b=a.V();b&&b.U()in this.T&&this.T[b.U()].call(this,a,b);(b=this.v)&&b.c&&this.c()&&Tu(this,this.va,b);y(a,"change",this.si,this)};function Uu(a,b){a.C||(a.C=!0,a.b(new Vu("modifystart",a.u,b)))}function Wu(a,b){Xu(a,b);a.g&&!a.u.dc()&&(a.B.ha().Gb(a.g),a.g=null);Kc(b,"change",a.si,a)}function Xu(a,b){a=a.a;var c=[];a.forEach(function(a){b===a.feature&&c.push(a)});for(var d=c.length-1;0<=d;--d)a.remove(c[d])}
k.Ha=function(a){this.g&&!a&&(this.B.ha().Gb(this.g),this.g=null);Dg.prototype.Ha.call(this,a)};k.setMap=function(a){this.B.setMap(a);Dg.prototype.setMap.call(this,a)};k.wn=function(a){this.kg(a.element)};k.si=function(a){this.l||(a=a.target,Wu(this,a),this.kg(a))};k.xn=function(a){Wu(this,a.element)};k.Dn=function(a,b){var c=b.X();a={feature:a,geometry:b,la:[c,c]};this.a.Ca(b.G(),a)};
k.Bn=function(a,b){var c=b.X(),d;var e=0;for(d=c.length;e<d;++e){var f=c[e];f={feature:a,geometry:b,depth:[e],index:e,la:[f,f]};this.a.Ca(b.G(),f)}};k.ti=function(a,b){var c=b.X(),d;var e=0;for(d=c.length-1;e<d;++e){var f=c.slice(e,e+2);var g={feature:a,geometry:b,index:e,la:f};this.a.Ca(Na(f),g)}};
k.An=function(a,b){var c=b.X(),d,e;var f=0;for(e=c.length;f<e;++f){var g=c[f];var h=0;for(d=g.length-1;h<d;++h){var l=g.slice(h,h+2);var m={feature:a,geometry:b,depth:[f],index:h,la:l};this.a.Ca(Na(l),m)}}};k.En=function(a,b){var c=b.X(),d,e;var f=0;for(e=c.length;f<e;++f){var g=c[f];var h=0;for(d=g.length-1;h<d;++h){var l=g.slice(h,h+2);var m={feature:a,geometry:b,depth:[f],index:h,la:l};this.a.Ca(Na(l),m)}}};
k.Cn=function(a,b){var c=b.X(),d,e,f;var g=0;for(f=c.length;g<f;++g){var h=c[g];var l=0;for(e=h.length;l<e;++l){var m=h[l];var n=0;for(d=m.length-1;n<d;++n){var p=m.slice(n,n+2);var q={feature:a,geometry:b,depth:[l,g],index:n,la:p};this.a.Ca(Na(p),q)}}}};k.yn=function(a,b){var c=b.wa(),d={feature:a,geometry:b,index:0,la:[c,c]};a={feature:a,geometry:b,index:1,la:[c,c]};d.Pf=a.Pf=[d,a];this.a.Ca(Za(c),d);this.a.Ca(b.G(),a)};
k.zn=function(a,b){var c=b.a;for(b=0;b<c.length;++b)this.T[c[b].U()].call(this,a,c[b])};function Yu(a,b){var c=a.g;c?c.V().ma(b):(c=new H(new C(b)),a.g=c,a.B.ha().yb(c))}function Zu(a,b){return a.index-b.index}
function Ou(a){if(!this.ad(a))return!1;Tu(this,a.pixel,a.map);var b=a.map.Wa(a.pixel);this.j.length=0;this.C=!1;var c=this.g;if(c){var d=[],c=c.V().X(),e=Na([c]),e=Jj(this.a,e),f={};e.sort(Zu);for(var g=0,h=e.length;g<h;++g){var l=e[g],m=l.la,n=w(l.feature),p=l.depth;p&&(n+="-"+p.join("-"));f[n]||(f[n]=Array(2));if("Circle"===l.geometry.U()&&1===l.index)m=$u(b,l),df(m,c)&&!f[n][0]&&(this.j.push([l,0]),f[n][0]=l);else if(df(m[0],c)&&!f[n][0])this.j.push([l,0]),f[n][0]=l;else if(df(m[1],c)&&!f[n][1]){if("LineString"!==
l.geometry.U()&&"MultiLineString"!==l.geometry.U()||!f[n][0]||0!==f[n][0].index)this.j.push([l,1]),f[n][1]=l}else this.Yb(a)&&w(m)in this.Sa&&!f[n][0]&&!f[n][1]&&d.push([l,c])}d.length&&Uu(this,a);for(a=d.length-1;0<=a;--a)this.bm.apply(this,d[a])}return!!this.g}
function Pu(a){this.I=!1;Uu(this,a);a=a.coordinate;for(var b=0,c=this.j.length;b<c;++b){for(var d=this.j[b],e=d[0],f=e.depth,g=e.geometry,h,l=e.la,d=d[1];a.length<g.qa();)a.push(l[d][a.length]);switch(g.U()){case "Point":h=a;l[0]=l[1]=a;break;case "MultiPoint":h=g.X();h[e.index]=a;l[0]=l[1]=a;break;case "LineString":h=g.X();h[e.index+d]=a;l[d]=a;break;case "MultiLineString":h=g.X();h[f[0]][e.index+d]=a;l[d]=a;break;case "Polygon":h=g.X();h[f[0]][e.index+d]=a;l[d]=a;break;case "MultiPolygon":h=g.X();
h[f[1]][f[0]][e.index+d]=a;l[d]=a;break;case "Circle":l[0]=l[1]=a,0===e.index?(this.l=!0,g.ob(a)):(this.l=!0,g.Uc(jf(g.wa(),a))),this.l=!1}h&&(e=g,f=h,this.l=!0,e.ma(f),this.l=!1)}Yu(this,a)}function Ru(a){for(var b,c,d=this.j.length-1;0<=d;--d)if(b=this.j[d][0],c=b.geometry,"Circle"===c.U()){var e=c.wa(),f=b.Pf[0];b=b.Pf[1];f.la[0]=f.la[1]=e;b.la[0]=b.la[1]=e;Hj(this.a,Za(e),f);Hj(this.a,c.G(),b)}else Hj(this.a,Na(b.la),b);this.C&&(this.b(new Vu("modifyend",this.u,a)),this.C=!1);return!1}
function Qu(a){if(!(a instanceof ee))return!0;this.R=a;var b;dg(a.map.Z())[1]||"pointermove"!=a.type||this.D||(this.va=a.pixel,Tu(this,a.pixel,a.map));this.g&&this.xb(a)&&(b="singleclick"==a.type&&this.I?!0:this.hj());"singleclick"==a.type&&(this.I=!1);return Eg.call(this,a)&&!b}
function Tu(a,b,c){function d(a,b){return av(e,a)-av(e,b)}var e=c.Wa(b),f=Qa(Za(e),c.Z().Pa()*a.fa),f=Jj(a.a,f);if(0<f.length){f.sort(d);var g=f[0],h=g.la,l=$u(e,g),m=c.Ja(l),n=jf(b,m);if(n<=a.fa){b={};if("Circle"===g.geometry.U()&&1===g.index)a.pa=!0,Yu(a,l);else for(n=c.Ja(h[0]),g=c.Ja(h[1]),c=hf(m,n),m=hf(m,g),n=Math.sqrt(Math.min(c,m)),a.pa=n<=a.fa,a.pa&&(l=c>m?h[1]:h[0]),Yu(a,l),m=1,c=f.length;m<c;++m)if(l=f[m].la,df(h[0],l[0])&&df(h[1],l[1])||df(h[0],l[1])&&df(h[1],l[0]))b[w(l)]=!0;else break;
b[w(h)]=!0;a.Sa=b;return}}a.g&&(a.B.ha().Gb(a.g),a.g=null)}function av(a,b){var c=b.geometry;return"Circle"===c.U()&&1===b.index?(a=hf(c.wa(),a),c=Math.sqrt(a)-c.pd(),c*c):kf(a,b.la)}function $u(a,b){var c=b.geometry;return"Circle"===c.U()&&1===b.index?c.Ab(a):af(a,b.la)}
k.bm=function(a,b){for(var c=a.la,d=a.feature,e=a.geometry,f=a.depth,g=a.index,h;b.length<e.qa();)b.push(0);switch(e.U()){case "MultiLineString":h=e.X();h[f[0]].splice(g+1,0,b);break;case "Polygon":h=e.X();h[f[0]].splice(g+1,0,b);break;case "MultiPolygon":h=e.X();h[f[1]][f[0]].splice(g+1,0,b);break;case "LineString":h=e.X();h.splice(g+1,0,b);break;default:return}this.l=!0;e.ma(h);this.l=!1;h=this.a;h.remove(a);bv(this,e,g,f,1);a={la:[c[0],b],feature:d,geometry:e,depth:f,index:g};h.Ca(Na(a.la),a);
this.j.push([a,1]);b={la:[b,c[1]],feature:d,geometry:e,depth:f,index:g+1};h.Ca(Na(b.la),b);this.j.push([b,0]);this.I=!0};
k.hj=function(){if(this.R&&"pointerdrag"!=this.R.type){var a=this.R;Uu(this,a);var b=this.j,c={},d,e;for(e=b.length-1;0<=e;--e){var f=b[e];var g=f[0];var h=w(g.feature);g.depth&&(h+="-"+g.depth.join("-"));h in c||(c[h]={});0===f[1]?(c[h].right=g,c[h].index=g.index):1==f[1]&&(c[h].left=g,c[h].index=g.index+1)}for(h in c){var l=c[h].right;var m=c[h].left;e=c[h].index;var n=e-1;g=void 0!==m?m:l;0>n&&(n=0);f=g.geometry;var p=d=f.X();var q=!1;switch(f.U()){case "MultiLineString":2<d[g.depth[0]].length&&
(d[g.depth[0]].splice(e,1),q=!0);break;case "LineString":2<d.length&&(d.splice(e,1),q=!0);break;case "MultiPolygon":p=p[g.depth[1]];case "Polygon":p=p[g.depth[0]],4<p.length&&(e==p.length-1&&(e=0),p.splice(e,1),q=!0,0===e&&(p.pop(),p.push(p[0]),n=p.length-1))}q&&(q=f,this.l=!0,q.ma(d),this.l=!1,d=[],void 0!==m&&(this.a.remove(m),d.push(m.la[0])),void 0!==l&&(this.a.remove(l),d.push(l.la[1])),void 0!==m&&void 0!==l&&(m={depth:g.depth,feature:g.feature,geometry:g.geometry,index:n,la:d},this.a.Ca(Na(m.la),
m)),bv(this,f,e,g.depth,-1),this.g&&(this.B.ha().Gb(this.g),this.g=null),b.length=0)}this.b(new Vu("modifyend",this.u,a));this.C=!1;return!0}return!1};function bv(a,b,c,d,e){Lj(a.a,b.G(),function(a){a.geometry===b&&(void 0===d||void 0===a.depth||pa(a.depth,d))&&a.index>c&&(a.index+=e)})}function Su(){var a=gl();return function(){return a.Point}}function Vu(a,b,c){Oc.call(this,a);this.features=b;this.mapBrowserEvent=c}v(Vu,Oc);function cv(a){ng.call(this,{handleEvent:dv});a=a?a:{};this.C=a.condition?a.condition:wg;this.D=a.addCondition?a.addCondition:nf;this.B=a.removeCondition?a.removeCondition:nf;this.I=a.toggleCondition?a.toggleCondition:yg;this.l=a.multi?a.multi:!1;this.o=a.filter?a.filter:mf;this.j=a.hitTolerance?a.hitTolerance:0;this.g=new T({source:new U({useSpatialIndex:!1,features:a.features,wrapX:a.wrapX}),style:a.style?a.style:ev(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(a.layers)if("function"===
typeof a.layers)a=a.layers;else{var b=a.layers;a=function(a){return ja(b,a)}}else a=mf;this.u=a;this.a={};a=this.g.ha().f;y(a,"add",this.Fn,this);y(a,"remove",this.Jn,this)}v(cv,ng);k=cv.prototype;k.Gn=function(){return this.g.ha().f};k.Hn=function(){return this.j};k.In=function(a){a=w(a);return this.a[a]};
function dv(a){if(!this.C(a))return!0;var b=this.D(a),c=this.B(a),d=this.I(a),e=!b&&!c&&!d,f=a.map,g=this.g.ha().f,h=[],l=[];if(e){ub(this.a);f.we(a.pixel,function(a,b){if(this.o(a,b))return l.push(a),a=w(a),this.a[a]=b,!this.l}.bind(this),{layerFilter:this.u,hitTolerance:this.j});for(e=g.dc()-1;0<=e;--e){var f=g.item(e),m=l.indexOf(f);-1<m?l.splice(m,1):(g.remove(f),h.push(f))}l.length&&g.fg(l)}else{f.we(a.pixel,function(a,e){if(this.o(a,e))return!b&&!d||ja(g.a,a)?(c||d)&&ja(g.a,a)&&(h.push(a),e=
w(a),delete this.a[e]):(l.push(a),a=w(a),this.a[a]=e),!this.l}.bind(this),{layerFilter:this.u,hitTolerance:this.j});for(e=h.length-1;0<=e;--e)g.remove(h[e]);g.fg(l)}(0<l.length||0<h.length)&&this.b(new fv(gv,l,h,a));return vg(a)}k.Kn=function(a){this.j=a};k.setMap=function(a){var b=this.v,c=this.g.ha().f;b&&c.forEach(b.Cj,b);ng.prototype.setMap.call(this,a);this.g.setMap(a);a&&c.forEach(a.xj,a)};
function ev(){var a=gl();la(a.Polygon,a.LineString);la(a.GeometryCollection,a.LineString);return function(b){return b.V()?a[b.V().U()]:null}}k.Fn=function(a){var b=this.v;b&&b.xj(a.element)};k.Jn=function(a){var b=this.v;b&&b.Cj(a.element)};function fv(a,b,c,d){Oc.call(this,a);this.selected=b;this.deselected=c;this.mapBrowserEvent=d}v(fv,Oc);var gv="select";function hv(a){Dg.call(this,{handleEvent:iv,handleDownEvent:mf,handleUpEvent:jv});a=a?a:{};this.l=a.source?a.source:null;this.R=void 0!==a.vertex?a.vertex:!0;this.C=void 0!==a.edge?a.edge:!0;this.j=a.features?a.features:null;this.pa=[];this.B={};this.T={};this.u={};this.I=null;this.g=void 0!==a.pixelTolerance?a.pixelTolerance:10;this.va=kv.bind(this);this.a=new Gj;this.fa={Point:this.Rn,LineString:this.wi,LinearRing:this.wi,Polygon:this.Sn,MultiPoint:this.Pn,MultiLineString:this.On,MultiPolygon:this.Qn,
GeometryCollection:this.Nn,Circle:this.Mn}}v(hv,Dg);k=hv.prototype;k.yb=function(a,b){b=void 0!==b?b:!0;var c=w(a),d=a.V();if(d){var e=this.fa[d.U()];e&&(this.T[c]=d.G(Oa()),e.call(this,a,d))}b&&(this.B[c]=y(a,"change",this.Ln,this))};k.Ak=function(a){this.yb(a)};k.Bk=function(a){this.Gb(a)};k.ui=function(a){if(a instanceof gu)var b=a.feature;else a instanceof bd&&(b=a.element);this.yb(b)};k.vi=function(a){if(a instanceof gu)var b=a.feature;else a instanceof bd&&(b=a.element);this.Gb(b)};
k.Ln=function(a){a=a.target;if(this.D){var b=w(a);b in this.u||(this.u[b]=a)}else this.Dj(a)};k.Gb=function(a,b){b=void 0!==b?b:!0;var c=w(a),d=this.T[c];if(d){var e=this.a,f=[];Lj(e,d,function(b){a===b.feature&&f.push(b)});for(d=f.length-1;0<=d;--d)e.remove(f[d])}b&&(Ec(this.B[c]),delete this.B[c])};
k.setMap=function(a){var b=this.v,c=this.pa,d;this.j?d=this.j:this.l&&(d=this.l.Xe());b&&(c.forEach(Ec),c.length=0,d.forEach(this.Bk,this));Dg.prototype.setMap.call(this,a);a&&(this.j?c.push(y(this.j,"add",this.ui,this),y(this.j,"remove",this.vi,this)):this.l&&c.push(y(this.l,"addfeature",this.ui,this),y(this.l,"removefeature",this.vi,this)),d.forEach(this.Ak,this))};k.Xc=nf;
function lv(a,b,c,d){var e=d.Wa([b[0]-a.g,b[1]+a.g]),f=d.Wa([b[0]+a.g,b[1]-a.g]),e=Na([e,f]),g=Jj(a.a,e);a.R&&!a.C&&(g=g.filter(function(a){return"Circle"!==a.feature.V().U()}));var h=!1,e=!1,l=f=null;if(0<g.length){a.I=c;g.sort(a.va);var m=g[0].la,h="Circle"===g[0].feature.V().U();if(a.R&&!a.C){if(c=d.Ja(m[0]),h=d.Ja(m[1]),c=hf(b,c),b=hf(b,h),h=Math.sqrt(Math.min(c,b)),h=h<=a.g)e=!0,f=c>b?m[1]:m[0],l=d.Ja(f)}else a.C&&(f=h?$e(c,g[0].feature.V()):af(c,m),l=d.Ja(f),jf(b,l)<=a.g&&(e=!0,a.R&&!h&&(c=
d.Ja(m[0]),h=d.Ja(m[1]),c=hf(l,c),b=hf(l,h),h=Math.sqrt(Math.min(c,b)),h=h<=a.g)))&&(f=c>b?m[1]:m[0],l=d.Ja(f));e&&(l=[Math.round(l[0]),Math.round(l[1])])}return{nq:e,vertex:f,wq:l}}k.Dj=function(a){this.Gb(a,!1);this.yb(a,!1)};k.Mn=function(a,b){b=Zf(b).X()[0];var c;var d=0;for(c=b.length-1;d<c;++d){var e=b.slice(d,d+2);var f={feature:a,la:e};this.a.Ca(Na(e),f)}};k.Nn=function(a,b){var c=b.a;for(b=0;b<c.length;++b){var d=this.fa[c[b].U()];d&&d.call(this,a,c[b])}};
k.wi=function(a,b){b=b.X();var c;var d=0;for(c=b.length-1;d<c;++d){var e=b.slice(d,d+2);var f={feature:a,la:e};this.a.Ca(Na(e),f)}};k.On=function(a,b){b=b.X();var c,d;var e=0;for(d=b.length;e<d;++e){var f=b[e];var g=0;for(c=f.length-1;g<c;++g){var h=f.slice(g,g+2);var l={feature:a,la:h};this.a.Ca(Na(h),l)}}};k.Pn=function(a,b){var c=b.X(),d;var e=0;for(d=c.length;e<d;++e){var f=c[e];f={feature:a,la:[f,f]};this.a.Ca(b.G(),f)}};
k.Qn=function(a,b){b=b.X();var c,d,e;var f=0;for(e=b.length;f<e;++f){var g=b[f];var h=0;for(d=g.length;h<d;++h){var l=g[h];var m=0;for(c=l.length-1;m<c;++m){var n=l.slice(m,m+2);var p={feature:a,la:n};this.a.Ca(Na(n),p)}}}};k.Rn=function(a,b){var c=b.X();a={feature:a,la:[c,c]};this.a.Ca(b.G(),a)};k.Sn=function(a,b){b=b.X();var c,d;var e=0;for(d=b.length;e<d;++e){var f=b[e];var g=0;for(c=f.length-1;g<c;++g){var h=f.slice(g,g+2);var l={feature:a,la:h};this.a.Ca(Na(h),l)}}};
function iv(a){var b=lv(this,a.pixel,a.coordinate,a.map);b.nq&&(a.coordinate=b.vertex.slice(0,2),a.pixel=b.wq);return Eg.call(this,a)}function jv(){var a=vb(this.u);a.length&&(a.forEach(this.Dj,this),this.u={});return!1}function kv(a,b){return kf(this.I,a.la)-kf(this.I,b.la)};function mv(a){Dg.call(this,{handleDownEvent:nv,handleDragEvent:ov,handleMoveEvent:pv,handleUpEvent:qv});a=a?a:{};this.a=null;this.j=void 0!==a.features?a.features:null;if(a.layers)if("function"===typeof a.layers)var b=a.layers;else{var c=a.layers;b=function(a){return ja(c,a)}}else b=mf;this.C=b;this.l=a.hitTolerance?a.hitTolerance:0;this.g=null;y(this,Vc("active"),this.u,this)}v(mv,Dg);
function nv(a){this.g=rv(this,a.pixel,a.map);if(!this.a&&this.g){this.a=a.coordinate;pv.call(this,a);var b=this.j||new Yc([this.g]);this.b(new sv("translatestart",b,a.coordinate));return!0}return!1}function qv(a){if(this.a){this.a=null;pv.call(this,a);var b=this.j||new Yc([this.g]);this.b(new sv("translateend",b,a.coordinate));return!0}return!1}
function ov(a){if(this.a){a=a.coordinate;var b=a[0]-this.a[0],c=a[1]-this.a[1],d=this.j||new Yc([this.g]);d.forEach(function(a){var d=a.V();d.translate(b,c);a.Ra(d)});this.a=a;this.b(new sv("translating",d,a))}}function pv(a){var b=a.map.a;rv(this,a.pixel,a.map)?(b.classList.remove(this.a?"ol-grab":"ol-grabbing"),b.classList.add(this.a?"ol-grabbing":"ol-grab")):b.classList.remove("ol-grab","ol-grabbing")}
function rv(a,b,c){return c.we(b,function(a){if(!this.j||ja(this.j.a,a))return a}.bind(a),{layerFilter:a.C,hitTolerance:a.l})}mv.prototype.B=function(){return this.l};mv.prototype.I=function(a){this.l=a};mv.prototype.setMap=function(a){var b=this.v;Dg.prototype.setMap.call(this,a);tv(this,b)};mv.prototype.u=function(){tv(this,null)};function tv(a,b){var c=a.v;a=a.c();c&&a||(c||(c=b),c.a.classList.remove("ol-grab","ol-grabbing"))}
function sv(a,b,c){Oc.call(this,a);this.features=b;this.coordinate=c}v(sv,Oc);function V(a){a=a?a:{};var b=tb({},a);delete b.gradient;delete b.radius;delete b.blur;delete b.shadow;delete b.weight;T.call(this,b);this.j=null;this.R=void 0!==a.shadow?a.shadow:250;this.I=void 0;this.B=null;y(this,Vc(uv),this.Bl,this);this.pj(a.gradient?a.gradient:vv);this.jj(void 0!==a.blur?a.blur:15);this.Uc(void 0!==a.radius?a.radius:8);y(this,Vc(wv),this.cg,this);y(this,Vc(xv),this.cg,this);this.cg();var c=a.weight?a.weight:"weight",d;"string"===typeof c?d=function(a){return a.get(c)}:d=c;this.g(function(a){a=
d(a);a=void 0!==a?Ca(a,0,1):1;var b=255*a|0,c=this.B[b];c||(c=[new bl({image:new eo({opacity:a,src:this.I})})],this.B[b]=c);return c}.bind(this));this.set(Pt,null);y(this,"render",this.Sl,this)}v(V,T);var vv=["#00f","#0ff","#0f0","#ff0","#f00"];k=V.prototype;k.uh=function(){return this.get(wv)};k.Bh=function(){return this.get(uv)};k.yi=function(){return this.get(xv)};
k.Bl=function(){for(var a=this.Bh(),b=jd(1,256),c=b.createLinearGradient(0,0,1,256),d=1/(a.length-1),e=0,f=a.length;e<f;++e)c.addColorStop(e*d,a[e]);b.fillStyle=c;b.fillRect(0,0,1,256);this.j=b.getImageData(0,0,1,256).data};k.cg=function(){var a=this.yi(),b=this.uh(),c=a+b+1,d=2*c,d=jd(d,d);d.shadowOffsetX=d.shadowOffsetY=this.R;d.shadowBlur=b;d.shadowColor="#000";d.beginPath();b=c-this.R;d.arc(b,b,a,0,2*Math.PI,!0);d.fill();this.I=d.canvas.toDataURL();this.B=Array(256);this.s()};
k.Sl=function(a){a=a.context;var b=a.canvas,b=a.getImageData(0,0,b.width,b.height),c=b.data,d,e;var f=0;for(d=c.length;f<d;f+=4)if(e=4*c[f+3])c[f]=this.j[e],c[f+1]=this.j[e+1],c[f+2]=this.j[e+2];a.putImageData(b,0,0)};k.jj=function(a){this.set(wv,a)};k.pj=function(a){this.set(uv,a)};k.Uc=function(a){this.set(xv,a)};var wv="blur",uv="gradient",xv="radius";function yv(a){Gt.call(this,a);this.v=Bh();this.j=null}v(yv,Gt);yv.prototype.S=function(a,b,c){It(this,"precompose",c,a,void 0);var d=this.Y();if(d){var e=b.extent,f=void 0!==e&&!Va(e,a.extent)&&qb(e,a.extent);f&&Ht(c,a,e);var e=this.C(),g=c.globalAlpha;c.globalAlpha=b.opacity;c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[4]),Math.round(e[5]),Math.round(d.width*e[0]),Math.round(d.height*e[3]));c.globalAlpha=g;f&&c.restore()}this.ef(c,a,b)};
yv.prototype.Ea=function(a,b,c,d,e){var f=this.a;return f.ha().Ea(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})};
yv.prototype.u=function(a,b,c,d){if(this.Y()){if(this.a.ha().Ea!==ua)return Gt.prototype.u.apply(this,arguments);var e=Gh(this.v,a.slice());gf(e,b.viewState.resolution/this.f);this.j||(this.j=jd(1,1));this.j.clearRect(0,0,1,1);this.j.drawImage(this.Y(),e[0],e[1],1,1,0,0,1,1);e=this.j.getImageData(0,0,1,1).data;if(0<e[3])return c.call(d,this.a,e)}};function zv(a){yv.call(this,a);this.M=null;this.c=Bh()}v(zv,yv);zv.prototype.Y=function(){return this.M?this.M.Y():null};zv.prototype.C=function(){return this.c};
zv.prototype.sd=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.center,g=e.resolution,h=this.a.ha(),l=a.viewHints,m=a.extent;void 0!==b.extent&&(m=pb(m,b.extent));l[0]||l[1]||kb(m)||(b=h.Y(m,g,c,e.projection))&&At(this,b)&&(this.M=b);if(this.M){b=this.M;var l=b.G(),m=b.resolution,e=b.a,n=c*m/(g*e),l=Kh(this.c,c*d[0]/2,c*d[1]/2,n,n,0,e*(l[0]-f[0])/m,e*(f[1]-l[3])/m);Kh(this.v,c*d[0]/2-l[4],c*d[1]/2-l[5],c/g,-c/g,0,-f[0],-f[1]);Ct(a.attributions,b.f);Dt(a,h);this.f=g*c/e}return!!this.M};function Av(a,b,c,d){var e=gc(c,b,a);c=Sb(b,d,c);b=b.sc();void 0!==b&&(c*=b);b=a.sc();void 0!==b&&(c/=b);a=Sb(a,c,e)/c;isFinite(a)&&0<a&&(c/=a);return c}function Bv(a,b,c,d){a=c-a;b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]}
function Cv(a,b,c,d,e,f,g,h,l,m,n){var p=jd(Math.round(c*a),Math.round(c*b));if(!l.length)return p.canvas;p.scale(c,c);var q=Oa();l.forEach(function(a){cb(q,a.extent)});var r=jd(Math.round(c*lb(q)/d),Math.round(c*mb(q)/d)),u=c/d;l.forEach(function(a){r.drawImage(a.image,m,m,a.image.width-2*m,a.image.height-2*m,(a.extent[0]-q[0])*u,-(a.extent[3]-q[3])*u,lb(a.extent)*u,mb(a.extent)*u)});var x=ib(g);h.c.forEach(function(a){var b=a.source,e=a.target,g=b[1][0],h=b[1][1],l=b[2][0],m=b[2][1];a=(e[0][0]-
x[0])/f;var n=-(e[0][1]-x[1])/f,u=(e[1][0]-x[0])/f,B=-(e[1][1]-x[1])/f,da=(e[2][0]-x[0])/f,fb=-(e[2][1]-x[1])/f,e=b[0][0],b=b[0][1],g=g-e,h=h-b,l=l-e,m=m-b;a:{g=[[g,h,0,0,u-a],[l,m,0,0,da-a],[0,0,g,h,B-n],[0,0,l,m,fb-n]];h=g.length;for(l=0;l<h;l++){for(var m=l,ca=Math.abs(g[l][l]),Ub=l+1;Ub<h;Ub++){var uc=Math.abs(g[Ub][l]);uc>ca&&(ca=uc,m=Ub)}if(!ca){g=null;break a}ca=g[m];g[m]=g[l];g[l]=ca;for(m=l+1;m<h;m++)for(ca=-g[m][l]/g[l][l],Ub=l;Ub<h+1;Ub++)g[m][Ub]=l==Ub?0:g[m][Ub]+ca*g[l][Ub]}l=Array(h);
for(m=h-1;0<=m;m--)for(l[m]=g[m][h]/g[m][m],ca=m-1;0<=ca;ca--)g[ca][h]-=g[ca][m]*l[m];g=l}g&&(p.save(),p.beginPath(),l=(a+u+da)/3,m=(n+B+fb)/3,h=Bv(l,m,a,n),u=Bv(l,m,u,B),da=Bv(l,m,da,fb),p.moveTo(u[0],u[1]),p.lineTo(h[0],h[1]),p.lineTo(da[0],da[1]),p.clip(),p.transform(g[0],g[2],g[1],g[3],a,n),p.translate(q[0]-e,q[3]-b),p.scale(d/c,-d/c),p.drawImage(r.canvas,0,0),p.restore())});n&&(p.save(),p.strokeStyle="black",p.lineWidth=1,h.c.forEach(function(a){var b=a.target;a=(b[0][0]-x[0])/f;var c=-(b[0][1]-
x[1])/f,d=(b[1][0]-x[0])/f,e=-(b[1][1]-x[1])/f,g=(b[2][0]-x[0])/f,b=-(b[2][1]-x[1])/f;p.beginPath();p.moveTo(d,e);p.lineTo(a,c);p.lineTo(g,b);p.closePath();p.stroke()}),p.restore());return p.canvas};function Dv(a,b,c,d,e){this.i=a;this.f=b;var f={},g=ec(this.f,this.i);this.a=function(a){var b=a[0]+"/"+a[1];f[b]||(f[b]=g(a));return f[b]};this.g=d;this.v=e*e;this.c=[];this.o=!1;this.l=this.i.i&&!!d&&!!this.i.G()&&lb(d)==lb(this.i.G());this.b=this.i.G()?lb(this.i.G()):null;this.j=this.f.G()?lb(this.f.G()):null;a=ib(c);b=hb(c);d=gb(c);c=eb(c);e=this.a(a);var h=this.a(b),l=this.a(d),m=this.a(c);Ev(this,a,b,d,c,e,h,l,m,10);if(this.o){var n=Infinity;this.c.forEach(function(a){n=Math.min(n,a.source[0][0],
a.source[1][0],a.source[2][0])});this.c.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-n>this.b/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-n>this.b/2&&(b[0][0]-=this.b);b[1][0]-n>this.b/2&&(b[1][0]-=this.b);b[2][0]-n>this.b/2&&(b[2][0]-=this.b);Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.b/2&&(a.source=b)}},this)}f={}}
function Ev(a,b,c,d,e,f,g,h,l,m){var n=Na([f,g,h,l]),p=a.b?lb(n)/a.b:null,q=a.b,r=a.i.i&&.5<p&&1>p,u=!1;if(0<m){if(a.f.c&&a.j)var x=Na([b,c,d,e]),u=u|.25<lb(x)/a.j;!r&&a.i.c&&p&&(u|=.25<p)}if(u||!a.g||qb(n,a.g)){if(!(u||isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1])))if(0<m)u=!0;else return;if(0<m&&(u||(n=a.a([(b[0]+d[0])/2,(b[1]+d[1])/2]),q=r?(Ia(f[0],q)+Ia(h[0],q))/2-Ia(n[0],q):(f[0]+h[0])/2-n[0],n=(f[1]+h[1])/2-n[1],
u=q*q+n*n>a.v),u)){Math.abs(b[0]-d[0])<=Math.abs(b[1]-d[1])?(r=[(c[0]+d[0])/2,(c[1]+d[1])/2],q=a.a(r),n=[(e[0]+b[0])/2,(e[1]+b[1])/2],p=a.a(n),Ev(a,b,c,r,n,f,g,q,p,m-1),Ev(a,n,r,d,e,p,q,h,l,m-1)):(r=[(b[0]+c[0])/2,(b[1]+c[1])/2],q=a.a(r),n=[(d[0]+e[0])/2,(d[1]+e[1])/2],p=a.a(n),Ev(a,b,r,n,e,f,q,p,l,m-1),Ev(a,r,c,d,n,q,g,h,p,m-1));return}if(r){if(!a.l)return;a.o=!0}a.c.push({source:[f,h,l],target:[b,d,e]});a.c.push({source:[f,g,h],target:[b,c,d]})}}
function Fv(a){var b=Oa();a.c.forEach(function(a){a=a.source;Pa(b,a[0]);Pa(b,a[1]);Pa(b,a[2])});return b};function Gv(a,b,c,d,e,f){this.v=b;this.l=a.G();var g=b.G(),h=g?pb(c,g):c,g=Av(a,b,nb(h),d);this.j=new Dv(a,b,h,this.l,.5*g);this.c=d;this.i=c;a=Fv(this.j);this.o=(this.Hb=f(a,g,e))?this.Hb.a:1;this.ee=this.g=null;e=2;f=[];this.Hb&&(e=0,f=this.Hb.f);Is.call(this,c,d,this.o,e,f)}v(Gv,Is);Gv.prototype.ka=function(){1==this.state&&(Ec(this.ee),this.ee=null);Is.prototype.ka.call(this)};Gv.prototype.Y=function(){return this.g};
Gv.prototype.de=function(){var a=this.Hb.getState();2==a&&(this.g=Cv(lb(this.i)/this.c,mb(this.i)/this.c,this.o,this.Hb.resolution,0,this.c,this.i,this.j,[{extent:this.Hb.G(),image:this.Hb.Y()}],0));this.state=a;this.s()};Gv.prototype.load=function(){if(0==this.state){this.state=1;this.s();var a=this.Hb.getState();2==a||3==a?this.de():(this.ee=y(this.Hb,"change",function(){var a=this.Hb.getState();if(2==a||3==a)Ec(this.ee),this.ee=null,this.de()},this),this.Hb.load())}};function Hv(a){$t.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.C=void 0!==a.resolutions?a.resolutions:null;this.a=null;this.fa=0}v(Hv,$t);function Iv(a,b){a.C&&(b=a.C[ka(a.C,b,0)]);return b}
Hv.prototype.Y=function(a,b,c,d){var e=this.c;if(e&&d&&!dc(e,d)){if(this.a){if(this.fa==this.i&&dc(this.a.v,d)&&this.a.resolution==b&&this.a.a==c&&bb(this.a.G(),a))return this.a;Nc(this.a);this.a=null}this.a=new Gv(e,d,a,b,c,function(a,b,c){return this.Jc(a,b,c,e)}.bind(this));this.fa=this.i;return this.a}e&&(d=e);return this.Jc(a,b,c,d)};Hv.prototype.o=function(a){a=a.target;switch(a.getState()){case 1:this.b(new Jv(Kv,a));break;case 2:this.b(new Jv(Lv,a));break;case 3:this.b(new Jv(Mv,a))}};
function Nv(a,b){a.Y().src=b}function Jv(a,b){Oc.call(this,a);this.image=b}v(Jv,Oc);var Kv="imageloadstart",Lv="imageloadend",Mv="imageloaderror";function Ov(a){Hv.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state});this.pa=a.canvasFunction;this.R=null;this.T=0;this.va=void 0!==a.ratio?a.ratio:1.5}v(Ov,Hv);Ov.prototype.Jc=function(a,b,c,d){b=Iv(this,b);var e=this.R;if(e&&this.T==this.i&&e.resolution==b&&e.a==c&&Va(e.G(),a))return e;a=a.slice();rb(a,this.va);(d=this.pa(a,b,c,[lb(a)/b*c,mb(a)/b*c],d))&&(e=new Ks(a,b,c,this.j,d));this.R=e;this.T=this.i;return e};function Pv(a){this.f=a.source;this.$a=Bh();this.g=jd();this.l=[0,0];this.Sa=void 0==a.renderBuffer?100:a.renderBuffer;this.B=null;Ov.call(this,{attributions:a.attributions,canvasFunction:this.tk.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.f.getState()});this.I=null;this.v=void 0;this.Ii(a.style);y(this.f,"change",this.ro,this)}v(Pv,Ov);k=Pv.prototype;
k.tk=function(a,b,c,d,e){var f=new pt(.5*b/c,a,b,this.f.T,this.Sa);this.f.Yd(a,b,e);var g=!1;this.f.$b(a,function(a){var d;if(!(d=g)){var e;(d=a.Lc())?e=d.call(a,b):this.v&&(e=this.v(a,b));if(e){var h,p=!1;Array.isArray(e)||(e=[e]);d=0;for(h=e.length;d<h;++d)p=Mt(f,a,e[d],Lt(b,c),this.qo,this)||p;d=p}else d=!1}g=d},this);tt(f);if(g)return null;this.l[0]!=d[0]||this.l[1]!=d[1]?(this.g.canvas.width=d[0],this.g.canvas.height=d[1],this.l[0]=d[0],this.l[1]=d[1]):this.g.clearRect(0,0,d[0],d[1]);a=Qv(this,
nb(a),b,c,d);f.La(this.g,c,a,0,{});this.B=f;return this.g.canvas};k.Ea=function(a,b,c,d,e,f){if(this.B){var g={};return this.B.Ea(a,b,0,d,e,function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,f(a)})}};k.no=function(){return this.f};k.oo=function(){return this.I};k.po=function(){return this.v};function Qv(a,b,c,d,e){c=d/c;return Kh(a.$a,e[0]/2,e[1]/2,c,-c,0,-b[0],-b[1])}k.qo=function(){this.s()};k.ro=function(){bu(this,this.f.getState())};
k.Ii=function(a){this.I=void 0!==a?a:fl;this.v=a?dl(this.I):void 0;this.s()};function Rv(a,b){Vt.call(this,a,b);this.o=this.f=this.M=null}v(Rv,Vt);function Sv(a,b){b=b.Y();return Ti(a.c.i,b)}Rv.prototype.Ea=function(a,b,c,d,e){var f=this.a;return f.ha().Ea(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})};
Rv.prototype.ng=function(a,b){var c=this.c.i,d=a.pixelRatio,e=a.viewState,f=e.center,g=e.resolution,h=e.rotation,l=this.M,m=this.Ib,n=this.a.ha(),p=a.viewHints,q=a.extent;void 0!==b.extent&&(q=pb(q,b.extent));p[0]||p[1]||kb(q)||(b=n.Y(q,g,d,e.projection))&&At(this,b)&&(l=b,m=Sv(this,b),this.Ib&&a.postRenderFunctions.push(function(a,b){a.isContextLost()||a.deleteTexture(b)}.bind(null,c,this.Ib)));l&&(c=this.c.f.j,Tv(this,c.width,c.height,d,f,g,h,l.G()),this.o=null,d=this.v,Ch(d),Ih(d,1,-1),Jh(d,0,
-1),this.M=l,this.Ib=m,Ct(a.attributions,l.f),Dt(a,n));return!!l};function Tv(a,b,c,d,e,f,g,h){b*=f;c*=f;a=a.S;Ch(a);Ih(a,2*d/b,2*d/c);Hh(a,-g);Jh(a,h[0]-e[0],h[1]-e[1]);Ih(a,(h[2]-h[0])/2,(h[3]-h[1])/2);Jh(a,1,1)}Rv.prototype.Ue=function(a,b){return void 0!==this.Ea(a,b,0,mf,this)};
Rv.prototype.lg=function(a,b,c,d){if(this.M&&this.M.Y())if(this.a.ha()instanceof Pv){var e=Gh(b.pixelToCoordinateTransform,a.slice());if(this.Ea(e,b,0,mf,this))return c.call(d,this.a,null)}else{e=[this.M.Y().width,this.M.Y().height];if(!this.o){var f=b.size;b=Bh();Jh(b,-1,-1);Ih(b,2/f[0],2/f[1]);Jh(b,0,f[1]);Ih(b,1,-1);var f=Lh(this.S.slice()),g=Bh();Jh(g,0,e[1]);Ih(g,1,-1);Ih(g,e[0]/2,e[1]/2);Jh(g,1,1);Eh(g,f);Eh(g,b);this.o=g}a=Gh(this.o,a.slice());if(!(0>a[0]||a[0]>e[0]||0>a[1]||a[1]>e[1])&&(this.f||
(this.f=jd(1,1)),this.f.clearRect(0,0,1,1),this.f.drawImage(this.M.Y(),a[0],a[1],1,1,0,0,1,1),e=this.f.getImageData(0,0,1,1).data,0<e[3]))return c.call(d,this.a,e)}};function Uv(a){wh.call(this,a?a:{})}v(Uv,wh);Uv.prototype.Fd=function(a){var b=null,c=a.U();"canvas"===c?b=new zv(this):"webgl"===c&&(b=new Rv(a,this));return b};function Vv(a){yv.call(this,a);this.c=null===this.c?null:jd();this.o=null;this.g=[];this.l=Oa();this.va=new ya(0,0,0,0);this.B=Bh();this.T=0}v(Vv,yv);function Wv(a,b){b=b.getState();a=a.a.kd();return 2==b||4==b||3==b&&!a}
Vv.prototype.sd=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.projection,g=e.resolution,e=e.center,h=this.a,l=h.ha(),m=l.i,n=l.Ta(f),p=n.tc(g,this.T),q=n.Da(p),r=Math.round(g/q)||1,u=a.extent;void 0!==b.extent&&(u=pb(u,b.extent));if(kb(u))return!1;var x=rc(n,u,q);var B=n.Pc(p);var E=n.Da(p),A=Ma(n.gb(p),n.j);B=Xa(B[0]+x.ca*A[0]*E,B[1]+x.da*A[1]*E,B[0]+(x.$+1)*A[0]*E,B[1]+(x.ia+1)*A[1]*E,void 0);E=l.nb(c);A={};A[p]={};var L=this.Nf(l,f,A),oa=this.l,ha=this.va,ga=!1,z,M;for(z=x.ca;z<=
x.$;++z)for(M=x.da;M<=x.ia;++M){var ba=l.Nc(p,z,M,c,f);3!=ba.getState()||this.a.kd()||Ns(ba,2);Wv(this,ba)||(ba=Ms(ba));Wv(this,ba)?2==ba.getState()&&(A[p][ba.ta.toString()]=ba,ga||-1!=this.g.indexOf(ba)||(ga=!0)):pc(n,ba.ta,L,ha,oa)||(ba=qc(n,ba.ta,ha,oa))&&L(p+1,ba)}z=a.viewHints;z=z[0]||z[1];if(!(this.f&&16<Date.now()-a.time&&z||!ga&&this.o&&Va(this.o,u)&&this.mf==m&&r==this.R&&(z||q*c/E*r==this.f))){if(z=this.c)M=l.Xd(p,c,f),ba=Math.round((x.$-x.ca+1)*M[0]/r),M=Math.round((x.ia-x.da+1)*M[1]/r),
ga=z.canvas,ga.width!=ba||ga.height!=M?(this.R=r,ga.width=ba,ga.height=M):(z.clearRect(0,0,ba,M),r=this.R);this.g.length=0;ga=Object.keys(A).map(Number);ga.sort(ia);var da,ha=0;for(da=ga.length;ha<da;++ha){z=ga[ha];L=l.Xd(z,c,f);ba=n.Da(z);var fb=ba/q;var ca=E*l.Wf(f);var Ub=A[z];for(var uc in Ub){ba=Ub[uc];M=n.Aa(ba.ta,oa);z=(M[0]-B[0])/q*E/r;M=(B[3]-M[3])/q*E/r;var bc=L[0]*fb/r;var Je=L[1]*fb/r;this.Of(ba,a,b,z,M,bc,Je,ca);this.g.push(ba)}}this.mf=m;this.f=q*c/E*r;this.o=B}b=this.f/g;b=Kh(this.B,
c*d[0]/2,c*d[1]/2,b,b,0,(this.o[0]-e[0])/this.f*c,(e[1]-this.o[3])/this.f*c);Kh(this.v,c*d[0]/2-b[4],c*d[1]/2-b[5],c/g,-c/g,0,-e[0],-e[1]);Et(a.usedTiles,l,p,x);Ft(a,l,n,c,f,u,p,h.Ud());Bt(a,l);Dt(a,l);return 0<this.g.length};Vv.prototype.Of=function(a,b,c,d,e,f,g,h){this.a.ha().Zf(b.viewState.projection)||this.c.clearRect(d,e,f,g);(a=a.Y())&&this.c.drawImage(a,h,h,a.width-2*h,a.height-2*h,d,e,f,g)};Vv.prototype.Y=function(){var a=this.c;return a?a.canvas:null};Vv.prototype.C=function(){return this.B};function Xv(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}v(Xv,mi);var Yv=new Xv;function Zv(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}v(Zv,ni);var $v=new Zv;function aw(a,b){this.i=a.getUniformLocation(b,"e");this.c=a.getUniformLocation(b,"d");this.b=a.getAttribLocation(b,"b");this.a=a.getAttribLocation(b,"c")};function bw(a,b){Vt.call(this,a,b);this.I=Yv;this.fa=$v;this.f=null;this.B=new Di([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.D=this.o=null;this.l=-1;this.R=[0,0]}v(bw,Vt);k=bw.prototype;k.ka=function(){Gi(this.c.f,this.B);Vt.prototype.ka.call(this)};k.Nf=function(a,b,c){var d=this.c;return function(e,f){return yt(a,b,e,f,function(a){var b=d.a.b.hasOwnProperty(a.bb());b&&(c[e]||(c[e]={}),c[e][a.ta.toString()]=a);return b})}};k.mg=function(){Vt.prototype.mg.call(this);this.f=null};
k.ng=function(a,b,c){var d=this.c,e=c.b,f=a.viewState,g=f.projection,h=this.a,l=h.ha(),m=l.Ta(g),n=m.tc(f.resolution),p=m.Da(n),q=l.Xd(n,a.pixelRatio,g),r=q[0]/Ma(m.gb(n),this.R)[0],u=p/r,x=l.nb(r)*l.Wf(g),B=f.center,E=a.extent,A=rc(m,E,p);if(this.o&&Aa(this.o,A)&&this.l==l.i)u=this.D;else{var L=[A.$-A.ca+1,A.ia-A.da+1],oa=Ea(Math.max(L[0]*q[0],L[1]*q[1])),L=u*oa,ha=m.Pc(n),ga=ha[0]+A.ca*q[0]*u,u=ha[1]+A.da*q[1]*u,u=[ga,u,ga+L,u+L];Wt(this,a,oa);e.viewport(0,0,oa,oa);e.clearColor(0,0,0,0);e.clear(16384);
e.disable(3042);oa=Hi(c,this.I,this.fa);c.Qc(oa);this.f||(this.f=new aw(e,oa));wi(c,34962,this.B);e.enableVertexAttribArray(this.f.b);e.vertexAttribPointer(this.f.b,2,5126,!1,16,0);e.enableVertexAttribArray(this.f.a);e.vertexAttribPointer(this.f.a,2,5126,!1,16,8);e.uniform1i(this.f.i,0);c={};c[n]={};var z=this.Nf(l,g,c),M=h.kd(),oa=!0,ga=Oa(),ba=new ya(0,0,0,0),da,fb;for(da=A.ca;da<=A.$;++da)for(fb=A.da;fb<=A.ia;++fb){ha=l.Nc(n,da,fb,r,g);if(void 0!==b.extent){var ca=m.Aa(ha.ta,ga);if(!qb(ca,b.extent))continue}ca=
ha.getState();(ca=2==ca||4==ca||3==ca&&!M)||(ha=Ms(ha));ca=ha.getState();if(2==ca){if(d.a.b.hasOwnProperty(ha.bb())){c[n][ha.ta.toString()]=ha;continue}}else if(4==ca||3==ca&&!M)continue;oa=!1;ca=pc(m,ha.ta,z,ba,ga);ca||(ha=qc(m,ha.ta,ba,ga))&&z(n+1,ha)}b=Object.keys(c).map(Number);b.sort(ia);for(var z=new Float32Array(4),Ub,M=0,ba=b.length;M<ba;++M)for(Ub in da=c[b[M]],da)ha=da[Ub],ca=m.Aa(ha.ta,ga),z[0]=2*(ca[2]-ca[0])/L,z[1]=2*(ca[3]-ca[1])/L,z[2]=2*(ca[0]-u[0])/L-1,z[3]=2*(ca[1]-u[1])/L-1,e.uniform4fv(this.f.c,
z),nk(d,ha,q,x*r),e.drawArrays(5,0,4);oa?(this.o=A,this.D=u,this.l=l.i):(this.D=this.o=null,this.l=-1,a.animate=!0)}Et(a.usedTiles,l,n,A);var uc=d.j;Ft(a,l,m,r,g,E,n,h.Ud(),function(a){2!=a.getState()||d.a.b.hasOwnProperty(a.bb())||a.bb()in uc.a||uc.f([a,tc(m,a.ta),m.Da(a.ta[0]),q,x*r])},this);Bt(a,l);Dt(a,l);e=this.v;Ch(e);Jh(e,(Math.round(B[0]/p)*p-u[0])/(u[2]-u[0]),(Math.round(B[1]/p)*p-u[1])/(u[3]-u[1]));f.rotation&&Hh(e,f.rotation);Ih(e,a.size[0]*f.resolution/(u[2]-u[0]),a.size[1]*f.resolution/
(u[3]-u[1]));Jh(e,-.5,-.5);return!0};k.lg=function(a,b,c,d){if(this.g){a=Gh(this.v,[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]].slice());a=[a[0]*this.j,a[1]*this.j];b=this.c.f.b;b.bindFramebuffer(b.FRAMEBUFFER,this.g);var e=new Uint8Array(4);b.readPixels(a[0],a[1],1,1,b.RGBA,b.UNSIGNED_BYTE,e);if(0<e[3])return c.call(d,this.a,e)}};function cw(a){a=a?a:{};var b=tb({},a);delete b.preload;delete b.useInterimTilesOnError;wh.call(this,b);this.zi(void 0!==a.preload?a.preload:0);this.Ai(void 0!==a.useInterimTilesOnError?a.useInterimTilesOnError:!0)}v(cw,wh);k=cw.prototype;k.Fd=function(a){var b=null,c=a.U();"canvas"===c?b=new Vv(this):"webgl"===c&&(b=new bw(a,this));return b};k.Ud=function(){return this.get("preload")};k.zi=function(a){this.set("preload",a)};k.kd=function(){return this.get("useInterimTilesOnError")};
k.Ai=function(a){this.set("useInterimTilesOnError",a)};function dw(a){this.c=null;Vv.call(this,a);this.I=!1;this.D=Bh();this.T="vector"==a.j?1:0}v(dw,Vv);var ew={image:ji,hybrid:["Polygon","LineString"]},fw={hybrid:["Image","Text"],vector:ji};k=dw.prototype;k.sd=function(a,b){var c=this.a,d=c.i;this.pa!=d&&(this.g.length=0,c=c.j,this.c||"vector"==c||(this.c=jd()),this.c&&"vector"==c&&(this.c=null));this.pa=d;return Vv.prototype.sd.apply(this,arguments)};
k.Of=function(a,b,c,d,e,f,g,h){var l=a,m=this.a,n=b.pixelRatio,p=b.viewState.projection,q=m.i,r=m.get(Pt)||null,u=l.o;if(u.Nd||u.mf!=q||u.Kg!=r){for(var x=0,B=l.a.length;x<B;++x){var E=l.c[l.a[x]];E.S=null;u.Nd=!1;var A=m.ha(),L=A.tileGrid,oa=E.ta,ha=E.a,ga=A.Ta(p),z=ga.Da(l.ta[0]),M=L.Da(E.ta[0]),ga=ga.Aa(l.v),oa=L.Aa(oa),ga=pb(ga,oa);if("tile-pixels"==ha.a)var ba=L=A.nb(),M=Kh(this.D,0,0,1/M*ba,-1/M*ba,0,-oa[0],-oa[3]),M=Gh(M,[ga[0],ga[3]]).concat(Gh(M,[ga[2],ga[1]]));else if(L=z,M=ga,!dc(p,ha)){var da=
!0;E.ig(p)}u.Nd=!1;A=new pt(0,M,L,A.l,m.c);M=Lt(L,n);L=E.g;r&&r!==u.Kg&&L.sort(r);oa=0;for(ga=L.length;oa<ga;++oa){ba=L[oa];da&&ba.V().tb(ha,p);var fb=void 0,ca=ba.Lc();ca?fb=ca.call(ba,z):(ca=m.f)&&(fb=ca(ba,z));if(fb){Array.isArray(fb)||(fb=[fb]);var ca=M,Ub=A;if(fb){var uc=!1;if(Array.isArray(fb))for(var bc=0,Je=fb.length;bc<Je;++bc)uc=Mt(Ub,ba,fb[bc],ca,this.Fi,this)||uc;else uc=Mt(Ub,ba,fb,ca,this.Fi,this)||uc;ba=uc}else ba=!1;this.I=this.I||ba;u.Nd=u.Nd||ba}}tt(A);E.c[l.ta.toString()]=A}u.mf=
q;u.Kg=r}if(this.c){x=b;p=this.a;n=l.o;q=p.i;if((m=ew[p.j])&&n.Lg!==q)for(n.Lg=q,B=l.v,E=B[0],n=x.pixelRatio,z=p.ha(),p=z.tileGrid,ha=z.Ta(x.viewState.projection),q=ha.Da(E),r=z.nb(),l.j||(l.j=jd()),u=l.j,x=z.Xd(E,n,x.viewState.projection),u.canvas.width=x[0],u.canvas.height=x[1],x=ha.Aa(B),B=0,E=l.a.length;B<E;++B)ha=l.c[l.a[B]],A=ha.ta,da=n/q,z=Ch(this.D),"tile-pixels"==ha.a.a?(da=p.Aa(A,this.l),A=p.Da(A[0]),M=n/r*A/q,Ih(z,M,M),Jh(z,Math.round((da[0]-x[0])/A*r),Math.round((x[3]-da[3])/A*r))):(Ih(z,
da,-da),Jh(z,-x[0],-x[3])),ha.c[l.ta.toString()].La(u,n,z,0,{},m);Vv.prototype.Of.apply(this,arguments)}};
k.Ea=function(a,b,c,d,e){var f=b.viewState.resolution,g=b.viewState.rotation;c=void 0==c?0:c;var h=this.a,l={},m=this.g,n=h.ha();b=n.Ta(b.viewState.projection);var p=n.tileGrid,q;var r=0;for(q=m.length;r<q;++r){var u=m[r];var x=u.ta;x=b.Aa(x,this.l);var B=Qa(x,c*f,B);if(Ta(B,a)){x=0;for(var E=u.a.length;x<E;++x){var A=u.c[u.a[x]];if("tile-pixels"===A.a.a){var L=A.ta;f=p.Aa(L,this.l);var oa=ib(f);f=n.nb();L=p.Da(L[0])/f;oa=[(a[0]-oa[0])/L,(oa[1]-a[1])/L]}else oa=a;A=A.c[u.ta];var ha=ha||A.Ea(oa,f,
g,c,{},function(a){var b=w(a).toString();if(!(b in l))return l[b]=!0,d.call(e,a,h)})}}}return ha};k.Fi=function(){zt(this)};
k.ef=function(a,b,c){var d=this.a,e=d.ha(),f=fw[d.j];if(f)for(var g=b.pixelRatio,h=b.viewState.rotation,l=b.size,m=Math.round(g*l[0]/2),l=Math.round(g*l[1]/2),n=this.g,d=d.ha().nb(),p=e.tileGrid,e=e.Ta(b.viewState.projection),q=[],r=[],u=n.length-1;0<=u;--u){var x=n[u];if(5!=x.getState())for(var B=x.ta,E=e.Aa(B)[0]-e.Aa(x.v)[0],A=0,L=x.a.length;A<L;++A){var oa=x.c[x.a[A]],ha=oa.ta[0],ga=p.Da(ha);var z=oa;var M=b;if("tile-pixels"==z.a.a){var ba=this.a.ha(),da=ba.tileGrid,fb=z.ta,ba=da.Da(fb[0])/ba.nb(),
z=M.viewState,ca=M.pixelRatio,Ub=z.resolution/ca,fb=da.Aa(fb,this.l),da=z.center,fb=ib(fb);M=M.size;M=Kh(this.D,Math.round(ca*M[0]/2),Math.round(ca*M[1]/2),ba/Ub,ba/Ub,z.rotation,(fb[0]-da[0])/ba,(da[1]-fb[1])/ba)}else M=Jt(this,M,0);Jh(M,E*d/ga,0);oa=oa.c[B.toString()];ga=vt(oa,M);a.save();a.globalAlpha=c.opacity;Vh(a,-h,m,l);ba=0;for(z=q.length;ba<z;++ba)ca=q[ba],ha<r[ba]&&(a.beginPath(),a.moveTo(ga[0],ga[1]),a.lineTo(ga[2],ga[3]),a.lineTo(ga[4],ga[5]),a.lineTo(ga[6],ga[7]),a.moveTo(ca[6],ca[7]),
a.lineTo(ca[4],ca[5]),a.lineTo(ca[2],ca[3]),a.lineTo(ca[0],ca[1]),a.clip());oa.La(a,g,M,h,{},f);a.restore();q.push(ga);r.push(ha)}}Vv.prototype.ef.apply(this,arguments)};function W(a){a=a?a:{};var b=tb({},a);delete b.preload;delete b.useInterimTilesOnError;T.call(this,b);this.Bi(a.preload?a.preload:0);this.Ci(a.useInterimTilesOnError?a.useInterimTilesOnError:!0);xa(void 0==a.renderMode||"image"==a.renderMode||"hybrid"==a.renderMode||"vector"==a.renderMode,28);this.j=a.renderMode||"hybrid"}v(W,T);k=W.prototype;k.Fd=function(a){var b=null;"canvas"===a.U()&&(b=new dw(this));return b};k.Ud=function(){return this.get("preload")};k.kd=function(){return this.get("useInterimTilesOnError")};
k.Bi=function(a){this.set("preload",a)};k.Ci=function(a){this.set("useInterimTilesOnError",a)};function gw(a,b,c,d){function e(){delete window[g];f.parentNode.removeChild(f)}var f=document.createElement("script"),g="olc_"+w(b);f.async=!0;f.src=a+(-1==a.indexOf("?")?"?":"&")+(d||"callback")+"="+g;var h=setTimeout(function(){e();c&&c()},1E4);window[g]=function(a){clearTimeout(h);e();b(a)};document.getElementsByTagName("head")[0].appendChild(f)};function hw(a,b,c,d,e,f,g,h,l,m,n){Ls.call(this,e,0);this.D=void 0!==n?n:!1;this.S=g;this.u=h;this.v=null;this.c=b;this.j=d;this.o=f?f:e;this.a=[];this.yd=null;this.g=0;f=d.Aa(this.o);h=this.j.G();e=this.c.G();f=h?pb(f,h):f;if(jb(f))if((h=a.G())&&(e?e=pb(e,h):e=h),d=Av(a,c,nb(f),d.Da(this.o[0])),!isFinite(d)||0>=d)this.state=4;else if(this.l=new Dv(a,c,f,e,d*(void 0!==m?m:.5)),this.l.c.length)if(this.g=b.tc(d),c=Fv(this.l),e&&(a.i?(c[1]=Ca(c[1],e[1],e[3]),c[3]=Ca(c[3],e[1],e[3])):c=pb(c,e)),jb(c)){a=
oc(b,c,this.g);for(b=a.ca;b<=a.$;b++)for(c=a.da;c<=a.ia;c++)(m=l(this.g,b,c,g))&&this.a.push(m);this.a.length||(this.state=4)}else this.state=4;else this.state=4;else this.state=4}v(hw,Ls);hw.prototype.ka=function(){1==this.state&&(this.yd.forEach(Ec),this.yd=null);Ls.prototype.ka.call(this)};hw.prototype.Y=function(){return this.v};
hw.prototype.de=function(){var a=[];this.a.forEach(function(b){b&&2==b.getState()&&a.push({extent:this.c.Aa(b.ta),image:b.Y()})},this);this.a.length=0;if(a.length){var b=this.o[0],c=this.j.gb(b),d="number"===typeof c?c:c[0],c="number"===typeof c?c:c[1],b=this.j.Da(b),e=this.c.Da(this.g),f=this.j.Aa(this.o);this.v=Cv(d,c,this.S,e,this.c.G(),b,f,this.l,a,this.u,this.D);this.state=2}else this.state=3;this.s()};
hw.prototype.load=function(){if(0==this.state){this.state=1;this.s();var a=0;this.yd=[];this.a.forEach(function(b){var c=b.getState();if(0==c||1==c){a++;var d=y(b,"change",function(){var c=b.getState();if(2==c||3==c||4==c)Ec(d),a--,a||(this.yd.forEach(Ec),this.yd=null,this.de())},this);this.yd.push(d)}},this);this.a.forEach(function(a){0==a.getState()&&a.load()});a||setTimeout(this.de.bind(this),0)}};function iw(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,f=/\{-y\}/g;return function(g){if(g)return a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){return(-g[2]-1).toString()}).replace(f,function(){var a=b.a?b.a[g[0]]:null;xa(a,55);return(a.ia-a.da+1+g[2]).toString()})}}function jw(a,b){for(var c=a.length,d=Array(c),e=0;e<c;++e)d[e]=iw(a[e],b);return kw(d)}function kw(a){return 1===a.length?a[0]:function(b,c,d){if(b)return a[Ia((b[1]<<b[0])+b[2],a.length)](b,c,d)}}
function lw(){}function mw(a){var b=[],c=/\{([a-z])-([a-z])\}/.exec(a);if(c){var d=c[2].charCodeAt(0),e;for(e=c[1].charCodeAt(0);e<=d;++e)b.push(a.replace(c[0],String.fromCharCode(e)));return b}if(c=c=/\{(\d+)-(\d+)\}/.exec(a)){d=parseInt(c[2],10);for(e=parseInt(c[1],10);e<=d;e++)b.push(a.replace(c[0],e.toString()));return b}b.push(a);return b};function nw(a){lk.call(this);this.highWaterMark=void 0!==a?a:2048}v(nw,lk);function ow(a){return a.c>a.highWaterMark}nw.prototype.fd=function(a){for(var b,c;ow(this);){b=this.a.Yc;c=b.ta[0].toString();var d;if(d=c in a)b=b.ta,d=za(a[c],b[1],b[2]);if(d)break;else Nc(this.pop())}};function pw(a){$t.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX});this.va=void 0!==a.opaque?a.opaque:!1;this.$a=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;this.a=new nw(a.cacheSize);this.o=[0,0];this.uc=""}v(pw,$t);k=pw.prototype;k.Ki=function(){return ow(this.a)};k.fd=function(a,b){(a=this.Wd(a))&&a.fd(b)};
function yt(a,b,c,d,e){b=a.Wd(b);if(!b)return!1;for(var f=!0,g,h,l=d.ca;l<=d.$;++l)for(var m=d.da;m<=d.ia;++m)g=a.Sb(c,l,m),h=!1,b.b.hasOwnProperty(g)&&(g=b.get(g),(h=2===g.getState())&&(h=!1!==e(g))),h||(f=!1);return f}k.Wf=function(){return 0};function qw(a,b){a.uc!==b&&(a.uc=b,a.s())}k.Sb=function(a,b,c){return a+"/"+b+"/"+c};k.Zf=function(){return this.va};k.ab=function(){return this.tileGrid};k.Ta=function(a){return this.tileGrid?this.tileGrid:vc(a)};
k.Wd=function(a){var b=this.c;return b&&!dc(b,a)?null:this.a};k.nb=function(){return this.$a};k.Xd=function(a,b,c){c=this.Ta(c);b=this.nb(b);a=Ma(c.gb(a),this.o);return 1==b?a:La(a,b,this.o)};function rw(a,b,c){var d=void 0!==c?c:a.c;c=a.Ta(d);if(a.u&&d.c){var e=b;b=e[0];a=tc(c,e);d=zc(d);Ta(d,a)?b=e:(e=lb(d),a[0]+=e*Math.ceil((d[0]-a[0])/e),b=c.bg(a,b))}e=b[0];d=b[1];a=b[2];if(c.minZoom>e||e>c.maxZoom)c=!1;else{var f=c.G();c=(c=f?oc(c,f,e):c.a?c.a[e]:null)?za(c,d,a):!0}return c?b:null}
k.sa=function(){this.a.clear();this.s()};k.Ug=ua;function sw(a,b){Oc.call(this,a);this.tile=b}v(sw,Oc);function tw(a){pw.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX});this.tileLoadFunction=a.tileLoadFunction;this.tileUrlFunction=this.Fc?this.Fc.bind(this):lw;this.urls=null;a.urls?this.eb(a.urls):a.url&&this.jb(a.url);a.tileUrlFunction&&this.cb(a.tileUrlFunction)}v(tw,pw);k=tw.prototype;k.pb=function(){return this.tileLoadFunction};
k.qb=function(){return this.tileUrlFunction};k.rb=function(){return this.urls};k.Li=function(a){a=a.target;switch(a.getState()){case 1:this.b(new sw("tileloadstart",a));break;case 2:this.b(new sw("tileloadend",a));break;case 3:this.b(new sw("tileloaderror",a))}};k.vb=function(a){this.a.clear();this.tileLoadFunction=a;this.s()};k.cb=function(a,b){this.tileUrlFunction=a;"undefined"!==typeof b?qw(this,b):this.s()};
k.jb=function(a){var b=this.urls=mw(a);this.cb(this.Fc?this.Fc.bind(this):jw(b,this.tileGrid),a)};k.eb=function(a){this.urls=a;var b=a.join("\n");this.cb(this.Fc?this.Fc.bind(this):jw(a,this.tileGrid),b)};k.Ug=function(a,b,c){a=this.Sb(a,b,c);this.a.b.hasOwnProperty(a)&&this.a.get(a)};function X(a){tw.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:uw,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX});this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null;this.tileClass=a.tileClass?a.tileClass:Os;this.g={};this.v={};this.Sa=a.reprojectionErrorThreshold;this.I=
!1}v(X,tw);k=X.prototype;k.Ki=function(){if(ow(this.a))return!0;for(var a in this.g)if(ow(this.g[a]))return!0;return!1};k.fd=function(a,b){a=this.Wd(a);this.a.fd(this.a==a?b:{});for(var c in this.g){var d=this.g[c];d.fd(d==a?b:{})}};k.Wf=function(a){return this.c&&a&&!dc(this.c,a)?0:this.Xf()};k.Xf=function(){return 0};k.Zf=function(a){return this.c&&a&&!dc(this.c,a)?!1:tw.prototype.Zf.call(this,a)};
k.Ta=function(a){var b=this.c;return!this.tileGrid||b&&!dc(b,a)?(b=w(a).toString(),b in this.v||(this.v[b]=vc(a)),this.v[b]):this.tileGrid};k.Wd=function(a){var b=this.c;if(!b||dc(b,a))return this.a;a=w(a).toString();a in this.g||(this.g[a]=new nw(this.a.highWaterMark));return this.g[a]};function vw(a,b,c,d,e,f,g){b=[b,c,d];e=(c=rw(a,b,f))?a.tileUrlFunction(c,e,f):void 0;e=new a.tileClass(b,void 0!==e?0:4,void 0!==e?e:"",a.crossOrigin,a.tileLoadFunction);e.key=g;y(e,"change",a.Li,a);return e}
k.Nc=function(a,b,c,d,e){if(this.c&&e&&!dc(this.c,e)){var f=this.Wd(e);c=[a,b,c];var g;a=this.Sb.apply(this,c);f.b.hasOwnProperty(a)&&(g=f.get(a));b=this.uc;if(g&&g.key==b)return g;var h=this.c,l=this.Ta(h),m=this.Ta(e),n=rw(this,c,e);d=new hw(h,l,e,m,c,n,this.nb(d),this.Xf(),function(a,b,c,d){return ww(this,a,b,c,d,h)}.bind(this),this.Sa,this.I);d.key=b;g?(d.i=g,f.replace(a,d)):f.set(a,d);return d}return ww(this,a,b,c,d,e)};
function ww(a,b,c,d,e,f){var g=a.Sb(b,c,d),h=a.uc;if(a.a.b.hasOwnProperty(g)){var l=a.a.get(g);if(l.key!=h){var m=l;l=vw(a,b,c,d,e,f,h);0==m.getState()?l.i=m.i:l.i=m;if(l.i){b=l.i;c=l;do{if(2==b.getState()){b.i=null;break}else 1==b.getState()?c=b:0==b.getState()?c.i=b.i:c=b;b=c.i}while(b)}a.a.replace(g,l)}}else l=vw(a,b,c,d,e,f,h),a.a.set(g,l);return l}k.Pb=function(a){if(this.I!=a){this.I=a;for(var b in this.g)this.g[b].clear();this.s()}};
k.Qb=function(a,b){if(a=Tb(a))a=w(a).toString(),a in this.v||(this.v[a]=b)};function uw(a,b){a.Y().src=b};function xw(a){this.B=void 0!==a.hidpi?a.hidpi:!1;X.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Tb("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,tilePixelRatio:this.B?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0});this.R=void 0!==a.culture?a.culture:"en-us";this.C=void 0!==a.maxZoom?a.maxZoom:-1;this.f=a.key;this.l=a.imagerySet;gw("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.l+"?uriScheme=https&include=ImageryProviders&key="+
this.f,this.pa.bind(this),void 0,"jsonp")}v(xw,X);var yw=new Ac({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});xw.prototype.T=function(){return this.f};xw.prototype.fa=function(){return this.l};
xw.prototype.pa=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)bu(this,"error");else{var b=a.brandLogoUri;-1==b.indexOf("https")&&(b=b.replace("http","https"));var c=a.resourceSets[0].resources[0],d=-1==this.C?c.zoomMax:this.C;a=zc(this.c);var e=xc({extent:a,minZoom:c.zoomMin,maxZoom:d,tileSize:(c.imageWidth==c.imageHeight?c.imageWidth:[c.imageWidth,c.imageHeight])/this.nb()});
this.tileGrid=e;var f=this.R,g=this.B;this.tileUrlFunction=kw(c.imageUrlSubdomains.map(function(a){var b=[0,0,0],d=c.imageUrl.replace("{subdomain}",a).replace("{culture}",f);return function(a){if(a)return jc(a[0],a[1],-a[2]-1,b),a=d,g&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",kc(b))}}));if(c.imageryProviders){var h=Vb(Tb("EPSG:4326"),this.c);a=c.imageryProviders.map(function(a){var b=a.attribution,c={};a.coverageAreas.forEach(function(a){var b=a.zoomMin,f=Math.min(a.zoomMax,d);a=a.bbox;
a=sb([a[1],a[0],a[3],a[2]],h);var g;for(g=b;g<=f;++g){var l=g.toString();b=oc(e,a,g);l in c?c[l].push(b):c[l]=[b]}});return new Ac({html:b,tileRanges:c})});a.push(yw);this.ua(a)}this.D=b;bu(this,"ready")}};function zw(a){a=a||{};var b=void 0!==a.projection?a.projection:"EPSG:3857",c=void 0!==a.tileGrid?a.tileGrid:xc({extent:zc(b),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize});X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,
wrapX:void 0!==a.wrapX?a.wrapX:!0})}v(zw,X);function Aw(a){this.C=a.account;this.B=a.map||"";this.f=a.config||{};this.l={};zw.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:void 0!==a.maxZoom?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:"loading",wrapX:a.wrapX});Bw(this)}v(Aw,zw);k=Aw.prototype;k.Kk=function(){return this.f};k.tq=function(a){tb(this.f,a);Bw(this)};k.Xp=function(a){this.f=a||{};Bw(this)};
function Bw(a){var b=JSON.stringify(a.f);if(a.l[b])Cw(a,a.l[b]);else{var c="https://"+a.C+".cartodb.com/api/v1/map";a.B&&(c+="/named/"+a.B);var d=new XMLHttpRequest;d.addEventListener("load",a.Dl.bind(a,b));d.addEventListener("error",a.Cl.bind(a));d.open("POST",c);d.setRequestHeader("Content-type","application/json");d.send(JSON.stringify(a.f))}}
k.Dl=function(a,b){b=b.target;if(!b.status||200<=b.status&&300>b.status){try{var c=JSON.parse(b.responseText)}catch(d){bu(this,"error");return}Cw(this,c);this.l[a]=c;bu(this,"ready")}else bu(this,"error")};k.Cl=function(){bu(this,"error")};function Cw(a,b){a.jb("https://"+b.cdn_url.https+"/"+a.C+"/api/v1/map/"+b.layergroupid+"/{z}/{x}/{y}.png")};function Y(a){U.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX});this.resolution=void 0;this.distance=void 0!==a.distance?a.distance:20;this.features=[];this.geometryFunction=a.geometryFunction||function(a){a=a.V();xa(a instanceof C,10);return a};this.source=a.source;this.source.J("change",Y.prototype.sa,this)}v(Y,U);k=Y.prototype;k.$n=function(){return this.distance};k.ao=function(){return this.source};
k.Yd=function(a,b,c){this.source.Yd(a,b,c);b!==this.resolution&&(this.clear(),this.resolution=b,Dw(this),this.cd(this.features))};k.Yp=function(a){this.distance=a;this.sa()};k.sa=function(){this.clear();Dw(this);this.cd(this.features);U.prototype.sa.call(this)};
function Dw(a){if(void 0!==a.resolution){a.features.length=0;for(var b=Oa(),c=a.distance*a.resolution,d=a.source.Xe(),e={},f=0,g=d.length;f<g;f++){var h=d[f];w(h).toString()in e||!(h=a.geometryFunction(h))||(h=h.X(),Za(h,b),Qa(b,c,b),h=a.source.Uf(b),h=h.filter(function(a){a=w(a).toString();return a in e?!1:e[a]=!0}),a.features.push(Ew(a,h)))}}}
function Ew(a,b){for(var c=[0,0],d=b.length-1;0<=d;--d){var e=a.geometryFunction(b[d]);e?Ze(c,e.X()):b.splice(d,1)}gf(c,1/b.length);a=new H(new C(c));a.set("features",b);return a};function Fw(a,b){var c=[];Object.keys(b).forEach(function(a){null!==b[a]&&void 0!==b[a]&&c.push(a+"="+encodeURIComponent(b[a]))});var d=c.join("&");a=a.replace(/[?&]$/,"");a=-1===a.indexOf("?")?a+"?":a+"&";return a+d};function Gw(a){a=a||{};Hv.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions});this.R=void 0!==a.crossOrigin?a.crossOrigin:null;this.T=void 0!==a.hidpi?a.hidpi:!0;this.f=a.url;this.g=a.imageLoadFunction?a.imageLoadFunction:Nv;this.v=a.params||{};this.M=null;this.l=[0,0];this.I=0;this.B=void 0!==a.ratio?a.ratio:1.5}v(Gw,Hv);k=Gw.prototype;k.co=function(){return this.v};
k.Jc=function(a,b,c,d){if(void 0===this.f)return null;b=Iv(this,b);c=this.T?c:1;var e=this.M;if(e&&this.I==this.i&&e.resolution==b&&e.a==c&&Va(e.G(),a))return e;e={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};tb(e,this.v);a=a.slice();var f=(a[0]+a[2])/2,g=(a[1]+a[3])/2;if(1!=this.B){var h=this.B*lb(a)/2,l=this.B*mb(a)/2;a[0]=f-h;a[1]=g-l;a[2]=f+h;a[3]=g+l}var h=b/c,l=Math.ceil(lb(a)/h),m=Math.ceil(mb(a)/h);a[0]=f-h*l/2;a[2]=f+h*l/2;a[1]=g-h*m/2;a[3]=g+h*m/2;this.l[0]=l;this.l[1]=m;f=a;g=this.l;h=c;d=
d.mb.split(":").pop();e.SIZE=g[0]+","+g[1];e.BBOX=f.join(",");e.BBOXSR=d;e.IMAGESR=d;e.DPI=Math.round(90*h);d=this.f;f=d.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");f==d&&xa(!1,50);e=Fw(f,e);this.M=new Js(a,b,c,this.j,e,this.R,this.g);this.I=this.i;y(this.M,"change",this.o,this);return this.M};k.bo=function(){return this.g};k.eo=function(){return this.f};k.fo=function(a){this.M=null;this.g=a;this.s()};
k.ho=function(a){a!=this.f&&(this.f=a,this.M=null,this.s())};k.io=function(a){tb(this.v,a);this.M=null;this.s()};function Hw(a){Hv.call(this,{projection:a.projection,resolutions:a.resolutions});this.R=void 0!==a.crossOrigin?a.crossOrigin:null;this.l=void 0!==a.displayDpi?a.displayDpi:96;this.g=a.params||{};this.I=a.url;this.f=a.imageLoadFunction?a.imageLoadFunction:Nv;this.T=void 0!==a.hidpi?a.hidpi:!0;this.pa=void 0!==a.metersPerUnit?a.metersPerUnit:1;this.v=void 0!==a.ratio?a.ratio:1;this.va=void 0!==a.useOverlay?a.useOverlay:!1;this.M=null;this.B=0}v(Hw,Hv);k=Hw.prototype;k.ko=function(){return this.g};
k.Jc=function(a,b,c){b=Iv(this,b);c=this.T?c:1;var d=this.M;if(d&&this.B==this.i&&d.resolution==b&&d.a==c&&Va(d.G(),a))return d;1!=this.v&&(a=a.slice(),rb(a,this.v));var e=[lb(a)/b*c,mb(a)/b*c];if(void 0!==this.I){var d=this.I,f=nb(a),g=this.pa,h=lb(a),l=mb(a),m=e[0],n=e[1],p=.0254/this.l,e={OPERATION:this.va?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.l,SETDISPLAYWIDTH:Math.round(e[0]),SETDISPLAYHEIGHT:Math.round(e[1]),
SETVIEWSCALE:n*h>m*l?h*g/(m*p):l*g/(n*p),SETVIEWCENTERX:f[0],SETVIEWCENTERY:f[1]};tb(e,this.g);d=Fw(d,e);d=new Js(a,b,c,this.j,d,this.R,this.f);y(d,"change",this.o,this)}else d=null;this.M=d;this.B=this.i;return d};k.jo=function(){return this.f};k.mo=function(a){tb(this.g,a);this.s()};k.lo=function(a){this.M=null;this.f=a;this.s()};function Iw(a){var b=a.imageExtent,c=void 0!==a.crossOrigin?a.crossOrigin:null,d=a.imageLoadFunction?a.imageLoadFunction:Nv;Hv.call(this,{attributions:a.attributions,logo:a.logo,projection:Tb(a.projection)});this.M=new Js(b,void 0,1,this.j,a.url,c,d);this.f=a.imageSize?a.imageSize:null;y(this.M,"change",this.o,this)}v(Iw,Hv);Iw.prototype.Jc=function(a){return qb(a,this.M.G())?this.M:null};
Iw.prototype.o=function(a){if(2==this.M.getState()){var b=this.M.G(),c=this.M.Y();if(this.f){var d=this.f[0];var e=this.f[1]}else d=c.width,e=c.height;b=Math.ceil(lb(b)/(mb(b)/e));if(b!=d){var b=jd(b,e),f=b.canvas;b.drawImage(c,0,0,d,e,0,0,f.width,f.height);this.M.Og(f)}}Hv.prototype.o.call(this,a)};function Jw(a){a=a||{};Hv.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions});this.pa=void 0!==a.crossOrigin?a.crossOrigin:null;this.g=a.url;this.v=a.imageLoadFunction?a.imageLoadFunction:Nv;this.f=a.params||{};this.l=!0;Kw(this);this.T=a.serverType;this.va=void 0!==a.hidpi?a.hidpi:!0;this.M=null;this.B=[0,0];this.R=0;this.I=void 0!==a.ratio?a.ratio:1.5}v(Jw,Hv);var Lw=[101,101];k=Jw.prototype;
k.so=function(a,b,c,d){if(void 0!==this.g){var e=ob(a,b,0,Lw),f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.f.LAYERS};tb(f,this.f,d);d=Math.floor((e[3]-a[1])/b);f[this.l?"I":"X"]=Math.floor((a[0]-e[0])/b);f[this.l?"J":"Y"]=d;return Mw(this,e,Lw,1,Tb(c),f)}};k.uo=function(){return this.f};
k.Jc=function(a,b,c,d){if(void 0===this.g)return null;b=Iv(this,b);1==c||this.va&&void 0!==this.T||(c=1);var e=b/c,f=nb(a),g=ob(f,e,0,[Math.ceil(lb(a)/e),Math.ceil(mb(a)/e)]);a=ob(f,e,0,[Math.ceil(this.I*lb(a)/e),Math.ceil(this.I*mb(a)/e)]);if((f=this.M)&&this.R==this.i&&f.resolution==b&&f.a==c&&Va(f.G(),g))return f;g={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};tb(g,this.f);this.B[0]=Math.round(lb(a)/e);this.B[1]=Math.round(mb(a)/e);d=Mw(this,a,this.B,c,d,g);
this.M=new Js(a,b,c,this.j,d,this.pa,this.v);this.R=this.i;y(this.M,"change",this.o,this);return this.M};k.to=function(){return this.v};
function Mw(a,b,c,d,e,f){xa(void 0!==a.g,9);f[a.l?"CRS":"SRS"]=e.mb;"STYLES"in a.f||(f.STYLES="");if(1!=d)switch(a.T){case "geoserver":d=90*d+.5|0;f.FORMAT_OPTIONS="FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+(";dpi:"+d):"dpi:"+d;break;case "mapserver":f.MAP_RESOLUTION=90*d;break;case "carmentaserver":case "qgis":f.DPI=90*d;break;default:xa(!1,8)}f.WIDTH=c[0];f.HEIGHT=c[1];c=e.b;var g;a.l&&"ne"==c.substr(0,2)?g=[b[1],b[0],b[3],b[2]]:g=b;f.BBOX=g.join(",");return Fw(a.g,f)}k.vo=function(){return this.g};
k.wo=function(a){this.M=null;this.v=a;this.s()};k.xo=function(a){a!=this.g&&(this.g=a,this.M=null,this.s())};k.yo=function(a){tb(this.f,a);Kw(this);this.M=null;this.s()};function Kw(a){a.l=0<=Ye(a.f.VERSION||"1.3.0")};function Nw(a){a=a||{};var b;void 0!==a.attributions?b=a.attributions:b=[Ow];zw.call(this,{attributions:b,cacheSize:a.cacheSize,crossOrigin:void 0!==a.crossOrigin?a.crossOrigin:"anonymous",opaque:void 0!==a.opaque?a.opaque:!0,maxZoom:void 0!==a.maxZoom?a.maxZoom:19,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:a.wrapX})}v(Nw,zw);var Ow=new Ac({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});Fj.df={};Fj.df.Af=function(){};
(function(a){function b(a,b,c){if(g)return new ImageData(a,b,c);b=h.createImageData(b,c);b.data.set(a);return b}function c(a){var b=!0;try{new ImageData(10,10)}catch(n){b=!1}return function(c){var d=c.buffers,e=c.meta,f=c.width,g=c.height,h=d.length,l=d[0].byteLength;if(c.imageOps){l=Array(h);for(c=0;c<h;++c){var m=c;var n=new Uint8ClampedArray(d[c]);var L=f,oa=g;n=b?new ImageData(n,L,oa):{data:n,width:L,height:oa};l[m]=n}f=a(l,e).data}else{f=new Uint8ClampedArray(l);g=Array(h);m=Array(h);for(c=0;c<
h;++c)g[c]=new Uint8ClampedArray(d[c]),m[c]=[0,0,0,0];for(d=0;d<l;d+=4){for(c=0;c<h;++c)n=g[c],m[c][0]=n[d],m[c][1]=n[d+1],m[c][2]=n[d+2],m[c][3]=n[d+3];c=a(m,e);f[d]=c[0];f[d+1]=c[1];f[d+2]=c[2];f[d+3]=c[3]}}return f.buffer}}function d(a,b){var d=Object.keys(a.lib||{}).map(function(b){return"var "+b+" = "+a.lib[b].toString()+";"}).concat(["var __minion__ = ("+c.toString()+")(",a.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);",
"  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),d=URL.createObjectURL(new Blob(d,{type:"text/javascript"})),d=new Worker(d);d.addEventListener("message",b);return d}function e(a,b){var d=c(a.operation);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:d(a),meta:a.meta}})},0)}}}function f(a){this.Ff=!!a.$l;var b;0===a.threads?b=0:this.Ff?b=1:b=a.threads||1;var c=[];if(b)for(var f=0;f<b;++f)c[f]=d(a,this.gh.bind(this,f));else c[0]=e(a,this.gh.bind(this,
0));this.qe=c;this.Ed=[];this.fk=a.rp||Infinity;this.oe=0;this.bd={};this.Gf=null}var g=!0;try{new ImageData(10,10)}catch(l){g=!1}var h=document.createElement("canvas").getContext("2d");f.prototype.pp=function(a,b,c){this.dk({inputs:a,Qh:b,callback:c});this.dh()};f.prototype.dk=function(a){for(this.Ed.push(a);this.Ed.length>this.fk;)this.Ed.shift().callback(null,null)};f.prototype.dh=function(){if(0===this.oe&&0<this.Ed.length){var a=this.Gf=this.Ed.shift(),b=a.inputs[0].width,c=a.inputs[0].height,
d=a.inputs.map(function(a){return a.data.buffer}),e=this.qe.length;this.oe=e;if(1===e)this.qe[0].postMessage({buffers:d,meta:a.Qh,imageOps:this.Ff,width:b,height:c},d);else for(var f=4*Math.ceil(a.inputs[0].data.length/4/e),g=0;g<e;++g){for(var h=g*f,B=[],E=0,A=d.length;E<A;++E)B.push(d[g].slice(h,h+f));this.qe[g].postMessage({buffers:B,meta:a.Qh,imageOps:this.Ff,width:b,height:c},B)}}};f.prototype.gh=function(a,b){this.Jq||(this.bd[a]=b.data,--this.oe,0===this.oe&&this.gk())};f.prototype.gk=function(){var a=
this.Gf,c=this.qe.length;if(1===c){var d=new Uint8ClampedArray(this.bd[0].buffer);var e=this.bd[0].meta}else{var f=a.inputs[0].data.length;d=new Uint8ClampedArray(f);e=Array(f);for(var f=4*Math.ceil(f/4/c),g=0;g<c;++g){var h=g*f;d.set(new Uint8ClampedArray(this.bd[g].buffer),h);e[g]=this.bd[g].meta}}this.Gf=null;this.bd={};a.callback(null,b(d,a.inputs[0].width,a.inputs[0].height),e);this.dh()};a["default"]={Af:f};a.Af=f})(Fj.df=Fj.df||{});function Pw(a){this.B=null;this.va=void 0!==a.operationType?a.operationType:"pixel";this.Sa=void 0!==a.threads?a.threads:1;this.g=Qw(a.sources);for(var b=0,c=this.g.length;b<c;++b)y(this.g[b],"change",this.s,this);this.T=new Pe(function(){return 1},this.s.bind(this));for(var b=Rw(this.g),c={},d=0,e=b.length;d<e;++d)c[w(b[d].layer)]=b[d];this.f=null;this.I={animate:!1,attributions:{},coordinateToPixelTransform:Bh(),extent:null,focus:null,index:0,layerStates:c,layerStatesArray:b,logos:{},pixelRatio:1,
pixelToCoordinateTransform:Bh(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.T,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};Hv.call(this,{});a.operation&&this.v(a.operation,a.lib)}v(Pw,Hv);Pw.prototype.v=function(a,b){this.B=new Fj.df.Af({operation:a,$l:"image"===this.va,rp:1,lib:b,threads:this.Sa});this.s()};
Pw.prototype.Y=function(a,b,c,d){c=!0;for(var e,f=0,g=this.g.length;f<g;++f)if(e=this.g[f].a.ha(),"ready"!==e.getState()){c=!1;break}if(!c)return null;c=tb({},this.I);c.viewState=tb({},c.viewState);e=nb(a);c.extent=a.slice();c.focus=e;c.size[0]=Math.round(lb(a)/b);c.size[1]=Math.round(mb(a)/b);f=c.viewState;f.center=e;f.projection=d;f.resolution=b;this.l=c;Qe(c.tileQueue,16,16);this.f&&(d=this.f.resolution,c=this.f.G(),b===d&&bb(a,c)||(this.f=null));if(!this.f||this.i!==this.R)a:{a=this.l;d=this.g.length;
b=Array(d);for(c=0;c<d;++c){e=this.g[c];f=a;g=a.layerStatesArray[c];if(e.sd(f,g)){var h=f.size[0],l=f.size[1];if(Sw){var m=Sw.canvas;m.width!==h||m.height!==l?Sw=jd(h,l):Sw.clearRect(0,0,h,l)}else Sw=jd(h,l);e.S(f,g,Sw);e=Sw.getImageData(0,0,h,l)}else e=null;if(e)b[c]=e;else break a}d={};this.b(new Tw(Uw,a,d));this.B.pp(b,d,this.pa.bind(this,a))}return this.f};
Pw.prototype.pa=function(a,b,c,d){if(!b&&c){b=a.extent;var e=a.viewState.resolution;if(e===this.l.viewState.resolution&&bb(b,this.l.extent)){if(this.f)var f=this.f.Y().getContext("2d");else f=jd(Math.round(lb(b)/e),Math.round(mb(b)/e)),this.f=new Ks(b,e,1,this.j,f.canvas);f.putImageData(c,0,0);this.s();this.R=this.i;this.b(new Tw(Vw,a,d))}}};var Sw=null;function Rw(a){return a.map(function(a){return th(a.a)})}
function Qw(a){for(var b=a.length,c=Array(b),d=0;d<b;++d){var e=d,f=a[d],g=null;f instanceof pw?(f=new cw({source:f}),g=new Vv(f)):f instanceof Hv&&(f=new Uv({source:f}),g=new zv(f));c[e]=g}return c}function Tw(a,b,c){Oc.call(this,a);this.extent=b.extent;this.resolution=b.viewState.resolution/b.pixelRatio;this.data=c}v(Tw,Oc);Pw.prototype.Jc=function(){return null};var Uw="beforeoperations",Vw="afteroperations";function Ww(a){var b=a.layer.indexOf("-"),b=Xw[-1==b?a.layer:a.layer.slice(0,b)],c=Yw[a.layer];zw.call(this,{attributions:Zw,cacheSize:a.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=a.maxZoom?a.maxZoom:b.maxZoom,minZoom:void 0!=a.minZoom?a.minZoom:b.minZoom,opaque:c.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+a.layer+"/{z}/{x}/{y}."+c.Lb,wrapX:a.wrapX})}v(Ww,zw);
var Zw=[new Ac({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),Ow],Yw={terrain:{Lb:"jpg",opaque:!0},"terrain-background":{Lb:"jpg",opaque:!0},"terrain-labels":{Lb:"png",opaque:!1},"terrain-lines":{Lb:"png",opaque:!1},"toner-background":{Lb:"png",opaque:!0},toner:{Lb:"png",opaque:!0},"toner-hybrid":{Lb:"png",opaque:!1},"toner-labels":{Lb:"png",opaque:!1},"toner-lines":{Lb:"png",opaque:!1},"toner-lite":{Lb:"png",
opaque:!0},watercolor:{Lb:"jpg",opaque:!0}},Xw={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};function $w(a){a=a||{};X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0});this.f=a.params||{};this.l=Oa();qw(this,ax(this))}v($w,X);function ax(a){var b=0,c=[],d;for(d in a.f)c[b++]=d+"-"+a.f[d];return c.join("/")}$w.prototype.C=function(){return this.f};
$w.prototype.nb=function(a){return a};
$w.prototype.Fc=function(a,b,c){var d=this.tileGrid;d||(d=this.Ta(c));if(!(d.b.length<=a[0])){var e=d.Aa(a,this.l),f=Ma(d.gb(a[0]),this.o);1!=b&&(f=La(f,b,this.o));d={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};tb(d,this.f);var g=this.urls;g?(c=c.mb.split(":").pop(),d.SIZE=f[0]+","+f[1],d.BBOX=e.join(","),d.BBOXSR=c,d.IMAGESR=c,d.DPI=Math.round(d.DPI?d.DPI*b:90*b),a=(1==g.length?g[0]:g[Ia((a[1]<<a[0])+a[2],g.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),
a=Fw(a,d)):a=void 0;return a}};$w.prototype.B=function(a){tb(this.f,a);qw(this,ax(this))};function bx(a){pw.call(this,{opaque:!1,projection:a.projection,tileGrid:a.tileGrid,wrapX:void 0!==a.wrapX?a.wrapX:!0})}v(bx,pw);bx.prototype.Nc=function(a,b,c){var d=this.Sb(a,b,c);if(this.a.b.hasOwnProperty(d))return this.a.get(d);var e=Ma(this.tileGrid.gb(a));a=[a,b,c];b=(b=rw(this,a))?rw(this,b).toString():"";e=new cx(a,e,b);this.a.set(d,e);return e};function cx(a,b,c){Ls.call(this,a,2);this.c=b;this.Ia=c;this.a=null}v(cx,Ls);
cx.prototype.Y=function(){if(this.a)return this.a;var a=this.c,b=jd(a[0],a[1]);b.strokeStyle="black";b.strokeRect(.5,.5,a[0]+.5,a[1]+.5);b.fillStyle="black";b.textAlign="center";b.textBaseline="middle";b.font="24px sans-serif";b.fillText(this.Ia,a[0]/2,a[1]/2);return this.a=b.canvas};cx.prototype.load=function(){};function dx(a){this.f=null;X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:Tb("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0!==a.wrapX?a.wrapX:!0});if(a.url)if(a.jsonp)gw(a.url,this.og.bind(this),this.Ve.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.Ao.bind(this));b.addEventListener("error",this.zo.bind(this));b.open("GET",a.url);b.send()}else a.tileJSON?
this.og(a.tileJSON):xa(!1,51)}v(dx,X);k=dx.prototype;k.Ao=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){this.Ve();return}this.og(b)}else this.Ve()};k.zo=function(){this.Ve()};k.pl=function(){return this.f};
k.og=function(a){var b=Tb("EPSG:4326"),c=this.c;if(a.bounds){var d=Vb(b,c);var e=sb(a.bounds,d)}var f=a.minzoom||0,d=a.maxzoom||22;this.tileGrid=c=xc({extent:zc(c),maxZoom:d,minZoom:f});this.tileUrlFunction=jw(a.tiles,c);if(void 0!==a.attribution&&!this.j){b=void 0!==e?e:b.G();e={};for(var g;f<=d;++f)g=f.toString(),e[g]=[oc(c,b,f)];this.ua([new Ac({html:a.attribution,tileRanges:e})])}this.f=a;bu(this,"ready")};k.Ve=function(){bu(this,"error")};function ex(a){pw.call(this,{projection:Tb("EPSG:3857"),state:"loading"});this.v=void 0!==a.preemptive?a.preemptive:!0;this.l=lw;this.g=void 0;this.f=a.jsonp||!1;if(a.url)if(this.f)gw(a.url,this.pg.bind(this),this.We.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.Eo.bind(this));b.addEventListener("error",this.Do.bind(this));b.open("GET",a.url);b.send()}else a.tileJSON?this.pg(a.tileJSON):xa(!1,51)}v(ex,pw);k=ex.prototype;
k.Eo=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){this.We();return}this.pg(b)}else this.We()};k.Do=function(){this.We()};k.ml=function(){return this.g};k.zk=function(a,b,c,d,e){this.tileGrid?(b=this.tileGrid.Be(a,b),fx(this.Nc(b[0],b[1],b[2],1,this.c),a,c,d,e)):!0===e?setTimeout(function(){c.call(d,null)},0):c.call(d,null)};k.We=function(){bu(this,"error")};
k.pg=function(a){var b=Tb("EPSG:4326"),c=this.c;if(a.bounds){var d=Vb(b,c);var e=sb(a.bounds,d)}var f=a.minzoom||0,d=a.maxzoom||22;this.tileGrid=c=xc({extent:zc(c),maxZoom:d,minZoom:f});this.g=a.template;var g=a.grids;if(g){this.l=jw(g,c);if(void 0!==a.attribution){b=void 0!==e?e:b.G();for(e={};f<=d;++f)g=f.toString(),e[g]=[oc(c,b,f)];this.ua([new Ac({html:a.attribution,tileRanges:e})])}bu(this,"ready")}else bu(this,"error")};
k.Nc=function(a,b,c,d,e){var f=this.Sb(a,b,c);if(this.a.b.hasOwnProperty(f))return this.a.get(f);a=[a,b,c];b=rw(this,a,e);d=this.l(b,d,e);d=new gx(a,void 0!==d?0:4,void 0!==d?d:"",this.tileGrid.Aa(a),this.v,this.f);this.a.set(f,d);return d};k.Ug=function(a,b,c){a=this.Sb(a,b,c);this.a.b.hasOwnProperty(a)&&this.a.get(a)};function gx(a,b,c,d,e,f){Ls.call(this,a,b);this.o=c;this.a=d;this.v=e;this.c=this.j=this.g=null;this.l=f}v(gx,Ls);k=gx.prototype;k.Y=function(){return null};
k.getData=function(a){if(!this.g||!this.j)return null;var b=this.g[Math.floor((1-(a[1]-this.a[1])/(this.a[3]-this.a[1]))*this.g.length)];if("string"!==typeof b)return null;b=b.charCodeAt(Math.floor((a[0]-this.a[0])/(this.a[2]-this.a[0])*b.length));93<=b&&b--;35<=b&&b--;b-=32;a=null;b in this.j&&(b=this.j[b],this.c&&b in this.c?a=this.c[b]:a=b);return a};
function fx(a,b,c,d,e){0==a.state&&!0===e?(Jc(a,"change",function(){c.call(d,this.getData(b))},a),hx(a)):!0===e?setTimeout(function(){c.call(d,this.getData(b))}.bind(a),0):c.call(d,a.getData(b))}k.bb=function(){return this.o};k.De=function(){this.state=3;this.s()};k.Ji=function(a){this.g=a.grid;this.j=a.keys;this.c=a.data;this.state=4;this.s()};
function hx(a){if(0==a.state)if(a.state=1,a.l)gw(a.o,a.Ji.bind(a),a.De.bind(a));else{var b=new XMLHttpRequest;b.addEventListener("load",a.Co.bind(a));b.addEventListener("error",a.Bo.bind(a));b.open("GET",a.o);b.send()}}k.Co=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){this.De();return}this.Ji(b)}else this.De()};k.Bo=function(){this.De()};k.load=function(){this.v&&hx(this)};function ix(a){a=a||{};var b=a.params||{};X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!("TRANSPARENT"in b?b.TRANSPARENT:1),projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0});this.C=void 0!==a.gutter?a.gutter:0;this.f=b;this.l=!0;this.B=a.serverType;this.T=void 0!==a.hidpi?a.hidpi:!0;this.R="";
jx(this);this.fa=Oa();kx(this);qw(this,lx(this))}v(ix,X);k=ix.prototype;
k.Fo=function(a,b,c,d){c=Tb(c);var e=this.tileGrid;e||(e=this.Ta(c));b=e.Be(a,b);if(!(e.b.length<=b[0])){var f=e.Da(b[0]),g=e.Aa(b,this.fa),e=Ma(e.gb(b[0]),this.o),h=this.C;h&&(e=Ka(e,h,this.o),g=Qa(g,f*h,g));h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.f.LAYERS};tb(h,this.f,d);d=Math.floor((g[3]-a[1])/f);h[this.l?"I":"X"]=Math.floor((a[0]-g[0])/f);h[this.l?"J":"Y"]=d;return mx(this,b,e,g,1,c,h)}};k.Xf=function(){return this.C};
k.Sb=function(a,b,c){return this.R+X.prototype.Sb.call(this,a,b,c)};k.Go=function(){return this.f};
function mx(a,b,c,d,e,f,g){var h=a.urls;if(h){g.WIDTH=c[0];g.HEIGHT=c[1];g[a.l?"CRS":"SRS"]=f.mb;"STYLES"in a.f||(g.STYLES="");if(1!=e)switch(a.B){case "geoserver":c=90*e+.5|0;g.FORMAT_OPTIONS="FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+(";dpi:"+c):"dpi:"+c;break;case "mapserver":g.MAP_RESOLUTION=90*e;break;case "carmentaserver":case "qgis":g.DPI=90*e;break;default:xa(!1,52)}f=f.b;a.l&&"ne"==f.substr(0,2)&&(a=d[0],d[0]=d[1],d[1]=a,a=d[2],d[2]=d[3],d[3]=a);g.BBOX=d.join(",");return Fw(1==h.length?h[0]:h[Ia((b[1]<<
b[0])+b[2],h.length)],g)}}k.nb=function(a){return this.T&&void 0!==this.B?a:1};function jx(a){var b=0,c=[];if(a.urls){var d;var e=0;for(d=a.urls.length;e<d;++e)c[b++]=a.urls[e]}a.R=c.join("#")}function lx(a){var b=0,c=[],d;for(d in a.f)c[b++]=d+"-"+a.f[d];return c.join("/")}
k.Fc=function(a,b,c){var d=this.tileGrid;d||(d=this.Ta(c));if(!(d.b.length<=a[0])){1==b||this.T&&void 0!==this.B||(b=1);var e=d.Da(a[0]),f=d.Aa(a,this.fa),d=Ma(d.gb(a[0]),this.o),g=this.C;g&&(d=Ka(d,g,this.o),f=Qa(f,e*g,f));1!=b&&(d=La(d,b,this.o));e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};tb(e,this.f);return mx(this,a,d,f,b,c,e)}};k.eb=function(a){X.prototype.eb.call(this,a);jx(this)};k.Ho=function(a){tb(this.f,a);jx(this);kx(this);qw(this,lx(this))};
function kx(a){a.l=0<=Ye(a.f.VERSION||"1.3.0")};function nx(a,b,c,d,e,f,g,h,l,m,n,p,q,r){Ls.call(this,a,b);this.j=null;this.o={Nd:!1,Kg:null,mf:-1,Lg:-1};this.c=m;this.a=[];this.u=c;this.v=f;this.g=[];this.l=[];if(f){var u=l.Aa(f),x=l.Da(a[0]);h.Rf(u,h.tc(x),function(a){var b=pb(u,h.Aa(a));if(.5<=lb(b)/x&&.5<=mb(b)/x){var b=a.toString(),c=m[b];c||(c=g(a,n,p),c=m[b]=new q(a,void 0==c?4:0,void 0==c?"":c,d,e),this.l.push(y(c,"change",r)));c.j++;this.a.push(b)}}.bind(this))}}v(nx,Ls);
nx.prototype.ka=function(){for(var a=0,b=this.a.length;a<b;++a){var c=this.a[a],d=this.c[c];d.j--;d.j||(delete this.c[c],Nc(d))}this.a.length=0;this.c=null;1==this.state&&(this.g.forEach(Ec),this.g.length=0);this.i&&Nc(this.i);this.state=5;this.s();this.l.forEach(Ec);this.l.length=0;Ls.prototype.ka.call(this)};nx.prototype.Y=function(){return-1==this.o.Lg?null:this.j.canvas};nx.prototype.bb=function(){return this.a.join("/")+"/"+this.u};
nx.prototype.load=function(){var a=0,b=!1;0==this.state&&Ns(this,1);1==this.state&&this.a.forEach(function(c){var d=this.c[c];0==d.state?(d.Pg(this.S),d.load()):3==d.state?b=!0:4==d.state&&ma(this.a,c);if(1==d.state){var e=y(d,"change",function(){var f=d.getState();if(2==f||3==f)--a,Ec(e),ma(this.g,e),3==f&&(ma(this.a,c),b=!0),a||Ns(this,0<this.a.length?2:3)}.bind(this));this.g.push(e);++a}}.bind(this));a||setTimeout(function(){Ns(this,0<this.a.length?2:b?3:4)}.bind(this),0)};
function ox(a,b){a.Pg(Cl(b,a.o,a.$o.bind(a),a.Zo.bind(a)))};function px(a,b,c,d,e){Ls.call(this,a,b);this.j=0;this.o=d;this.g=null;this.c={};this.u=e;this.l=c}v(px,Ls);k=px.prototype;k.ka=function(){this.g=null;this.c={};this.state=5;this.s();Ls.prototype.ka.call(this)};k.Lm=function(){return this.o};k.Km=function(){return this.g};k.bb=function(){return this.l};k.Mm=function(){return this.a};k.load=function(){0==this.state&&(Ns(this,1),this.u(this,this.l),this.v(null,NaN,null))};k.$o=function(a,b){this.ig(b);this.mj(a)};k.Zo=function(){Ns(this,3)};
k.mj=function(a){this.g=a;Ns(this,2)};k.ig=function(a){this.a=a};k.Pg=function(a){this.v=a};function qx(a){tw.call(this,{attributions:a.attributions,cacheSize:void 0!==a.cacheSize?a.cacheSize:128,extent:a.extent,logo:a.logo,opaque:!1,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:ox,tileUrlFunction:a.tileUrlFunction,tilePixelRatio:a.tilePixelRatio,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX?!0:a.wrapX});this.g=a.format?a.format:null;this.v={};this.l=void 0==a.overlaps?!0:a.overlaps;this.tileClass=a.tileClass?a.tileClass:
px;this.f={};this.tileGrid||(this.tileGrid=this.Ta(Tb(a.projection||"EPSG:3857")))}v(qx,tw);qx.prototype.Nc=function(a,b,c,d,e){var f=this.Sb(a,b,c);if(this.a.b.hasOwnProperty(f))return this.a.get(f);a=[a,b,c];c=(b=rw(this,a,e))?this.tileUrlFunction(b,d,e):void 0;d=new nx(a,void 0!==c?0:4,void 0!==c?c:"",this.g,this.tileLoadFunction,b,this.tileUrlFunction,this.tileGrid,this.Ta(e),this.v,d,e,this.tileClass,this.Li.bind(this));this.a.set(f,d);return d};
qx.prototype.Ta=function(a){var b=a.mb,c=this.f[b];c||(c=this.tileGrid,c=this.f[b]=wc(a,void 0,c?c.gb(c.minZoom):void 0));return c};qx.prototype.nb=function(a){return void 0==a?tw.prototype.nb.call(this,a):a};qx.prototype.Xd=function(a,b,c){a=Ma(this.Ta(c).gb(a));return[Math.round(a[0]*b),Math.round(a[1]*b)]};function rx(a){this.o=a.matrixIds;lc.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})}v(rx,lc);rx.prototype.l=function(){return this.o};
function sx(a,b,c){var d=[],e=[],f=[],g=[],h=[],l=void 0!==c?c:[];c=Tb(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var m=c.sc(),n="ne"==c.b.substr(0,2);a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator});a.TileMatrix.forEach(function(a){var b;0<l.length?b=na(l,function(b){return a.Identifier==b.TileMatrix}):b=!0;if(b){e.push(a.Identifier);b=2.8E-4*a.ScaleDenominator/m;var c=a.TileWidth,p=a.TileHeight;n?f.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):
f.push(a.TopLeftCorner);d.push(b);g.push(c==p?c:[c,p]);h.push([a.MatrixWidth,-a.MatrixHeight])}});return new rx({extent:b,origins:f,resolutions:d,matrixIds:e,tileSizes:g,sizes:h})};function Z(a){function b(a){a="KVP"==d?Fw(a,f):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in f?f[b.toLowerCase()]:a});return function(b){if(b){var c={TileMatrix:e.o[b[0]],TileCol:b[1],TileRow:-b[2]-1};tb(c,g);b=a;return b="KVP"==d?Fw(b,c):b.replace(/\{(\w+?)\}/g,function(a,b){return c[b]})}}}this.fa=void 0!==a.version?a.version:"1.0.0";this.C=void 0!==a.format?a.format:"image/jpeg";this.f=a.dimensions?a.dimensions:{};this.B=a.layer;this.l=a.matrixSet;this.R=a.style;var c=a.urls;void 0===
c&&void 0!==a.url&&(c=mw(a.url));var d=this.T=void 0!==a.requestEncoding?a.requestEncoding:"KVP",e=a.tileGrid,f={layer:this.B,style:this.R,tilematrixset:this.l};"KVP"==d&&tb(f,{Service:"WMTS",Request:"GetTile",Version:this.fa,Format:this.C});var g=this.f,h=c&&0<c.length?kw(c.map(b)):lw;X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:e,
tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:h,urls:c,wrapX:void 0!==a.wrapX?a.wrapX:!1});qw(this,tx(this))}v(Z,X);k=Z.prototype;k.Mk=function(){return this.f};k.Io=function(){return this.C};k.Jo=function(){return this.B};k.$k=function(){return this.l};k.kl=function(){return this.T};k.Ko=function(){return this.R};k.rl=function(){return this.fa};function tx(a){var b=0,c=[],d;for(d in a.f)c[b++]=d+"-"+a.f[d];return c.join("/")}
k.uq=function(a){tb(this.f,a);qw(this,tx(this))};function ux(a){a=a||{};var b=a.size,c=b[0],d=b[1],e=[],f=256;switch(void 0!==a.tierSizeCalculation?a.tierSizeCalculation:vx){case vx:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),f+=f;break;case wx:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),c>>=1,d>>=1;break;default:xa(!1,53)}e.push([1,1]);e.reverse();for(var f=[1],g=[0],d=1,c=e.length;d<c;d++)f.push(1<<d),g.push(e[d-1][0]*e[d-1][1]+g[d-1]);f.reverse();b=[0,-b[1],b[0],0];b=new lc({extent:b,origin:ib(b),resolutions:f});(f=a.url)&&
-1==f.indexOf("{TileGroup}")&&(f+="{TileGroup}/{z}-{x}-{y}.jpg");f=mw(f);f=kw(f.map(function(a){return function(b){if(b){var c=b[0],d=b[1];b=-b[2]-1;var f={z:c,x:d,y:b,TileGroup:"TileGroup"+((d+b*e[c][0]+g[c])/256|0)};return a.replace(/\{(\w+?)\}/g,function(a,b){return f[b]})}}}));X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:xx,tileGrid:b,tileUrlFunction:f})}
v(ux,X);function xx(a,b,c,d,e){Os.call(this,a,b,c,d,e);this.a=null}v(xx,Os);xx.prototype.Y=function(){if(this.a)return this.a;var a=Os.prototype.Y.call(this);if(2==this.state){if(256==a.width&&256==a.height)return this.a=a;var b=jd(256,256);b.drawImage(a,0,0);return this.a=b.canvas}return a};var vx="default",wx="truncated";function yx(a,b){this.b=b;this.a=[{x:0,y:0,width:a,height:a}];this.c={};this.i=jd(a,a);this.f=this.i.canvas}yx.prototype.get=function(a){return this.c[a]||null};
yx.prototype.add=function(a,b,c,d,e){var f;var g=0;for(f=this.a.length;g<f;++g){var h=this.a[g];if(h.width>=b+this.b&&h.height>=c+this.b)return f={offsetX:h.x+this.b,offsetY:h.y+this.b,image:this.f},this.c[a]=f,d.call(e,this.i,h.x+this.b,h.y+this.b),a=g,b+=this.b,d=c+this.b,h.width-b>h.height-d?(c={x:h.x+b,y:h.y,width:h.width-b,height:h.height},b={x:h.x,y:h.y+d,width:b,height:h.height-d},zx(this,a,c,b)):(c={x:h.x+b,y:h.y,width:h.width-b,height:d},b={x:h.x,y:h.y+d,width:h.width,height:h.height-d},
zx(this,a,c,b)),f}return null};function zx(a,b,c,d){b=[b,1];0<c.width&&0<c.height&&b.push(c);0<d.width&&0<d.height&&b.push(d);a.a.splice.apply(a.a,b)};function Ax(a){a=a||{};this.a=void 0!==a.initialSize?a.initialSize:256;this.i=void 0!==a.maxSize?a.maxSize:void 0!==ea?ea:2048;this.b=void 0!==a.space?a.space:1;this.f=[new yx(this.a,this.b)];this.c=this.a;this.g=[new yx(this.c,this.b)]}Ax.prototype.add=function(a,b,c,d,e,f){if(b+this.b>this.i||c+this.b>this.i)return null;d=Bx(this,!1,a,b,c,d,f);if(!d)return null;a=Bx(this,!0,a,b,c,e?e:ua,f);return{offsetX:d.offsetX,offsetY:d.offsetY,image:d.image,Zl:a.image}};
function Bx(a,b,c,d,e,f,g){var h=b?a.g:a.f,l;var m=0;for(l=h.length;m<l;++m){var n=h[m];if(n=n.add(c,d,e,f,g))return n;n||m!==l-1||(b?(n=Math.min(2*a.c,a.i),a.c=n):(n=Math.min(2*a.a,a.i),a.a=n),n=new yx(n,a.b),h.push(n),++l)}return null};wa.prototype.code=wa.prototype.code;t("ol.Attribution",Ac);Ac.prototype.getHTML=Ac.prototype.i;t("ol.Collection",Yc);Yc.prototype.clear=Yc.prototype.clear;Yc.prototype.extend=Yc.prototype.fg;Yc.prototype.forEach=Yc.prototype.forEach;Yc.prototype.getArray=Yc.prototype.tm;Yc.prototype.item=Yc.prototype.item;Yc.prototype.getLength=Yc.prototype.dc;Yc.prototype.insertAt=Yc.prototype.He;Yc.prototype.pop=Yc.prototype.pop;Yc.prototype.push=Yc.prototype.push;Yc.prototype.remove=Yc.prototype.remove;
Yc.prototype.removeAt=Yc.prototype.Hg;Yc.prototype.setAt=Yc.prototype.Wp;bd.prototype.element=bd.prototype.element;t("ol.color.asArray",ed);t("ol.color.asString",gd);t("ol.colorlike.asColorLike",id);t("ol.control.defaults",xd);t("ol.coordinate.add",Ze);t("ol.coordinate.createStringXY",function(a){return function(b){return lf(b,a)}});t("ol.coordinate.format",cf);t("ol.coordinate.rotate",ef);t("ol.coordinate.toStringHDMS",function(a,b){return a?bf("NS",a[1],b)+" "+bf("EW",a[0],b):""});
t("ol.coordinate.toStringXY",lf);t("ol.DeviceOrientation",Rk);Rk.prototype.getAlpha=Rk.prototype.Fk;Rk.prototype.getBeta=Rk.prototype.Ik;Rk.prototype.getGamma=Rk.prototype.Ok;Rk.prototype.getHeading=Rk.prototype.um;Rk.prototype.getTracking=Rk.prototype.Th;Rk.prototype.setTracking=Rk.prototype.gg;t("ol.easing.easeIn",qd);t("ol.easing.easeOut",rd);t("ol.easing.inAndOut",sd);t("ol.easing.linear",td);t("ol.easing.upAndDown",function(a){return.5>a?sd(2*a):1-sd(2*(a-.5))});
t("ol.extent.boundingExtent",Na);t("ol.extent.buffer",Qa);t("ol.extent.containsCoordinate",Ta);t("ol.extent.containsExtent",Va);t("ol.extent.containsXY",Ua);t("ol.extent.createEmpty",Oa);t("ol.extent.equals",bb);t("ol.extent.extend",cb);t("ol.extent.getArea",jb);t("ol.extent.getBottomLeft",eb);t("ol.extent.getBottomRight",gb);t("ol.extent.getCenter",nb);t("ol.extent.getHeight",mb);t("ol.extent.getIntersection",pb);t("ol.extent.getSize",function(a){return[a[2]-a[0],a[3]-a[1]]});
t("ol.extent.getTopLeft",ib);t("ol.extent.getTopRight",hb);t("ol.extent.getWidth",lb);t("ol.extent.intersects",qb);t("ol.extent.isEmpty",kb);t("ol.extent.applyTransform",sb);t("ol.Feature",H);H.prototype.clone=H.prototype.clone;H.prototype.getGeometry=H.prototype.V;H.prototype.getId=H.prototype.wm;H.prototype.getGeometryName=H.prototype.Qk;H.prototype.getStyle=H.prototype.xm;H.prototype.getStyleFunction=H.prototype.Lc;H.prototype.setGeometry=H.prototype.Ra;H.prototype.setStyle=H.prototype.hg;
H.prototype.setId=H.prototype.jc;H.prototype.setGeometryName=H.prototype.Tc;t("ol.featureloader.xhr",Dl);t("ol.Geolocation",xs);xs.prototype.getAccuracy=xs.prototype.Dk;xs.prototype.getAccuracyGeometry=xs.prototype.Ek;xs.prototype.getAltitude=xs.prototype.Gk;xs.prototype.getAltitudeAccuracy=xs.prototype.Hk;xs.prototype.getHeading=xs.prototype.ym;xs.prototype.getPosition=xs.prototype.zm;xs.prototype.getProjection=xs.prototype.Uh;xs.prototype.getSpeed=xs.prototype.ll;xs.prototype.getTracking=xs.prototype.Vh;
xs.prototype.getTrackingOptions=xs.prototype.Gh;xs.prototype.setProjection=xs.prototype.Wh;xs.prototype.setTracking=xs.prototype.Ke;xs.prototype.setTrackingOptions=xs.prototype.wj;t("ol.Graticule",Ds);Ds.prototype.getMap=Ds.prototype.Cm;Ds.prototype.getMeridians=Ds.prototype.al;Ds.prototype.getParallels=Ds.prototype.hl;Ds.prototype.setMap=Ds.prototype.setMap;t("ol.has.DEVICE_PIXEL_RATIO",Sd);t("ol.has.CANVAS",Ud);t("ol.has.DEVICE_ORIENTATION",Vd);t("ol.has.GEOLOCATION",Wd);t("ol.has.TOUCH",Xd);
t("ol.has.WEBGL",Md);Js.prototype.getImage=Js.prototype.Y;Js.prototype.load=Js.prototype.load;Os.prototype.getImage=Os.prototype.Y;t("ol.inherits",v);t("ol.interaction.defaults",qh);t("ol.Kinetic",kg);t("ol.loadingstrategy.all",Zt);t("ol.loadingstrategy.bbox",function(a){return[a]});t("ol.loadingstrategy.tile",function(a){return function(b,c){c=a.tc(c);b=oc(a,b,c);var d=[];c=[c,0,0];for(c[1]=b.ca;c[1]<=b.$;++c[1])for(c[2]=b.da;c[2]<=b.ia;++c[2])d.push(a.Aa(c));return d}});t("ol.Map",G);
G.prototype.addControl=G.prototype.kk;G.prototype.addInteraction=G.prototype.lk;G.prototype.addLayer=G.prototype.ih;G.prototype.addOverlay=G.prototype.jh;G.prototype.forEachFeatureAtPixel=G.prototype.we;G.prototype.forEachLayerAtPixel=G.prototype.Im;G.prototype.hasFeatureAtPixel=G.prototype.Yl;G.prototype.getEventCoordinate=G.prototype.Tf;G.prototype.getEventPixel=G.prototype.xe;G.prototype.getTarget=G.prototype.ag;G.prototype.getTargetElement=G.prototype.jd;G.prototype.getCoordinateFromPixel=G.prototype.Wa;
G.prototype.getControls=G.prototype.Lk;G.prototype.getOverlays=G.prototype.fl;G.prototype.getOverlayById=G.prototype.el;G.prototype.getInteractions=G.prototype.Sk;G.prototype.getLayerGroup=G.prototype.Kc;G.prototype.getLayers=G.prototype.Xh;G.prototype.getPixelFromCoordinate=G.prototype.Ja;G.prototype.getSize=G.prototype.Ob;G.prototype.getView=G.prototype.Z;G.prototype.getViewport=G.prototype.sl;G.prototype.renderSync=G.prototype.Tp;G.prototype.render=G.prototype.render;
G.prototype.removeControl=G.prototype.Mp;G.prototype.removeInteraction=G.prototype.Np;G.prototype.removeLayer=G.prototype.Pp;G.prototype.removeOverlay=G.prototype.Qp;G.prototype.setLayerGroup=G.prototype.qj;G.prototype.setSize=G.prototype.Qg;G.prototype.setTarget=G.prototype.Le;G.prototype.setView=G.prototype.iq;G.prototype.updateSize=G.prototype.Ad;Jd.prototype.originalEvent=Jd.prototype.originalEvent;Jd.prototype.pixel=Jd.prototype.pixel;Jd.prototype.coordinate=Jd.prototype.coordinate;
Jd.prototype.dragging=Jd.prototype.dragging;Id.prototype.map=Id.prototype.map;Id.prototype.frameState=Id.prototype.frameState;t("ol.Object",Tc);Tc.prototype.get=Tc.prototype.get;Tc.prototype.getKeys=Tc.prototype.O;Tc.prototype.getProperties=Tc.prototype.N;Tc.prototype.set=Tc.prototype.set;Tc.prototype.setProperties=Tc.prototype.H;Tc.prototype.unset=Tc.prototype.P;Xc.prototype.key=Xc.prototype.key;Xc.prototype.oldValue=Xc.prototype.oldValue;t("ol.Observable",Sc);
t("ol.Observable.unByKey",function(a){if(Array.isArray(a))for(var b=0,c=a.length;b<c;++b)Ec(a[b]);else Ec(a)});Sc.prototype.changed=Sc.prototype.s;Sc.prototype.dispatchEvent=Sc.prototype.b;Sc.prototype.getRevision=Sc.prototype.L;Sc.prototype.on=Sc.prototype.J;Sc.prototype.once=Sc.prototype.once;Sc.prototype.un=Sc.prototype.K;t("ol.Overlay",sk);sk.prototype.getElement=sk.prototype.Rd;sk.prototype.getId=sk.prototype.Jm;sk.prototype.getMap=sk.prototype.Me;sk.prototype.getOffset=sk.prototype.Dh;
sk.prototype.getPosition=sk.prototype.Yh;sk.prototype.getPositioning=sk.prototype.Eh;sk.prototype.setElement=sk.prototype.lj;sk.prototype.setMap=sk.prototype.setMap;sk.prototype.setOffset=sk.prototype.rj;sk.prototype.setPosition=sk.prototype.Ne;sk.prototype.setPositioning=sk.prototype.uj;t("ol.proj.METERS_PER_UNIT",zb);t("ol.proj.setProj4",function(a){Ab=a});t("ol.proj.getPointResolution",Sb);t("ol.proj.addEquivalentProjections",Wb);t("ol.proj.addProjection",Xb);
t("ol.proj.addCoordinateTransforms",ac);t("ol.proj.fromLonLat",function(a,b){return gc(a,"EPSG:4326",void 0!==b?b:"EPSG:3857")});t("ol.proj.toLonLat",function(a,b){return gc(a,void 0!==b?b:"EPSG:3857","EPSG:4326")});t("ol.proj.get",Tb);t("ol.proj.equivalent",dc);t("ol.proj.getTransform",ec);t("ol.proj.transform",gc);t("ol.proj.transformExtent",hc);
t("ol.render.toContext",function(a,b){var c=a.canvas,d=b?b:{};b=d.pixelRatio||Sd;if(d=d.size)c.width=d[0]*b,c.height=d[1]*b,c.style.width=d[0]+"px",c.style.height=d[1]+"px";c=[0,0,c.width,c.height];d=Ih(Bh(),b,b);return new Xh(a,b,c,d,0)});t("ol.size.toSize",Ma);t("ol.Sphere",xb);xb.prototype.geodesicArea=xb.prototype.a;xb.prototype.haversineDistance=xb.prototype.b;Ls.prototype.getTileCoord=Ls.prototype.f;Ls.prototype.load=Ls.prototype.load;t("ol.tilegrid.createXYZ",xc);px.prototype.getFormat=px.prototype.Lm;
px.prototype.getFeatures=px.prototype.Km;px.prototype.getProjection=px.prototype.Mm;px.prototype.setFeatures=px.prototype.mj;px.prototype.setProjection=px.prototype.ig;px.prototype.setLoader=px.prototype.Pg;t("ol.View",F);F.prototype.animate=F.prototype.animate;F.prototype.getAnimating=F.prototype.Ic;F.prototype.getInteracting=F.prototype.Rk;F.prototype.cancelAnimations=F.prototype.ed;F.prototype.constrainCenter=F.prototype.Ec;F.prototype.constrainResolution=F.prototype.constrainResolution;
F.prototype.constrainRotation=F.prototype.constrainRotation;F.prototype.getCenter=F.prototype.wa;F.prototype.calculateExtent=F.prototype.dd;F.prototype.getMaxResolution=F.prototype.Nm;F.prototype.getMinResolution=F.prototype.Pm;F.prototype.getMaxZoom=F.prototype.Om;F.prototype.setMaxZoom=F.prototype.eq;F.prototype.getMinZoom=F.prototype.Qm;F.prototype.setMinZoom=F.prototype.fq;F.prototype.getProjection=F.prototype.Rm;F.prototype.getResolution=F.prototype.Pa;F.prototype.getResolutions=F.prototype.Sm;
F.prototype.getResolutionForExtent=F.prototype.ze;F.prototype.getRotation=F.prototype.Qa;F.prototype.getZoom=F.prototype.Hh;F.prototype.getZoomForResolution=F.prototype.Ce;F.prototype.fit=F.prototype.Qf;F.prototype.centerOn=F.prototype.uk;F.prototype.rotate=F.prototype.rotate;F.prototype.setCenter=F.prototype.ob;F.prototype.setResolution=F.prototype.Vc;F.prototype.setRotation=F.prototype.Oe;F.prototype.setZoom=F.prototype.lq;t("ol.xml.getAllTextContent",kl);t("ol.xml.parse",pl);
Oi.prototype.getGL=Oi.prototype.Wo;Oi.prototype.useProgram=Oi.prototype.Qc;t("ol.tilegrid.TileGrid",lc);lc.prototype.forEachTileCoord=lc.prototype.Rf;lc.prototype.getMaxZoom=lc.prototype.Ti;lc.prototype.getMinZoom=lc.prototype.Ui;lc.prototype.getOrigin=lc.prototype.Pc;lc.prototype.getResolution=lc.prototype.Da;lc.prototype.getResolutions=lc.prototype.Vi;lc.prototype.getTileCoordExtent=lc.prototype.Aa;lc.prototype.getTileCoordForCoordAndResolution=lc.prototype.Be;
lc.prototype.getTileCoordForCoordAndZ=lc.prototype.bg;lc.prototype.getTileSize=lc.prototype.gb;lc.prototype.getZForResolution=lc.prototype.tc;t("ol.tilegrid.WMTS",rx);rx.prototype.getMatrixIds=rx.prototype.l;t("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",sx);t("ol.style.AtlasManager",Ax);t("ol.style.Circle",$k);$k.prototype.setRadius=$k.prototype.Uc;t("ol.style.Fill",al);al.prototype.clone=al.prototype.clone;al.prototype.getColor=al.prototype.i;al.prototype.setColor=al.prototype.c;
t("ol.style.Icon",eo);eo.prototype.clone=eo.prototype.clone;eo.prototype.getAnchor=eo.prototype.Hc;eo.prototype.getColor=eo.prototype.Lo;eo.prototype.getImage=eo.prototype.Y;eo.prototype.getOrigin=eo.prototype.Oc;eo.prototype.getSrc=eo.prototype.Mo;eo.prototype.getSize=eo.prototype.ic;eo.prototype.load=eo.prototype.load;t("ol.style.Image",Xk);Xk.prototype.getOpacity=Xk.prototype.Ze;Xk.prototype.getRotateWithView=Xk.prototype.$e;Xk.prototype.getRotation=Xk.prototype.af;Xk.prototype.getScale=Xk.prototype.bf;
Xk.prototype.getSnapToPixel=Xk.prototype.Ae;Xk.prototype.setOpacity=Xk.prototype.td;Xk.prototype.setRotation=Xk.prototype.cf;Xk.prototype.setScale=Xk.prototype.ud;t("ol.style.RegularShape",Yk);Yk.prototype.clone=Yk.prototype.clone;Yk.prototype.getAnchor=Yk.prototype.Hc;Yk.prototype.getAngle=Yk.prototype.Pi;Yk.prototype.getFill=Yk.prototype.Fa;Yk.prototype.getImage=Yk.prototype.Y;Yk.prototype.getOrigin=Yk.prototype.Oc;Yk.prototype.getPoints=Yk.prototype.Qi;Yk.prototype.getRadius=Yk.prototype.Ri;
Yk.prototype.getRadius2=Yk.prototype.Fh;Yk.prototype.getSize=Yk.prototype.ic;Yk.prototype.getStroke=Yk.prototype.Ga;t("ol.style.Stroke",wj);wj.prototype.clone=wj.prototype.clone;wj.prototype.getColor=wj.prototype.No;wj.prototype.getLineCap=wj.prototype.Vk;wj.prototype.getLineDash=wj.prototype.Oo;wj.prototype.getLineDashOffset=wj.prototype.Wk;wj.prototype.getLineJoin=wj.prototype.Xk;wj.prototype.getMiterLimit=wj.prototype.bl;wj.prototype.getWidth=wj.prototype.Po;wj.prototype.setColor=wj.prototype.Qo;
wj.prototype.setLineCap=wj.prototype.aq;wj.prototype.setLineDash=wj.prototype.setLineDash;wj.prototype.setLineDashOffset=wj.prototype.bq;wj.prototype.setLineJoin=wj.prototype.cq;wj.prototype.setMiterLimit=wj.prototype.gq;wj.prototype.setWidth=wj.prototype.jq;t("ol.style.Style",bl);bl.prototype.clone=bl.prototype.clone;bl.prototype.getGeometry=bl.prototype.V;bl.prototype.getGeometryFunction=bl.prototype.Pk;bl.prototype.getFill=bl.prototype.Fa;bl.prototype.setFill=bl.prototype.pf;
bl.prototype.getImage=bl.prototype.Y;bl.prototype.setImage=bl.prototype.Og;bl.prototype.getStroke=bl.prototype.Ga;bl.prototype.setStroke=bl.prototype.qf;bl.prototype.getText=bl.prototype.Na;bl.prototype.setText=bl.prototype.xd;bl.prototype.getZIndex=bl.prototype.Ba;bl.prototype.setGeometry=bl.prototype.Ra;bl.prototype.setZIndex=bl.prototype.Vb;t("ol.style.Text",fo);fo.prototype.clone=fo.prototype.clone;fo.prototype.getFont=fo.prototype.Nk;fo.prototype.getOffsetX=fo.prototype.cl;
fo.prototype.getOffsetY=fo.prototype.dl;fo.prototype.getFill=fo.prototype.Fa;fo.prototype.getRotateWithView=fo.prototype.Ro;fo.prototype.getRotation=fo.prototype.So;fo.prototype.getScale=fo.prototype.To;fo.prototype.getStroke=fo.prototype.Ga;fo.prototype.getText=fo.prototype.Na;fo.prototype.getTextAlign=fo.prototype.nl;fo.prototype.getTextBaseline=fo.prototype.ol;fo.prototype.setFont=fo.prototype.nj;fo.prototype.setOffsetX=fo.prototype.sj;fo.prototype.setOffsetY=fo.prototype.tj;
fo.prototype.setFill=fo.prototype.pf;fo.prototype.setRotation=fo.prototype.Uo;fo.prototype.setScale=fo.prototype.Si;fo.prototype.setStroke=fo.prototype.qf;fo.prototype.setText=fo.prototype.xd;fo.prototype.setTextAlign=fo.prototype.vj;fo.prototype.setTextBaseline=fo.prototype.hq;t("ol.source.BingMaps",xw);t("ol.source.BingMaps.TOS_ATTRIBUTION",yw);xw.prototype.getApiKey=xw.prototype.T;xw.prototype.getImagerySet=xw.prototype.fa;t("ol.source.CartoDB",Aw);Aw.prototype.getConfig=Aw.prototype.Kk;
Aw.prototype.updateConfig=Aw.prototype.tq;Aw.prototype.setConfig=Aw.prototype.Xp;t("ol.source.Cluster",Y);Y.prototype.getDistance=Y.prototype.$n;Y.prototype.getSource=Y.prototype.ao;Y.prototype.setDistance=Y.prototype.Yp;t("ol.source.Image",Hv);Jv.prototype.image=Jv.prototype.image;t("ol.source.ImageArcGISRest",Gw);Gw.prototype.getParams=Gw.prototype.co;Gw.prototype.getImageLoadFunction=Gw.prototype.bo;Gw.prototype.getUrl=Gw.prototype.eo;Gw.prototype.setImageLoadFunction=Gw.prototype.fo;
Gw.prototype.setUrl=Gw.prototype.ho;Gw.prototype.updateParams=Gw.prototype.io;t("ol.source.ImageCanvas",Ov);t("ol.source.ImageMapGuide",Hw);Hw.prototype.getParams=Hw.prototype.ko;Hw.prototype.getImageLoadFunction=Hw.prototype.jo;Hw.prototype.updateParams=Hw.prototype.mo;Hw.prototype.setImageLoadFunction=Hw.prototype.lo;t("ol.source.ImageStatic",Iw);t("ol.source.ImageVector",Pv);Pv.prototype.getSource=Pv.prototype.no;Pv.prototype.getStyle=Pv.prototype.oo;Pv.prototype.getStyleFunction=Pv.prototype.po;
Pv.prototype.setStyle=Pv.prototype.Ii;t("ol.source.ImageWMS",Jw);Jw.prototype.getGetFeatureInfoUrl=Jw.prototype.so;Jw.prototype.getParams=Jw.prototype.uo;Jw.prototype.getImageLoadFunction=Jw.prototype.to;Jw.prototype.getUrl=Jw.prototype.vo;Jw.prototype.setImageLoadFunction=Jw.prototype.wo;Jw.prototype.setUrl=Jw.prototype.xo;Jw.prototype.updateParams=Jw.prototype.yo;t("ol.source.OSM",Nw);t("ol.source.OSM.ATTRIBUTION",Ow);t("ol.source.Raster",Pw);Pw.prototype.setOperation=Pw.prototype.v;
Tw.prototype.extent=Tw.prototype.extent;Tw.prototype.resolution=Tw.prototype.resolution;Tw.prototype.data=Tw.prototype.data;t("ol.source.Source",$t);$t.prototype.getAttributions=$t.prototype.ya;$t.prototype.getLogo=$t.prototype.xa;$t.prototype.getProjection=$t.prototype.za;$t.prototype.getState=$t.prototype.getState;$t.prototype.refresh=$t.prototype.sa;$t.prototype.setAttributions=$t.prototype.ua;t("ol.source.Stamen",Ww);t("ol.source.Tile",pw);pw.prototype.getTileGrid=pw.prototype.ab;
sw.prototype.tile=sw.prototype.tile;t("ol.source.TileArcGISRest",$w);$w.prototype.getParams=$w.prototype.C;$w.prototype.updateParams=$w.prototype.B;t("ol.source.TileDebug",bx);t("ol.source.TileImage",X);X.prototype.setRenderReprojectionEdges=X.prototype.Pb;X.prototype.setTileGridForProjection=X.prototype.Qb;t("ol.source.TileJSON",dx);dx.prototype.getTileJSON=dx.prototype.pl;t("ol.source.TileUTFGrid",ex);ex.prototype.getTemplate=ex.prototype.ml;ex.prototype.forDataAtCoordinateAndResolution=ex.prototype.zk;
t("ol.source.TileWMS",ix);ix.prototype.getGetFeatureInfoUrl=ix.prototype.Fo;ix.prototype.getParams=ix.prototype.Go;ix.prototype.updateParams=ix.prototype.Ho;tw.prototype.getTileLoadFunction=tw.prototype.pb;tw.prototype.getTileUrlFunction=tw.prototype.qb;tw.prototype.getUrls=tw.prototype.rb;tw.prototype.setTileLoadFunction=tw.prototype.vb;tw.prototype.setTileUrlFunction=tw.prototype.cb;tw.prototype.setUrl=tw.prototype.jb;tw.prototype.setUrls=tw.prototype.eb;t("ol.source.Vector",U);
U.prototype.addFeature=U.prototype.yb;U.prototype.addFeatures=U.prototype.cd;U.prototype.clear=U.prototype.clear;U.prototype.forEachFeature=U.prototype.sh;U.prototype.forEachFeatureInExtent=U.prototype.$b;U.prototype.forEachFeatureIntersectingExtent=U.prototype.th;U.prototype.getFeaturesCollection=U.prototype.Ah;U.prototype.getFeatures=U.prototype.Xe;U.prototype.getFeaturesAtCoordinate=U.prototype.zh;U.prototype.getFeaturesInExtent=U.prototype.Uf;U.prototype.getClosestFeatureToCoordinate=U.prototype.vh;
U.prototype.getExtent=U.prototype.G;U.prototype.getFeatureById=U.prototype.yh;U.prototype.getFormat=U.prototype.Mi;U.prototype.getUrl=U.prototype.Ni;U.prototype.removeFeature=U.prototype.Gb;gu.prototype.feature=gu.prototype.feature;t("ol.source.VectorTile",qx);t("ol.source.WMTS",Z);Z.prototype.getDimensions=Z.prototype.Mk;Z.prototype.getFormat=Z.prototype.Io;Z.prototype.getLayer=Z.prototype.Jo;Z.prototype.getMatrixSet=Z.prototype.$k;Z.prototype.getRequestEncoding=Z.prototype.kl;
Z.prototype.getStyle=Z.prototype.Ko;Z.prototype.getVersion=Z.prototype.rl;Z.prototype.updateDimensions=Z.prototype.uq;
t("ol.source.WMTS.optionsFromCapabilities",function(a,b){var c=na(a.Contents.Layer,function(a){return a.Identifier==b.layer});if(null===c)return null;var d=a.Contents.TileMatrixSet;var e=1<c.TileMatrixSetLink.length?"projection"in b?sa(c.TileMatrixSetLink,function(a){var c=na(d,function(b){return b.Identifier==a.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),e=Tb(c),f=Tb(b.projection);return e&&f?dc(e,f):c==b.projection}):sa(c.TileMatrixSetLink,function(a){return a.TileMatrixSet==
b.matrixSet}):0;0>e&&(e=0);var f=c.TileMatrixSetLink[e].TileMatrixSet;var g=c.TileMatrixSetLink[e].TileMatrixSetLimits;var h=c.Format[0];"format"in b&&(h=b.format);e=sa(c.Style,function(a){return"style"in b?a.Title==b.style:a.isDefault});0>e&&(e=0);e=c.Style[e].Identifier;var l={};"Dimension"in c&&c.Dimension.forEach(function(a){var b=a.Identifier,c=a.Default;void 0===c&&(c=a.Value[0]);l[b]=c});var m=na(a.Contents.TileMatrixSet,function(a){return a.Identifier==f});var n="projection"in b?Tb(b.projection):
Tb(m.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var p=c.WGS84BoundingBox;if(void 0!==p){var q=Tb("EPSG:4326").G();q=p[0]==q[0]&&p[2]==q[2];var r=hc(p,"EPSG:4326",n);(p=n.G())&&(Va(p,r)||(r=void 0))}g=sx(m,r,g);var u=[],m=b.requestEncoding,m=void 0!==m?m:"";if("OperationsMetadata"in a&&"GetTile"in a.OperationsMetadata)for(a=a.OperationsMetadata.GetTile.DCP.HTTP.Get,r=0,p=a.length;r<p;++r){var x=na(a[r].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;
""===m&&(m=x[0]);if("KVP"===m)ja(x,"KVP")&&u.push(a[r].href);else break}u.length||(m="REST",c.ResourceURL.forEach(function(a){"tile"===a.resourceType&&(h=a.format,u.push(a.template))}));return{urls:u,layer:b.layer,matrixSet:f,format:h,projection:n,requestEncoding:m,tileGrid:g,style:e,dimensions:l,wrapX:q,crossOrigin:b.crossOrigin}});t("ol.source.XYZ",zw);t("ol.source.Zoomify",ux);Rh.prototype.vectorContext=Rh.prototype.vectorContext;Rh.prototype.frameState=Rh.prototype.frameState;
Rh.prototype.context=Rh.prototype.context;Rh.prototype.glContext=Rh.prototype.glContext;kq.prototype.get=kq.prototype.get;kq.prototype.getExtent=kq.prototype.G;kq.prototype.getId=kq.prototype.Wn;kq.prototype.getGeometry=kq.prototype.V;kq.prototype.getProperties=kq.prototype.Xn;kq.prototype.getType=kq.prototype.U;t("ol.render.VectorContext",Wh);kk.prototype.setStyle=kk.prototype.rd;kk.prototype.drawGeometry=kk.prototype.zb;kk.prototype.drawFeature=kk.prototype.te;Xh.prototype.drawCircle=Xh.prototype.Zb;
Xh.prototype.setStyle=Xh.prototype.rd;Xh.prototype.drawGeometry=Xh.prototype.zb;Xh.prototype.drawFeature=Xh.prototype.te;t("ol.proj.common.add",ic);t("ol.proj.Projection",Bb);Bb.prototype.getCode=Bb.prototype.Jk;Bb.prototype.getExtent=Bb.prototype.G;Bb.prototype.getUnits=Bb.prototype.Un;Bb.prototype.getMetersPerUnit=Bb.prototype.sc;Bb.prototype.getWorldExtent=Bb.prototype.tl;Bb.prototype.isGlobal=Bb.prototype.dm;Bb.prototype.setGlobal=Bb.prototype.$p;Bb.prototype.setExtent=Bb.prototype.Vn;
Bb.prototype.setWorldExtent=Bb.prototype.kq;Bb.prototype.setGetPointResolution=Bb.prototype.Zp;t("ol.proj.Units.METERS_PER_UNIT",zb);t("ol.layer.Base",sh);sh.prototype.getExtent=sh.prototype.G;sh.prototype.getMaxResolution=sh.prototype.fc;sh.prototype.getMinResolution=sh.prototype.gc;sh.prototype.getOpacity=sh.prototype.hc;sh.prototype.getVisible=sh.prototype.Mb;sh.prototype.getZIndex=sh.prototype.Ba;sh.prototype.setExtent=sh.prototype.vc;sh.prototype.setMaxResolution=sh.prototype.Ac;
sh.prototype.setMinResolution=sh.prototype.Bc;sh.prototype.setOpacity=sh.prototype.wc;sh.prototype.setVisible=sh.prototype.xc;sh.prototype.setZIndex=sh.prototype.Vb;t("ol.layer.Group",uh);uh.prototype.getLayers=uh.prototype.qd;uh.prototype.setLayers=uh.prototype.xi;t("ol.layer.Heatmap",V);V.prototype.getBlur=V.prototype.uh;V.prototype.getGradient=V.prototype.Bh;V.prototype.getRadius=V.prototype.yi;V.prototype.setBlur=V.prototype.jj;V.prototype.setGradient=V.prototype.pj;V.prototype.setRadius=V.prototype.Uc;
t("ol.layer.Image",Uv);Uv.prototype.getSource=Uv.prototype.ha;t("ol.layer.Layer",wh);wh.prototype.getSource=wh.prototype.ha;wh.prototype.setMap=wh.prototype.setMap;wh.prototype.setSource=wh.prototype.Wc;t("ol.layer.Tile",cw);cw.prototype.getPreload=cw.prototype.Ud;cw.prototype.getSource=cw.prototype.ha;cw.prototype.setPreload=cw.prototype.zi;cw.prototype.getUseInterimTilesOnError=cw.prototype.kd;cw.prototype.setUseInterimTilesOnError=cw.prototype.Ai;t("ol.layer.Vector",T);T.prototype.getSource=T.prototype.ha;
T.prototype.getStyle=T.prototype.D;T.prototype.getStyleFunction=T.prototype.C;T.prototype.setStyle=T.prototype.g;t("ol.layer.VectorTile",W);W.prototype.getPreload=W.prototype.Ud;W.prototype.getUseInterimTilesOnError=W.prototype.kd;W.prototype.setPreload=W.prototype.Bi;W.prototype.setUseInterimTilesOnError=W.prototype.Ci;t("ol.interaction.DoubleClickZoom",rg);t("ol.interaction.DoubleClickZoom.handleEvent",sg);t("ol.interaction.DragAndDrop",Rs);t("ol.interaction.DragAndDrop.handleEvent",mf);
Us.prototype.features=Us.prototype.features;Us.prototype.file=Us.prototype.file;Us.prototype.projection=Us.prototype.projection;t("ol.interaction.DragBox",Rg);Rg.prototype.getGeometry=Rg.prototype.V;Wg.prototype.coordinate=Wg.prototype.coordinate;Wg.prototype.mapBrowserEvent=Wg.prototype.mapBrowserEvent;t("ol.interaction.DragPan",Gg);t("ol.interaction.DragRotate",Kg);t("ol.interaction.DragRotateAndZoom",Ys);t("ol.interaction.DragZoom",$g);t("ol.interaction.Draw",ju);
t("ol.interaction.Draw.handleEvent",lu);ju.prototype.removeLastPoint=ju.prototype.Op;ju.prototype.finishDrawing=ju.prototype.Pd;ju.prototype.extend=ju.prototype.vn;t("ol.interaction.Draw.createRegularPolygon",function(a,b){return function(c,d){var e=c[0];c=c[1];var f=Math.sqrt(hf(e,c));d=d?d:Zf(new ys(e),a);$f(d,e,f,b?b:Math.atan((c[1]-e[1])/(c[0]-e[0])));return d}});
t("ol.interaction.Draw.createBox",function(){return function(a,b){a=Na(a);b=b||new D(null);b.ma([[eb(a),gb(a),hb(a),ib(a),eb(a)]]);return b}});zu.prototype.feature=zu.prototype.feature;t("ol.interaction.Extent",Au);Au.prototype.getExtent=Au.prototype.G;Au.prototype.setExtent=Au.prototype.g;Lu.prototype.extent_=Lu.prototype.b;t("ol.interaction.Interaction",ng);ng.prototype.getActive=ng.prototype.c;ng.prototype.getMap=ng.prototype.f;ng.prototype.setActive=ng.prototype.Ha;
t("ol.interaction.KeyboardPan",ah);t("ol.interaction.KeyboardPan.handleEvent",bh);t("ol.interaction.KeyboardZoom",ch);t("ol.interaction.KeyboardZoom.handleEvent",dh);t("ol.interaction.Modify",Nu);t("ol.interaction.Modify.handleEvent",Qu);Nu.prototype.removePoint=Nu.prototype.hj;Vu.prototype.features=Vu.prototype.features;Vu.prototype.mapBrowserEvent=Vu.prototype.mapBrowserEvent;t("ol.interaction.MouseWheelZoom",eh);t("ol.interaction.MouseWheelZoom.handleEvent",fh);eh.prototype.setMouseAnchor=eh.prototype.T;
t("ol.interaction.PinchRotate",ih);t("ol.interaction.PinchZoom",mh);t("ol.interaction.Pointer",Dg);t("ol.interaction.Pointer.handleEvent",Eg);t("ol.interaction.Select",cv);cv.prototype.getFeatures=cv.prototype.Gn;cv.prototype.getHitTolerance=cv.prototype.Hn;cv.prototype.getLayer=cv.prototype.In;t("ol.interaction.Select.handleEvent",dv);cv.prototype.setHitTolerance=cv.prototype.Kn;cv.prototype.setMap=cv.prototype.setMap;fv.prototype.selected=fv.prototype.selected;fv.prototype.deselected=fv.prototype.deselected;
fv.prototype.mapBrowserEvent=fv.prototype.mapBrowserEvent;t("ol.interaction.Snap",hv);hv.prototype.addFeature=hv.prototype.yb;hv.prototype.removeFeature=hv.prototype.Gb;t("ol.interaction.Translate",mv);mv.prototype.getHitTolerance=mv.prototype.B;mv.prototype.setHitTolerance=mv.prototype.I;sv.prototype.features=sv.prototype.features;sv.prototype.coordinate=sv.prototype.coordinate;t("ol.geom.Circle",ys);ys.prototype.clone=ys.prototype.clone;ys.prototype.getCenter=ys.prototype.wa;
ys.prototype.getRadius=ys.prototype.pd;ys.prototype.getType=ys.prototype.U;ys.prototype.intersectsExtent=ys.prototype.Xa;ys.prototype.setCenter=ys.prototype.ob;ys.prototype.setCenterAndRadius=ys.prototype.Ng;ys.prototype.setRadius=ys.prototype.Uc;ys.prototype.transform=ys.prototype.tb;t("ol.geom.Geometry",of);of.prototype.getClosestPoint=of.prototype.Ab;of.prototype.intersectsCoordinate=of.prototype.sb;of.prototype.getExtent=of.prototype.G;of.prototype.rotate=of.prototype.rotate;
of.prototype.scale=of.prototype.scale;of.prototype.simplify=of.prototype.Rb;of.prototype.transform=of.prototype.tb;t("ol.geom.GeometryCollection",tm);tm.prototype.clone=tm.prototype.clone;tm.prototype.getGeometries=tm.prototype.Vf;tm.prototype.getType=tm.prototype.U;tm.prototype.intersectsExtent=tm.prototype.Xa;tm.prototype.setGeometries=tm.prototype.oj;tm.prototype.applyTransform=tm.prototype.Dc;tm.prototype.translate=tm.prototype.translate;t("ol.geom.LinearRing",Jf);Jf.prototype.clone=Jf.prototype.clone;
Jf.prototype.getArea=Jf.prototype.qn;Jf.prototype.getCoordinates=Jf.prototype.X;Jf.prototype.getType=Jf.prototype.U;Jf.prototype.setCoordinates=Jf.prototype.ma;t("ol.geom.LineString",O);O.prototype.appendCoordinate=O.prototype.mk;O.prototype.clone=O.prototype.clone;O.prototype.forEachSegment=O.prototype.Ck;O.prototype.getCoordinateAtM=O.prototype.nn;O.prototype.getCoordinates=O.prototype.X;O.prototype.getCoordinateAt=O.prototype.wh;O.prototype.getLength=O.prototype.pn;O.prototype.getType=O.prototype.U;
O.prototype.intersectsExtent=O.prototype.Xa;O.prototype.setCoordinates=O.prototype.ma;t("ol.geom.MultiLineString",P);P.prototype.appendLineString=P.prototype.nk;P.prototype.clone=P.prototype.clone;P.prototype.getCoordinateAtM=P.prototype.rn;P.prototype.getCoordinates=P.prototype.X;P.prototype.getLineString=P.prototype.Yk;P.prototype.getLineStrings=P.prototype.gd;P.prototype.getType=P.prototype.U;P.prototype.intersectsExtent=P.prototype.Xa;P.prototype.setCoordinates=P.prototype.ma;
t("ol.geom.MultiPoint",Q);Q.prototype.appendPoint=Q.prototype.qk;Q.prototype.clone=Q.prototype.clone;Q.prototype.getCoordinates=Q.prototype.X;Q.prototype.getPoint=Q.prototype.il;Q.prototype.getPoints=Q.prototype.Zd;Q.prototype.getType=Q.prototype.U;Q.prototype.intersectsExtent=Q.prototype.Xa;Q.prototype.setCoordinates=Q.prototype.ma;t("ol.geom.MultiPolygon",R);R.prototype.appendPolygon=R.prototype.rk;R.prototype.clone=R.prototype.clone;R.prototype.getArea=R.prototype.sn;
R.prototype.getCoordinates=R.prototype.X;R.prototype.getInteriorPoints=R.prototype.Uk;R.prototype.getPolygon=R.prototype.jl;R.prototype.getPolygons=R.prototype.Td;R.prototype.getType=R.prototype.U;R.prototype.intersectsExtent=R.prototype.Xa;R.prototype.setCoordinates=R.prototype.ma;t("ol.geom.Point",C);C.prototype.clone=C.prototype.clone;C.prototype.getCoordinates=C.prototype.X;C.prototype.getType=C.prototype.U;C.prototype.intersectsExtent=C.prototype.Xa;C.prototype.setCoordinates=C.prototype.ma;
t("ol.geom.Polygon",D);D.prototype.appendLinearRing=D.prototype.pk;D.prototype.clone=D.prototype.clone;D.prototype.getArea=D.prototype.tn;D.prototype.getCoordinates=D.prototype.X;D.prototype.getInteriorPoint=D.prototype.Tk;D.prototype.getLinearRingCount=D.prototype.Zk;D.prototype.getLinearRing=D.prototype.Ch;D.prototype.getLinearRings=D.prototype.Sd;D.prototype.getType=D.prototype.U;D.prototype.intersectsExtent=D.prototype.Xa;D.prototype.setCoordinates=D.prototype.ma;
t("ol.geom.Polygon.circular",Xf);t("ol.geom.Polygon.fromExtent",Yf);t("ol.geom.Polygon.fromCircle",Zf);t("ol.geom.SimpleGeometry",rf);rf.prototype.getFirstCoordinate=rf.prototype.ac;rf.prototype.getLastCoordinate=rf.prototype.bc;rf.prototype.getLayout=rf.prototype.cc;rf.prototype.applyTransform=rf.prototype.Dc;rf.prototype.translate=rf.prototype.translate;t("ol.format.EsriJSON",Ql);Ql.prototype.readFeature=Ql.prototype.Tb;Ql.prototype.readFeatures=Ql.prototype.Oa;Ql.prototype.readGeometry=Ql.prototype.Sc;
Ql.prototype.readProjection=Ql.prototype.kb;Ql.prototype.writeGeometry=Ql.prototype.$c;Ql.prototype.writeGeometryObject=Ql.prototype.je;Ql.prototype.writeFeature=Ql.prototype.Bd;Ql.prototype.writeFeatureObject=Ql.prototype.Zc;Ql.prototype.writeFeatures=Ql.prototype.Wb;Ql.prototype.writeFeaturesObject=Ql.prototype.he;t("ol.format.Feature",El);t("ol.format.filter.and",rm);
t("ol.format.filter.or",function(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new (Function.prototype.bind.apply(pm,b))});t("ol.format.filter.not",function(a){return new nm(a)});t("ol.format.filter.bbox",sm);t("ol.format.filter.intersects",function(a,b,c){return new hm(a,b,c)});t("ol.format.filter.within",function(a,b,c){return new qm(a,b,c)});t("ol.format.filter.equalTo",function(a,b,c){return new dm(a,b,c)});
t("ol.format.filter.notEqualTo",function(a,b,c){return new om(a,b,c)});t("ol.format.filter.lessThan",function(a,b){return new lm(a,b)});t("ol.format.filter.lessThanOrEqualTo",function(a,b){return new mm(a,b)});t("ol.format.filter.greaterThan",function(a,b){return new em(a,b)});t("ol.format.filter.greaterThanOrEqualTo",function(a,b){return new fm(a,b)});t("ol.format.filter.isNull",function(a){return new km(a)});t("ol.format.filter.between",function(a,b,c){return new im(a,b,c)});
t("ol.format.filter.like",function(a,b,c,d,e,f){return new jm(a,b,c,d,e,f)});t("ol.format.filter.during",function(a,b,c){return new bm(a,b,c)});t("ol.format.GeoJSON",xm);xm.prototype.readFeature=xm.prototype.Tb;xm.prototype.readFeatures=xm.prototype.Oa;xm.prototype.readGeometry=xm.prototype.Sc;xm.prototype.readProjection=xm.prototype.kb;xm.prototype.writeFeature=xm.prototype.Bd;xm.prototype.writeFeatureObject=xm.prototype.Zc;xm.prototype.writeFeatures=xm.prototype.Wb;
xm.prototype.writeFeaturesObject=xm.prototype.he;xm.prototype.writeGeometry=xm.prototype.$c;xm.prototype.writeGeometryObject=xm.prototype.je;t("ol.format.GML",Sm);Sm.prototype.writeFeatures=Sm.prototype.Wb;Sm.prototype.writeFeaturesNode=Sm.prototype.Xb;t("ol.format.GML2",an);t("ol.format.GML3",Sm);Sm.prototype.writeGeometryNode=Sm.prototype.ie;Sm.prototype.writeFeatures=Sm.prototype.Wb;Sm.prototype.writeFeaturesNode=Sm.prototype.Xb;Fm.prototype.readFeatures=Fm.prototype.Oa;t("ol.format.GPX",mn);
mn.prototype.readFeature=mn.prototype.Tb;mn.prototype.readFeatures=mn.prototype.Oa;mn.prototype.readProjection=mn.prototype.kb;mn.prototype.writeFeatures=mn.prototype.Wb;mn.prototype.writeFeaturesNode=mn.prototype.Xb;t("ol.format.IGC",Xn);Xn.prototype.readFeature=Xn.prototype.Tb;Xn.prototype.readFeatures=Xn.prototype.Oa;Xn.prototype.readProjection=Xn.prototype.kb;t("ol.format.KML",go);go.prototype.readFeature=go.prototype.Tb;go.prototype.readFeatures=go.prototype.Oa;go.prototype.readName=go.prototype.Cp;
go.prototype.readNetworkLinks=go.prototype.Dp;go.prototype.readRegion=go.prototype.Gp;go.prototype.readRegionFromNode=go.prototype.lf;go.prototype.readProjection=go.prototype.kb;go.prototype.writeFeatures=go.prototype.Wb;go.prototype.writeFeaturesNode=go.prototype.Xb;t("ol.format.MVT",lq);lq.prototype.readFeatures=lq.prototype.Oa;lq.prototype.readProjection=lq.prototype.kb;lq.prototype.setLayers=lq.prototype.mn;t("ol.format.OSMXML",nq);nq.prototype.readFeatures=nq.prototype.Oa;
nq.prototype.readProjection=nq.prototype.kb;t("ol.format.Polyline",Nq);t("ol.format.Polyline.encodeDeltas",Oq);t("ol.format.Polyline.decodeDeltas",Qq);t("ol.format.Polyline.encodeFloats",Pq);t("ol.format.Polyline.decodeFloats",Rq);Nq.prototype.readFeature=Nq.prototype.Tb;Nq.prototype.readFeatures=Nq.prototype.Oa;Nq.prototype.readGeometry=Nq.prototype.Sc;Nq.prototype.readProjection=Nq.prototype.kb;Nq.prototype.writeGeometry=Nq.prototype.$c;t("ol.format.TopoJSON",Sq);Sq.prototype.readFeatures=Sq.prototype.Oa;
Sq.prototype.readProjection=Sq.prototype.kb;t("ol.format.WFS",Yq);Yq.prototype.readFeatures=Yq.prototype.Oa;Yq.prototype.readTransactionResponse=Yq.prototype.j;Yq.prototype.readFeatureCollectionMetadata=Yq.prototype.g;t("ol.format.WFS.writeFilter",function(a){var b=jl("http://www.opengis.net/ogc","Filter");Bl({node:b},mr,wl(a.kc),[a],[]);return b});Yq.prototype.writeGetFeature=Yq.prototype.l;Yq.prototype.writeTransaction=Yq.prototype.v;Yq.prototype.readProjection=Yq.prototype.kb;
t("ol.format.WKT",sr);sr.prototype.readFeature=sr.prototype.Tb;sr.prototype.readFeatures=sr.prototype.Oa;sr.prototype.readGeometry=sr.prototype.Sc;sr.prototype.writeFeature=sr.prototype.Bd;sr.prototype.writeFeatures=sr.prototype.Wb;sr.prototype.writeGeometry=sr.prototype.$c;t("ol.format.WMSCapabilities",Lr);Lr.prototype.read=Lr.prototype.read;t("ol.format.WMSGetFeatureInfo",hs);hs.prototype.readFeatures=hs.prototype.Oa;t("ol.format.WMTSCapabilities",is);is.prototype.read=is.prototype.read;
t("ol.format.filter.And",Zl);t("ol.format.filter.Bbox",$l);t("ol.format.filter.Comparison",am);t("ol.format.filter.ComparisonBinary",cm);t("ol.format.filter.During",bm);t("ol.format.filter.EqualTo",dm);t("ol.format.filter.Filter",Xl);t("ol.format.filter.GreaterThan",em);t("ol.format.filter.GreaterThanOrEqualTo",fm);t("ol.format.filter.Intersects",hm);t("ol.format.filter.IsBetween",im);t("ol.format.filter.IsLike",jm);t("ol.format.filter.IsNull",km);t("ol.format.filter.LessThan",lm);
t("ol.format.filter.LessThanOrEqualTo",mm);t("ol.format.filter.Not",nm);t("ol.format.filter.NotEqualTo",om);t("ol.format.filter.Or",pm);t("ol.format.filter.Spatial",gm);t("ol.format.filter.Within",qm);t("ol.events.condition.altKeyOnly",function(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey});t("ol.events.condition.altShiftKeysOnly",tg);t("ol.events.condition.always",mf);t("ol.events.condition.click",function(a){return"click"==a.type});t("ol.events.condition.never",nf);
t("ol.events.condition.pointerMove",vg);t("ol.events.condition.singleClick",wg);t("ol.events.condition.doubleClick",function(a){return"dblclick"==a.type});t("ol.events.condition.noModifierKeys",xg);t("ol.events.condition.platformModifierKeyOnly",function(a){a=a.originalEvent;return!a.altKey&&(Rd?a.metaKey:a.ctrlKey)&&!a.shiftKey});t("ol.events.condition.shiftKeyOnly",yg);t("ol.events.condition.targetNotEditable",Ag);t("ol.events.condition.mouseOnly",Bg);t("ol.events.condition.primaryAction",Cg);
Oc.prototype.type=Oc.prototype.type;Oc.prototype.target=Oc.prototype.target;Oc.prototype.preventDefault=Oc.prototype.preventDefault;Oc.prototype.stopPropagation=Oc.prototype.stopPropagation;t("ol.control.Attribution",nd);t("ol.control.Attribution.render",od);nd.prototype.getCollapsible=nd.prototype.Um;nd.prototype.setCollapsible=nd.prototype.Xm;nd.prototype.setCollapsed=nd.prototype.Wm;nd.prototype.getCollapsed=nd.prototype.Tm;t("ol.control.Control",md);md.prototype.getMap=md.prototype.g;
md.prototype.setMap=md.prototype.setMap;md.prototype.setTarget=md.prototype.f;t("ol.control.FullScreen",yd);t("ol.control.MousePosition",Dd);t("ol.control.MousePosition.render",Ed);Dd.prototype.getCoordinateFormat=Dd.prototype.xh;Dd.prototype.getProjection=Dd.prototype.Zh;Dd.prototype.setCoordinateFormat=Dd.prototype.kj;Dd.prototype.setProjection=Dd.prototype.$h;t("ol.control.OverviewMap",Bk);t("ol.control.OverviewMap.render",Ck);Bk.prototype.getCollapsible=Bk.prototype.$m;
Bk.prototype.setCollapsible=Bk.prototype.cn;Bk.prototype.setCollapsed=Bk.prototype.bn;Bk.prototype.getCollapsed=Bk.prototype.Zm;Bk.prototype.getOverviewMap=Bk.prototype.gl;t("ol.control.Rotate",ud);t("ol.control.Rotate.render",vd);t("ol.control.ScaleLine",Gk);Gk.prototype.getUnits=Gk.prototype.C;t("ol.control.ScaleLine.render",Hk);Gk.prototype.setUnits=Gk.prototype.I;t("ol.control.Zoom",wd);t("ol.control.ZoomSlider",Lk);t("ol.control.ZoomSlider.render",Nk);t("ol.control.ZoomToExtent",Qk);
Tc.prototype.changed=Tc.prototype.s;Tc.prototype.dispatchEvent=Tc.prototype.b;Tc.prototype.getRevision=Tc.prototype.L;Tc.prototype.on=Tc.prototype.J;Tc.prototype.once=Tc.prototype.once;Tc.prototype.un=Tc.prototype.K;Yc.prototype.get=Yc.prototype.get;Yc.prototype.getKeys=Yc.prototype.O;Yc.prototype.getProperties=Yc.prototype.N;Yc.prototype.set=Yc.prototype.set;Yc.prototype.setProperties=Yc.prototype.H;Yc.prototype.unset=Yc.prototype.P;Yc.prototype.changed=Yc.prototype.s;
Yc.prototype.dispatchEvent=Yc.prototype.b;Yc.prototype.getRevision=Yc.prototype.L;Yc.prototype.on=Yc.prototype.J;Yc.prototype.once=Yc.prototype.once;Yc.prototype.un=Yc.prototype.K;bd.prototype.type=bd.prototype.type;bd.prototype.target=bd.prototype.target;bd.prototype.preventDefault=bd.prototype.preventDefault;bd.prototype.stopPropagation=bd.prototype.stopPropagation;Rk.prototype.get=Rk.prototype.get;Rk.prototype.getKeys=Rk.prototype.O;Rk.prototype.getProperties=Rk.prototype.N;Rk.prototype.set=Rk.prototype.set;
Rk.prototype.setProperties=Rk.prototype.H;Rk.prototype.unset=Rk.prototype.P;Rk.prototype.changed=Rk.prototype.s;Rk.prototype.dispatchEvent=Rk.prototype.b;Rk.prototype.getRevision=Rk.prototype.L;Rk.prototype.on=Rk.prototype.J;Rk.prototype.once=Rk.prototype.once;Rk.prototype.un=Rk.prototype.K;H.prototype.get=H.prototype.get;H.prototype.getKeys=H.prototype.O;H.prototype.getProperties=H.prototype.N;H.prototype.set=H.prototype.set;H.prototype.setProperties=H.prototype.H;H.prototype.unset=H.prototype.P;
H.prototype.changed=H.prototype.s;H.prototype.dispatchEvent=H.prototype.b;H.prototype.getRevision=H.prototype.L;H.prototype.on=H.prototype.J;H.prototype.once=H.prototype.once;H.prototype.un=H.prototype.K;xs.prototype.get=xs.prototype.get;xs.prototype.getKeys=xs.prototype.O;xs.prototype.getProperties=xs.prototype.N;xs.prototype.set=xs.prototype.set;xs.prototype.setProperties=xs.prototype.H;xs.prototype.unset=xs.prototype.P;xs.prototype.changed=xs.prototype.s;xs.prototype.dispatchEvent=xs.prototype.b;
xs.prototype.getRevision=xs.prototype.L;xs.prototype.on=xs.prototype.J;xs.prototype.once=xs.prototype.once;xs.prototype.un=xs.prototype.K;Os.prototype.getTileCoord=Os.prototype.f;Os.prototype.load=Os.prototype.load;G.prototype.get=G.prototype.get;G.prototype.getKeys=G.prototype.O;G.prototype.getProperties=G.prototype.N;G.prototype.set=G.prototype.set;G.prototype.setProperties=G.prototype.H;G.prototype.unset=G.prototype.P;G.prototype.changed=G.prototype.s;G.prototype.dispatchEvent=G.prototype.b;
G.prototype.getRevision=G.prototype.L;G.prototype.on=G.prototype.J;G.prototype.once=G.prototype.once;G.prototype.un=G.prototype.K;Id.prototype.type=Id.prototype.type;Id.prototype.target=Id.prototype.target;Id.prototype.preventDefault=Id.prototype.preventDefault;Id.prototype.stopPropagation=Id.prototype.stopPropagation;Jd.prototype.map=Jd.prototype.map;Jd.prototype.frameState=Jd.prototype.frameState;Jd.prototype.type=Jd.prototype.type;Jd.prototype.target=Jd.prototype.target;
Jd.prototype.preventDefault=Jd.prototype.preventDefault;Jd.prototype.stopPropagation=Jd.prototype.stopPropagation;ee.prototype.originalEvent=ee.prototype.originalEvent;ee.prototype.pixel=ee.prototype.pixel;ee.prototype.coordinate=ee.prototype.coordinate;ee.prototype.dragging=ee.prototype.dragging;ee.prototype.preventDefault=ee.prototype.preventDefault;ee.prototype.stopPropagation=ee.prototype.stopPropagation;ee.prototype.map=ee.prototype.map;ee.prototype.frameState=ee.prototype.frameState;
ee.prototype.type=ee.prototype.type;ee.prototype.target=ee.prototype.target;Xc.prototype.type=Xc.prototype.type;Xc.prototype.target=Xc.prototype.target;Xc.prototype.preventDefault=Xc.prototype.preventDefault;Xc.prototype.stopPropagation=Xc.prototype.stopPropagation;sk.prototype.get=sk.prototype.get;sk.prototype.getKeys=sk.prototype.O;sk.prototype.getProperties=sk.prototype.N;sk.prototype.set=sk.prototype.set;sk.prototype.setProperties=sk.prototype.H;sk.prototype.unset=sk.prototype.P;
sk.prototype.changed=sk.prototype.s;sk.prototype.dispatchEvent=sk.prototype.b;sk.prototype.getRevision=sk.prototype.L;sk.prototype.on=sk.prototype.J;sk.prototype.once=sk.prototype.once;sk.prototype.un=sk.prototype.K;nx.prototype.getTileCoord=nx.prototype.f;nx.prototype.load=nx.prototype.load;px.prototype.getTileCoord=px.prototype.f;px.prototype.load=px.prototype.load;F.prototype.get=F.prototype.get;F.prototype.getKeys=F.prototype.O;F.prototype.getProperties=F.prototype.N;F.prototype.set=F.prototype.set;
F.prototype.setProperties=F.prototype.H;F.prototype.unset=F.prototype.P;F.prototype.changed=F.prototype.s;F.prototype.dispatchEvent=F.prototype.b;F.prototype.getRevision=F.prototype.L;F.prototype.on=F.prototype.J;F.prototype.once=F.prototype.once;F.prototype.un=F.prototype.K;rx.prototype.forEachTileCoord=rx.prototype.Rf;rx.prototype.getMaxZoom=rx.prototype.Ti;rx.prototype.getMinZoom=rx.prototype.Ui;rx.prototype.getOrigin=rx.prototype.Pc;rx.prototype.getResolution=rx.prototype.Da;
rx.prototype.getResolutions=rx.prototype.Vi;rx.prototype.getTileCoordExtent=rx.prototype.Aa;rx.prototype.getTileCoordForCoordAndResolution=rx.prototype.Be;rx.prototype.getTileCoordForCoordAndZ=rx.prototype.bg;rx.prototype.getTileSize=rx.prototype.gb;rx.prototype.getZForResolution=rx.prototype.tc;Yk.prototype.getOpacity=Yk.prototype.Ze;Yk.prototype.getRotateWithView=Yk.prototype.$e;Yk.prototype.getRotation=Yk.prototype.af;Yk.prototype.getScale=Yk.prototype.bf;Yk.prototype.getSnapToPixel=Yk.prototype.Ae;
Yk.prototype.setOpacity=Yk.prototype.td;Yk.prototype.setRotation=Yk.prototype.cf;Yk.prototype.setScale=Yk.prototype.ud;$k.prototype.clone=$k.prototype.clone;$k.prototype.getAngle=$k.prototype.Pi;$k.prototype.getFill=$k.prototype.Fa;$k.prototype.getPoints=$k.prototype.Qi;$k.prototype.getRadius=$k.prototype.Ri;$k.prototype.getRadius2=$k.prototype.Fh;$k.prototype.getStroke=$k.prototype.Ga;$k.prototype.getOpacity=$k.prototype.Ze;$k.prototype.getRotateWithView=$k.prototype.$e;
$k.prototype.getRotation=$k.prototype.af;$k.prototype.getScale=$k.prototype.bf;$k.prototype.getSnapToPixel=$k.prototype.Ae;$k.prototype.setOpacity=$k.prototype.td;$k.prototype.setRotation=$k.prototype.cf;$k.prototype.setScale=$k.prototype.ud;eo.prototype.getOpacity=eo.prototype.Ze;eo.prototype.getRotateWithView=eo.prototype.$e;eo.prototype.getRotation=eo.prototype.af;eo.prototype.getScale=eo.prototype.bf;eo.prototype.getSnapToPixel=eo.prototype.Ae;eo.prototype.setOpacity=eo.prototype.td;
eo.prototype.setRotation=eo.prototype.cf;eo.prototype.setScale=eo.prototype.ud;$t.prototype.get=$t.prototype.get;$t.prototype.getKeys=$t.prototype.O;$t.prototype.getProperties=$t.prototype.N;$t.prototype.set=$t.prototype.set;$t.prototype.setProperties=$t.prototype.H;$t.prototype.unset=$t.prototype.P;$t.prototype.changed=$t.prototype.s;$t.prototype.dispatchEvent=$t.prototype.b;$t.prototype.getRevision=$t.prototype.L;$t.prototype.on=$t.prototype.J;$t.prototype.once=$t.prototype.once;
$t.prototype.un=$t.prototype.K;pw.prototype.getAttributions=pw.prototype.ya;pw.prototype.getLogo=pw.prototype.xa;pw.prototype.getProjection=pw.prototype.za;pw.prototype.getState=pw.prototype.getState;pw.prototype.refresh=pw.prototype.sa;pw.prototype.setAttributions=pw.prototype.ua;pw.prototype.get=pw.prototype.get;pw.prototype.getKeys=pw.prototype.O;pw.prototype.getProperties=pw.prototype.N;pw.prototype.set=pw.prototype.set;pw.prototype.setProperties=pw.prototype.H;pw.prototype.unset=pw.prototype.P;
pw.prototype.changed=pw.prototype.s;pw.prototype.dispatchEvent=pw.prototype.b;pw.prototype.getRevision=pw.prototype.L;pw.prototype.on=pw.prototype.J;pw.prototype.once=pw.prototype.once;pw.prototype.un=pw.prototype.K;tw.prototype.getTileGrid=tw.prototype.ab;tw.prototype.refresh=tw.prototype.sa;tw.prototype.getAttributions=tw.prototype.ya;tw.prototype.getLogo=tw.prototype.xa;tw.prototype.getProjection=tw.prototype.za;tw.prototype.getState=tw.prototype.getState;tw.prototype.setAttributions=tw.prototype.ua;
tw.prototype.get=tw.prototype.get;tw.prototype.getKeys=tw.prototype.O;tw.prototype.getProperties=tw.prototype.N;tw.prototype.set=tw.prototype.set;tw.prototype.setProperties=tw.prototype.H;tw.prototype.unset=tw.prototype.P;tw.prototype.changed=tw.prototype.s;tw.prototype.dispatchEvent=tw.prototype.b;tw.prototype.getRevision=tw.prototype.L;tw.prototype.on=tw.prototype.J;tw.prototype.once=tw.prototype.once;tw.prototype.un=tw.prototype.K;X.prototype.getTileLoadFunction=X.prototype.pb;
X.prototype.getTileUrlFunction=X.prototype.qb;X.prototype.getUrls=X.prototype.rb;X.prototype.setTileLoadFunction=X.prototype.vb;X.prototype.setTileUrlFunction=X.prototype.cb;X.prototype.setUrl=X.prototype.jb;X.prototype.setUrls=X.prototype.eb;X.prototype.getTileGrid=X.prototype.ab;X.prototype.refresh=X.prototype.sa;X.prototype.getAttributions=X.prototype.ya;X.prototype.getLogo=X.prototype.xa;X.prototype.getProjection=X.prototype.za;X.prototype.getState=X.prototype.getState;
X.prototype.setAttributions=X.prototype.ua;X.prototype.get=X.prototype.get;X.prototype.getKeys=X.prototype.O;X.prototype.getProperties=X.prototype.N;X.prototype.set=X.prototype.set;X.prototype.setProperties=X.prototype.H;X.prototype.unset=X.prototype.P;X.prototype.changed=X.prototype.s;X.prototype.dispatchEvent=X.prototype.b;X.prototype.getRevision=X.prototype.L;X.prototype.on=X.prototype.J;X.prototype.once=X.prototype.once;X.prototype.un=X.prototype.K;xw.prototype.setRenderReprojectionEdges=xw.prototype.Pb;
xw.prototype.setTileGridForProjection=xw.prototype.Qb;xw.prototype.getTileLoadFunction=xw.prototype.pb;xw.prototype.getTileUrlFunction=xw.prototype.qb;xw.prototype.getUrls=xw.prototype.rb;xw.prototype.setTileLoadFunction=xw.prototype.vb;xw.prototype.setTileUrlFunction=xw.prototype.cb;xw.prototype.setUrl=xw.prototype.jb;xw.prototype.setUrls=xw.prototype.eb;xw.prototype.getTileGrid=xw.prototype.ab;xw.prototype.refresh=xw.prototype.sa;xw.prototype.getAttributions=xw.prototype.ya;
xw.prototype.getLogo=xw.prototype.xa;xw.prototype.getProjection=xw.prototype.za;xw.prototype.getState=xw.prototype.getState;xw.prototype.setAttributions=xw.prototype.ua;xw.prototype.get=xw.prototype.get;xw.prototype.getKeys=xw.prototype.O;xw.prototype.getProperties=xw.prototype.N;xw.prototype.set=xw.prototype.set;xw.prototype.setProperties=xw.prototype.H;xw.prototype.unset=xw.prototype.P;xw.prototype.changed=xw.prototype.s;xw.prototype.dispatchEvent=xw.prototype.b;xw.prototype.getRevision=xw.prototype.L;
xw.prototype.on=xw.prototype.J;xw.prototype.once=xw.prototype.once;xw.prototype.un=xw.prototype.K;zw.prototype.setRenderReprojectionEdges=zw.prototype.Pb;zw.prototype.setTileGridForProjection=zw.prototype.Qb;zw.prototype.getTileLoadFunction=zw.prototype.pb;zw.prototype.getTileUrlFunction=zw.prototype.qb;zw.prototype.getUrls=zw.prototype.rb;zw.prototype.setTileLoadFunction=zw.prototype.vb;zw.prototype.setTileUrlFunction=zw.prototype.cb;zw.prototype.setUrl=zw.prototype.jb;zw.prototype.setUrls=zw.prototype.eb;
zw.prototype.getTileGrid=zw.prototype.ab;zw.prototype.refresh=zw.prototype.sa;zw.prototype.getAttributions=zw.prototype.ya;zw.prototype.getLogo=zw.prototype.xa;zw.prototype.getProjection=zw.prototype.za;zw.prototype.getState=zw.prototype.getState;zw.prototype.setAttributions=zw.prototype.ua;zw.prototype.get=zw.prototype.get;zw.prototype.getKeys=zw.prototype.O;zw.prototype.getProperties=zw.prototype.N;zw.prototype.set=zw.prototype.set;zw.prototype.setProperties=zw.prototype.H;zw.prototype.unset=zw.prototype.P;
zw.prototype.changed=zw.prototype.s;zw.prototype.dispatchEvent=zw.prototype.b;zw.prototype.getRevision=zw.prototype.L;zw.prototype.on=zw.prototype.J;zw.prototype.once=zw.prototype.once;zw.prototype.un=zw.prototype.K;Aw.prototype.setRenderReprojectionEdges=Aw.prototype.Pb;Aw.prototype.setTileGridForProjection=Aw.prototype.Qb;Aw.prototype.getTileLoadFunction=Aw.prototype.pb;Aw.prototype.getTileUrlFunction=Aw.prototype.qb;Aw.prototype.getUrls=Aw.prototype.rb;Aw.prototype.setTileLoadFunction=Aw.prototype.vb;
Aw.prototype.setTileUrlFunction=Aw.prototype.cb;Aw.prototype.setUrl=Aw.prototype.jb;Aw.prototype.setUrls=Aw.prototype.eb;Aw.prototype.getTileGrid=Aw.prototype.ab;Aw.prototype.refresh=Aw.prototype.sa;Aw.prototype.getAttributions=Aw.prototype.ya;Aw.prototype.getLogo=Aw.prototype.xa;Aw.prototype.getProjection=Aw.prototype.za;Aw.prototype.getState=Aw.prototype.getState;Aw.prototype.setAttributions=Aw.prototype.ua;Aw.prototype.get=Aw.prototype.get;Aw.prototype.getKeys=Aw.prototype.O;
Aw.prototype.getProperties=Aw.prototype.N;Aw.prototype.set=Aw.prototype.set;Aw.prototype.setProperties=Aw.prototype.H;Aw.prototype.unset=Aw.prototype.P;Aw.prototype.changed=Aw.prototype.s;Aw.prototype.dispatchEvent=Aw.prototype.b;Aw.prototype.getRevision=Aw.prototype.L;Aw.prototype.on=Aw.prototype.J;Aw.prototype.once=Aw.prototype.once;Aw.prototype.un=Aw.prototype.K;U.prototype.getAttributions=U.prototype.ya;U.prototype.getLogo=U.prototype.xa;U.prototype.getProjection=U.prototype.za;
U.prototype.getState=U.prototype.getState;U.prototype.refresh=U.prototype.sa;U.prototype.setAttributions=U.prototype.ua;U.prototype.get=U.prototype.get;U.prototype.getKeys=U.prototype.O;U.prototype.getProperties=U.prototype.N;U.prototype.set=U.prototype.set;U.prototype.setProperties=U.prototype.H;U.prototype.unset=U.prototype.P;U.prototype.changed=U.prototype.s;U.prototype.dispatchEvent=U.prototype.b;U.prototype.getRevision=U.prototype.L;U.prototype.on=U.prototype.J;U.prototype.once=U.prototype.once;
U.prototype.un=U.prototype.K;Y.prototype.addFeature=Y.prototype.yb;Y.prototype.addFeatures=Y.prototype.cd;Y.prototype.clear=Y.prototype.clear;Y.prototype.forEachFeature=Y.prototype.sh;Y.prototype.forEachFeatureInExtent=Y.prototype.$b;Y.prototype.forEachFeatureIntersectingExtent=Y.prototype.th;Y.prototype.getFeaturesCollection=Y.prototype.Ah;Y.prototype.getFeatures=Y.prototype.Xe;Y.prototype.getFeaturesAtCoordinate=Y.prototype.zh;Y.prototype.getFeaturesInExtent=Y.prototype.Uf;
Y.prototype.getClosestFeatureToCoordinate=Y.prototype.vh;Y.prototype.getExtent=Y.prototype.G;Y.prototype.getFeatureById=Y.prototype.yh;Y.prototype.getFormat=Y.prototype.Mi;Y.prototype.getUrl=Y.prototype.Ni;Y.prototype.removeFeature=Y.prototype.Gb;Y.prototype.getAttributions=Y.prototype.ya;Y.prototype.getLogo=Y.prototype.xa;Y.prototype.getProjection=Y.prototype.za;Y.prototype.getState=Y.prototype.getState;Y.prototype.refresh=Y.prototype.sa;Y.prototype.setAttributions=Y.prototype.ua;
Y.prototype.get=Y.prototype.get;Y.prototype.getKeys=Y.prototype.O;Y.prototype.getProperties=Y.prototype.N;Y.prototype.set=Y.prototype.set;Y.prototype.setProperties=Y.prototype.H;Y.prototype.unset=Y.prototype.P;Y.prototype.changed=Y.prototype.s;Y.prototype.dispatchEvent=Y.prototype.b;Y.prototype.getRevision=Y.prototype.L;Y.prototype.on=Y.prototype.J;Y.prototype.once=Y.prototype.once;Y.prototype.un=Y.prototype.K;Hv.prototype.getAttributions=Hv.prototype.ya;Hv.prototype.getLogo=Hv.prototype.xa;
Hv.prototype.getProjection=Hv.prototype.za;Hv.prototype.getState=Hv.prototype.getState;Hv.prototype.refresh=Hv.prototype.sa;Hv.prototype.setAttributions=Hv.prototype.ua;Hv.prototype.get=Hv.prototype.get;Hv.prototype.getKeys=Hv.prototype.O;Hv.prototype.getProperties=Hv.prototype.N;Hv.prototype.set=Hv.prototype.set;Hv.prototype.setProperties=Hv.prototype.H;Hv.prototype.unset=Hv.prototype.P;Hv.prototype.changed=Hv.prototype.s;Hv.prototype.dispatchEvent=Hv.prototype.b;Hv.prototype.getRevision=Hv.prototype.L;
Hv.prototype.on=Hv.prototype.J;Hv.prototype.once=Hv.prototype.once;Hv.prototype.un=Hv.prototype.K;Jv.prototype.type=Jv.prototype.type;Jv.prototype.target=Jv.prototype.target;Jv.prototype.preventDefault=Jv.prototype.preventDefault;Jv.prototype.stopPropagation=Jv.prototype.stopPropagation;Gw.prototype.getAttributions=Gw.prototype.ya;Gw.prototype.getLogo=Gw.prototype.xa;Gw.prototype.getProjection=Gw.prototype.za;Gw.prototype.getState=Gw.prototype.getState;Gw.prototype.refresh=Gw.prototype.sa;
Gw.prototype.setAttributions=Gw.prototype.ua;Gw.prototype.get=Gw.prototype.get;Gw.prototype.getKeys=Gw.prototype.O;Gw.prototype.getProperties=Gw.prototype.N;Gw.prototype.set=Gw.prototype.set;Gw.prototype.setProperties=Gw.prototype.H;Gw.prototype.unset=Gw.prototype.P;Gw.prototype.changed=Gw.prototype.s;Gw.prototype.dispatchEvent=Gw.prototype.b;Gw.prototype.getRevision=Gw.prototype.L;Gw.prototype.on=Gw.prototype.J;Gw.prototype.once=Gw.prototype.once;Gw.prototype.un=Gw.prototype.K;
Ov.prototype.getAttributions=Ov.prototype.ya;Ov.prototype.getLogo=Ov.prototype.xa;Ov.prototype.getProjection=Ov.prototype.za;Ov.prototype.getState=Ov.prototype.getState;Ov.prototype.refresh=Ov.prototype.sa;Ov.prototype.setAttributions=Ov.prototype.ua;Ov.prototype.get=Ov.prototype.get;Ov.prototype.getKeys=Ov.prototype.O;Ov.prototype.getProperties=Ov.prototype.N;Ov.prototype.set=Ov.prototype.set;Ov.prototype.setProperties=Ov.prototype.H;Ov.prototype.unset=Ov.prototype.P;Ov.prototype.changed=Ov.prototype.s;
Ov.prototype.dispatchEvent=Ov.prototype.b;Ov.prototype.getRevision=Ov.prototype.L;Ov.prototype.on=Ov.prototype.J;Ov.prototype.once=Ov.prototype.once;Ov.prototype.un=Ov.prototype.K;Hw.prototype.getAttributions=Hw.prototype.ya;Hw.prototype.getLogo=Hw.prototype.xa;Hw.prototype.getProjection=Hw.prototype.za;Hw.prototype.getState=Hw.prototype.getState;Hw.prototype.refresh=Hw.prototype.sa;Hw.prototype.setAttributions=Hw.prototype.ua;Hw.prototype.get=Hw.prototype.get;Hw.prototype.getKeys=Hw.prototype.O;
Hw.prototype.getProperties=Hw.prototype.N;Hw.prototype.set=Hw.prototype.set;Hw.prototype.setProperties=Hw.prototype.H;Hw.prototype.unset=Hw.prototype.P;Hw.prototype.changed=Hw.prototype.s;Hw.prototype.dispatchEvent=Hw.prototype.b;Hw.prototype.getRevision=Hw.prototype.L;Hw.prototype.on=Hw.prototype.J;Hw.prototype.once=Hw.prototype.once;Hw.prototype.un=Hw.prototype.K;Iw.prototype.getAttributions=Iw.prototype.ya;Iw.prototype.getLogo=Iw.prototype.xa;Iw.prototype.getProjection=Iw.prototype.za;
Iw.prototype.getState=Iw.prototype.getState;Iw.prototype.refresh=Iw.prototype.sa;Iw.prototype.setAttributions=Iw.prototype.ua;Iw.prototype.get=Iw.prototype.get;Iw.prototype.getKeys=Iw.prototype.O;Iw.prototype.getProperties=Iw.prototype.N;Iw.prototype.set=Iw.prototype.set;Iw.prototype.setProperties=Iw.prototype.H;Iw.prototype.unset=Iw.prototype.P;Iw.prototype.changed=Iw.prototype.s;Iw.prototype.dispatchEvent=Iw.prototype.b;Iw.prototype.getRevision=Iw.prototype.L;Iw.prototype.on=Iw.prototype.J;
Iw.prototype.once=Iw.prototype.once;Iw.prototype.un=Iw.prototype.K;Pv.prototype.getAttributions=Pv.prototype.ya;Pv.prototype.getLogo=Pv.prototype.xa;Pv.prototype.getProjection=Pv.prototype.za;Pv.prototype.getState=Pv.prototype.getState;Pv.prototype.refresh=Pv.prototype.sa;Pv.prototype.setAttributions=Pv.prototype.ua;Pv.prototype.get=Pv.prototype.get;Pv.prototype.getKeys=Pv.prototype.O;Pv.prototype.getProperties=Pv.prototype.N;Pv.prototype.set=Pv.prototype.set;Pv.prototype.setProperties=Pv.prototype.H;
Pv.prototype.unset=Pv.prototype.P;Pv.prototype.changed=Pv.prototype.s;Pv.prototype.dispatchEvent=Pv.prototype.b;Pv.prototype.getRevision=Pv.prototype.L;Pv.prototype.on=Pv.prototype.J;Pv.prototype.once=Pv.prototype.once;Pv.prototype.un=Pv.prototype.K;Jw.prototype.getAttributions=Jw.prototype.ya;Jw.prototype.getLogo=Jw.prototype.xa;Jw.prototype.getProjection=Jw.prototype.za;Jw.prototype.getState=Jw.prototype.getState;Jw.prototype.refresh=Jw.prototype.sa;Jw.prototype.setAttributions=Jw.prototype.ua;
Jw.prototype.get=Jw.prototype.get;Jw.prototype.getKeys=Jw.prototype.O;Jw.prototype.getProperties=Jw.prototype.N;Jw.prototype.set=Jw.prototype.set;Jw.prototype.setProperties=Jw.prototype.H;Jw.prototype.unset=Jw.prototype.P;Jw.prototype.changed=Jw.prototype.s;Jw.prototype.dispatchEvent=Jw.prototype.b;Jw.prototype.getRevision=Jw.prototype.L;Jw.prototype.on=Jw.prototype.J;Jw.prototype.once=Jw.prototype.once;Jw.prototype.un=Jw.prototype.K;Nw.prototype.setRenderReprojectionEdges=Nw.prototype.Pb;
Nw.prototype.setTileGridForProjection=Nw.prototype.Qb;Nw.prototype.getTileLoadFunction=Nw.prototype.pb;Nw.prototype.getTileUrlFunction=Nw.prototype.qb;Nw.prototype.getUrls=Nw.prototype.rb;Nw.prototype.setTileLoadFunction=Nw.prototype.vb;Nw.prototype.setTileUrlFunction=Nw.prototype.cb;Nw.prototype.setUrl=Nw.prototype.jb;Nw.prototype.setUrls=Nw.prototype.eb;Nw.prototype.getTileGrid=Nw.prototype.ab;Nw.prototype.refresh=Nw.prototype.sa;Nw.prototype.getAttributions=Nw.prototype.ya;
Nw.prototype.getLogo=Nw.prototype.xa;Nw.prototype.getProjection=Nw.prototype.za;Nw.prototype.getState=Nw.prototype.getState;Nw.prototype.setAttributions=Nw.prototype.ua;Nw.prototype.get=Nw.prototype.get;Nw.prototype.getKeys=Nw.prototype.O;Nw.prototype.getProperties=Nw.prototype.N;Nw.prototype.set=Nw.prototype.set;Nw.prototype.setProperties=Nw.prototype.H;Nw.prototype.unset=Nw.prototype.P;Nw.prototype.changed=Nw.prototype.s;Nw.prototype.dispatchEvent=Nw.prototype.b;Nw.prototype.getRevision=Nw.prototype.L;
Nw.prototype.on=Nw.prototype.J;Nw.prototype.once=Nw.prototype.once;Nw.prototype.un=Nw.prototype.K;Pw.prototype.getAttributions=Pw.prototype.ya;Pw.prototype.getLogo=Pw.prototype.xa;Pw.prototype.getProjection=Pw.prototype.za;Pw.prototype.getState=Pw.prototype.getState;Pw.prototype.refresh=Pw.prototype.sa;Pw.prototype.setAttributions=Pw.prototype.ua;Pw.prototype.get=Pw.prototype.get;Pw.prototype.getKeys=Pw.prototype.O;Pw.prototype.getProperties=Pw.prototype.N;Pw.prototype.set=Pw.prototype.set;
Pw.prototype.setProperties=Pw.prototype.H;Pw.prototype.unset=Pw.prototype.P;Pw.prototype.changed=Pw.prototype.s;Pw.prototype.dispatchEvent=Pw.prototype.b;Pw.prototype.getRevision=Pw.prototype.L;Pw.prototype.on=Pw.prototype.J;Pw.prototype.once=Pw.prototype.once;Pw.prototype.un=Pw.prototype.K;Tw.prototype.type=Tw.prototype.type;Tw.prototype.target=Tw.prototype.target;Tw.prototype.preventDefault=Tw.prototype.preventDefault;Tw.prototype.stopPropagation=Tw.prototype.stopPropagation;
Ww.prototype.setRenderReprojectionEdges=Ww.prototype.Pb;Ww.prototype.setTileGridForProjection=Ww.prototype.Qb;Ww.prototype.getTileLoadFunction=Ww.prototype.pb;Ww.prototype.getTileUrlFunction=Ww.prototype.qb;Ww.prototype.getUrls=Ww.prototype.rb;Ww.prototype.setTileLoadFunction=Ww.prototype.vb;Ww.prototype.setTileUrlFunction=Ww.prototype.cb;Ww.prototype.setUrl=Ww.prototype.jb;Ww.prototype.setUrls=Ww.prototype.eb;Ww.prototype.getTileGrid=Ww.prototype.ab;Ww.prototype.refresh=Ww.prototype.sa;
Ww.prototype.getAttributions=Ww.prototype.ya;Ww.prototype.getLogo=Ww.prototype.xa;Ww.prototype.getProjection=Ww.prototype.za;Ww.prototype.getState=Ww.prototype.getState;Ww.prototype.setAttributions=Ww.prototype.ua;Ww.prototype.get=Ww.prototype.get;Ww.prototype.getKeys=Ww.prototype.O;Ww.prototype.getProperties=Ww.prototype.N;Ww.prototype.set=Ww.prototype.set;Ww.prototype.setProperties=Ww.prototype.H;Ww.prototype.unset=Ww.prototype.P;Ww.prototype.changed=Ww.prototype.s;Ww.prototype.dispatchEvent=Ww.prototype.b;
Ww.prototype.getRevision=Ww.prototype.L;Ww.prototype.on=Ww.prototype.J;Ww.prototype.once=Ww.prototype.once;Ww.prototype.un=Ww.prototype.K;sw.prototype.type=sw.prototype.type;sw.prototype.target=sw.prototype.target;sw.prototype.preventDefault=sw.prototype.preventDefault;sw.prototype.stopPropagation=sw.prototype.stopPropagation;$w.prototype.setRenderReprojectionEdges=$w.prototype.Pb;$w.prototype.setTileGridForProjection=$w.prototype.Qb;$w.prototype.getTileLoadFunction=$w.prototype.pb;
$w.prototype.getTileUrlFunction=$w.prototype.qb;$w.prototype.getUrls=$w.prototype.rb;$w.prototype.setTileLoadFunction=$w.prototype.vb;$w.prototype.setTileUrlFunction=$w.prototype.cb;$w.prototype.setUrl=$w.prototype.jb;$w.prototype.setUrls=$w.prototype.eb;$w.prototype.getTileGrid=$w.prototype.ab;$w.prototype.refresh=$w.prototype.sa;$w.prototype.getAttributions=$w.prototype.ya;$w.prototype.getLogo=$w.prototype.xa;$w.prototype.getProjection=$w.prototype.za;$w.prototype.getState=$w.prototype.getState;
$w.prototype.setAttributions=$w.prototype.ua;$w.prototype.get=$w.prototype.get;$w.prototype.getKeys=$w.prototype.O;$w.prototype.getProperties=$w.prototype.N;$w.prototype.set=$w.prototype.set;$w.prototype.setProperties=$w.prototype.H;$w.prototype.unset=$w.prototype.P;$w.prototype.changed=$w.prototype.s;$w.prototype.dispatchEvent=$w.prototype.b;$w.prototype.getRevision=$w.prototype.L;$w.prototype.on=$w.prototype.J;$w.prototype.once=$w.prototype.once;$w.prototype.un=$w.prototype.K;
bx.prototype.getTileGrid=bx.prototype.ab;bx.prototype.refresh=bx.prototype.sa;bx.prototype.getAttributions=bx.prototype.ya;bx.prototype.getLogo=bx.prototype.xa;bx.prototype.getProjection=bx.prototype.za;bx.prototype.getState=bx.prototype.getState;bx.prototype.setAttributions=bx.prototype.ua;bx.prototype.get=bx.prototype.get;bx.prototype.getKeys=bx.prototype.O;bx.prototype.getProperties=bx.prototype.N;bx.prototype.set=bx.prototype.set;bx.prototype.setProperties=bx.prototype.H;bx.prototype.unset=bx.prototype.P;
bx.prototype.changed=bx.prototype.s;bx.prototype.dispatchEvent=bx.prototype.b;bx.prototype.getRevision=bx.prototype.L;bx.prototype.on=bx.prototype.J;bx.prototype.once=bx.prototype.once;bx.prototype.un=bx.prototype.K;dx.prototype.setRenderReprojectionEdges=dx.prototype.Pb;dx.prototype.setTileGridForProjection=dx.prototype.Qb;dx.prototype.getTileLoadFunction=dx.prototype.pb;dx.prototype.getTileUrlFunction=dx.prototype.qb;dx.prototype.getUrls=dx.prototype.rb;dx.prototype.setTileLoadFunction=dx.prototype.vb;
dx.prototype.setTileUrlFunction=dx.prototype.cb;dx.prototype.setUrl=dx.prototype.jb;dx.prototype.setUrls=dx.prototype.eb;dx.prototype.getTileGrid=dx.prototype.ab;dx.prototype.refresh=dx.prototype.sa;dx.prototype.getAttributions=dx.prototype.ya;dx.prototype.getLogo=dx.prototype.xa;dx.prototype.getProjection=dx.prototype.za;dx.prototype.getState=dx.prototype.getState;dx.prototype.setAttributions=dx.prototype.ua;dx.prototype.get=dx.prototype.get;dx.prototype.getKeys=dx.prototype.O;
dx.prototype.getProperties=dx.prototype.N;dx.prototype.set=dx.prototype.set;dx.prototype.setProperties=dx.prototype.H;dx.prototype.unset=dx.prototype.P;dx.prototype.changed=dx.prototype.s;dx.prototype.dispatchEvent=dx.prototype.b;dx.prototype.getRevision=dx.prototype.L;dx.prototype.on=dx.prototype.J;dx.prototype.once=dx.prototype.once;dx.prototype.un=dx.prototype.K;ex.prototype.getTileGrid=ex.prototype.ab;ex.prototype.refresh=ex.prototype.sa;ex.prototype.getAttributions=ex.prototype.ya;
ex.prototype.getLogo=ex.prototype.xa;ex.prototype.getProjection=ex.prototype.za;ex.prototype.getState=ex.prototype.getState;ex.prototype.setAttributions=ex.prototype.ua;ex.prototype.get=ex.prototype.get;ex.prototype.getKeys=ex.prototype.O;ex.prototype.getProperties=ex.prototype.N;ex.prototype.set=ex.prototype.set;ex.prototype.setProperties=ex.prototype.H;ex.prototype.unset=ex.prototype.P;ex.prototype.changed=ex.prototype.s;ex.prototype.dispatchEvent=ex.prototype.b;ex.prototype.getRevision=ex.prototype.L;
ex.prototype.on=ex.prototype.J;ex.prototype.once=ex.prototype.once;ex.prototype.un=ex.prototype.K;ix.prototype.setRenderReprojectionEdges=ix.prototype.Pb;ix.prototype.setTileGridForProjection=ix.prototype.Qb;ix.prototype.getTileLoadFunction=ix.prototype.pb;ix.prototype.getTileUrlFunction=ix.prototype.qb;ix.prototype.getUrls=ix.prototype.rb;ix.prototype.setTileLoadFunction=ix.prototype.vb;ix.prototype.setTileUrlFunction=ix.prototype.cb;ix.prototype.setUrl=ix.prototype.jb;ix.prototype.setUrls=ix.prototype.eb;
ix.prototype.getTileGrid=ix.prototype.ab;ix.prototype.refresh=ix.prototype.sa;ix.prototype.getAttributions=ix.prototype.ya;ix.prototype.getLogo=ix.prototype.xa;ix.prototype.getProjection=ix.prototype.za;ix.prototype.getState=ix.prototype.getState;ix.prototype.setAttributions=ix.prototype.ua;ix.prototype.get=ix.prototype.get;ix.prototype.getKeys=ix.prototype.O;ix.prototype.getProperties=ix.prototype.N;ix.prototype.set=ix.prototype.set;ix.prototype.setProperties=ix.prototype.H;ix.prototype.unset=ix.prototype.P;
ix.prototype.changed=ix.prototype.s;ix.prototype.dispatchEvent=ix.prototype.b;ix.prototype.getRevision=ix.prototype.L;ix.prototype.on=ix.prototype.J;ix.prototype.once=ix.prototype.once;ix.prototype.un=ix.prototype.K;gu.prototype.type=gu.prototype.type;gu.prototype.target=gu.prototype.target;gu.prototype.preventDefault=gu.prototype.preventDefault;gu.prototype.stopPropagation=gu.prototype.stopPropagation;qx.prototype.getTileLoadFunction=qx.prototype.pb;qx.prototype.getTileUrlFunction=qx.prototype.qb;
qx.prototype.getUrls=qx.prototype.rb;qx.prototype.setTileLoadFunction=qx.prototype.vb;qx.prototype.setTileUrlFunction=qx.prototype.cb;qx.prototype.setUrl=qx.prototype.jb;qx.prototype.setUrls=qx.prototype.eb;qx.prototype.getTileGrid=qx.prototype.ab;qx.prototype.refresh=qx.prototype.sa;qx.prototype.getAttributions=qx.prototype.ya;qx.prototype.getLogo=qx.prototype.xa;qx.prototype.getProjection=qx.prototype.za;qx.prototype.getState=qx.prototype.getState;qx.prototype.setAttributions=qx.prototype.ua;
qx.prototype.get=qx.prototype.get;qx.prototype.getKeys=qx.prototype.O;qx.prototype.getProperties=qx.prototype.N;qx.prototype.set=qx.prototype.set;qx.prototype.setProperties=qx.prototype.H;qx.prototype.unset=qx.prototype.P;qx.prototype.changed=qx.prototype.s;qx.prototype.dispatchEvent=qx.prototype.b;qx.prototype.getRevision=qx.prototype.L;qx.prototype.on=qx.prototype.J;qx.prototype.once=qx.prototype.once;qx.prototype.un=qx.prototype.K;Z.prototype.setRenderReprojectionEdges=Z.prototype.Pb;
Z.prototype.setTileGridForProjection=Z.prototype.Qb;Z.prototype.getTileLoadFunction=Z.prototype.pb;Z.prototype.getTileUrlFunction=Z.prototype.qb;Z.prototype.getUrls=Z.prototype.rb;Z.prototype.setTileLoadFunction=Z.prototype.vb;Z.prototype.setTileUrlFunction=Z.prototype.cb;Z.prototype.setUrl=Z.prototype.jb;Z.prototype.setUrls=Z.prototype.eb;Z.prototype.getTileGrid=Z.prototype.ab;Z.prototype.refresh=Z.prototype.sa;Z.prototype.getAttributions=Z.prototype.ya;Z.prototype.getLogo=Z.prototype.xa;
Z.prototype.getProjection=Z.prototype.za;Z.prototype.getState=Z.prototype.getState;Z.prototype.setAttributions=Z.prototype.ua;Z.prototype.get=Z.prototype.get;Z.prototype.getKeys=Z.prototype.O;Z.prototype.getProperties=Z.prototype.N;Z.prototype.set=Z.prototype.set;Z.prototype.setProperties=Z.prototype.H;Z.prototype.unset=Z.prototype.P;Z.prototype.changed=Z.prototype.s;Z.prototype.dispatchEvent=Z.prototype.b;Z.prototype.getRevision=Z.prototype.L;Z.prototype.on=Z.prototype.J;Z.prototype.once=Z.prototype.once;
Z.prototype.un=Z.prototype.K;ux.prototype.setRenderReprojectionEdges=ux.prototype.Pb;ux.prototype.setTileGridForProjection=ux.prototype.Qb;ux.prototype.getTileLoadFunction=ux.prototype.pb;ux.prototype.getTileUrlFunction=ux.prototype.qb;ux.prototype.getUrls=ux.prototype.rb;ux.prototype.setTileLoadFunction=ux.prototype.vb;ux.prototype.setTileUrlFunction=ux.prototype.cb;ux.prototype.setUrl=ux.prototype.jb;ux.prototype.setUrls=ux.prototype.eb;ux.prototype.getTileGrid=ux.prototype.ab;
ux.prototype.refresh=ux.prototype.sa;ux.prototype.getAttributions=ux.prototype.ya;ux.prototype.getLogo=ux.prototype.xa;ux.prototype.getProjection=ux.prototype.za;ux.prototype.getState=ux.prototype.getState;ux.prototype.setAttributions=ux.prototype.ua;ux.prototype.get=ux.prototype.get;ux.prototype.getKeys=ux.prototype.O;ux.prototype.getProperties=ux.prototype.N;ux.prototype.set=ux.prototype.set;ux.prototype.setProperties=ux.prototype.H;ux.prototype.unset=ux.prototype.P;ux.prototype.changed=ux.prototype.s;
ux.prototype.dispatchEvent=ux.prototype.b;ux.prototype.getRevision=ux.prototype.L;ux.prototype.on=ux.prototype.J;ux.prototype.once=ux.prototype.once;ux.prototype.un=ux.prototype.K;hw.prototype.getTileCoord=hw.prototype.f;hw.prototype.load=hw.prototype.load;xt.prototype.changed=xt.prototype.s;xt.prototype.dispatchEvent=xt.prototype.b;xt.prototype.getRevision=xt.prototype.L;xt.prototype.on=xt.prototype.J;xt.prototype.once=xt.prototype.once;xt.prototype.un=xt.prototype.K;Vt.prototype.changed=Vt.prototype.s;
Vt.prototype.dispatchEvent=Vt.prototype.b;Vt.prototype.getRevision=Vt.prototype.L;Vt.prototype.on=Vt.prototype.J;Vt.prototype.once=Vt.prototype.once;Vt.prototype.un=Vt.prototype.K;Rv.prototype.changed=Rv.prototype.s;Rv.prototype.dispatchEvent=Rv.prototype.b;Rv.prototype.getRevision=Rv.prototype.L;Rv.prototype.on=Rv.prototype.J;Rv.prototype.once=Rv.prototype.once;Rv.prototype.un=Rv.prototype.K;bw.prototype.changed=bw.prototype.s;bw.prototype.dispatchEvent=bw.prototype.b;bw.prototype.getRevision=bw.prototype.L;
bw.prototype.on=bw.prototype.J;bw.prototype.once=bw.prototype.once;bw.prototype.un=bw.prototype.K;Yt.prototype.changed=Yt.prototype.s;Yt.prototype.dispatchEvent=Yt.prototype.b;Yt.prototype.getRevision=Yt.prototype.L;Yt.prototype.on=Yt.prototype.J;Yt.prototype.once=Yt.prototype.once;Yt.prototype.un=Yt.prototype.K;Gt.prototype.changed=Gt.prototype.s;Gt.prototype.dispatchEvent=Gt.prototype.b;Gt.prototype.getRevision=Gt.prototype.L;Gt.prototype.on=Gt.prototype.J;Gt.prototype.once=Gt.prototype.once;
Gt.prototype.un=Gt.prototype.K;yv.prototype.changed=yv.prototype.s;yv.prototype.dispatchEvent=yv.prototype.b;yv.prototype.getRevision=yv.prototype.L;yv.prototype.on=yv.prototype.J;yv.prototype.once=yv.prototype.once;yv.prototype.un=yv.prototype.K;zv.prototype.changed=zv.prototype.s;zv.prototype.dispatchEvent=zv.prototype.b;zv.prototype.getRevision=zv.prototype.L;zv.prototype.on=zv.prototype.J;zv.prototype.once=zv.prototype.once;zv.prototype.un=zv.prototype.K;Vv.prototype.changed=Vv.prototype.s;
Vv.prototype.dispatchEvent=Vv.prototype.b;Vv.prototype.getRevision=Vv.prototype.L;Vv.prototype.on=Vv.prototype.J;Vv.prototype.once=Vv.prototype.once;Vv.prototype.un=Vv.prototype.K;Ot.prototype.changed=Ot.prototype.s;Ot.prototype.dispatchEvent=Ot.prototype.b;Ot.prototype.getRevision=Ot.prototype.L;Ot.prototype.on=Ot.prototype.J;Ot.prototype.once=Ot.prototype.once;Ot.prototype.un=Ot.prototype.K;dw.prototype.changed=dw.prototype.s;dw.prototype.dispatchEvent=dw.prototype.b;dw.prototype.getRevision=dw.prototype.L;
dw.prototype.on=dw.prototype.J;dw.prototype.once=dw.prototype.once;dw.prototype.un=dw.prototype.K;Rh.prototype.type=Rh.prototype.type;Rh.prototype.target=Rh.prototype.target;Rh.prototype.preventDefault=Rh.prototype.preventDefault;Rh.prototype.stopPropagation=Rh.prototype.stopPropagation;pe.prototype.type=pe.prototype.type;pe.prototype.target=pe.prototype.target;pe.prototype.preventDefault=pe.prototype.preventDefault;pe.prototype.stopPropagation=pe.prototype.stopPropagation;sh.prototype.get=sh.prototype.get;
sh.prototype.getKeys=sh.prototype.O;sh.prototype.getProperties=sh.prototype.N;sh.prototype.set=sh.prototype.set;sh.prototype.setProperties=sh.prototype.H;sh.prototype.unset=sh.prototype.P;sh.prototype.changed=sh.prototype.s;sh.prototype.dispatchEvent=sh.prototype.b;sh.prototype.getRevision=sh.prototype.L;sh.prototype.on=sh.prototype.J;sh.prototype.once=sh.prototype.once;sh.prototype.un=sh.prototype.K;uh.prototype.getExtent=uh.prototype.G;uh.prototype.getMaxResolution=uh.prototype.fc;
uh.prototype.getMinResolution=uh.prototype.gc;uh.prototype.getOpacity=uh.prototype.hc;uh.prototype.getVisible=uh.prototype.Mb;uh.prototype.getZIndex=uh.prototype.Ba;uh.prototype.setExtent=uh.prototype.vc;uh.prototype.setMaxResolution=uh.prototype.Ac;uh.prototype.setMinResolution=uh.prototype.Bc;uh.prototype.setOpacity=uh.prototype.wc;uh.prototype.setVisible=uh.prototype.xc;uh.prototype.setZIndex=uh.prototype.Vb;uh.prototype.get=uh.prototype.get;uh.prototype.getKeys=uh.prototype.O;
uh.prototype.getProperties=uh.prototype.N;uh.prototype.set=uh.prototype.set;uh.prototype.setProperties=uh.prototype.H;uh.prototype.unset=uh.prototype.P;uh.prototype.changed=uh.prototype.s;uh.prototype.dispatchEvent=uh.prototype.b;uh.prototype.getRevision=uh.prototype.L;uh.prototype.on=uh.prototype.J;uh.prototype.once=uh.prototype.once;uh.prototype.un=uh.prototype.K;wh.prototype.getExtent=wh.prototype.G;wh.prototype.getMaxResolution=wh.prototype.fc;wh.prototype.getMinResolution=wh.prototype.gc;
wh.prototype.getOpacity=wh.prototype.hc;wh.prototype.getVisible=wh.prototype.Mb;wh.prototype.getZIndex=wh.prototype.Ba;wh.prototype.setExtent=wh.prototype.vc;wh.prototype.setMaxResolution=wh.prototype.Ac;wh.prototype.setMinResolution=wh.prototype.Bc;wh.prototype.setOpacity=wh.prototype.wc;wh.prototype.setVisible=wh.prototype.xc;wh.prototype.setZIndex=wh.prototype.Vb;wh.prototype.get=wh.prototype.get;wh.prototype.getKeys=wh.prototype.O;wh.prototype.getProperties=wh.prototype.N;wh.prototype.set=wh.prototype.set;
wh.prototype.setProperties=wh.prototype.H;wh.prototype.unset=wh.prototype.P;wh.prototype.changed=wh.prototype.s;wh.prototype.dispatchEvent=wh.prototype.b;wh.prototype.getRevision=wh.prototype.L;wh.prototype.on=wh.prototype.J;wh.prototype.once=wh.prototype.once;wh.prototype.un=wh.prototype.K;T.prototype.setMap=T.prototype.setMap;T.prototype.setSource=T.prototype.Wc;T.prototype.getExtent=T.prototype.G;T.prototype.getMaxResolution=T.prototype.fc;T.prototype.getMinResolution=T.prototype.gc;
T.prototype.getOpacity=T.prototype.hc;T.prototype.getVisible=T.prototype.Mb;T.prototype.getZIndex=T.prototype.Ba;T.prototype.setExtent=T.prototype.vc;T.prototype.setMaxResolution=T.prototype.Ac;T.prototype.setMinResolution=T.prototype.Bc;T.prototype.setOpacity=T.prototype.wc;T.prototype.setVisible=T.prototype.xc;T.prototype.setZIndex=T.prototype.Vb;T.prototype.get=T.prototype.get;T.prototype.getKeys=T.prototype.O;T.prototype.getProperties=T.prototype.N;T.prototype.set=T.prototype.set;
T.prototype.setProperties=T.prototype.H;T.prototype.unset=T.prototype.P;T.prototype.changed=T.prototype.s;T.prototype.dispatchEvent=T.prototype.b;T.prototype.getRevision=T.prototype.L;T.prototype.on=T.prototype.J;T.prototype.once=T.prototype.once;T.prototype.un=T.prototype.K;V.prototype.getSource=V.prototype.ha;V.prototype.getStyle=V.prototype.D;V.prototype.getStyleFunction=V.prototype.C;V.prototype.setStyle=V.prototype.g;V.prototype.setMap=V.prototype.setMap;V.prototype.setSource=V.prototype.Wc;
V.prototype.getExtent=V.prototype.G;V.prototype.getMaxResolution=V.prototype.fc;V.prototype.getMinResolution=V.prototype.gc;V.prototype.getOpacity=V.prototype.hc;V.prototype.getVisible=V.prototype.Mb;V.prototype.getZIndex=V.prototype.Ba;V.prototype.setExtent=V.prototype.vc;V.prototype.setMaxResolution=V.prototype.Ac;V.prototype.setMinResolution=V.prototype.Bc;V.prototype.setOpacity=V.prototype.wc;V.prototype.setVisible=V.prototype.xc;V.prototype.setZIndex=V.prototype.Vb;V.prototype.get=V.prototype.get;
V.prototype.getKeys=V.prototype.O;V.prototype.getProperties=V.prototype.N;V.prototype.set=V.prototype.set;V.prototype.setProperties=V.prototype.H;V.prototype.unset=V.prototype.P;V.prototype.changed=V.prototype.s;V.prototype.dispatchEvent=V.prototype.b;V.prototype.getRevision=V.prototype.L;V.prototype.on=V.prototype.J;V.prototype.once=V.prototype.once;V.prototype.un=V.prototype.K;Uv.prototype.setMap=Uv.prototype.setMap;Uv.prototype.setSource=Uv.prototype.Wc;Uv.prototype.getExtent=Uv.prototype.G;
Uv.prototype.getMaxResolution=Uv.prototype.fc;Uv.prototype.getMinResolution=Uv.prototype.gc;Uv.prototype.getOpacity=Uv.prototype.hc;Uv.prototype.getVisible=Uv.prototype.Mb;Uv.prototype.getZIndex=Uv.prototype.Ba;Uv.prototype.setExtent=Uv.prototype.vc;Uv.prototype.setMaxResolution=Uv.prototype.Ac;Uv.prototype.setMinResolution=Uv.prototype.Bc;Uv.prototype.setOpacity=Uv.prototype.wc;Uv.prototype.setVisible=Uv.prototype.xc;Uv.prototype.setZIndex=Uv.prototype.Vb;Uv.prototype.get=Uv.prototype.get;
Uv.prototype.getKeys=Uv.prototype.O;Uv.prototype.getProperties=Uv.prototype.N;Uv.prototype.set=Uv.prototype.set;Uv.prototype.setProperties=Uv.prototype.H;Uv.prototype.unset=Uv.prototype.P;Uv.prototype.changed=Uv.prototype.s;Uv.prototype.dispatchEvent=Uv.prototype.b;Uv.prototype.getRevision=Uv.prototype.L;Uv.prototype.on=Uv.prototype.J;Uv.prototype.once=Uv.prototype.once;Uv.prototype.un=Uv.prototype.K;cw.prototype.setMap=cw.prototype.setMap;cw.prototype.setSource=cw.prototype.Wc;
cw.prototype.getExtent=cw.prototype.G;cw.prototype.getMaxResolution=cw.prototype.fc;cw.prototype.getMinResolution=cw.prototype.gc;cw.prototype.getOpacity=cw.prototype.hc;cw.prototype.getVisible=cw.prototype.Mb;cw.prototype.getZIndex=cw.prototype.Ba;cw.prototype.setExtent=cw.prototype.vc;cw.prototype.setMaxResolution=cw.prototype.Ac;cw.prototype.setMinResolution=cw.prototype.Bc;cw.prototype.setOpacity=cw.prototype.wc;cw.prototype.setVisible=cw.prototype.xc;cw.prototype.setZIndex=cw.prototype.Vb;
cw.prototype.get=cw.prototype.get;cw.prototype.getKeys=cw.prototype.O;cw.prototype.getProperties=cw.prototype.N;cw.prototype.set=cw.prototype.set;cw.prototype.setProperties=cw.prototype.H;cw.prototype.unset=cw.prototype.P;cw.prototype.changed=cw.prototype.s;cw.prototype.dispatchEvent=cw.prototype.b;cw.prototype.getRevision=cw.prototype.L;cw.prototype.on=cw.prototype.J;cw.prototype.once=cw.prototype.once;cw.prototype.un=cw.prototype.K;W.prototype.getSource=W.prototype.ha;W.prototype.getStyle=W.prototype.D;
W.prototype.getStyleFunction=W.prototype.C;W.prototype.setStyle=W.prototype.g;W.prototype.setMap=W.prototype.setMap;W.prototype.setSource=W.prototype.Wc;W.prototype.getExtent=W.prototype.G;W.prototype.getMaxResolution=W.prototype.fc;W.prototype.getMinResolution=W.prototype.gc;W.prototype.getOpacity=W.prototype.hc;W.prototype.getVisible=W.prototype.Mb;W.prototype.getZIndex=W.prototype.Ba;W.prototype.setExtent=W.prototype.vc;W.prototype.setMaxResolution=W.prototype.Ac;W.prototype.setMinResolution=W.prototype.Bc;
W.prototype.setOpacity=W.prototype.wc;W.prototype.setVisible=W.prototype.xc;W.prototype.setZIndex=W.prototype.Vb;W.prototype.get=W.prototype.get;W.prototype.getKeys=W.prototype.O;W.prototype.getProperties=W.prototype.N;W.prototype.set=W.prototype.set;W.prototype.setProperties=W.prototype.H;W.prototype.unset=W.prototype.P;W.prototype.changed=W.prototype.s;W.prototype.dispatchEvent=W.prototype.b;W.prototype.getRevision=W.prototype.L;W.prototype.on=W.prototype.J;W.prototype.once=W.prototype.once;
W.prototype.un=W.prototype.K;ng.prototype.get=ng.prototype.get;ng.prototype.getKeys=ng.prototype.O;ng.prototype.getProperties=ng.prototype.N;ng.prototype.set=ng.prototype.set;ng.prototype.setProperties=ng.prototype.H;ng.prototype.unset=ng.prototype.P;ng.prototype.changed=ng.prototype.s;ng.prototype.dispatchEvent=ng.prototype.b;ng.prototype.getRevision=ng.prototype.L;ng.prototype.on=ng.prototype.J;ng.prototype.once=ng.prototype.once;ng.prototype.un=ng.prototype.K;rg.prototype.getActive=rg.prototype.c;
rg.prototype.getMap=rg.prototype.f;rg.prototype.setActive=rg.prototype.Ha;rg.prototype.get=rg.prototype.get;rg.prototype.getKeys=rg.prototype.O;rg.prototype.getProperties=rg.prototype.N;rg.prototype.set=rg.prototype.set;rg.prototype.setProperties=rg.prototype.H;rg.prototype.unset=rg.prototype.P;rg.prototype.changed=rg.prototype.s;rg.prototype.dispatchEvent=rg.prototype.b;rg.prototype.getRevision=rg.prototype.L;rg.prototype.on=rg.prototype.J;rg.prototype.once=rg.prototype.once;rg.prototype.un=rg.prototype.K;
Rs.prototype.getActive=Rs.prototype.c;Rs.prototype.getMap=Rs.prototype.f;Rs.prototype.setActive=Rs.prototype.Ha;Rs.prototype.get=Rs.prototype.get;Rs.prototype.getKeys=Rs.prototype.O;Rs.prototype.getProperties=Rs.prototype.N;Rs.prototype.set=Rs.prototype.set;Rs.prototype.setProperties=Rs.prototype.H;Rs.prototype.unset=Rs.prototype.P;Rs.prototype.changed=Rs.prototype.s;Rs.prototype.dispatchEvent=Rs.prototype.b;Rs.prototype.getRevision=Rs.prototype.L;Rs.prototype.on=Rs.prototype.J;
Rs.prototype.once=Rs.prototype.once;Rs.prototype.un=Rs.prototype.K;Us.prototype.type=Us.prototype.type;Us.prototype.target=Us.prototype.target;Us.prototype.preventDefault=Us.prototype.preventDefault;Us.prototype.stopPropagation=Us.prototype.stopPropagation;Dg.prototype.getActive=Dg.prototype.c;Dg.prototype.getMap=Dg.prototype.f;Dg.prototype.setActive=Dg.prototype.Ha;Dg.prototype.get=Dg.prototype.get;Dg.prototype.getKeys=Dg.prototype.O;Dg.prototype.getProperties=Dg.prototype.N;Dg.prototype.set=Dg.prototype.set;
Dg.prototype.setProperties=Dg.prototype.H;Dg.prototype.unset=Dg.prototype.P;Dg.prototype.changed=Dg.prototype.s;Dg.prototype.dispatchEvent=Dg.prototype.b;Dg.prototype.getRevision=Dg.prototype.L;Dg.prototype.on=Dg.prototype.J;Dg.prototype.once=Dg.prototype.once;Dg.prototype.un=Dg.prototype.K;Rg.prototype.getActive=Rg.prototype.c;Rg.prototype.getMap=Rg.prototype.f;Rg.prototype.setActive=Rg.prototype.Ha;Rg.prototype.get=Rg.prototype.get;Rg.prototype.getKeys=Rg.prototype.O;
Rg.prototype.getProperties=Rg.prototype.N;Rg.prototype.set=Rg.prototype.set;Rg.prototype.setProperties=Rg.prototype.H;Rg.prototype.unset=Rg.prototype.P;Rg.prototype.changed=Rg.prototype.s;Rg.prototype.dispatchEvent=Rg.prototype.b;Rg.prototype.getRevision=Rg.prototype.L;Rg.prototype.on=Rg.prototype.J;Rg.prototype.once=Rg.prototype.once;Rg.prototype.un=Rg.prototype.K;Wg.prototype.type=Wg.prototype.type;Wg.prototype.target=Wg.prototype.target;Wg.prototype.preventDefault=Wg.prototype.preventDefault;
Wg.prototype.stopPropagation=Wg.prototype.stopPropagation;Gg.prototype.getActive=Gg.prototype.c;Gg.prototype.getMap=Gg.prototype.f;Gg.prototype.setActive=Gg.prototype.Ha;Gg.prototype.get=Gg.prototype.get;Gg.prototype.getKeys=Gg.prototype.O;Gg.prototype.getProperties=Gg.prototype.N;Gg.prototype.set=Gg.prototype.set;Gg.prototype.setProperties=Gg.prototype.H;Gg.prototype.unset=Gg.prototype.P;Gg.prototype.changed=Gg.prototype.s;Gg.prototype.dispatchEvent=Gg.prototype.b;Gg.prototype.getRevision=Gg.prototype.L;
Gg.prototype.on=Gg.prototype.J;Gg.prototype.once=Gg.prototype.once;Gg.prototype.un=Gg.prototype.K;Kg.prototype.getActive=Kg.prototype.c;Kg.prototype.getMap=Kg.prototype.f;Kg.prototype.setActive=Kg.prototype.Ha;Kg.prototype.get=Kg.prototype.get;Kg.prototype.getKeys=Kg.prototype.O;Kg.prototype.getProperties=Kg.prototype.N;Kg.prototype.set=Kg.prototype.set;Kg.prototype.setProperties=Kg.prototype.H;Kg.prototype.unset=Kg.prototype.P;Kg.prototype.changed=Kg.prototype.s;Kg.prototype.dispatchEvent=Kg.prototype.b;
Kg.prototype.getRevision=Kg.prototype.L;Kg.prototype.on=Kg.prototype.J;Kg.prototype.once=Kg.prototype.once;Kg.prototype.un=Kg.prototype.K;Ys.prototype.getActive=Ys.prototype.c;Ys.prototype.getMap=Ys.prototype.f;Ys.prototype.setActive=Ys.prototype.Ha;Ys.prototype.get=Ys.prototype.get;Ys.prototype.getKeys=Ys.prototype.O;Ys.prototype.getProperties=Ys.prototype.N;Ys.prototype.set=Ys.prototype.set;Ys.prototype.setProperties=Ys.prototype.H;Ys.prototype.unset=Ys.prototype.P;Ys.prototype.changed=Ys.prototype.s;
Ys.prototype.dispatchEvent=Ys.prototype.b;Ys.prototype.getRevision=Ys.prototype.L;Ys.prototype.on=Ys.prototype.J;Ys.prototype.once=Ys.prototype.once;Ys.prototype.un=Ys.prototype.K;$g.prototype.getGeometry=$g.prototype.V;$g.prototype.getActive=$g.prototype.c;$g.prototype.getMap=$g.prototype.f;$g.prototype.setActive=$g.prototype.Ha;$g.prototype.get=$g.prototype.get;$g.prototype.getKeys=$g.prototype.O;$g.prototype.getProperties=$g.prototype.N;$g.prototype.set=$g.prototype.set;
$g.prototype.setProperties=$g.prototype.H;$g.prototype.unset=$g.prototype.P;$g.prototype.changed=$g.prototype.s;$g.prototype.dispatchEvent=$g.prototype.b;$g.prototype.getRevision=$g.prototype.L;$g.prototype.on=$g.prototype.J;$g.prototype.once=$g.prototype.once;$g.prototype.un=$g.prototype.K;ju.prototype.getActive=ju.prototype.c;ju.prototype.getMap=ju.prototype.f;ju.prototype.setActive=ju.prototype.Ha;ju.prototype.get=ju.prototype.get;ju.prototype.getKeys=ju.prototype.O;
ju.prototype.getProperties=ju.prototype.N;ju.prototype.set=ju.prototype.set;ju.prototype.setProperties=ju.prototype.H;ju.prototype.unset=ju.prototype.P;ju.prototype.changed=ju.prototype.s;ju.prototype.dispatchEvent=ju.prototype.b;ju.prototype.getRevision=ju.prototype.L;ju.prototype.on=ju.prototype.J;ju.prototype.once=ju.prototype.once;ju.prototype.un=ju.prototype.K;zu.prototype.type=zu.prototype.type;zu.prototype.target=zu.prototype.target;zu.prototype.preventDefault=zu.prototype.preventDefault;
zu.prototype.stopPropagation=zu.prototype.stopPropagation;Au.prototype.getActive=Au.prototype.c;Au.prototype.getMap=Au.prototype.f;Au.prototype.setActive=Au.prototype.Ha;Au.prototype.get=Au.prototype.get;Au.prototype.getKeys=Au.prototype.O;Au.prototype.getProperties=Au.prototype.N;Au.prototype.set=Au.prototype.set;Au.prototype.setProperties=Au.prototype.H;Au.prototype.unset=Au.prototype.P;Au.prototype.changed=Au.prototype.s;Au.prototype.dispatchEvent=Au.prototype.b;Au.prototype.getRevision=Au.prototype.L;
Au.prototype.on=Au.prototype.J;Au.prototype.once=Au.prototype.once;Au.prototype.un=Au.prototype.K;Lu.prototype.type=Lu.prototype.type;Lu.prototype.target=Lu.prototype.target;Lu.prototype.preventDefault=Lu.prototype.preventDefault;Lu.prototype.stopPropagation=Lu.prototype.stopPropagation;ah.prototype.getActive=ah.prototype.c;ah.prototype.getMap=ah.prototype.f;ah.prototype.setActive=ah.prototype.Ha;ah.prototype.get=ah.prototype.get;ah.prototype.getKeys=ah.prototype.O;ah.prototype.getProperties=ah.prototype.N;
ah.prototype.set=ah.prototype.set;ah.prototype.setProperties=ah.prototype.H;ah.prototype.unset=ah.prototype.P;ah.prototype.changed=ah.prototype.s;ah.prototype.dispatchEvent=ah.prototype.b;ah.prototype.getRevision=ah.prototype.L;ah.prototype.on=ah.prototype.J;ah.prototype.once=ah.prototype.once;ah.prototype.un=ah.prototype.K;ch.prototype.getActive=ch.prototype.c;ch.prototype.getMap=ch.prototype.f;ch.prototype.setActive=ch.prototype.Ha;ch.prototype.get=ch.prototype.get;ch.prototype.getKeys=ch.prototype.O;
ch.prototype.getProperties=ch.prototype.N;ch.prototype.set=ch.prototype.set;ch.prototype.setProperties=ch.prototype.H;ch.prototype.unset=ch.prototype.P;ch.prototype.changed=ch.prototype.s;ch.prototype.dispatchEvent=ch.prototype.b;ch.prototype.getRevision=ch.prototype.L;ch.prototype.on=ch.prototype.J;ch.prototype.once=ch.prototype.once;ch.prototype.un=ch.prototype.K;Nu.prototype.getActive=Nu.prototype.c;Nu.prototype.getMap=Nu.prototype.f;Nu.prototype.setActive=Nu.prototype.Ha;Nu.prototype.get=Nu.prototype.get;
Nu.prototype.getKeys=Nu.prototype.O;Nu.prototype.getProperties=Nu.prototype.N;Nu.prototype.set=Nu.prototype.set;Nu.prototype.setProperties=Nu.prototype.H;Nu.prototype.unset=Nu.prototype.P;Nu.prototype.changed=Nu.prototype.s;Nu.prototype.dispatchEvent=Nu.prototype.b;Nu.prototype.getRevision=Nu.prototype.L;Nu.prototype.on=Nu.prototype.J;Nu.prototype.once=Nu.prototype.once;Nu.prototype.un=Nu.prototype.K;Vu.prototype.type=Vu.prototype.type;Vu.prototype.target=Vu.prototype.target;
Vu.prototype.preventDefault=Vu.prototype.preventDefault;Vu.prototype.stopPropagation=Vu.prototype.stopPropagation;eh.prototype.getActive=eh.prototype.c;eh.prototype.getMap=eh.prototype.f;eh.prototype.setActive=eh.prototype.Ha;eh.prototype.get=eh.prototype.get;eh.prototype.getKeys=eh.prototype.O;eh.prototype.getProperties=eh.prototype.N;eh.prototype.set=eh.prototype.set;eh.prototype.setProperties=eh.prototype.H;eh.prototype.unset=eh.prototype.P;eh.prototype.changed=eh.prototype.s;
eh.prototype.dispatchEvent=eh.prototype.b;eh.prototype.getRevision=eh.prototype.L;eh.prototype.on=eh.prototype.J;eh.prototype.once=eh.prototype.once;eh.prototype.un=eh.prototype.K;ih.prototype.getActive=ih.prototype.c;ih.prototype.getMap=ih.prototype.f;ih.prototype.setActive=ih.prototype.Ha;ih.prototype.get=ih.prototype.get;ih.prototype.getKeys=ih.prototype.O;ih.prototype.getProperties=ih.prototype.N;ih.prototype.set=ih.prototype.set;ih.prototype.setProperties=ih.prototype.H;ih.prototype.unset=ih.prototype.P;
ih.prototype.changed=ih.prototype.s;ih.prototype.dispatchEvent=ih.prototype.b;ih.prototype.getRevision=ih.prototype.L;ih.prototype.on=ih.prototype.J;ih.prototype.once=ih.prototype.once;ih.prototype.un=ih.prototype.K;mh.prototype.getActive=mh.prototype.c;mh.prototype.getMap=mh.prototype.f;mh.prototype.setActive=mh.prototype.Ha;mh.prototype.get=mh.prototype.get;mh.prototype.getKeys=mh.prototype.O;mh.prototype.getProperties=mh.prototype.N;mh.prototype.set=mh.prototype.set;
mh.prototype.setProperties=mh.prototype.H;mh.prototype.unset=mh.prototype.P;mh.prototype.changed=mh.prototype.s;mh.prototype.dispatchEvent=mh.prototype.b;mh.prototype.getRevision=mh.prototype.L;mh.prototype.on=mh.prototype.J;mh.prototype.once=mh.prototype.once;mh.prototype.un=mh.prototype.K;cv.prototype.getActive=cv.prototype.c;cv.prototype.getMap=cv.prototype.f;cv.prototype.setActive=cv.prototype.Ha;cv.prototype.get=cv.prototype.get;cv.prototype.getKeys=cv.prototype.O;
cv.prototype.getProperties=cv.prototype.N;cv.prototype.set=cv.prototype.set;cv.prototype.setProperties=cv.prototype.H;cv.prototype.unset=cv.prototype.P;cv.prototype.changed=cv.prototype.s;cv.prototype.dispatchEvent=cv.prototype.b;cv.prototype.getRevision=cv.prototype.L;cv.prototype.on=cv.prototype.J;cv.prototype.once=cv.prototype.once;cv.prototype.un=cv.prototype.K;fv.prototype.type=fv.prototype.type;fv.prototype.target=fv.prototype.target;fv.prototype.preventDefault=fv.prototype.preventDefault;
fv.prototype.stopPropagation=fv.prototype.stopPropagation;hv.prototype.getActive=hv.prototype.c;hv.prototype.getMap=hv.prototype.f;hv.prototype.setActive=hv.prototype.Ha;hv.prototype.get=hv.prototype.get;hv.prototype.getKeys=hv.prototype.O;hv.prototype.getProperties=hv.prototype.N;hv.prototype.set=hv.prototype.set;hv.prototype.setProperties=hv.prototype.H;hv.prototype.unset=hv.prototype.P;hv.prototype.changed=hv.prototype.s;hv.prototype.dispatchEvent=hv.prototype.b;hv.prototype.getRevision=hv.prototype.L;
hv.prototype.on=hv.prototype.J;hv.prototype.once=hv.prototype.once;hv.prototype.un=hv.prototype.K;mv.prototype.getActive=mv.prototype.c;mv.prototype.getMap=mv.prototype.f;mv.prototype.setActive=mv.prototype.Ha;mv.prototype.get=mv.prototype.get;mv.prototype.getKeys=mv.prototype.O;mv.prototype.getProperties=mv.prototype.N;mv.prototype.set=mv.prototype.set;mv.prototype.setProperties=mv.prototype.H;mv.prototype.unset=mv.prototype.P;mv.prototype.changed=mv.prototype.s;mv.prototype.dispatchEvent=mv.prototype.b;
mv.prototype.getRevision=mv.prototype.L;mv.prototype.on=mv.prototype.J;mv.prototype.once=mv.prototype.once;mv.prototype.un=mv.prototype.K;sv.prototype.type=sv.prototype.type;sv.prototype.target=sv.prototype.target;sv.prototype.preventDefault=sv.prototype.preventDefault;sv.prototype.stopPropagation=sv.prototype.stopPropagation;of.prototype.get=of.prototype.get;of.prototype.getKeys=of.prototype.O;of.prototype.getProperties=of.prototype.N;of.prototype.set=of.prototype.set;
of.prototype.setProperties=of.prototype.H;of.prototype.unset=of.prototype.P;of.prototype.changed=of.prototype.s;of.prototype.dispatchEvent=of.prototype.b;of.prototype.getRevision=of.prototype.L;of.prototype.on=of.prototype.J;of.prototype.once=of.prototype.once;of.prototype.un=of.prototype.K;rf.prototype.getClosestPoint=rf.prototype.Ab;rf.prototype.intersectsCoordinate=rf.prototype.sb;rf.prototype.getExtent=rf.prototype.G;rf.prototype.rotate=rf.prototype.rotate;rf.prototype.scale=rf.prototype.scale;
rf.prototype.simplify=rf.prototype.Rb;rf.prototype.transform=rf.prototype.tb;rf.prototype.get=rf.prototype.get;rf.prototype.getKeys=rf.prototype.O;rf.prototype.getProperties=rf.prototype.N;rf.prototype.set=rf.prototype.set;rf.prototype.setProperties=rf.prototype.H;rf.prototype.unset=rf.prototype.P;rf.prototype.changed=rf.prototype.s;rf.prototype.dispatchEvent=rf.prototype.b;rf.prototype.getRevision=rf.prototype.L;rf.prototype.on=rf.prototype.J;rf.prototype.once=rf.prototype.once;rf.prototype.un=rf.prototype.K;
ys.prototype.getFirstCoordinate=ys.prototype.ac;ys.prototype.getLastCoordinate=ys.prototype.bc;ys.prototype.getLayout=ys.prototype.cc;ys.prototype.rotate=ys.prototype.rotate;ys.prototype.scale=ys.prototype.scale;ys.prototype.getClosestPoint=ys.prototype.Ab;ys.prototype.intersectsCoordinate=ys.prototype.sb;ys.prototype.getExtent=ys.prototype.G;ys.prototype.simplify=ys.prototype.Rb;ys.prototype.get=ys.prototype.get;ys.prototype.getKeys=ys.prototype.O;ys.prototype.getProperties=ys.prototype.N;
ys.prototype.set=ys.prototype.set;ys.prototype.setProperties=ys.prototype.H;ys.prototype.unset=ys.prototype.P;ys.prototype.changed=ys.prototype.s;ys.prototype.dispatchEvent=ys.prototype.b;ys.prototype.getRevision=ys.prototype.L;ys.prototype.on=ys.prototype.J;ys.prototype.once=ys.prototype.once;ys.prototype.un=ys.prototype.K;tm.prototype.getClosestPoint=tm.prototype.Ab;tm.prototype.intersectsCoordinate=tm.prototype.sb;tm.prototype.getExtent=tm.prototype.G;tm.prototype.rotate=tm.prototype.rotate;
tm.prototype.scale=tm.prototype.scale;tm.prototype.simplify=tm.prototype.Rb;tm.prototype.transform=tm.prototype.tb;tm.prototype.get=tm.prototype.get;tm.prototype.getKeys=tm.prototype.O;tm.prototype.getProperties=tm.prototype.N;tm.prototype.set=tm.prototype.set;tm.prototype.setProperties=tm.prototype.H;tm.prototype.unset=tm.prototype.P;tm.prototype.changed=tm.prototype.s;tm.prototype.dispatchEvent=tm.prototype.b;tm.prototype.getRevision=tm.prototype.L;tm.prototype.on=tm.prototype.J;
tm.prototype.once=tm.prototype.once;tm.prototype.un=tm.prototype.K;Jf.prototype.getFirstCoordinate=Jf.prototype.ac;Jf.prototype.getLastCoordinate=Jf.prototype.bc;Jf.prototype.getLayout=Jf.prototype.cc;Jf.prototype.rotate=Jf.prototype.rotate;Jf.prototype.scale=Jf.prototype.scale;Jf.prototype.getClosestPoint=Jf.prototype.Ab;Jf.prototype.intersectsCoordinate=Jf.prototype.sb;Jf.prototype.getExtent=Jf.prototype.G;Jf.prototype.simplify=Jf.prototype.Rb;Jf.prototype.transform=Jf.prototype.tb;
Jf.prototype.get=Jf.prototype.get;Jf.prototype.getKeys=Jf.prototype.O;Jf.prototype.getProperties=Jf.prototype.N;Jf.prototype.set=Jf.prototype.set;Jf.prototype.setProperties=Jf.prototype.H;Jf.prototype.unset=Jf.prototype.P;Jf.prototype.changed=Jf.prototype.s;Jf.prototype.dispatchEvent=Jf.prototype.b;Jf.prototype.getRevision=Jf.prototype.L;Jf.prototype.on=Jf.prototype.J;Jf.prototype.once=Jf.prototype.once;Jf.prototype.un=Jf.prototype.K;O.prototype.getFirstCoordinate=O.prototype.ac;
O.prototype.getLastCoordinate=O.prototype.bc;O.prototype.getLayout=O.prototype.cc;O.prototype.rotate=O.prototype.rotate;O.prototype.scale=O.prototype.scale;O.prototype.getClosestPoint=O.prototype.Ab;O.prototype.intersectsCoordinate=O.prototype.sb;O.prototype.getExtent=O.prototype.G;O.prototype.simplify=O.prototype.Rb;O.prototype.transform=O.prototype.tb;O.prototype.get=O.prototype.get;O.prototype.getKeys=O.prototype.O;O.prototype.getProperties=O.prototype.N;O.prototype.set=O.prototype.set;
O.prototype.setProperties=O.prototype.H;O.prototype.unset=O.prototype.P;O.prototype.changed=O.prototype.s;O.prototype.dispatchEvent=O.prototype.b;O.prototype.getRevision=O.prototype.L;O.prototype.on=O.prototype.J;O.prototype.once=O.prototype.once;O.prototype.un=O.prototype.K;P.prototype.getFirstCoordinate=P.prototype.ac;P.prototype.getLastCoordinate=P.prototype.bc;P.prototype.getLayout=P.prototype.cc;P.prototype.rotate=P.prototype.rotate;P.prototype.scale=P.prototype.scale;
P.prototype.getClosestPoint=P.prototype.Ab;P.prototype.intersectsCoordinate=P.prototype.sb;P.prototype.getExtent=P.prototype.G;P.prototype.simplify=P.prototype.Rb;P.prototype.transform=P.prototype.tb;P.prototype.get=P.prototype.get;P.prototype.getKeys=P.prototype.O;P.prototype.getProperties=P.prototype.N;P.prototype.set=P.prototype.set;P.prototype.setProperties=P.prototype.H;P.prototype.unset=P.prototype.P;P.prototype.changed=P.prototype.s;P.prototype.dispatchEvent=P.prototype.b;
P.prototype.getRevision=P.prototype.L;P.prototype.on=P.prototype.J;P.prototype.once=P.prototype.once;P.prototype.un=P.prototype.K;Q.prototype.getFirstCoordinate=Q.prototype.ac;Q.prototype.getLastCoordinate=Q.prototype.bc;Q.prototype.getLayout=Q.prototype.cc;Q.prototype.rotate=Q.prototype.rotate;Q.prototype.scale=Q.prototype.scale;Q.prototype.getClosestPoint=Q.prototype.Ab;Q.prototype.intersectsCoordinate=Q.prototype.sb;Q.prototype.getExtent=Q.prototype.G;Q.prototype.simplify=Q.prototype.Rb;
Q.prototype.transform=Q.prototype.tb;Q.prototype.get=Q.prototype.get;Q.prototype.getKeys=Q.prototype.O;Q.prototype.getProperties=Q.prototype.N;Q.prototype.set=Q.prototype.set;Q.prototype.setProperties=Q.prototype.H;Q.prototype.unset=Q.prototype.P;Q.prototype.changed=Q.prototype.s;Q.prototype.dispatchEvent=Q.prototype.b;Q.prototype.getRevision=Q.prototype.L;Q.prototype.on=Q.prototype.J;Q.prototype.once=Q.prototype.once;Q.prototype.un=Q.prototype.K;R.prototype.getFirstCoordinate=R.prototype.ac;
R.prototype.getLastCoordinate=R.prototype.bc;R.prototype.getLayout=R.prototype.cc;R.prototype.rotate=R.prototype.rotate;R.prototype.scale=R.prototype.scale;R.prototype.getClosestPoint=R.prototype.Ab;R.prototype.intersectsCoordinate=R.prototype.sb;R.prototype.getExtent=R.prototype.G;R.prototype.simplify=R.prototype.Rb;R.prototype.transform=R.prototype.tb;R.prototype.get=R.prototype.get;R.prototype.getKeys=R.prototype.O;R.prototype.getProperties=R.prototype.N;R.prototype.set=R.prototype.set;
R.prototype.setProperties=R.prototype.H;R.prototype.unset=R.prototype.P;R.prototype.changed=R.prototype.s;R.prototype.dispatchEvent=R.prototype.b;R.prototype.getRevision=R.prototype.L;R.prototype.on=R.prototype.J;R.prototype.once=R.prototype.once;R.prototype.un=R.prototype.K;C.prototype.getFirstCoordinate=C.prototype.ac;C.prototype.getLastCoordinate=C.prototype.bc;C.prototype.getLayout=C.prototype.cc;C.prototype.rotate=C.prototype.rotate;C.prototype.scale=C.prototype.scale;
C.prototype.getClosestPoint=C.prototype.Ab;C.prototype.intersectsCoordinate=C.prototype.sb;C.prototype.getExtent=C.prototype.G;C.prototype.simplify=C.prototype.Rb;C.prototype.transform=C.prototype.tb;C.prototype.get=C.prototype.get;C.prototype.getKeys=C.prototype.O;C.prototype.getProperties=C.prototype.N;C.prototype.set=C.prototype.set;C.prototype.setProperties=C.prototype.H;C.prototype.unset=C.prototype.P;C.prototype.changed=C.prototype.s;C.prototype.dispatchEvent=C.prototype.b;
C.prototype.getRevision=C.prototype.L;C.prototype.on=C.prototype.J;C.prototype.once=C.prototype.once;C.prototype.un=C.prototype.K;D.prototype.getFirstCoordinate=D.prototype.ac;D.prototype.getLastCoordinate=D.prototype.bc;D.prototype.getLayout=D.prototype.cc;D.prototype.rotate=D.prototype.rotate;D.prototype.scale=D.prototype.scale;D.prototype.getClosestPoint=D.prototype.Ab;D.prototype.intersectsCoordinate=D.prototype.sb;D.prototype.getExtent=D.prototype.G;D.prototype.simplify=D.prototype.Rb;
D.prototype.transform=D.prototype.tb;D.prototype.get=D.prototype.get;D.prototype.getKeys=D.prototype.O;D.prototype.getProperties=D.prototype.N;D.prototype.set=D.prototype.set;D.prototype.setProperties=D.prototype.H;D.prototype.unset=D.prototype.P;D.prototype.changed=D.prototype.s;D.prototype.dispatchEvent=D.prototype.b;D.prototype.getRevision=D.prototype.L;D.prototype.on=D.prototype.J;D.prototype.once=D.prototype.once;D.prototype.un=D.prototype.K;Sm.prototype.readFeatures=Sm.prototype.Oa;
an.prototype.readFeatures=an.prototype.Oa;Sm.prototype.readFeatures=Sm.prototype.Oa;md.prototype.get=md.prototype.get;md.prototype.getKeys=md.prototype.O;md.prototype.getProperties=md.prototype.N;md.prototype.set=md.prototype.set;md.prototype.setProperties=md.prototype.H;md.prototype.unset=md.prototype.P;md.prototype.changed=md.prototype.s;md.prototype.dispatchEvent=md.prototype.b;md.prototype.getRevision=md.prototype.L;md.prototype.on=md.prototype.J;md.prototype.once=md.prototype.once;
md.prototype.un=md.prototype.K;nd.prototype.getMap=nd.prototype.g;nd.prototype.setMap=nd.prototype.setMap;nd.prototype.setTarget=nd.prototype.f;nd.prototype.get=nd.prototype.get;nd.prototype.getKeys=nd.prototype.O;nd.prototype.getProperties=nd.prototype.N;nd.prototype.set=nd.prototype.set;nd.prototype.setProperties=nd.prototype.H;nd.prototype.unset=nd.prototype.P;nd.prototype.changed=nd.prototype.s;nd.prototype.dispatchEvent=nd.prototype.b;nd.prototype.getRevision=nd.prototype.L;nd.prototype.on=nd.prototype.J;
nd.prototype.once=nd.prototype.once;nd.prototype.un=nd.prototype.K;yd.prototype.getMap=yd.prototype.g;yd.prototype.setMap=yd.prototype.setMap;yd.prototype.setTarget=yd.prototype.f;yd.prototype.get=yd.prototype.get;yd.prototype.getKeys=yd.prototype.O;yd.prototype.getProperties=yd.prototype.N;yd.prototype.set=yd.prototype.set;yd.prototype.setProperties=yd.prototype.H;yd.prototype.unset=yd.prototype.P;yd.prototype.changed=yd.prototype.s;yd.prototype.dispatchEvent=yd.prototype.b;
yd.prototype.getRevision=yd.prototype.L;yd.prototype.on=yd.prototype.J;yd.prototype.once=yd.prototype.once;yd.prototype.un=yd.prototype.K;Dd.prototype.getMap=Dd.prototype.g;Dd.prototype.setMap=Dd.prototype.setMap;Dd.prototype.setTarget=Dd.prototype.f;Dd.prototype.get=Dd.prototype.get;Dd.prototype.getKeys=Dd.prototype.O;Dd.prototype.getProperties=Dd.prototype.N;Dd.prototype.set=Dd.prototype.set;Dd.prototype.setProperties=Dd.prototype.H;Dd.prototype.unset=Dd.prototype.P;Dd.prototype.changed=Dd.prototype.s;
Dd.prototype.dispatchEvent=Dd.prototype.b;Dd.prototype.getRevision=Dd.prototype.L;Dd.prototype.on=Dd.prototype.J;Dd.prototype.once=Dd.prototype.once;Dd.prototype.un=Dd.prototype.K;Bk.prototype.getMap=Bk.prototype.g;Bk.prototype.setMap=Bk.prototype.setMap;Bk.prototype.setTarget=Bk.prototype.f;Bk.prototype.get=Bk.prototype.get;Bk.prototype.getKeys=Bk.prototype.O;Bk.prototype.getProperties=Bk.prototype.N;Bk.prototype.set=Bk.prototype.set;Bk.prototype.setProperties=Bk.prototype.H;Bk.prototype.unset=Bk.prototype.P;
Bk.prototype.changed=Bk.prototype.s;Bk.prototype.dispatchEvent=Bk.prototype.b;Bk.prototype.getRevision=Bk.prototype.L;Bk.prototype.on=Bk.prototype.J;Bk.prototype.once=Bk.prototype.once;Bk.prototype.un=Bk.prototype.K;ud.prototype.getMap=ud.prototype.g;ud.prototype.setMap=ud.prototype.setMap;ud.prototype.setTarget=ud.prototype.f;ud.prototype.get=ud.prototype.get;ud.prototype.getKeys=ud.prototype.O;ud.prototype.getProperties=ud.prototype.N;ud.prototype.set=ud.prototype.set;
ud.prototype.setProperties=ud.prototype.H;ud.prototype.unset=ud.prototype.P;ud.prototype.changed=ud.prototype.s;ud.prototype.dispatchEvent=ud.prototype.b;ud.prototype.getRevision=ud.prototype.L;ud.prototype.on=ud.prototype.J;ud.prototype.once=ud.prototype.once;ud.prototype.un=ud.prototype.K;Gk.prototype.getMap=Gk.prototype.g;Gk.prototype.setMap=Gk.prototype.setMap;Gk.prototype.setTarget=Gk.prototype.f;Gk.prototype.get=Gk.prototype.get;Gk.prototype.getKeys=Gk.prototype.O;
Gk.prototype.getProperties=Gk.prototype.N;Gk.prototype.set=Gk.prototype.set;Gk.prototype.setProperties=Gk.prototype.H;Gk.prototype.unset=Gk.prototype.P;Gk.prototype.changed=Gk.prototype.s;Gk.prototype.dispatchEvent=Gk.prototype.b;Gk.prototype.getRevision=Gk.prototype.L;Gk.prototype.on=Gk.prototype.J;Gk.prototype.once=Gk.prototype.once;Gk.prototype.un=Gk.prototype.K;wd.prototype.getMap=wd.prototype.g;wd.prototype.setMap=wd.prototype.setMap;wd.prototype.setTarget=wd.prototype.f;wd.prototype.get=wd.prototype.get;
wd.prototype.getKeys=wd.prototype.O;wd.prototype.getProperties=wd.prototype.N;wd.prototype.set=wd.prototype.set;wd.prototype.setProperties=wd.prototype.H;wd.prototype.unset=wd.prototype.P;wd.prototype.changed=wd.prototype.s;wd.prototype.dispatchEvent=wd.prototype.b;wd.prototype.getRevision=wd.prototype.L;wd.prototype.on=wd.prototype.J;wd.prototype.once=wd.prototype.once;wd.prototype.un=wd.prototype.K;Lk.prototype.getMap=Lk.prototype.g;Lk.prototype.setMap=Lk.prototype.setMap;
Lk.prototype.setTarget=Lk.prototype.f;Lk.prototype.get=Lk.prototype.get;Lk.prototype.getKeys=Lk.prototype.O;Lk.prototype.getProperties=Lk.prototype.N;Lk.prototype.set=Lk.prototype.set;Lk.prototype.setProperties=Lk.prototype.H;Lk.prototype.unset=Lk.prototype.P;Lk.prototype.changed=Lk.prototype.s;Lk.prototype.dispatchEvent=Lk.prototype.b;Lk.prototype.getRevision=Lk.prototype.L;Lk.prototype.on=Lk.prototype.J;Lk.prototype.once=Lk.prototype.once;Lk.prototype.un=Lk.prototype.K;Qk.prototype.getMap=Qk.prototype.g;
Qk.prototype.setMap=Qk.prototype.setMap;Qk.prototype.setTarget=Qk.prototype.f;Qk.prototype.get=Qk.prototype.get;Qk.prototype.getKeys=Qk.prototype.O;Qk.prototype.getProperties=Qk.prototype.N;Qk.prototype.set=Qk.prototype.set;Qk.prototype.setProperties=Qk.prototype.H;Qk.prototype.unset=Qk.prototype.P;Qk.prototype.changed=Qk.prototype.s;Qk.prototype.dispatchEvent=Qk.prototype.b;Qk.prototype.getRevision=Qk.prototype.L;Qk.prototype.on=Qk.prototype.J;Qk.prototype.once=Qk.prototype.once;
Qk.prototype.un=Qk.prototype.K;
  return OPENLAYERS.ol;
}));

var tf={types:{},consts:{},platform:{},browser:{},helpers:{},units:{},js:{},layout:{},dom:{},events:{},ui:{},apps:{},ajax:{},styles:{},canvas:{},map:{ui:{},aux:{}},urlapi:{},services:{},math:{},g_Styles:null,g_SvgGlyphBtnMaker:null,g_Counter:null,g_Debug:null,g_DocMouseListener:null,g_UtmGdcConverter:null,g_LevelResolutionConverter:null,g_scriptCallDispatcher:null,g_SvgGlyphLib:null};tf.consts.URLAPIDocumentTitle="TerraMap";tf.consts.MVideoDocumentTitle="Data Mapper";
tf.consts.TimeSeriesDocumentTitle="TerraFly - TimeSeries";tf.consts.MLSDocumentTitle="TerraFly MLS Search";tf.consts.MLSDocumentTitle2="Search Tool for S Florida Real Estate Powered by TerraFly";tf.consts.urlPartsSeparatorStr="$$";tf.consts.defaultLatitude=25.75869;tf.consts.minLatitude=-90;tf.consts.maxLatitude=90;tf.consts.latitudeRange=tf.consts.maxLatitude-tf.consts.minLatitude;tf.consts.defaultLongitude=-80.37388;tf.consts.minLongitude=-180;tf.consts.maxLongitude=180;
tf.consts.longitudeRange=tf.consts.maxlongitude-tf.consts.minlongitude;tf.consts.defaultMapCenter=[tf.consts.defaultLongitude,tf.consts.defaultLatitude];tf.consts.defaultRes=2.4;tf.consts.defaultLevel=16;tf.consts.maxLevel=24;tf.consts.minLevel=1;tf.consts.defaultTFLogoOn=!0;tf.consts.defaultLegend="$$http://vn4.cs.fiu.edu/defaultmap$$";tf.consts.defaultLegendM="$$http://n00.cs.fiu.edu/Defaults/layers.maponly.mapnik2$$";tf.consts.defaultLegendH="$$http://n00.cs.fiu.edu/Defaults/layers.hybrid.mapnik2$$";
tf.consts.mapnikEngine="m";tf.consts.mapnik2Engine="m2";tf.consts.defaultFMap=tf.consts.mapnik2Engine;tf.consts.defaultTFPassThrough="";tf.consts.defaultVid="";tf.consts.defaultHelp="<span><b>Double Click</b>: Local Data Reports and Queries<br /><b>Drag</b>: Browse the map<br />Buttons: <b>Full Screen</b>, <b>Reset Rotation</b>, <b>Search Location</b>, <b>Zoom</b>, <b>Map Layers</b><br /><br />Address bar examples:<br />1 Flagler St, Miami, FL<br />Miami<br />Miami, FL<br />33139<br />25.77 -80.19 (coordinates)</span>";
tf.consts.defaultAddress="";tf.consts.tfLogoOnStr="1";tf.consts.tfLogoOffStr="0";tf.consts.typeNameHybrid="hybrid";tf.consts.typeNameMap="map";tf.consts.typeNameAerial="satellite";tf.consts.typeNameUndefined="undefined";tf.consts.defaultTypeName=tf.consts.typeNameHybrid;tf.consts.sourceName_best_available="best_available";tf.consts.sourceName_naip_1m="naip_1m";tf.consts.sourceName_usgs_toop_r="usgs_toop_r";tf.consts.sourceName_county_1ft="county_1ft";tf.consts.sourceName_landsat7_321="landsat7_321";
tf.consts.sourceName_usgs_1m="usgs_1m";tf.consts.sourceName_country_3inch="country_3inch";tf.consts.sourceName_usgs_ap_cir="usgs_ap_cir";tf.consts.sourceName_usgs_ap_r="usgs_ap_r";tf.consts.sourceName_dor_1ft="dor_1ft";tf.consts.sourceName_usgs_ap_cir="usgs_ap_cir";tf.consts.defaultSourceName=tf.consts.sourceName_best_available;tf.consts.appParamName="app";tf.consts.appStartParamName="appstart";tf.consts.appStartExpandedValue="expanded";tf.consts.appStartCollapsedValue="collapsed";
tf.consts.paramLinkTargetStr="linktarget";tf.consts.panelNameZoom="zoom";tf.consts.panelNameOverview="overview";tf.consts.panelNameLayers="legend";tf.consts.markersPanelCollapsed="markerspanecollapsed";tf.consts.panelNameDownload="download";tf.consts.panelNameMeasure="measure";tf.consts.panelNameType="type";tf.consts.panelNameFullscreen="fullscreen";tf.consts.panelNameSource="source";tf.consts.panelNameAddress="address";tf.consts.panelNameMapLocation="maplocation";tf.consts.panelNameMapScale="mapscale";
tf.consts.panelNameMapRotate="maprotate";tf.consts.panelNameUserLocation="userlocation";tf.consts.panelNameTFLogo="tflogo";tf.consts.panelNameNoAddress="noaddress";tf.consts.panelNameNoMapLocation="nomaplocation";tf.consts.panelNameNoMapRotate="nomaprotate";tf.consts.panelNameNoMapScale="nomapscale";tf.consts.panelNameNoUserLocation="nouserlocation";tf.consts.panelNameNoMapCenter="nomapcenter";tf.consts.charSplitStrings="+";
tf.consts.allPanelNames=[tf.consts.panelNameAddress,tf.consts.panelNameZoom,tf.consts.panelNameLayers,tf.consts.markersPanelCollapsed,tf.consts.panelNameType,tf.consts.panelNameMeasure,tf.consts.panelNameDownload,tf.consts.panelNameSource,tf.consts.panelNameFullscreen,tf.consts.panelNameMapLocation,tf.consts.panelNameOverview,tf.consts.panelNameMapScale,tf.consts.panelNameMapRotate,tf.consts.panelNameUserLocation,tf.consts.panelNameTFLogo];
tf.consts.defaultPanels=tf.consts.panelNameTFLogo+tf.consts.charSplitStrings+tf.consts.panelNameAddress+tf.consts.charSplitStrings+tf.consts.panelNameZoom+tf.consts.charSplitStrings+tf.consts.panelNameLayers+tf.consts.charSplitStrings+tf.consts.panelNameType+tf.consts.charSplitStrings+tf.consts.panelNameMeasure+tf.consts.charSplitStrings+tf.consts.panelNameMapLocation+tf.consts.charSplitStrings+tf.consts.panelNameUserLocation+tf.consts.charSplitStrings+tf.consts.panelNameMapRotate+tf.consts.charSplitStrings+
tf.consts.panelNameMapScale+tf.consts.charSplitStrings+tf.consts.panelNameOverview;tf.consts.charSplitApps="+";tf.consts.paramNameFMap="fmap";tf.consts.paramNameLat="lat";tf.consts.paramNameLon="lon";tf.consts.paramNameRes="res";tf.consts.paramNameLevel="level";tf.consts.paramNamePanels="panels";tf.consts.paramNameAddress="address";tf.consts.paramNameHelp="help";tf.consts.paramNameVid="vid";tf.consts.paramNamePassThrough="tf_passtrough";tf.consts.paramNameTFLogo="tflogo";tf.consts.paramNameType="type";
tf.consts.paramNameSource="source";tf.consts.paramNameMessageTimeout="rgpopup";tf.consts.paramNameLegend="legend";tf.consts.paramNameLegendH="legendh";tf.consts.paramNameLegendM="legendm";tf.consts.paramNameApps="apps";tf.consts.paramNameAppSpecs="appspecs";tf.consts.paramNameDLLegend="dlayerlegend";tf.consts.paramNameDLData="dlayerdata";tf.consts.paramNameDLField="dlayerfield";tf.consts.paramNameDLSelect="dlayerselect";tf.consts.paramNameDLColor="dlayercolor";tf.consts.paramNameDLExtent="dlayerextent";
tf.consts.paramNameDLPreClick="dlayerpreclick";tf.consts.paramNamePerspectiveMap="perspectivemap";tf.consts.paramNameDirectionsMode="directionsmode";tf.consts.paramNameDirectionsDest="directionsdest";tf.consts.paramNameDirectionsUseBus="directionsbus";tf.consts.paramNameDirectionsUseBusStage="directionsbusstage";tf.consts.MVideoParamNameVideo="m";tf.consts.minMessageTimeout=0;tf.consts.maxMessageTimeout=60;tf.consts.defaultMessageTimeout=5;tf.consts.addressBarName="Search Location";
tf.consts.mapTypesName="Display Type";tf.consts.mapTypesHybridLabel="Hybrid";tf.consts.mapTypesAerialLabel="Aerial";tf.consts.mapTypesMapLabel="Map";tf.consts.mapTypesHybridTip="Hybrid: Aerial + Map";tf.consts.mapTypesAerialTip="Aerial images only";tf.consts.mapTypesMapTip="Map images only";tf.consts.centerToUserLocationTip="Center Map to User Location";tf.consts.mapLayersName="Map Layers";tf.consts.baseMapLayersName="Base Layers";tf.consts.baseMapLayersToolTip="View Base Layers";
tf.consts.mapSourcesName="Aerial Source";tf.consts.mapSourcesItemTip="Use images from: ";tf.consts.mapLayerSourceName="maplayersource";tf.consts.mapDownloadName="Download";tf.consts.mapMeasureName="Measure";tf.consts.mapLocationShowTip="Enable Location Information on Map Move";tf.consts.mapLocationHideTip="Disable Location Information on Map Move";tf.consts.mapLocationPopupHideTip="Hide Location Information";tf.consts.fullScreenToolTipNormal="View Full Screen";tf.consts.fullScreenToolTipFull="Exit Full Screen";
tf.consts.minAppWidthNumber=400;tf.consts.minAppHeightNumber=360;tf.consts.defaultGeocoderError="ERROR IN ADDRESS, PLEASE REENTER";tf.consts.strShowPanel="SHOW";tf.consts.strHidePanel="HIDE";tf.consts.RoutingServiceURL="http://131.94.133.147:5000/";tf.consts.routingServiceModeFoot="foot";tf.consts.routingServiceModeCar="car";tf.consts.routingServiceModeBicycle="bicycle";tf.consts.routingServiceModeBus="bus";tf.consts.worldGeodeticSystemStr="EPSG:4326";tf.consts.sphericalMercatorSystemStr="EPSG:3857";
tf.consts.UTMSystemStr="EPSG:3006";tf.consts.olSystem=tf.consts.sphericalMercatorSystemStr;tf.consts.tmSystem=tf.consts.worldGeodeticSystemStr;tf.consts.downloadSystem=tf.consts.UTMSystemStr;tf.consts.SVGGlyphPrefix="-tf-svgglyph-";tf.consts.KnownPropertyPrefix="-tf-prop-";tf.consts.DLayerProperty=tf.consts.KnownPropertyPrefix+"dlayer";tf.consts.TableRowProperty=tf.consts.KnownPropertyPrefix+"tablerow";tf.consts.KeyedFeatureProperty=tf.consts.KnownPropertyPrefix+"keyedfeature";
tf.consts.DOMEventNames={};tf.consts.DOMEventNamesFocus="focus";tf.consts.DOMEventNamesBlur="blur";tf.consts.DOMEventNamesEnded="ended";tf.consts.DOMEventNamesTimeUpdate="timeupdate";tf.consts.DOMEventNamesLoadMetaData="loadmetadata";tf.consts.DOMEventNamesClick="click";tf.consts.DOMEventNamesChange="change";tf.consts.DOMEventNamesDOMMouseScroll="DOMMouseScroll";tf.consts.DOMEventNamesMouseWheel="mousewheel";tf.consts.DOMEventNamesLoseFocus="losefocus";tf.consts.DOMEventNamesResize="resize";
tf.consts.DOMEventNamesKeyPress="keypress";tf.consts.DOMEventNamesKeyUp="keyup";tf.consts.DOMEventNamesMouseMove="mousemove";tf.consts.DOMEventNamesMouseUp="mouseup";tf.consts.DOMEventNamesMouseDown="mousedown";tf.consts.DOMEventNamesMouseOver="mouseover";tf.consts.DOMEventNamesMouseOut="mouseout";tf.consts.DOMEventNamesMouseEnter="mouseenter";tf.consts.DOMEventNamesMouseLeave="mouseleave";tf.consts.DOMEventNamesTouchStart="touchstart";tf.consts.DOMEventNamesTouchMove="touchmove";
tf.consts.DOMEventNamesTouchEnd="touchend";tf.consts.DOMEventNamesTouchEnter="touchenter";tf.consts.DOMEventNamesTouchLeave="touchleave";tf.consts.DOMEventNamesTouchCancel="touchcancel";
tf.consts.allMouseEventNames=[tf.consts.DOMEventNamesMouseMove,tf.consts.DOMEventNamesMouseUp,tf.consts.DOMEventNamesMouseDown,tf.consts.DOMEventNamesMouseOver,tf.consts.DOMEventNamesMouseOut,tf.consts.DOMEventNamesMouseEnter,tf.consts.DOMEventNamesMouseLeave,tf.consts.DOMEventNamesTouchStart,tf.consts.DOMEventNamesTouchMove,tf.consts.DOMEventNamesTouchEnd,tf.consts.DOMEventNamesTouchEnter,tf.consts.DOMEventNamesTouchLeave,tf.consts.DOMEventNamesTouchCancel];
tf.consts.DOMEventNameswebkitfullscreenchange="webkitfullscreenchange";tf.consts.DOMEventNamesmozfullscreenchange="mozfullscreenchange";tf.consts.DOMEventNamesfullscreenchange="fullscreenchange";tf.consts.DOMEventNamesMSFullscreenChange="MSFullscreenChange";tf.consts.allFullScreenEventNames=[tf.consts.DOMEventNameswebkitfullscreenchange,tf.consts.DOMEventNamesmozfullscreenchange,tf.consts.DOMEventNamesfullscreenchange,tf.consts.DOMEventNamesMSFullscreenChange];tf.consts.keyedListDeleteEvent="listDelete";
tf.consts.keyedListAddedItemsEvent="listAddedItems";tf.consts.keyedListUpdatedItemsEvent="listUpdatedItems";tf.consts.keyedListDeletedItemsEvent="listDeletedItems";tf.consts.allKeyedListEventNames=[tf.consts.keyedListDeleteEvent,tf.consts.keyedListAddedItemsEvent,tf.consts.keyedListUpdatedItemsEvent,tf.consts.keyedListDeletedItemsEvent];tf.consts.keyedFeaturesAddedEvent="featuresAdded";tf.consts.keyedFeaturesUpdatedEvent="featuresUpdated";tf.consts.keyedFeaturesDeletedEvent="featuresDeleted";
tf.consts.allKeyedFeaturesEventNames=[tf.consts.keyedFeaturesAddedEvent,tf.consts.keyedFeaturesUpdatedEvent,tf.consts.keyedFeaturesDeletedEvent];tf.consts.keyedTableRowsAddedEvent="keyedTableRowsAdded";tf.consts.keyedTableRowsUpdatedEvent="keyedTableRowsUpdated";tf.consts.keyedTableRowsDeletedEvent="keyedTableRowsDeleted";tf.consts.keyedTableRowsEventNames=[tf.consts.keyedTableRowsAddedEvent,tf.consts.keyedTableRowsUpdatedEvent,tf.consts.keyedTableRowsDeletedEvent];
tf.consts.mapFeatureLayerVisibilityChangeEvent="visibilityChange";tf.consts.allMapFeatureLayerEventNames=[tf.consts.mapFeatureLayerVisibilityChangeEvent];tf.consts.mapToggleScaleUnitEvent="toggleScaleUnit";tf.consts.mapMoveEndEvent="moveEnd";tf.consts.mapMoveStartEvent="moveStart";tf.consts.mapResizedEvent="resized";tf.consts.mapMouseMoveEvent="mouseMove";tf.consts.mapClickEvent="click";tf.consts.mapMouseDragEvent="mouseDrag";tf.consts.mapEndDragEvent="endDrag";tf.consts.mapInstantClickEvent="iclick";
tf.consts.mapDblClickEvent="dblClick";tf.consts.mapFeatureClickEvent="featureClick";tf.consts.mapFeatureInstantClickEvent="ifeatureClick";tf.consts.mapFeatureDblClickEvent="featureDblClick";tf.consts.mapFeatureMouseMoveEvent="featureMouseMove";tf.consts.mapFeatureMouseDragEvent="featureMouseDrag";tf.consts.mapFeatureHoverInOutEvent="featureHoverInOut";tf.consts.mapTypeChangeEvent="modeChange";tf.consts.mapLevelChangeEvent="levelChange";tf.consts.mapResolutionChangeEvent="resolutionChange";
tf.consts.mapRotationChangeEvent="rotationChange";tf.consts.mapFullScreenEvent="fullScreen";tf.consts.mapPostComposeEvent="postCompose";tf.consts.mapPostPostComposeEvent="postPostCompose";tf.consts.mapPreComposeEvent="preCompose";tf.consts.mapPostRenderEvent="postRender";tf.consts.mapViewSettingsChangedEvent="viewsettingschanged";
tf.consts.allMapEventNames=[tf.consts.mapToggleScaleUnitEvent,tf.consts.mapMoveEndEvent,tf.consts.mapMoveStartEvent,tf.consts.mapResizedEvent,tf.consts.mapMouseMoveEvent,tf.consts.mapMouseDragEvent,tf.consts.mapEndDragEvent,tf.consts.mapClickEvent,tf.consts.mapInstantClickEvent,tf.consts.mapDblClickEvent,tf.consts.mapFeatureInstantClickEvent,tf.consts.mapFeatureClickEvent,tf.consts.mapFeatureDblClickEvent,tf.consts.mapFeatureMouseMoveEvent,tf.consts.mapFeatureMouseDragEvent,tf.consts.mapFeatureHoverInOutEvent,
tf.consts.mapTypeChangeEvent,tf.consts.mapLevelChangeEvent,tf.consts.mapResolutionChangeEvent,tf.consts.mapRotationChangeEvent,tf.consts.mapFullScreenEvent,tf.consts.mapPostComposeEvent,tf.consts.mapPostPostComposeEvent,tf.consts.mapPreComposeEvent,tf.consts.mapPostRenderEvent,tf.consts.mapViewSettingsChangedEvent];tf.consts.positioningCenter="center";tf.consts.positioningLeft="left";tf.consts.positioningRight="right";tf.consts.positioningTop="top";tf.consts.positioningBottom="bottom";
tf.consts.defaultMapFeatureStyleName="defaultMapFeatureStyleName";tf.consts.defaultMapAnimatedDurationPerLevelMillis=400;tf.consts.defaultMapAnimatedCenterDurationMillis=300;tf.platform.TestURL="http://experiment2.cs.fiu.edu/hterramap/test/";tf.platform.StageURL="http://experiment2.cs.fiu.edu/hterramap/stage/";tf.platform.ProdURL="http://tfcore.cs.fiu.edu/hterramap/";tf.platform.LocalURL="http://localhost/terramap/";tf.platform.isKnown=!1;
tf.platform.GetURL=function(){if(void 0==tf.platform.PlatformURL){var a=tf.platform,c,e=document.getElementsByTagName("script"),d,b;for(d=0;b=e[d];++d){b=b.src;var f=b.indexOf("mapapi.js");if(0<=f){c=b.substring(0,f);break}}if(void 0!==c)if(tf.platform.isKnown=0<=c.indexOf("test"))c=tf.platform.TestURL;else if(tf.platform.isKnown=0<=c.indexOf("stage"))c=tf.platform.StageURL;else if(tf.platform.isKnown=0<=c.indexOf("tfcore"))c=tf.platform.ProdURL;tf.platform.isKnown||(c="",tf.platform.isKnown=!1);
a.PlatformURL=c}return tf.platform.PlatformURL};tf.platform.GetIsKnown=function(){tf.platform.GetURL();return tf.platform.isKnown};tf.platform.GetIsTest=function(){return tf.platform.GetURL()==tf.platform.TestURL||!tf.platform.isKnown};tf.platform.GetIsStage=function(){return tf.platform.GetURL()==tf.platform.StageURL};tf.platform.GetIsProduction=function(){return tf.platform.GetURL()==tf.platform.ProdURL};tf.map.MapSphere=new ol.Sphere(6378137);
tf.js.GetLegendCompositesStrs=function(a,c){function e(a,b){var d=0,e="",g="",f="";if(a&&tf.js.GetIsNonEmptyArray(b))for(var h=b.length,k="",l="",m=0;m<h;++m){var n=b[m];if(void 0==c||n.min-1E-5<=c&&n.max+1E-5>=c)e+=k+n.prefix+n.suffixM,g+=k+n.prefix+n.suffixH,f+=l+n.value,k="+",l=",",++d}return{count:d,m1Mpartial:e,m1Hpartial:g,m2partial:f}}function d(a,c){var d=0<c.count;if(d){var e=a?"+":"";f+=e+c.m1Mpartial;b+=e+c.m1Hpartial;h+=(a?",":"")+c.m2partial}return d}var b="",f="",h="";if(tf.js.GetIsNonEmptyArray(a))for(var k=
a.length,g=!1,l=0;l<k;++l){var m=a[l];if(tf.js.GetIsNonEmptyArray(m.groups))for(var n=m.groups.length,p=0;p<n;++p)d(g,e(m.groups[p].visible,m.groups[p].composites))&&(g=!0);else d(g,e(m.visible,m.composites))&&(g=!0)}return{m1H:b,m1M:f,m2:h}};
tf.js.DecodeLegend=function(a){function c(a,b){var c=!!b,d="",e="";tf.js.GetIsNonEmptyString(a)&&(e=a.split(":"),d=e[0].replace(/\_/g," "),0<d.length&&"~"==d[0]&&(c=!0,d=d.substr(1)),e=1<e.length?e[1].replace(/\_/g," "):d);return{visible:c,name:d,desc:e}}function e(a,b){var d=[];if(tf.js.GetIsNonEmptyString(a)){var e=a.split(";"),g=e.length;if(0<g)for(var f=0;f<g;++f){var h=void 0,k=e[f].split("@");if(2==k.length){var l,u=k[1];l=[];var C=void 0,B=void 0;if(tf.js.GetIsNonEmptyString(u))for(var u=u.split("+"),
F=u.length,E=0;E<F;++E){var D,K=u[E];D=void 0;if(tf.js.GetIsNonEmptyString(K)){var G=K.split("-"),L=G.length;D={prefix:"",value:"",suffixM:"",suffixH:"",min:1E11,max:-1};1==L?(D.value=D.prefix=K,D.min=-1,D.max=150):2==L?(D.value=D.prefix=K,K=G[1].substr(0,1),G=G[1].substr(1,1),"_"==K?D.min=0:(D.min=Math.pow(2,parseInt(K,10)),150<D.min&&(D.min=150)),"_"==G?D.max=.999:(D.max=Math.pow(2,parseInt(G,10)+1)-.001,150<D.max&&(D.max=150))):3==L||4==L?(D.prefix=G[0]+"-"+G[1]+"-"+G[2]+"-",D.value=G[0],D.min=
parseFloat(G[1]),D.max=parseFloat(G[2]),D.min>D.max&&(swap=D.min,D.min=D.max,D.max=swap),4==L&&(K=G[3].split("||"),D.suffixH=K[0],D.suffixM=2==K.length?K[1]:K[0])):D=void 0}if(void 0!=D){if(void 0==B||B>D.min)B=D.min;if(void 0==C||C>D.max)C=D.max;l.push(D)}}l={composites:l,min:B,max:C};0<l.composites.length&&(h=tf.js.ShallowMerge(l,c(k[0],b)))}void 0!=h&&d.push(h)}}return d}var d=[];if(tf.js.GetIsNonEmptyString(a)){a=a.split("};");for(var b=a.length,f=0;f<b;++f){var h=a[f],k=h.length,g=void 0;if(0<
k){var l=h.split("{");2==l.length&&(h=e(l[0]),0<h.length&&d.push.apply(d,h),h=l[1],k=h.length);k&&(h=h.split("::"),2==h.length&&(l=c(h[0]),h=e(h[1],l.visible),0<h.length&&(g={groups:h,name:l.name,desc:l.desc})))}void 0!=g&&d.push(g)}}return d};
(function(a){var c=a.prototype,e=c.parseFromString;try{if((new a).parseFromString("","text/html"))return}catch(d){}c.parseFromString=function(a,c){if(/^\s*text\/html\s*(?:;|$)/i.test(c)){var d=document.implementation.createHTMLDocument("");-1<a.toLowerCase().indexOf("<!doctype")?d.documentElement.innerHTML=a:d.body.innerHTML=a;return d}return e.apply(this,arguments)}})(DOMParser);tf.GetDocMouseListener=function(){tf.g_DocMouseListener||(tf.g_DocMouseListener=new tf.events.DocMouseListener);return tf.g_DocMouseListener};
tf.GetStyles=function(a){tf.g_Styles||(tf.g_Styles=new tf.styles.Styles(a));return tf.g_Styles};tf.GetGlobalCounter=function(){tf.g_Counter||(tf.g_Counter=new tf.js.Counter);return tf.g_Counter};tf.GetNextDynCSSClassName=function(){return"tf-dyn-css-"+tf.GetGlobalCounter().GetNext()};tf.GetDebug=function(){tf.g_Debug||(tf.g_Debug=new tf.Debug);return tf.g_Debug};
tf.helpers.XML2Object=function(a){function c(a,b){e[a]?(tf.js.GetIsArray(e[a])||(e[a]=[e[a]]),e[a][e[a].length]=b):e[a]=b}var e={};if(tf.js.GetIsValidObject(a)&&tf.js.GetIsValidObject(a.attributes)&&tf.js.GetIsValidObject(a.childNodes)){var d,b;for(d=0;b=a.attributes[d];++d)c(b.name,b.value);for(d=0;b=a.childNodes[d];++d)1==b.nodeType&&(1==b.childNodes.length&&3==b.firstChild.nodeType?c(b.nodeName,b.firstChild.nodeValue):c(b.nodeName,tf.helpers.XML2Object(b)))}return e};
tf.helpers.XMLString2Object=function(a){var c={};tf.js.GetIsNonEmptyString(a)&&(a=(new DOMParser).parseFromString(a,"application/xml"),tf.js.GetIsValidObject(a)&&tf.js.GetIsValidObject(a.documentElement)&&(c=tf.helpers.XML2Object(a.documentElement)));return c};tf.js.ParseSplitStringWithSeparators=function(a,c){var e={};if(tf.js.GetIsNonEmptyString(a)&&tf.js.GetIsNonEmptyString(c)){a=a.split(c);for(var d=a.length,b=0;b<d;++b){var f=a[b];e[f.toLowerCase()]=f}}return e};
tf.js.AddStringWithSeparators=function(a,c,e){tf.js.GetIsNonEmptyString(c)&&tf.js.GetIsNonEmptyString(e)&&(a=tf.js.GetIsNonEmptyString(a)?a+(e+c):c);return a};tf.js.AddStringsWithSeparatorsIfAbsent=function(a,c,e){if(tf.js.GetIsNonEmptyString(e)){var d=tf.js.ParseSplitStringWithSeparators(a,e);if(tf.js.GetIsValidObject(d)){tf.js.GetIsNonEmptyArray(c)||(c=[c]);for(var b=c.length,f=0;f<b;++f){var h=c[f];tf.js.GetIsNonEmptyString(h)&&(d[h]||(a=tf.js.AddStringWithSeparators(a,h,e)))}}}return a};
tf.helpers.HitTestSegment=function(a,c,e){var d,b,f=0,h=!1,k=!1,g=!1,l;if(tf.js.GetIsArrayWithMinLength(a,2)&&tf.js.GetIsArrayWithMinLength(c,2)&&tf.js.GetIsArrayWithMinLength(e,2)){d=a[0];b=a[1];var f=c[0],m=c[1];if(d==f&&b==m)b=[d,b],k=!0,l=1;else{var n=f-d,p=m-b;l=((e[0]-d)*n+(e[1]-b)*p)/(n*n+p*p);0>l?(b=[d,b],h=!0,l=0):1<l?(b=[f,m],k=!0,l=1):(b=[d+n*l,b+p*l],g=!0)}d=tf.units.GetHaversineDistance(e,b);a=(e[0]-a[0])*(c[1]-a[1])-(e[1]-a[1])*(c[0]-a[0]);f=0==a?0:0<a?1:-1}return{distance:d,closestPoint:b,
isStart:h,isEnd:k,isSeg:g,proj:l,angle:f}};
tf.helpers.HitTestMapCoordinatesArray=function(a,c,e,d,b,f,h,k){var g=-1,l=-1,m=void 0,n=void 0,p=0;if(tf.js.GetIsArrayWithMinLength(a,1)&&tf.js.GetIsArrayWithMinLength(a[0],2)&&tf.js.GetIsArrayWithMinLength(c,2)){var q=a.length-1;0==q&&(a=[a[0],a[0]],q=1);void 0==e&&(e=0);void 0==d&&(d=0);void 0==f&&(f=0);if(void 0==k||0>k)k=0;for(;e<q;++e){var r=tf.helpers.HitTestSegment(a[e],a[1+e],c);if(void 0!=r.distance&&r.proj>d&&(-1==g||r.distance+k<g)&&(void 0===h||0<=h&&0<=r.angle||0>=h&&0>=r.angle)){g=
r.distance;m=r.closestPoint?r.closestPoint.slice(0):void 0;l=e;n=r.proj;p=r.angle;if(void 0!=b&&e>=b)break;if(g<f)break}d=0}}return{minDistance:g,minDistanceIndex:l,closestPoint:m,proj:n,angle:p}};tf.helpers.CalcAverageCoordinates=function(a,c){var e=[0,0];if(tf.js.GetIsNonEmptyArray(a)&&tf.js.GetIsArrayWithLength(a[0],2)){var d=0,b=a.length;c=!!c;for(var f in a){var h=a[f];if(h)if(2==h.length)e[0]+=h[0],e[1]+=h[1],d++;else break;else break;if(c&&f==b-2)break}d&&(e[0]/=d,e[1]/=d)}return e};
tf.dom.SelectAndCopyToClipboard=function(a){return tf.dom.SelectAndCopyToDocClipboard(document,a)};tf.dom.SelectAndCopyToDocClipboard=function(a,c){var e=!1,d=tf.dom.GetHTMLElementFrom(c);if(d)try{d.select(),a.execCommand("copy"),e=!0}catch(b){}return e};
tf.dom.OnRangeChange=function(a,c){a=tf.dom.GetHTMLElementFrom(a);var e=!0,d={current:void 0,mostRecent:void 0};a.addEventListener("input",function(a){e=!1;d.current=a.target.value;d.current!==d.mostRecent&&c(a,d);d.mostRecent=d.current});a.addEventListener("change",function(a){e&&c(a,d)})};
tf.dom.IsVerticalScrollElementVisible=function(a,c,e){e=!0;var d=0;if((a=tf.dom.GetHTMLElementFrom(a))&&(c=tf.dom.GetHTMLElementFrom(c))){var b=a.scrollTop;a=b+a.offsetHeight;var f=c.offsetTop;c=f+c.offsetHeight;c>a&&(e=!1,d=c-a,f+=d);f<b&&(e=!1,d=f-b)}return{isVisible:e,offSetScroll:b+d}};
tf.dom.IsVerticalScrollElementVisibleOld=function(a,c,e){var d=!1,b=0;e=void 0!=e?e:10;(a=tf.dom.GetHTMLElementFrom(a))&&(c=tf.dom.GetHTMLElementFrom(c))&&(c=c.offsetTop-a.offsetTop,d=a.scrollTop,c>d+a.offsetHeight-e?(d=!1,b=c-e):c<d+e?(d=!1,b=c-e):d=!0);return{isVisible:d,offSetScroll:b}};tf.dom.IsLastVerticalScrollElemVisible=function(a,c){var e={isVisible:!0,offsetScroll:0};if(a=tf.dom.GetHTMLElementFrom(a)){var d=a.lastChild;d&&(e=tf.dom.IsVerticalScrollElementVisible(a,d,c))}return e};
tf.dom.ScrollVerticallyToEnsureVisible=function(a,c,e){c=tf.dom.IsVerticalScrollElementVisible(a,c,e);if(e=!c.isVisible)tf.dom.GetHTMLElementFrom(a).scrollTop=c.offSetScroll;return e};tf.dom.ScrollVerticallyToEnd=function(a){if(a=tf.dom.GetHTMLElementFrom(a))a.scrollTop=a.scrollHeight};
tf.dom.ScrollHorizontallyToEnsureVisible=function(a,c){var e=!1;if((a=tf.dom.GetHTMLElementFrom(a))&&(c=tf.dom.GetHTMLElementFrom(c))){var d=c.offsetLeft-a.offsetLeft,e=a.scrollLeft;if(e=d>e+a.offsetWidth-10||d<e)a.scrollLeft=d}return e};tf.dom.SetDisplayStyle=function(a,c){if(a=tf.dom.GetHTMLElementFrom(a))a.style.display=c};tf.dom.ToggleDisplayStyle=function(a,c,e){if(a=tf.dom.GetHTMLElementFrom(a))a.style.display=a.style.display==c?e:c};
tf.dom.ToggleDisplayBlockNone=function(a){return tf.dom.ToggleDisplayStyle(a,"block","none")};tf.dom.SetDisplayBlockNone=function(a,c){return tf.dom.SetDisplayStyle(a,c?"block":"none")};tf.dom.AddScript=function(a,c,e){if(tf.js.GetIsNonEmptyString(a)){e=void 0!=e?e:document;var d=e.createElement("script");d.type="text/javascript";d.src=a;tf.js.GetFunctionOrNull(c)&&(d.onload=c);e.head.appendChild(d)}};
tf.dom.AddScripts=function(a,c,e){function d(){!f&&0<=++b&&(f=!0,c())}var b=0,f=!1;if(tf.js.GetIsNonEmptyArray(a))for(var h=a.length,k=0;k<h;++k)tf.dom.AddScript(a[k],d,e)};tf.dom.AddLink=function(a,c,e,d){if(tf.js.GetIsNonEmptyString(a)){var b=document.createElement("link");tf.js.GetFunctionOrNull(d)&&(b.onload=d);b.href=a;tf.js.GetIsNonEmptyString(c)&&(b.rel=c);tf.js.GetIsNonEmptyString(e)&&(b.type=e);document.head.appendChild(b)}};
tf.dom.AddGoogleFont=function(a,c){tf.js.GetIsNonEmptyString(a)&&tf.dom.AddLink("http://fonts.googleapis.com/css?family="+a,"stylesheet","text/css",c)};tf.dom.GetWindowDims=function(){var a=window,c=document,e=c.documentElement,c=c.getElementsByTagName("body")[0];return[(a.innerWidth||e.clientWidth||c.clientWidth)-1,(a.innerHeight||e.clientHeight||c.clientHeight)-1]};
tf.dom.FitContainerToWindowDims=function(a){var c=tf.dom.GetWindowDims();if(a=tf.dom.GetHTMLElementFrom(a))a=a.style,a.width=a.maxWidth=c[0]+"px",a.height=a.maxHeight=c[1]+"px";return c};tf.dom.GetIsHTMLNode=function(a){return"object"===typeof Node?a instanceof Node:a&&"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName};tf.dom.GetIsHTMLElement=function(a){return tf.js.GetIsValidObject(a)&&1===a.nodeType&&"string"===typeof a.nodeName};
tf.dom.GetHTMLElementFrom=function(a){a&&(tf.dom.GetIsHTMLElement(a)||(a=tf.js.GetIsNonEmptyString(a)?document.getElementById(a):tf.js.GetIsValidObject(a)&&tf.js.GetFunctionOrNull(a.GetHTMLElement)?a.GetHTMLElement():null));return a};tf.dom.GetDOMEventListenerFrom=function(a){a&&(tf.dom.GetIsHTMLElement(a)||(tf.js.GetIsNonEmptyString(a)?a=document.getElementById(a):tf.js.GetIsValidObject(a)&&tf.js.GetFunctionOrNull(a.GetHTMLElement)&&(a=a.GetHTMLElement())),tf.js.GetIsValidObject(a)||(a=null));return a};
tf.dom.GetElemClassName=function(a){return a instanceof SVGElement?(a.className?a.className.baseVal:a.getAttribute("class"))||"":a.className};tf.dom.SetElemClassName=function(a,c){if(a instanceof SVGElement)a.className?a.className.baseVal=c:a.setAttribute("class",c);else return a.className=c};tf.dom.GetContainsCSSClass=function(a,c){return(a=tf.dom.GetHTMLElementFrom(a))?tf.js.GetNonEmptyString(c)&&(new RegExp("(\\s+|^)"+c+"(\\s+|$)")).test(tf.dom.GetElemClassName(a)):!1};
tf.dom.AddCSSClass=function(a,c){if((a=tf.dom.GetHTMLElementFrom(a))&&c){tf.js.GetIsArray(c)||(c=c.split(" "));for(var e=tf.dom.GetElemClassName(a),d=0,b=c.length;d<b;++d)c[d]&&!(new RegExp("(\\s+|^)"+c[d]+"(\\s+|$)")).test(e)&&(e=e.trim()+" "+c[d]);tf.dom.SetElemClassName(a,e)}};
tf.dom.RemoveCSSClass=function(a,c){if((a=tf.dom.GetHTMLElementFrom(a))&&c){tf.js.GetIsArray(c)||(c=c.split(" "));for(var e=tf.dom.GetElemClassName(a),d=0,b=c.length;d<b;++d)e=e.replace(new RegExp("(\\s+|^)"+c[d]+"(\\s+|$)")," ").trim();tf.dom.SetElemClassName(a,e)}};tf.dom.ReplaceCSSClass=function(a,c,e){tf.dom.RemoveCSSClass(a,c);tf.dom.AddCSSClass(a,e)};tf.dom.ReplaceCSSClassCondition=function(a,c,e,d){c?tf.dom.ReplaceCSSClass(a,d,e):tf.dom.ReplaceCSSClass(a,e,d)};
tf.dom.AppendTo=function(a,c){(c=tf.dom.GetHTMLElementFrom(c))&&(a=tf.dom.GetHTMLElementFrom(a))&&tf.js.GetFunctionOrNull(c.appendChild)&&c.appendChild(a)};tf.dom.AddContent=function(a,c){if(tf.js.GetIsValidObject(a)&&tf.js.GetIsValidObject(c))if(tf.js.GetFunctionOrNull(a.AppendTo))a.AppendTo(c);else{var e=tf.dom.GetHTMLElementFrom(a),d=tf.dom.GetHTMLElementFrom(c);e&&d&&d.appendChild(e)}};tf.dom.RemoveAllChildren=function(a){if(a=tf.dom.GetHTMLElementFrom(a))for(var c;c=a.lastChild;)a.removeChild(c)};
tf.dom.CreateDomElementID=function(a){return a+tf.GetGlobalCounter().GetNext()+""};tf.js.ShallowMerge=function(){for(var a={},c=arguments.length,e=0;e<c;++e){var d=arguments[e];if(d&&"object"===typeof d)for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b])}return a};tf.js.GetIsBoolean=function(a){return"boolean"===typeof a};tf.js.GetIsString=function(a){return!!a&&"string"===typeof a};tf.js.GetIsStringWithMinLength=function(a,c){return tf.js.GetIsString(a)&&a.length>=c};
tf.js.GetIsStringWithLength=function(a,c){return tf.js.GetIsString(a)&&a.length==c};tf.js.GetIsNonEmptyString=function(a){return tf.js.GetIsString(a)&&!!a.length};tf.js.GetNonEmptyString=function(a,c){return tf.js.GetIsNonEmptyString(a)?a:c};tf.js.GetIsArray=function(a){if(a){if(a.constructor===Array)return!0;if(tf.js.GetFunctionOrNull(a))return!1;if(!tf.js.GetIsString(a)&&void 0!==a.length)return"number"==typeof a.length}return!1};
tf.js.GetIsNonEmptyArray=function(a){return tf.js.GetIsArray(a)&&!!a.length};tf.js.GetIsArrayWithLength=function(a,c){return tf.js.GetIsArray(a)&&a.length==c};tf.js.GetIsArrayWithLength=function(a,c){return tf.js.GetIsArray(a)&&a.length==c};tf.js.GetIsArrayWithMinLength=function(a,c){return tf.js.GetIsArray(a)&&a.length>=c};tf.js.GetIsValidObject=function(a){return!!a&&"object"===typeof a};tf.js.GetValidObjectFrom=function(a){return tf.js.GetIsValidObject(a)?a:{}};
tf.js.GetFunctionOrNull=function(a){return"function"===typeof a?a:null};tf.js.JSONParseWithEval=function(a){return tf.js.GetNonEmptyString(a)?eval("("+a+")"):null};tf.js.JSONParse=function(a){var c=null,e=JSON&&JSON.parse?JSON.parse:tf.js.JSONParseWithEval;try{c=e(a)}catch(d){if(e!=tf.js.JSONParseWithEval)try{c=tf.js.JSONParseWithEval(a)}catch(b){c=null}else c=null;c||tf.GetDebug().LogIfTest("exception on JSON decode")}return c};
tf.js.GetURLOfScript=function(a){var c;if("string"===typeof a){var e=document.getElementsByTagName("script"),d,b;for(d=0;b=e[d];++d){b=b.src;var f=b.indexOf(a);if(0<=f){c=b.substring(0,f);break}}}return c};tf.js.GetHexColorStr=function(a,c){var e=c;"string"==typeof a?0<a.length&&("#"!=a[0]?0==a.indexOf("0x")?e="#"+a.substr(2):(a=parseInt(a,10),e="#"+a.toString(16)):e=a):"number"==typeof a&&(e="#"+a.toString(16));return e};
tf.js.GetRGBAColor=function(a,c,e){var d="rgb(0,0,0)";if(a=tf.js.GetHexColorStr(a,c))if(c=a.length,(c=7==c?2:4==c?1:0)&&"#"==a.charAt(0)){var d=parseInt(a.substr(1,c),16),b=parseInt(a.substr(1+c,c),16);a=parseInt(a.substr(1+2*c,c),16);1==c&&(d=16*d+d,b=16*b+b,a=16*a+a);c=!1;"number"==typeof e&&(e=0>e?0:1<e?1:e,c=1!=e);d=c?"rgba("+d+","+b+","+a+","+e+")":"rgb("+d+","+b+","+a+")"}return d};tf.js.GetRandomHexColorStr=function(){return"#"+Math.floor(16777215*Math.random()).toString(16)};
tf.js.GetGrayFromRGB=function(a){return.299*a.r+.587*a.g+.114*a.b};tf.js.GetRGBFromColor=function(a,c){var e=255,d=255,b=255;if(a=tf.js.GetHexColorStr(a,c)){var f=a.length;(f=7==f?2:4==f?1:0)&&"#"==a.charAt(0)&&(e=parseInt(a.substr(1,f),16),d=parseInt(a.substr(1+f,f),16),b=parseInt(a.substr(1+2*f,f),16),1==f&&(e+=e<<4,d+=d<<4,b+=b<<4))}return{r:e,g:d,b:b}};tf.js.GetIsValidNumber=function(a){return Number(a)===a&&isFinite(a)};
tf.js.GetIsNonNegativeNumber=function(a){return tf.js.GetIsValidNumber(a)&&0<=a};tf.js.GetIsPositiveNumber=function(a){return tf.js.GetIsValidNumber(a)&&0<a};tf.js.GetIsInt=function(a){return tf.js.GetIsValidNumber(a)&&0===a%1};tf.js.GetIsNonNegativeInt=function(a){return tf.js.GetIsInt(a)&&tf.js.GetIsNonNegativeNumber(a)};tf.js.GetIsPositiveInt=function(a){return tf.js.GetIsInt(a)&&tf.js.GetIsPositiveNumber(a)};
tf.js.GetNonNegativeIntFrom=function(a,c){tf.js.GetIsNonEmptyString(a)&&(a=parseInt(a,10));return tf.js.GetIsNonNegativeInt(a)?a:void 0!==c?c:0};tf.js.GetPositiveIntFrom=function(a,c){tf.js.GetIsNonEmptyString(a)&&(a=parseInt(a,10));return tf.js.GetIsPositiveInt(a)?a:void 0!==c?c:1};tf.js.NumberClip=function(a,c,e){return a<c?c:a>e?e:a};tf.js.GetFloatNumber=function(a,c){void 0!==a?("string"===typeof a&&(a=parseFloat(a)),"number"===typeof a&&isFinite(a)||(a=c)):a=c;return a};
tf.js.GetFloatNumberInRange=function(a,c,e,d){a=tf.js.GetFloatNumber(a,d);return tf.js.NumberClip(a,c,e)};tf.js.GetIntNumberInRange=function(a,c,e,d){return Math.floor(tf.js.GetFloatNumberInRange(a,c,e,d))};tf.js.GetIsFalseNotUndefined=function(a){return void 0===a?!1:!tf.js.GetBoolFromValue(a,!1)};tf.js.GetBoolFromValue=function(a,c){return"boolean"===typeof a?a:"string"===typeof a?0<a.length&&"false"!==a.toLowerCase():void 0===c?!1:!!c};
tf.js.GetLatitudeFrom=function(a){return tf.js.GetFloatNumberInRange(a,tf.consts.minLatitude,tf.consts.maxLatitude,tf.consts.defaultLatitude)};tf.js.GetLongitudeFrom=function(a){return tf.js.GetFloatNumberInRange(a,tf.consts.minLongitude,tf.consts.maxLongitude,tf.consts.defaultLongitude)};tf.js.GetRandomLatitude=function(){return Math.random()*tf.consts.latitudeRange-tf.consts.maxLatitude};tf.js.GetRandomLongitude=function(){return Math.random()*tf.consts.longitudeRange-tf.consts.maxLongitude};
tf.js.GetLevelFrom=function(a){return tf.js.GetIntNumberInRange(a,tf.consts.minLevel,tf.consts.maxLevel,tf.consts.defaultLevel)};tf.js.GetMinMaxLevelsFrom=function(a,c){void 0===a&&(a=tf.consts.minLevel);void 0===c&&(c=tf.consts.maxLevel);a=tf.js.GetLevelFrom(a);c=tf.js.GetLevelFrom(c);if(a<c){var e=a;a=c;c=e}return{minLevel:a,maxLevel:c}};
tf.js.GetMidExtentCoord=function(a){var c;tf.js.GetIsArrayWithMinLength(a,4)&&(a[0]=tf.js.GetLongitudeFrom(a[0]),a[1]=tf.js.GetLatitudeFrom(a[1]),a[2]=tf.js.GetLongitudeFrom(a[2]),a[3]=tf.js.GetLatitudeFrom(a[3]),c=[a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2]);return c};
tf.js.GetMapExtentFrom=function(a){if(tf.js.GetIsArrayWithMinLength(a,4)){a[0]=tf.js.GetLongitudeFrom(a[0]);a[1]=tf.js.GetLatitudeFrom(a[1]);a[2]=tf.js.GetLongitudeFrom(a[2]);a[3]=tf.js.GetLatitudeFrom(a[3]);if(a[0]>a[2]){var c=a[0];a[0]=a[2];a[2]=c}a[1]>a[3]&&(c=a[1],a[1]=a[3],a[3]=c)}else a=[tf.consts.defaultLongitude,tf.consts.defaultLatitude,tf.consts.defaultLongitude,tf.consts.defaultLatitude];return a};
tf.js.GetExtentContainsCoord=function(a,c){a=tf.js.GetMapExtentFrom(a);c=tf.js.GetMapCoordsFrom(c);return c[0]>=a[0]&&c[0]<=a[2]&&c[1]>=a[1]&&c[1]<=a[3]};tf.js.UpdateMapExtent=function(a,c){c=tf.js.GetMapCoordsFrom(c);void 0==a?a=[c[0],c[1],c[0],c[1]]:(a=tf.js.GetMapExtentFrom(a),a[0]>c[0]?a[0]=c[0]:a[2]<c[0]&&(a[2]=c[0]),a[1]>c[1]?a[1]=c[1]:a[3]<c[1]&&(a[3]=c[1]));return a};tf.js.GetExtentCenter=function(a){return tf.js.GetIsArrayWithMinLength(a,4)?[a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2]:void 0};
tf.js.MergeMapExtents=function(a,c){a=tf.js.GetMapExtentFrom(a);c=tf.js.GetMapExtentFrom(c);var e=a.slice(0),e=tf.js.UpdateMapExtent(e,[c[0],c[1]]);return e=tf.js.UpdateMapExtent(e,[c[2],c[3]])};tf.js.ScaleMapExtent=function(a,c){a=tf.js.GetMapExtentFrom(a);c=tf.js.GetFloatNumber(c,1);var e=(a[2]-a[0])/2,d=(a[3]-a[1])/2,b=a[0]+e,f=a[1]+d,e=e*c,d=d*c;return[b-e,f-d,b+e,f+d]};
tf.js.GetPolyGeomFromExtent=function(a){a=tf.js.GetMapExtentFrom(a);var c=[a[0],a[1]];return{type:"polygon",coordinates:[[c,[a[2],a[1]],[a[2],a[3]],[a[0],a[3]],c]]}};tf.js.ObjectToArray=function(a){var c=[],e;for(e in a)c.push(a[e]);return c};tf.js.GetDimFromStrOrPxNumber=function(a,c){return"number"===typeof a?a+"px":"string"===typeof a&&a.length?a:c};
tf.js.ConvertToHHMMSS=function(a){var c=Math.abs(tf.js.GetFloatNumber(a,0));a=Math.floor(c/3600);var e=Math.floor((c-3600*a)/60),c=Math.floor(c-3600*a-60*e);10>a&&(a="0"+a);10>e&&(e="0"+e);10>c&&(c="0"+c);return a+":"+e+":"+c};tf.js.ConvertToHHMMSSBrief=function(a){var c=tf.js.GetFloatNumber(a,0);a=Math.floor(c/3600);var e=Math.floor((c-3600*a)/60),c=Math.floor(c-3600*a-60*e);10>a&&(a=0<a?"0"+a+":":"");10>e&&(e=0<e?0<a?"0"+e+":":e+":":"0:");10>c&&(c="0"+c);return a+e+c};
tf.js.ConvertToHourMinute=function(a){var c=tf.js.GetFloatNumber(a,0);a=Math.floor(c/3600);c=Math.floor((c-3600*a)/60);a?(10>c&&(c="0"+c),a=a+"h:"+c+"m"):a=c+"m";return a};tf.js.ConvertToHourMinute2=function(a){var c=tf.js.GetFloatNumber(a,0);a=Math.floor(c/3600);c=Math.floor((c-3600*a)/60);return a?0==c?a+" "+(1!=a?"hours":"hour"):a+" h "+c+" min":c+" min"};
tf.js.ClipEndingChar=function(a,c){var e=tf.js.GetNonEmptyString(a,""),d=tf.js.GetNonEmptyString(c,"");if(e&&d){var b=e.length;e.charAt(b-1)==d.charAt(0)&&(e=e.substring(0,--b))}return e};tf.js.RemoveParenthesisFrom=function(a){if(a=tf.js.GetNonEmptyString(a))"("==a.charAt(0)&&(a=a.slice(1)),a.length&&")"==a.charAt(a.length-1)&&(a=a.slice(0,-1));return a};
tf.js.RemoveBracketsFrom=function(a){if(a=tf.js.GetNonEmptyString(a))"["==a.charAt(0)&&(a=a.slice(1)),a.length&&"]"==a.charAt(a.length-1)&&(a=a.slice(0,-1));return a};tf.js.CapitaliseFirstLetter=function(a){tf.js.GetIsNonEmptyString(a)&&(a=a.charAt(0).toUpperCase()+a.slice(1));return a};tf.js.CapitaliseFirstLetterOnly=function(a){tf.js.GetIsNonEmptyString(a)&&(a=tf.js.CapitaliseFirstLetter(a.toLowerCase()));return a};
tf.js.GetRandomArrayElement=function(a){return tf.js.GetIsNonEmptyArray(a)?a[Math.floor(Math.random()*a.length)]:null};tf.js.GetIsInstanceOf=function(a,c){return!!a&&!!c&&a instanceof c};tf.js.GetIsInstanceOf2=function(a,c){return!!a&&!!c&&1==a.type};tf.js.GetIsMap=function(a){return tf.js.GetIsInstanceOf(a,tf.map.Map)};tf.js.GetIsMapFeatureLayer=function(a){return tf.js.GetIsInstanceOf(a,tf.map.FeatureLayer)};tf.js.GetIsMapFeature=function(a){return tf.js.GetIsInstanceOf(a,tf.map.Feature)};
tf.js.GetMapFrom=function(a){return tf.js.GetIsMap(a)?a:null};tf.js.MakeObjectKey=function(a){return a?"#"+a:null};tf.js.GetHasGeoJSONGeometryProperties=function(a){if(tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(a.type)){var c="point"==a.type.toLowerCase()?2:1;return tf.js.GetIsArrayWithMinLength(a.coordinates,c)}return!1};
tf.js.GetGeoJSONGeometryFrom=function(a){var c=null;tf.js.GetIsValidObject(a)&&(a=a.geometry,tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(a.type)&&tf.js.GetIsNonEmptyArray(a.coordinates)&&(c=a));return c};tf.js.GetGeoJSONGeometryFunctionFrom=function(a){(a=tf.js.GetFunctionOrNull(a))||(a=tf.js.GetGeoJSONGeometryFrom);return a};tf.js.GetLooksLikeLineStringCoords=function(a){return tf.js.GetIsArrayWithMinLength(a,2)&&tf.js.GetIsArrayWithMinLength(a[0],2)};
tf.js.GetLooksLineMultiLineStringCoords=function(a){return tf.js.GetIsArrayWithLength(a,0)||tf.js.GetIsArrayWithMinLength(a,1)&&tf.js.GetLooksLikeLineStringCoords(a[0])};tf.js.GetLooksLikeMultiLineStringGeom=function(a){return tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(a.type)&&"multilinestring"==a.type.toLowerCase()&&tf.js.GetLooksLineMultiLineStringCoords(a.coordinates)};
tf.js.GetLSVertexDistancesMeters=function(a){var c=[];if(tf.js.GetLooksLikeLineStringCoords(a)){var c=[],e=a.length,d=0;c.push(d);for(var b=1;b<e;++b)d+=tf.units.GetHaversineDistance(a[b-1],a[b]),c.push(d)}return c};tf.js.InterpolateCoords=function(a,c,e){return[a[0]+(c[0]-a[0])*e,a[1]+(c[1]-a[1])*e]};tf.js.GetLSPointAt=function(a,c,e){var d;if(0<=c&&0<=e&&1>=e&&tf.js.GetLooksLikeLineStringCoords(a)){var b=a.length;c<b-1?d=tf.js.InterpolateCoords(a[c],a[c+1],e):c==b-1&&(d=a[c])}return d};
tf.js.GetLSPointAtDistanceMeters=function(a,c,e){if(tf.js.GetLooksLikeLineStringCoords(a)&&tf.js.GetIsArrayWithMinLength(c,a.length)){var d=a.length,b=tf.js.BinarySearch(c,e,function(a,b){return a-b});if(0>b){b=-(b+1);if(0<b){if(b<d){var d=b-1,f=c[d];c=c[b]-f;e=0!=c?(e-f)/c:0;1<e&&console.log("invalid proj");return{pointCoords:tf.js.GetLSPointAt(a,d,e),index:d,proj:e}}return{pointCoords:a[a.length-1],index:a.length-1,proj:0}}return{pointCoords:a[0],index:0,proj:0}}return{pointCoords:a[b],index:b,
proj:0}}return{pointCoords:void 0,index:-1,proj:0}};tf.js.GetDistanceMetersAtIndexProj=function(a,c,e,d){var b=0;tf.js.GetLooksLikeLineStringCoords(a)&&tf.js.GetIsArrayWithMinLength(c,a.length)&&(a=a.length,0>e?d=e=0:e>=a-1&&(e=a-1,d=0),0>d?d=0:1<d&&(d=1),b=c[e],d&&(b+=(c[e+1]-b)*d));return b};
tf.js.CreatePartialLS=function(a,c,e,d,b){var f=tf.js.GetLooksLikeLineStringCoords(a)?a.length:0,h=[];if(1<f&&0<=c&&d<f&&c<=d){var k=d-c;0<k&&(h=a.slice(c+1,c+k));c=tf.js.InterpolateCoords(a[c],a[c+1],e);e=a[d];a=d<f-1?tf.js.InterpolateCoords(e,a[d+1],b):e;h.unshift(c);h.push(a)}return h};
tf.js.CopyLineStringCoords=function(a){var c=[];if(tf.js.GetIsArrayWithMinLength(a,1)&&tf.js.GetIsArrayWithMinLength(a[0],2))for(var e in a){var d=a[e];tf.js.GetIsArrayWithMinLength(d,2)&&c.push([tf.js.GetLongitudeFrom(d[0]),tf.js.GetLatitudeFrom(d[1])])}return c};tf.js.CopyMultiLineStringCoords=function(a){var c=[];if(tf.js.GetIsNonEmptyArray(a))for(var e in a){var d=tf.js.CopyLineStringCoords(a[e]);d&&c.push(d)}return c};
tf.js.CopyMultiLineStringGeom=function(a){var c={type:"multilinestring",coordinates:[]};tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyArray(a.coordinates)&&(c.coordinates=tf.js.CopyMultiLineStringCoords(a.coordinates));return c};tf.js.CountMLSPoints=function(a){var c=0;if(tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyArray(a.coordinates))for(var e in a.coordinates){var d=a.coordinates[e];tf.js.GetIsNonEmptyArray(d)&&tf.js.GetIsArrayWithMinLength(d[0],2)&&(c+=d.length)}return c};
tf.js.GetMapCoordsFrom=function(a){var c,e;tf.js.GetIsArrayWithMinLength(a,2)?(c=a[1],e=a[0]):"object"===typeof a&&(void 0!==a.lat?(c=a.lat,e=a.lon):void 0!=a.Lat?(c=a.Lat,e=a.Lon):void 0!=a.latitude?(c=a.latitude,e=a.longitude):void 0!=a.Latitude&&(c=a.Latitude,e=a.Longitude));void 0===c?e=c=0:(c=tf.js.GetLatitudeFrom(c),e=tf.js.GetLongitudeFrom(e));return[e,c]};tf.js.InheritFrom=function(a,c){return ol.inherits(a,c)};
tf.js.SetObjProperty=function(a,c,e){tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(c)&&(!e||tf.js.GetIsValidObject(e))&&(e?a[c]=e:a[c]&&delete a[c])};tf.js.GetObjProperty=function(a,c){var e=void 0;tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(c)&&(e=a[c]);return e};tf.js.GetFindReferenceInStringRegExp=function(){return/\$\[(\w+)\]/};
tf.js.ReplaceWithValues=function(a,c,e,d){if(tf.js.GetIsString(a)&&(e=a,tf.js.GetIsValidObject(c)&&(void 0===d&&(d=tf.js.GetFindReferenceInStringRegExp()),tf.js.GetIsInstanceOf(d,RegExp))))for(;a=d.exec(e);){var b=c[a[1]];tf.js.GetIsString(b)||(b=void 0!==b&&tf.js.GetFunctionOrNull(b.toString)?b.toString():"");e=e.replace(a[0],b)}return e};
tf.js.ReplaceObjectWithValues=function(a,c,e){void 0===e&&(e=tf.js.GetFindReferenceInStringRegExp());if(tf.js.GetIsValidObject(a)&&tf.js.GetIsValidObject(c)&&tf.js.GetIsInstanceOf(e,RegExp))for(var d in a)if(a.hasOwnProperty(d)){var b=a[d];tf.js.GetIsNonEmptyString(b)&&(a[d]=tf.js.ReplaceWithValues(b,c,b,e))}return a};
tf.js.Spline1D=function(a,c,e,d){var b,f,h,k;this.GetStartCoord=function(){return k};this.GetEndCoord=function(){return b};this.GetControlCoord=function(a){return a?h:f};this.GetCoord=function(a){var c=a*a,d=1-a,e=d*d;return b*c*a+3*(f*c*d+h*a*e)+k*e*d};this.GetVelocity=function(a){var c=1-a;return 3*(c*c*(h-k)+a*a*(b-f))+6*c*a*(f-h)};this.GetAcceleration=function(a){return 6*((1-a)*(f-2*h+k)+a*(b-2*f+h))};b=tf.js.GetFloatNumber(d,0);f=tf.js.GetFloatNumber(e,0);h=tf.js.GetFloatNumber(c,0);k=tf.js.GetFloatNumber(a,
0)};
tf.js.Spline2D=function(a,c,e,d){var b;this.GetStartCoords=function(){return[b[0].GetStartCoord(),b[1].GetStartCoord()]};this.GetEndCoords=function(){return[b[0].GetEndCoord(),b[1].GetEndCoord()]};this.GetControlCoords=function(a){return[b[0].GetControlCoord(a),b[1].GetControlCoord(a)]};this.GetCoords=function(a){return[b[0].GetCoord(a),b[1].GetCoord(a)]};this.GetVelocity=function(a){return[b[0].GetVelocity(a),b[1].GetVelocity(a)]};this.GetAcceleration=function(a){return[b[0].GetAcceleration(a),b[1].GetAcceleration(a)]};
(function(){var f=[0,0];a=tf.js.GetIsArrayWithMinLength(a,2)?a.slice(0):f;c=tf.js.GetIsArrayWithMinLength(c,2)?c.slice(0):f;e=tf.js.GetIsArrayWithMinLength(e,2)?e.slice(0):f;d=tf.js.GetIsArrayWithMinLength(d,2)?d.slice(0):f;b=[new tf.js.Spline1D(a[0],c[0],e[0],d[0]),new tf.js.Spline1D(a[1],c[1],e[1],d[1])]})()};tf.platform.GetPoweredByTerraFlyLogoImgStr=function(){return"http://tf-core.cs.fiu.edu/hterramap/image/svg/poweredByTF.svg"};tf.platform.GetPoweredByTerraFlyLogo=function(){return tf.GetStyles().CreateImageFullWidthHeight(tf.platform.GetPoweredByTerraFlyLogoImgStr())};
tf.platform.MakePlatformPath=function(a){return tf.platform.GetURL()+a};tf.units.EaseIn=function(a){return Math.pow(a,3)};tf.units.EaseOut=function(a){return 1-ol.easing.easeIn(1-a)};tf.units.EaseInAndOut=function(a){return 3*a*a-2*a*a*a};tf.units.EaseLinear=function(a){return a};tf.units.GetOneDayMillis=function(){return 864E5};tf.units.GetDaysBetweenDates=function(a,c){return Math.round(Math.abs((a.getTime()-c.getTime())/tf.units.GetOneDayMillis()))};
tf.units.GetUtmGdcConverter=function(){tf.g_UtmGdcConverter||(tf.g_UtmGdcConverter=new tf.units.UtmGdcConverter);return tf.g_UtmGdcConverter};tf.units.GetLevelResolutionConverter=function(){tf.g_LevelResolutionConverter||(tf.g_LevelResolutionConverter=new tf.units.LevelResolutionConverter);return tf.g_LevelResolutionConverter};tf.units.DegreesToRadians=function(a){a=tf.js.GetFloatNumber(a,0);return Math.PI*a/180};tf.units.RadiansToDegrees=function(a){a=tf.js.GetFloatNumber(a,0);return 180*a/Math.PI};
tf.units.GetTotalDistanceInMeters=function(a,c){var e=0;if(tf.js.GetLooksLikeLineStringCoords(a)){for(var d=a.length-1,b=0;b<d;++b)e+=tf.units.GetDistanceInMetersBetweenMapCoords(a[b],a[b+1]);c&&(e+=tf.units.GetDistanceInMetersBetweenMapCoords(a[0],a[d]))}return e};tf.units.GetTotalHaversineDistanceInMeters=function(a,c){var e=0;if(tf.js.GetLooksLikeLineStringCoords(a)){for(var d=a.length-1,b=0;b<d;++b)e+=tf.units.GetHaversineDistance(a[b],a[b+1]);c&&(e+=tf.units.GetHaversineDistance(a[0],a[d]))}return e};
tf.units.SplitSegment=function(a,c,e){var d=[];if(void 0!==(a=tf.js.GetMapCoordsFrom(a))&&void 0!==(c=tf.js.GetMapCoordsFrom(c))){var b=a[0];a=a[1];var f=c[0]-b;c=c[1]-a;for(var h=0;h<e;++h){var k=(h+1)/(e+1);d.push([b+f*k,a+c*k])}}return d};
tf.units.SplitLineStringSegments=function(a,c,e,d){if(tf.js.GetLooksLikeLineStringCoords(a)&&void 0!==c&&tf.js.GetIsNonNegativeNumber(c)){var b=a.length-1,f=0,h;tf.js.GetIsNonEmptyArray(d)?(h=d.length,f=0):d=null;for(var k=0;k<b;++k){var g=a[k],l=a[k+1],m=tf.units.GetDistanceInMetersBetweenMapCoords(g,l);if(d)for(;f<h&&d[f]<=k;)++f;if(m>c){m=Math.floor(m/c)+1;g=tf.units.SplitSegment(g,l,m);for(l=0;l<g.length;++l)a.splice(k+l+1,0,g[l]);if(d)for(g=f;g<h;g++)d[g]+=m;k+=m;b+=m}}e&&(g=a[b],l=a[0],m=tf.units.GetDistanceInMetersBetweenMapCoords(g,
l),m>c&&(m=Math.floor(m/c)+1,g=tf.units.SplitSegment(g,l,m),a=a.concat(g)))}return a};tf.units.DisplaceMapCoords=function(a,c,e){tf.js.GetMapCoordsFrom(a);var d=a[1];a=a[0];e/=6378137;var d=tf.units.DegreesToRadians(d),b=tf.units.DegreesToRadians(a);a=Math.asin(Math.sin(d)*Math.cos(e)+Math.cos(d)*Math.sin(e)*Math.cos(c));c=b+Math.atan2(Math.sin(c)*Math.sin(e)*Math.cos(d),Math.cos(e)-Math.sin(d)*Math.sin(a));return isNaN(a)||isNaN(c)?[0,0]:[tf.units.RadiansToDegrees(c),tf.units.RadiansToDegrees(a)]};
tf.units.GetDistanceInMetersBetweenMapCoords=function(a,c){var e=tf.units.Degrees2Meters(a),d=tf.units.Degrees2Meters(c),b=d[0]-e[0],e=d[1]-e[1];return Math.sqrt(b*b+e*e)};tf.js.CalcPolyAreaInSquareMeters=function(a,c){var e=0;tf.js.GetLooksLikeLineStringCoords(a)&&(e=c?a:a.slice(0),c||e.push(a[0]),e=Math.abs(tf.map.MapSphere.geodesicArea(e)));return e};
tf.units.GetHaversineDistance=function(a,c){var e=Math.PI/180,d=e*a[1],b=e*c[1],f=(b-d)/2,e=e*(c[0]-a[0])/2,d=Math.sin(f)*Math.sin(f)+Math.sin(e)*Math.sin(e)*Math.cos(d)*Math.cos(b);return 12756274*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))};tf.units.GetMapHeading=function(a,c){var e=0;tf.js.GetIsArrayWithMinLength(a,2)&&tf.js.GetIsArrayWithMinLength(c,2)&&(e=Math.atan2(c[1]-a[1],c[0]-a[0]));return e};
tf.units.GetMapHeading1=function(a,c){var e=Math.PI/180,d=a[0]*e,b=c[0]*e,f=a[1]*e,h=c[1]*e,e=Math.sin(b-d)*Math.cos(h),d=Math.cos(f)*Math.sin(h)-Math.sin(f)*Math.cos(h)*Math.cos(b-d);return Math.atan2(e,d)};tf.units.NormalizeAngle0To2PI=function(a){var c=2*Math.PI;a=(a%c+c)%c;if(1E-5>Math.abs(a)||1E-5>Math.abs(a))a=0;return a};tf.units.GetShortestArcBetweenAngles=function(a,c){var e=Math.PI,d=e+e;return((c-a)%d+(d+e))%d-e};
tf.units.UtmGdcConverter=function(){var a=1/298.257223563,c=a*(2-a),e=.25*c,d=c/(1-c),a=a/(2-a),b=2/(1-c),f=.1666666666666668/(1-c),h=.00555555555555552/(1-c),k=.375*(1*c+.25*Math.pow(c,2)+.1171875*Math.pow(c,3)-455/4096*Math.pow(c,4)),g=.05859375*(1*Math.pow(c,2)+.75*Math.pow(c,3)-.6015625*Math.pow(c,4)),l=35/3072*(Math.pow(c,3)-1.28125*Math.pow(c,4)),m=-315/131072*Math.pow(c,4),n=1-.25*c-.046875*Math.pow(c,2)-5/256*Math.pow(c,3)-175/16384*Math.pow(c,4),p=-2*k+4*g-6*l+8*m,q=-8*g+32*l-80*m,r=-32*
l+192*m,t=-128*m,k=1-c/4-.046875*Math.pow(c,2)-5/256*Math.pow(c,3)-175/16384*Math.pow(c,4),g=1.5*a-.84375*Math.pow(a,3),l=1.3125*Math.pow(a,2)-1.71875*Math.pow(a,4),m=151/96*Math.pow(a,3),a=2.142578125*Math.pow(a,4),v=6378137*k,w=2*g+4*l+6*m+8*a,A=-8*l-32*m-80*a,u=32*m+192*a,C=-128*a;this.UtmToGdc=function(a){var d=0,g=0;if(tf.js.GetIsArrayWithLength(a,3)){var d=a[0],k=a[1],g=a[2],l=0<=g;l||(g=-g);a=(d-5E5)/.9996;var k=(l?k/.9996:(k-1E7)/.9996)/v,d=Math.sin(k),l=Math.cos(k),m=d*d,g=(6*g-183)/57.29577951308232,
d=k+d*l*(w+m*(A+m*(u+m*C))),l=Math.sin(d),n=l*l,k=Math.cos(d),p=l/k,l=p*p,m=0*k*k,q=.25-c/4*n,r=6378137/(.25-e*n+.249998608869975+(.25-e*n)/(.25-e*n+.249998608869975)),n=m*(46-3*m+l*(-252-90*l)+m*l*(225*l-66)),n=n+(61+l*(45*l+90));a/=r;r=a*a;d=57.29577951308232*(d-p*q*r*(b+r*(-f*(5+l*(3-9*m)+m*(1-4*m))+r*h*n)));g=57.29577951308232*(g+a*(1+r*(-.166666666666667*(1+l+l+m)+.00833333333333333*r*(5+l*(24*l+28)+m*(8*l+6))))/k)}return[g,d]};this.GdcToUtm=function(a){var b=0,c=0,g=0;if(tf.js.GetIsArrayWithLength(a,
2)){var g=a[1],f=0<=g,h=.017453292519943295*g,b=.017453292519943295*a[0],k=Math.sin(h),l=Math.cos(h);a=k/l;var m=k*k,c=6378137/(.25-e*m+.249998608869975+(.25-e*m)/(.25-e*m+.249998608869975)),g=30*b/3.1415926+31,g=0>=g?1:61<=g?60:g;0!=g%1&&(g-=g%1);var b=(b-.017453292519943295*(6*g-183))*l,k=k*l*(p+m*(q+m*(r+m*t))),k=6378137*(n*h+k),m=a*a,l=d*l*l,u=b*b,b=.9996*c*b*(1+u*(.166666666666667*(1-m+l)+.00833333333333333*u*(5+m*(m-18)+l*(14-58*m))))+5E5,c=.9996*(k+c*a*u*(.5+u*(.0416666666666667*(5-m+l*(4*
l+9))+.00138888888888888*u*(61+m*(m-58)+l*(270-330*m)))));0>h&&(c+=1E7);f||(g=-g)}return[b,c,g]}};tf.units.GdcToUtm=function(a){return tf.units.GetUtmGdcConverter().GdcToUtm(a)};tf.units.UtmToGdc=function(a){return tf.units.GetUtmGdcConverter().UtmToGdc(a)};
tf.units.LevelResolutionConverter=function(){var a,c,e;this.GetLevelByResolution=function(a){a=tf.js.GetFloatNumber(a,tf.consts.defaultRes);for(var b=0;b<c-1&&a<e[b];)++b;return b+1};this.GetResolutionByLevel=function(d){return a[tf.js.GetIntNumberInRange(d,tf.consts.minLevel,c,tf.consts.defaultLevel)-1]};(function(){var d=Math.SQRT2;e=[];a=[78271.517,39135.7585,19567.8792,9783.9396,4891.9698,2445.9849,1222.9925,611.4962,305.7481,152.8741,76.8,38.4,19.2,9.6,4.8,2.4,1.2,.6,.3,.15,.075,.0375,.01875,
.009375,.0046875];c=a.length;for(var b=0;b<c;++b)e[b]=a[b]/d})()};tf.units.GetLevelByResolution=function(a){return tf.units.GetLevelResolutionConverter().GetLevelByResolution(a)};tf.units.GetResolutionByLevel=function(a){return tf.units.GetLevelResolutionConverter().GetResolutionByLevel(a)};
tf.units.GetBoundsZoomLevel=function(a,c,e,d){d=tf.units.GetDistanceInMetersBetweenMapCoords(a,[a[0],c[1]])/d;a=tf.units.GetDistanceInMetersBetweenMapCoords(a,[c[0],a[1]])/e;return tf.units.GetLevelByResolution(d>a?d:a)-1};tf.units.GetMetersToFeet=function(a){return 3.28084*a};tf.units.GetKMHToMPH=function(a){return.621371*a};tf.units.GetSquareMetersToSquareFeet=function(a){return tf.units.GetMetersToFeet(tf.units.GetMetersToFeet(a))};
tf.units.GetAcresFromSquareMeters=function(a){return tf.js.GetFloatNumber(a,0)/4046.873};tf.units.TM2OL=function(a){return ol.proj.transform(a,tf.consts.tmSystem,tf.consts.olSystem)};tf.units.OL2TM=function(a){return ol.proj.transform(a,tf.consts.olSystem,tf.consts.tmSystem)};
tf.browser.GetDevicePixelRatio=function(){var a=1;void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?a=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(a=window.devicePixelRatio);return a};tf.browser.GetLooksLikeFullScreen=function(){return screen.width===window.innerWidth};
tf.browser.GetIsFullScreen=function(a){a=void 0!=a?a:document;return!!(a.webkitIsFullScreen||a.mozFullScreen||a.msFullscreenElement||a.fullscreenElement)};tf.browser.RequestFullScreen=function(a){var c=a.webkitRequestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.requestFullscreen;c&&c.call(a)};tf.browser.ExitFullScreen=function(a){a=void 0!=a?a:document;var c=a.webkitCancelFullScreen||a.mozCancelFullScreen||a.msExitFullscreen||a.exitFullscreen||a.cancelFullScreen;c&&c.call(a)};
tf.browser.GetBrowserType=function(){var a=navigator.userAgent.toLowerCase(),c="unknown",e=-1,d=!!a.match(/Android/i),b=!!a.match(/BlackBerry/i),f=!!a.match(/iPhone|iPad|iPod/i),h=!!a.match(/Opera Mini/i),k=!!a.match(/IEMobile/i)||!!a.match(/WPDesktop/i),g=d||b||f||h||k,l=!1,m=!1,n=!1;/webkit/.test(a)?/chrome/.test(a)?(c="chrome",e=(a.match(/.+(?:chrome)[\/]([\d.]+)/)||[])[1],n=!0):(c="safari",e=(a.match(/.+(?:version)[\/]([\d.]+)/)||[])[1]):/opera/.test(a)?(c="opera",e=(a.match(/.+(?:ra)[\/]([\d.]+)/)||
[])[1]):!/msie/.test(a)&&!/trident.*rv\:11\./.test(a)||/opera/.test(a)?/firefox/.test(a)&&!/(compatible|webkit)/.test(a)?(m=!0,c="firefox",e=(a.match(/.+(?:firefox)[\/]([\d.]+)/)||[])[1]):!/mozilla/.test(a)||/(compatible|webkit)/.test(a)||/(compatible|firefox)/.test(a)||(c="mozilla",e=(a.match(/.+(?:la)[\/]([\d.]+)/)||[])[1]):(l=!0,c="msie",e=(a.match(/(?:ie)[ ]([\d.]+)/)||[])[1]);return{type:c,version:e,userAgent:a,isIE:l,isFireFox:m,isChrome:n,isAndroidMobile:d,isBlackBerryMobile:b,isiOSMobile:f,
isOperaMobile:h,isWindowsMobile:k,isAnyMobile:g}};tf.browser.Type=tf.browser.GetBrowserType();tf.browser.IsCompatible=function(){return tf.browser.HasCanvas()};tf.browser.HasTouch=function(){return void 0!==ol?void 0!==ol.has?ol.has.TOUCH:!1:!1};tf.browser.HasCanvas=function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))};
tf.map.GetMapEngineFrom=function(a){a=tf.js.GetNonEmptyString(a,tf.consts.mapnik2Engine).toLowerCase();a!==tf.consts.mapnikEngine&&(a=tf.consts.mapnik2Engine);return a};
tf.map.GetConvexHull=function(a){function c(a,b){var f,h=[];f=0;var k=[],g=[],l;for(l in b){var m=b[l],n=(a[0][1]-a[1][1])*(m[0]-a[0][0])+(a[1][0]-a[0][0])*(m[1]-a[0][1]);0<n&&(g.push(m),n>f&&(f=n,k=m))}f=k;e.push(a);return f.length?(h=h.concat(c([a[0],f],g)),h=h.concat(c([f,a[1]],g))):[a]}var e;return function(a){var b=[];if(tf.js.GetLooksLikeLineStringCoords(a)){var f,h,k,g;e=[];for(var l in a){var m=a[l];if(m[0]>f||!f)k=m,f=m[0];if(m[0]<h||!h)g=m,h=m[0]}a=[].concat(c([g,k],a),c([k,g],a));b.push(a[0][0]);
for(var n in a)b.push(a[n][1])}return b}(a)};
tf.helpers.Timer=function(a){function c(){var a=Date.now();f||(d+=(a-b)*h,void 0!=k&&d>=k&&(d=g?d%k:k));b=a;return d}var e,d,b,f,h,k,g,l;this.SetLimit=function(a){k=tf.js.GetFloatNumber(a,0);0>=k&&(k=void 0)};this.GetLimit=function(){return k};this.SetWrap=function(a){g=!!a};this.GetWrap=function(){return g};this.GetElapsedTime=function(){return c()};this.SetElapsedTime=function(a){d=tf.js.GetFloatNumber(a,0);b=Date.now()};this.GetIsPaused=function(){return f};this.Pause=function(a){c();f!=(a=!!a)&&
(f=a,l&&l({sender:e,isPaused:f}))};this.SetSpeed=function(a){h=tf.js.GetFloatNumber(a,1)};this.GetSpeed=function(){return h};e=this;b=Date.now();d=0;f=!1;h=1;k=void 0;g=!0;tf.js.GetIsValidObject(a)&&(l=tf.js.GetFunctionOrNull(a.onPausePlay))};
tf.js.Collection=function(a){var c,e,d,b,f;this.GetType=function(){return f};this.Add=function(a){var k;void 0===a||void 0!=f&&!tf.js.GetIsInstanceOf(a,f)||(k=0<e.length?e.shift():d++,c[k]=a,++b);return k};this.Get=function(a){return c[a]};this.Del=function(a){var d;if(d=void 0!==c[a])e.push(a),delete c[a],--b;return d};this.GetCount=function(){return b};this.ForEach=function(a){if(a=tf.js.GetFunctionOrNull(a))for(var b in c)a(c[b])};this.Empty=function(){c={};b=0};c={};b=0;d=1;e=[];tf.js.GetIsValidObject(a)&&
void 0!==a.type&&(f=a.type)};tf.js.GetMonthDayYearStr=function(a){var c="";if(a){c=a.getDate();10>c&&(c="0"+c);var e=a.getMonth()+1;10>e&&(e="0"+e);c=""+a.getFullYear()+"-"+e+"-"+c}return c};tf.js.GetYYYYMMDDStr=function(a){var c="";if(a){c=a.getDate();10>c&&(c="0"+c);var e=a.getMonth()+1;10>e&&(e="0"+e);c=""+a.getFullYear()+e+c}return c};tf.js.DateFromYYYYMMDDStr=function(a){return tf.js.GetIsNonEmptyString(a)&&8==a.length?new Date(a.substr(0,4),a.substr(4,2)-1,a.substr(6,2)):new Date};
tf.js.GetDateFromTimeStamp=function(a){var c;if(tf.js.GetIsStringWithMinLength(a,21)){c=parseInt(a.substring(0,4),10);var e=parseInt(a.substring(5,7),10)-1,d=parseInt(a.substring(8,10),10),b=parseInt(a.substring(11,13),10),f=parseInt(a.substring(14,16),10);a=parseInt(a.substring(17,19),10);c=new Date(c,e,d,b,f,a)}return c};
tf.js.GetTimeStampFromDate=function(a){var c;if(a){c=a.getFullYear();var e=a.getMonth()+1,d=a.getDate(),b=a.getHours(),f=a.getMinutes();a=a.getSeconds();10>e&&(e="0"+e);10>d&&(d="0"+d);10>b&&(b="0"+b);10>f&&(f="0"+f);10>a&&(a="0"+a);c=""+c+"-"+e+"-"+d+" "+b+":"+f+":"+a+".0"}return c};tf.js.GetAMPMHourWithSeconds=function(a){if(a){var c=a.getHours(),e=a.getMinutes();10>e&&(e=0==e?"00":"0"+e);a=a.getSeconds();10>a&&(a=0==a?"00":"0"+a);var d=12<=c;return(d&&12!=c?c-12:c)+":"+e+":"+a+(d?" pm":" am")}return""};
tf.js.GetAMPMHourWithMinutes=function(a){if(a){var c=a.getHours();a=a.getMinutes();10>a&&(a=0==a?"00":"0"+a);var e=12<=c;return(e&&12!=c?c-12:c)+":"+a+(e?" pm":" am")}return""};tf.js.TranslateHourMinSec=function(a){var c="am",e=Math.floor(a/3600),d=e,b=a-3600*d;a=Math.floor(b/60);b-=60*a;10>d?d="0"+d:12<=d&&(12==d?c="pm":24==d?d-=12:24<d?d-=24:(d-=12,c="pm"));10>a&&(a="0"+a);10>b&&(b="0"+b);d=d+":"+a;e=e+":"+a;return{HM:d+c,HMS:d+":"+b+c,MHM:e,MHMS:e+":"+b}};
tf.js.GetShortHMSStr=function(a,c){var e;if(void 0!=a){var d="";e="";0>a?(a=-a,d="-"):d="+";if(0==a)e="0s";else{var b=Math.floor(a/3600),f=a-3600*b,h=Math.floor(f/60),f=(f-60*h).toFixed(0);0<b&&(e+=b+"h");0<h&&(e+=h+"m");0<f&&(e+=f+"s")}c||(e=d+e)}return e};tf.js.GetHMSFromDate=function(a){return a?60*(60*a.getHours()+a.getMinutes())+a.getSeconds():void 0};
tf.js.BinarySearch=function(a,c,e){if(tf.js.GetIsNonEmptyArray(a)&&tf.js.GetFunctionOrNull(e)){for(var d=0,b=a.length-1;d<=b;){var f=d+(b-d>>>1),h=e(c,a[f]);if(0<h)d=f+1;else if(0>h)b=f-1;else return f}return-d-1}};tf.js.BinarySearchGetExactOrNextIndex=function(a,c,e){c=tf.js.BinarySearch(a,c,e);void 0!=c&&0>c&&(c=-(c+1),0>c?c=0:c>=a.length&&(c=a.length-1));return c};
tf.js.BinarySearchGetExactOrPrevIndex=function(a,c,e){c=tf.js.BinarySearch(a,c,e);void 0!=c&&0>c&&(c=-(c+1)-1,0>c?c=0:c>=a.length&&(c=a.length-1));return c};tf.js.SortObject=function(a,c){var e;if(tf.js.GetIsValidObject(a)&&tf.js.GetFunctionOrNull(c)){var d=[];e={};for(var b in a)d.push({key:b,value:a[b]});d.sort(function(a,b){return c(a.value,b.value)});for(b in d){var f=d[b];e[f.key]=f.value}}return e};
tf.units.Degrees2Meters=function(a){var c=2.003750834E7*a[0]/180;a=Math.log(Math.tan((90+a[1])*Math.PI/360))/(Math.PI/180);return[c,2.003750834E7*a/180]};tf.js.SquaredDistance=function(a,c,e,d){a=e-a;c=d-c;return a*a+c*c};tf.js.SquaredSegmentDistance=function(a,c,e,d,b,f){var h=b-e,k=f-d;if(0!==h||0!==k){var g=((a-e)*h+(c-d)*k)/(h*h+k*k);1<g?(e=b,d=f):0<g&&(e+=h*g,d+=k*g)}return tf.js.SquaredDistance(a,c,e,d)};
tf.map.SimplifyLS=function(a,c){var e=[],d=0,b=a.length,f=b-d,h=c*c;if(3>f)for(;d<b;++d)e.push(a[d]);else{var k=Array(f),b=[d,b-1],g=0,l,m=[];for(l=0;l<f;++l)m.push(tf.units.Degrees2Meters(a[l]));for(k[0]=k[f-1]=1;0<b.length;){var n=b.pop(),p=b.pop(),q=m[p],r=q[0],t=q[1],q=m[n],v=q[0],w=q[1],A=0;for(l=p+1;l<n;l+=1)q=m[l],q=tf.js.SquaredSegmentDistance(q[0],q[1],r,t,v,w),q>A&&(g=l,A=q);A>h&&(k[g-d]=1,p+1<g&&b.push(p,g),g+1<n&&b.push(g,n))}for(l=0;l<f;++l)k[l]&&e.push(a[d+l])}return e};
tf.map.GetIsLSClockwise=function(a){var c=!1;if(tf.js.GetLooksLikeLineStringCoords(a)){var e=a.length-1;if(1<e){for(var c=0,d=a[0],b=1;b<e;++b)var f=a[b],c=c+(f[0]-d[0])*(f[1]+d[1]),d=f;f=a[0];d=a[e];c+=(f[0]-d[0])*(f[1]+d[1]);c=0<=c}}return c};
tf.js.DecodeHeaderObjectArray=function(a){var c;if(tf.js.GetIsArrayWithMinLength(a,1)){var e=a[0];if(tf.js.GetIsArrayWithMinLength(e,1)){var d=e.length;if(0<d){var b=a.length;c=[];for(var f=1;f<b;++f){var h=a[f];if(h.length==d){for(var k={},g=0;g<d;++g){var l=h[g];null==l&&(l=void 0);k[e[g]]=l}c.push(k)}}}}}return c};
tf.js.GetCoordsAreDifferent=function(a,c){tf.js.GetIsArrayWithMinLength(a,2)||(a=void 0);tf.js.GetIsArrayWithMinLength(c,2)||(c=void 0);return void 0==a&&void 0!=c||void 0!=a&&void 0==c||void 0!=a&&void 0!=c&&(a[0]!=c[0]||a[1]!=c[1])};
tf.js.BinaryHeap=function(a){function c(a,b){g[a]=b;void 0!=m&&(m[p(b)]=a)}function e(a){return void 0!=m?m[p(a)]:void 0}function d(a){void 0!=m&&delete m[p(a)]}function b(a){for(var b=g[a],d=a-1>>1,e=a;0<=d&&0>n(b,g[d]);)c(a,g[d]),d=(a=d)-1>>1;a!=e&&c(a,b);return a}function f(a){for(var b=g[a],d=a,e=2*a+1;e<l;e=2*e+1){e<l-1&&0>n(g[e+1],g[e])&&++e;if(0>n(g[e],b))c(a,g[e]);else break;a=e}a!=d&&c(a,b);return a}function h(a){void 0!=a&&a==b(a)&&f(a)}function k(){++A;l=0;g=[void 0];m=p?{}:void 0}var g,
l,m,n,p,q,r,t,v,w,A,u;this.GetStats=function(){return{nInserts:q,nPops:r,nGets:t,nUpdates:v,nDeletes:w,nResets:A,maxCount:u}};this.GetCount=function(){return l};this.IsEmpty=function(){return 0==l};this.Insert=function(a){n&&(++q,c(l,a),b(l++),l>u&&(u=l))};this.PeekRoot=function(){return 0<l?g[0]:void 0};this.PopRoot=function(){var a=0<l?g[0]:void 0;void 0!=a&&(++r,d(a),c(0,g[--l]),f(0));return a};this.GetItem=function(a){a=void 0!=m?m[a]:void 0;return void 0!=a?g[a]:void 0};this.Update=function(a,
b){var d=e(a);void 0==d||void 0!=b&&d!=e(b)||(++v,void 0!=b&&c(d,b),h(d))};this.Delete=function(a){var b=e(a);if(void 0!=b)if(++w,2>l)k(),--A;else{var f=g[--l];d(a);f!=a&&(d(f),c(b,f),h(b))}};this.FromItems=function(a){var b=tf.js.GetIsNonEmptyArray(a)?a.length:0;k();if(0<b){g=Array(b);for(var d=0;d<b;++d)c(d,a[d]);l=b;for(a=l>>1;0<=a;--a)f(a)}};this.Reset=function(){return k()};this.GetHeap=function(){return g};q=r=t=v=w=A=u=0;n=tf.js.GetFunctionOrNull(a.compareFunction);p=tf.js.GetFunctionOrNull(a.getItemKeyFunction);
k()};
tf.js.GraphSearch=function(a){var c,e;this.GetStats=function(){return e};c=this;(function(){if(tf.js.GetIsNonEmptyArray(a.startNodes)){var d=tf.js.GetFunctionOrNull(a.getNodeKey),b=tf.js.GetFunctionOrNull(a.getNodeNeighbors),f=tf.js.GetFunctionOrNull(a.getIsEndNode),h=tf.js.GetFunctionOrNull(a.compareNodes),k=tf.js.GetFunctionOrNull(a.foundEndNode);if(d&&b&&f&&h&&k){var g=!1,l=0,m=0,n=0,p=0,q=0,r=new tf.js.BinaryHeap({compareFunction:h,getItemKeyFunction:d}),t={},v;for(v in a.startNodes)r.Insert(a.startNodes[v]),++p;
for(;!g&&!r.IsEmpty();){var w=r.PopRoot();++n;if(f(w))++q,k({sender:c,endNode:w})||(g=!0);else{var A=b(w);t[d(w)]=w;for(v in A){var w=A[v],u=d(w);void 0==t[u]&&(u=r.GetItem(u),void 0==u?(++m,r.Insert(w)):0>h(w,u)&&(++l,r.Update(u,w)))}}}e={binaryHeapStats:r.GetStats(),nStart:p,nFound:q,nInserted:m,nSettled:n,nUpdated:l,interrupted:g}}}})()};tf.js.GetKeyCodeFromEvent=function(a){return"object"===typeof a?window.event&&a.keyCode?a.keyCode:a.which?a.which:0:0};
tf.js.Context=function(a){function c(){b.Notify(f,{sender:d,ctx:tf.js.ShallowMerge(h)})}function e(a,b){var c=h[a]!=b;c&&(h[a]=b);return c}var d,b,f,h;this.AddListener=function(a){return b.AddListener(f,a)};this.GetCtx=function(){return tf.js.ShallowMerge(h)};this.SetCtx=function(a){var b=!1,d;for(d in a)e(d,a[d])&&(b=!0);b&&c();return b};this.SetCtxAttribute=function(a,b){var d=e(a,b);d&&c();return d};this.GetCtxAttribute=function(a){return h[a]};d=this;f="ctxChange";b=new tf.events.MultiEventNotifier({eventNames:[f]});
h=tf.js.ShallowMerge(a.ctx)};tf.js.UnCamelize=function(a){for(var c="",e="string"===typeof a?a.length:0,d=0;d<e;++d)var b=a[d],f=b.toLowerCase(),c=c+(b==f?b:"-"+f);return c};tf.js.CompassDirectionToAngle=function(a){a={N:0,NE:45,E:90,SE:135,S:180,SW:225,W:270,NW:315}[a];return void 0!=a?Math.PI*a/180:0};
tf.js.ClipLineSegment=function(a,c,e){function d(c,d){var e=0;c<a[0]?e|=b:c>a[2]&&(e|=f);d<a[1]?e|=h:d>a[3]&&(e|=k);return e}var b=1,f=2,h=4,k=8,g=a[0],l=a[1],m=a[2],n=a[3],p=c[0];c=c[1];var q=e[0];e=e[1];for(var r=!1,t=d(p,c),v=d(q,e),w=!!t,A=!!v;;)if(t|v)if(t&v)break;else{var u,C,B=t?t:v;B&k?(u=p+(q-p)*(n-c)/(e-c),C=n):B&h?(u=p+(q-p)*(l-c)/(e-c),C=l):B&f?(C=c+(e-c)*(m-p)/(q-p),u=m):B&b&&(C=c+(e-c)*(g-p)/(q-p),u=g);B==t?(p=u,c=C,t=d(p,c)):(q=u,e=C,v=d(q,e))}else{r=!0;break}return{intersects:r,startCoord:[p,
c],endCoord:[q,e],clippedStart:w,clippedEnd:A}};tf.js.ClipMapLineSegment=function(a,c,e){var d=tf.units.TM2OL([a[0],a[1]]);a=tf.units.TM2OL([a[2],a[3]]);d=tf.js.ClipLineSegment([d[0],d[1],a[0],a[1]],tf.units.TM2OL(c),tf.units.TM2OL(e));d.intersects&&(d.startCoord=d.clippedStart?tf.units.OL2TM(d.startCoord):c,d.endCoord=d.clippedEnd?tf.units.OL2TM(d.endCoord):e);return d};tf.js.propagateValues=function(a,c,e,d){for(var b=1;b<c;++b)for(var f=0;f<e;++f)a[b*e+f]=a[(b-1)*e+f]*d;return a};
tf.js.CalcDistancesInMeters=function(){return tf.js.propagateValues([.1,.2,.5],20,3,10)};tf.js.CalcDistancesInMiles=function(){return tf.js.propagateValues([16.0934,32.1868,80.467],24,3,10)};tf.js.CalcDistancesInFeet=function(){return tf.js.propagateValues([.1*.3048,.2*.3048,.1524],20,3,10)};tf.js.CalcDistances3Units=function(){return{distancesInMeters:tf.js.CalcDistancesInMeters(),distancesInMiles:tf.js.CalcDistancesInMiles(),distancesInFeet:tf.js.CalcDistancesInFeet()}};
tf.js.ObjectToURLParams=function(a,c){var e;if(tf.js.GetIsValidObject(a)){var d=!1;e="";for(var b in a){var f=a[b];void 0!=f&&(d&&(e+="&"),e=c?e+(b+"="+f):e+(b+"="+encodeURIComponent(f)),d=!0)}}return e};
tf.js.CalcStopDistances=function(a,c,e,d){var b=[],f=[],h=[],k=[],g=[],l=[],m=[],n=[],p=!1,q=!1,r=!1,t=!1,v=0;void 0===d&&(d=1);if(tf.js.GetLooksLikeLineStringCoords(a)&&tf.js.GetIsArrayWithMinLength(c,a.length)&&e.length)for(var w=e.length,A=void 0,u=0,C=0,B=a.length,F=a[0][0]==a[B-1][0]&&a[0][1]==a[B-1][1],E=[0,10,20],D=E.length,K=!0,G=0;G<D&&K;++G){var L=G+1==D,H=[0,0],v=E[G],b=[],f=[],k=[],h=[],g=[],l=[],m=[],n=[],K=t=r=p=q=!1;lastPoint=A=void 0;for(var I=C=u=0;I<w&&!K;++I){var J=e[I],J=[J.lon,
J.lat],N=C,M=A,P=u,Q=lastPoint;if(J[0]!=H[0]||J[1]!=H[1])for(var H=J,R=!0,S=!1;R;){var T=tf.helpers.HitTestMapCoordinatesArray(a,J,void 0!=A?A:void 0,u,void 0,v,void 0,2),R=!1;if(T.closestPoint){0==I&&1<T.minDistanceIndex&&I+1<w&&(C=e[I+1],C=tf.helpers.HitTestMapCoordinatesArray(a,[C.lon,C.lat],0,0,void 0,0,void 0,2),10>C.minDistanceIndex&&C.minDistanceIndex<T.minDistanceIndex&&(T.minDistanceIndex=T.proj=0,T.closestPoint=a[0].slice(0),T.angle=1,q=!0));if(T.minDistanceIndex<A||T.minDistanceIndex==
A&&T.proj<u)F&&I+1==w?(p=!0,T.minDistanceIndex=B-1,T.proj=0,T.angle=1):L?g.push(I):(K=!0,R=!1);0>T.angle&&n.push(I);Q=T.closestPoint;M=A=T.minDistanceIndex;P=u=T.proj;N=C=tf.js.GetDistanceMetersAtIndexProj(a,c,M,P)}else if(2!=I||S)L?m.push(I):(K=!0,R=!1);else{for(t=0;t<I;++t)b[t]=f[t]=k[t]=0;t=S=R=!0;C=A=u=0;Q=a[0]}}else l.push(I);b.push(N*d);h.push(Q);f.push(M);k.push(P)}}return{distances:b,acceptDistance:v,shapeIndices:f,shapePoints:h,shapeProjs:k,adjustedForEndStopInLoop:p,fixedFirstStopFarFromStart:q,
fixedSecondStop:r,fixedThirdStop:t,stopsIndicesOutOfSequence:g,failedHitTest:m,funnyAngles:n,skippedSameCoords:l}};
tf.js.LogCalcStops=function(a){if(a){0<a.acceptDistance&&console.log("non zero acceptDistance: "+a.acceptDistance);if(a.failedHitTest.length){var c=1==a.failedHitTest.length?" stop ":" stops ";console.log(a.failedHitTest.length+c+"failed hit test");for(var e in a.failedHitTest)console.log(a.failedHitTest[e])}a.adjustedForEndStopInLoop&&console.log("adjusted for end stop in loop");a.fixedFirstStopFarFromStart&&console.log("fixed first stop far from start");a.fixedSecondStop&&console.log("fixed 1st stop based on 2nd stop");
a.fixedThirdStop&&console.log("fixed 1st & 2nd stops based on 3rd stop");if(a.stopsIndicesOutOfSequence.length)for(e in c=1==a.stopsIndicesOutOfSequence.length?" stop ":" stops ",console.log(a.stopsIndicesOutOfSequence.length+c+"out of sequence"),a.stopsIndicesOutOfSequence)console.log(a.stopsIndicesOutOfSequence[e]);if(0<a.funnyAngles.length)for(e in c=1==a.funnyAngles.length?" stop ":" stops ",console.log(a.funnyAngles.length+c+"with funny angles"),a.funnyAngles)console.log(a.funnyAngles[e])}};
tf.js.GetDistanceBetweenLineStrings=function(a,c){function e(a,b){for(var c=-1,d=a.length,e=b.length,m=0;m<d;++m){for(var n=a[m],p=-1,q=0;q<e;++q){var r=tf.units.GetHaversineDistance(n,b[q]);if(-1==p||r<p)p=r}if(-1==c||p>c)c=p}return c}var d=-1;if(tf.js.GetLooksLikeLineStringCoords(a)&&tf.js.GetLooksLikeLineStringCoords(c))var d=e(a,c),b=e(c,a),d=d>b?d:b;return d};
tf.js.GetDistanceBetweenLineStrings2=function(a,c){function e(a,b){for(var d=-1,e=a.length,l=0;l<e;++l){var m=tf.helpers.HitTestMapCoordinatesArray(c,a[l],void 0,void 0,void 0,void 0,void 0,void 0).minDistance;if(-1==d||m>d)d=m}return d}var d=-1;if(tf.js.GetLooksLikeLineStringCoords(a)&&tf.js.GetLooksLikeLineStringCoords(c))var d=e(a,c),b=e(c,a),d=d>b?d:b;return d};tf.consts.measureColorTicDefaultHybrid="#fff";tf.consts.measureColorTicDefaultMap="#1E90FF";
tf.js.CalcVertexInfos=function(a,c,e){var d=[];if(tf.js.GetIsNonEmptyArray(a)){e=tf.js.GetFunctionOrNull(e)?e:tf.units.GetHaversineDistance;var b=a.length;if(0<b)for(var f=a[0],h=0,k=2*Math.PI,g=Math.PI/2,l=3*g,m=1;m<b+1;++m){var n=m<b?a[m]:a[0],p=[f[0]+(n[0]-f[0])/2,f[1]+(n[1]-f[1])/2],q=e(f,n),r=tf.units.NormalizeAngle0To2PI(tf.units.GetMapHeading(f,n)),t=Math.PI-r,v=k-r,w;0>=q&&(q=1E-6);var A=v;v>g&&v<l?(v+=Math.PI,w="right"):w="left";var u=tf.units.NormalizeAngle0To2PI(v+Math.PI/2),f={coords:f.slice(0),
nextCoords:n.slice(0),midCoords:p,headingToNext:r,normal:t,uprightTextDirection:A,textDirection:v,textFlowDirection:u,endTextAlign:w,distanceToNext:q,totalDistance:h,index:m};m==b&&(f.area=c);d.push(f);f=n;h+=q}}return d};
tf.js.CalcClippedVertexInfo=function(a,c,e,d,b,f,h){var k;d=void 0!=d?d:a.GetVisibleExtent();f=tf.js.GetFunctionOrNull(f)?f:tf.units.GetHaversineDistance;var g=(tf.js.GetFunctionOrNull(h)?h:tf.js.ClipLineSegment)(d,c.coords,c.nextCoords);if(g.intersects){var l=void 0!=b?b:a.GetRotationRad();b=a.ActualMapToPixelCoords(c.coords);k=a.ActualMapToPixelCoords(c.nextCoords);h=a.ActualMapToPixelCoords(c.midCoords);d=g.startCoord;var m=g.endCoord,n=a.ActualMapToPixelCoords(d);a=a.ActualMapToPixelCoords(m);
var p=k[0]-b[0],q=k[1]-b[1],r=p*p+q*q,t=Math.sqrt(r),l=c.textDirection+l,v=!g.clippedStart,g=!g.clippedEnd,w=f(c.coords,d);f=f(c.nextCoords,m);k={vi:c,coordsPx:b,nextCoordsPx:k,midCoordsPx:h,coordsClip:d,nextCoordsClip:m,coordsClipPx:n,nextCoordsClipPx:a,coordsIsVisible:v,nextCoordsIsVisible:g,invisibleStartDistance:w,invisibleEndDistance:f,lengthXPx:p,lengthYPx:q,lengthSegPxSq:r,lengthSegPx:t,textDirectionWithRotation:l,isLast:c.index==e}}return k};
tf.js.CalcDisplayDistances=function(a,c,e,d){var b=1609<a;d=c?b?d.distancesInMiles:d.distancesInFeet:d.distancesInMeters;c=c?b?"mi":"ft":999.5<a?"km":"m";b=tf.js.BinarySearchGetExactOrNextIndex(d,100*e,function(a,b){return a<b?-1:a>b?1:0});d=d[b];b=d/10;return{distanceUnitText:c,distanceMarkScaleInMeters:d,distanceTicScaleInMeters:b,offsetMetersEndSegText:12.5*e,nTics:Math.floor(a/b)}};
tf.js.FormatDistanceText=function(a,c,e){if(0<a){var d;switch(c){default:case "m":d=1;break;case "km":d=1E3;break;case "mi":d=1609.34;break;case "ft":d=.3048}e&&(d*=d);a=""+(a/d).toFixed(3);d=0;for(var b=a.length;1<b&&"0"==a[b-1];)--b,++d;0<d&&(a=a.slice(0,-d),"."==a[a.length-1]&&(a=a.slice(0,-1)));a+=" "+c;e&&(a+="\u00b2")}else a="0";return a};
tf.js.DrawMeasuredVertex=function(a){function c(a,b,c,d,e,g,h){var k=parseInt(a.fontSize,10)*f+"px";b.font=a.fontWeight+" "+k+" "+a.fontFamily;b.textAlign=void 0!=h?h:"center";b.textBaseline="middle";b.save();b.setTransform(1,0,0,1,0,0);tf.browser.Type.isFireFox||(b.shadowColor="rgba(255,255,255,1)",b.shadowBlur=6,b.shadowOffsetX=0,b.shadowOffsetY=0);b.translate(d*f,e*f);b.rotate(g);b.fillStyle=a.textFill;b.strokeStyle=a.textLine;b.lineWidth=a.lineWidth*f;b.strokeText(c,0,0);b.fillText(c,0,0);b.restore()}
function e(a,b,d,e,g,f,h,k,l){c(a,b,tf.js.FormatDistanceText(d,l,!1),e,g,f,h)}function d(a,b,d,e,g,f,h,k,l){c(a,b,tf.js.FormatDistanceText(d,l,!0),e,g,f,h)}function b(a,b){var c=a.vi,c=b/(0<c.distanceToNext?c.distanceToNext:1E-6);return[a.coordsPx[0]+c*a.lengthXPx,a.coordsPx[1]+c*a.lengthYPx]}var f=tf.browser.GetDevicePixelRatio(),h=void 0!=a.largerFontSize?a.largerFontSize:"16px",k=a.map,g=void 0!=a.showingHybrid?!!a.showingHybrid:k.GetMapType()!=tf.consts.typeNameMap,l=void 0!=a.textStyle?a.textStyle:
g?{fontFamily:"Roboto",lineWidth:4,textFill:"#fff",textLine:"rgba(0, 0, 0, 0.7)",fontSize:"12px",fontWeight:"400"}:{fontFamily:"Roboto",lineWidth:1,textFill:"#000",textLine:"rgba(30, 144, 255, 0.7)",fontSize:"11px",fontWeight:"300"},m=void 0!=a.endTextStyle?tf.js.ShallowMerge(l,a.endTextStyle):tf.js.ShallowMerge(l,{fontSize:h}),n=a.distances,h=n.distanceUnitText,p=n.distanceTicScaleInMeters,q=n.offsetMetersEndSegText,n=a.pvi,r=n.vi,t=void 0!=a.resolution?a.resolution:k.GetResolution(),v=tf.units.DisplaceMapCoords(r.midCoords,
r.normal,6*t),v=k.ActualMapToPixelCoords(v),w=v[0]-n.midCoordsPx[0],A=v[1]-n.midCoordsPx[1],u=void 0!=a.colorTic?a.colorTic:g?tf.consts.measureColorTicDefaultHybrid:tf.consts.measureColorTicDefaultMap,C=r.totalDistance,B=C+r.distanceToNext,F=B-n.invisibleEndDistance,E=(C+n.invisibleStartDistance)/p,v=Math.floor(E);E!=v&&++v;for(var D=F/p,F=Math.floor(D),K=a.ctx,G=v;G<=F;++G){var L=G*p,H=b(n,L-C),I=H[0]+.3*w,J=H[1]+.3*A,N,M,P=!1;0==G%5?0==G%2?(N=1.25,M=2,P=!a.skipScaleText):(N=1,M=2):(N=.75,M=1);if(!a.skipTics){var Q=
I+w*N;N=J+A*N;K.beginPath();K.strokeStyle=u;K.lineWidth=M*f;K.moveTo(I*f,J*f);K.lineTo(Q*f,N*f);K.closePath();K.fill();K.stroke()}P&&(I=H[0]+2.5*w,H=H[1]+2.5*A,e(l,K,L,I,H,n.textDirectionWithRotation,"center",g,h))}if(a.showIntermediateLenghts&&D>E+1||n.isLast)p=b(n,r.distanceToNext+q+12*t),I=p[0],H=p[1],l=n.isLast?m:l,e(l,K,B,I,H,n.textDirectionWithRotation,r.endTextAlign,g,h),void 0!=r.area&&(a=void 0!=a.rotation?a.rotation:k.GetRotationRad(),a=tf.units.DisplaceMapCoords(r.midCoords,r.uprightTextDirection+
a,18*t),k=k.ActualMapToPixelCoords(a),d(l,K,r.area,k[0],k[1],n.textDirectionWithRotation,"center",g,h));return F-v+1};
tf.js.DrawMeasuredVertices=function(a){var c,e,d=0,b=0,f=0,h=0,k=a.vertexInfos;if(tf.js.GetIsNonEmptyArray(k)){var g=k.length;if(2<=g){var l=a.map,m=void 0!=a.extent?a.extent:l.GetVisibleExtent(),n=void 0!=a.rotation?a.rotation:l.GetRotationRad(),f=!!a.showArea;2==g?g=1:f||--g;c=void 0!=a.useUSScale?!!a.useUSScale:l.GetIsUSScaleUnits();var p=void 0!=a.resolution?a.resolution:l.GetResolution(),q=tf.js.GetFunctionOrNull(a.distanceFunction)?a.distanceFunction:tf.units.GetHaversineDistance,r=tf.js.GetFunctionOrNull(a.clipFunction)?
a.clipFunction:tf.js.ClipLineSegment,f=k[g-1].totalDistance+k[g-1].distanceToNext;c=tf.js.CalcDisplayDistances(f,c,p,a.distances3Units);for(var t=[],v=0;v<g;++v){var w=k[v],A=tf.js.CalcClippedVertexInfo(l,w,g,m,n,q,r);void 0!=w.area&&(h=w.area);e=tf.js.UpdateMapExtent(e,w.coords);e=tf.js.UpdateMapExtent(e,w.nextCoords);void 0!=A&&t.push(A)}k=t.length;if(0<k){m=tf.browser.GetDevicePixelRatio();q=void 0!=a.showingHybrid?a.showingHybrid:l.GetMapType()!=tf.consts.typeNameMap;r=void 0!=a.colorTic?a.colorTic:
q?tf.consts.measureColorTicDefaultHybrid:tf.consts.measureColorTicDefaultMap;w=void 0!=a.showIntermediateLenghts?!!a.showIntermediateLenghts:!0;g=a.ctx;b=c.nTics;g.save();g.setTransform(1,0,0,1,0,0);g.lineCap="round";g.lineJoin="round";g.setLineDash([]);if(!a.skipEdges)for(var u=void 0!=a.lineWidth?a.lineWidth:1,C=void 0!=a.colorSeg?a.colorSeg:q?tf.consts.measureColorTicDefaultMap:tf.consts.measureColorTicDefaultHybrid,v=0;v<k;++v)A=t[v],g.beginPath(),g.strokeStyle=C,g.lineWidth=u*m,g.moveTo(A.coordsClipPx[0]*
m,A.coordsClipPx[1]*m),g.lineTo(A.nextCoordsClipPx[0]*m,A.nextCoordsClipPx[1]*m),g.closePath(),g.fill(),g.stroke();if(!a.skipMeasures)for(a={map:l,ctx:g,skipScaleText:a.skipScaleText,skipTics:a.skipTics,distances:c,rotation:n,showIntermediateLenghts:w,colorTic:r,resolution:p,showingHybrid:q,textStyle:a.textStyle,largerFontSize:a.largerFontSize},v=0;v<k;++v)a.pvi=t[v],d+=tf.js.DrawMeasuredVertex(a);g.restore()}}}return{nTicsDrawn:d,nTics:b,distances:c,vertexExtent:e,totalDistance:f,area:h}};
tf.dom.Insertable=function(a){var c,e,d;this.GetDomObj=function(){return e};this.GetHTMLElement=function(){return d};this.GetParentNode=function(){return d?d.parentNode:null};this.RemoveFromParent=function(){var a=c.GetParentNode();a&&a.removeChild(c.GetHTMLElement())};this.GetHasParent=function(){return!!c.GetParentNode()};this.AppendTo=function(a){d&&tf.dom.AppendTo(c,a)};c=this;(e=tf.js.GetIsValidObject(a.domObj)?a.domObj:null)&&!(d=tf.dom.GetHTMLElementFrom(a.domElement))&&(e=null,tf.GetDebug().LogIfTest("Insertable: failed to get HTML element"))};
tf.dom.Element=function(a){function c(a){m&&m(a)}function e(a){r&&r(a)}function d(a){n&&n(a)}var b,f,h,k,g,l,m,n,p,q,r;this.OnDelete=function(){l&&(l.OnDelete(),l=null);q&&(q.OnDelete(),q=null)};this.SetValue=function(a){h&&(h.value=tf.js.GetNonEmptyString(a,""))};this.GetValue=function(){return h?h.value.trim():""};this.SetOnClick=function(a,b,d){void 0==l?l=new tf.events.DOMClickListener({domObj:f,target:h,callBack:c,optionalScope:b,callBackSettings:d}):l.ChangeCallBackSettings(d);m=tf.js.GetFunctionOrNull(a)};
this.SetOnHover=function(a,b,c){void 0==q?q=new tf.events.DOMHoverListener({domObj:f,target:h,callBack:e,optionalScope:b,callBackSettings:c}):q.ChangeCallBackSettings(c);r=tf.js.GetFunctionOrNull(a)};this.SetOnChange=function(a,b,c){void 0==p?p=new tf.events.DOMChangeListener({domObj:f,target:h,callBack:d,optionalScope:b,callBackSettings:c}):p.ChangeCallBackSettings(c);n=tf.js.GetFunctionOrNull(a)};this.ClearContent=function(){tf.dom.RemoveAllChildren(b);h.innerHTML=""};this.ReplaceContent=function(){b.ClearContent();
b.AddContent.apply(b,arguments)};this.AddContent=function(){for(var a in arguments){var c=arguments[a];if(c)if(tf.js.GetIsString(c))if(g){var d=(new tf.dom.Span({cssClass:k})).GetHTMLElement();d.innerHTML=c;h.appendChild(d)}else h.appendChild(document.createTextNode(c));else tf.js.GetFunctionOrNull(c.AppendTo)?c.AppendTo(b):(c=tf.dom.GetHTMLElementFrom(c))&&h.appendChild(c)}};this.RemoveContent=function(a){(a=tf.dom.GetHTMLElementFrom(a))&&a.parentNode==h&&h.removeChild(a)};this.InsertHead=function(a){if(a=
tf.dom.GetHTMLElementFrom(a))return 0==h.childNodes.length?b.AddContent(a):b.InsertContentBefore(a,h.firstElementChild)};this.InsertContentBefore=function(a,b){(a=tf.dom.GetHTMLElementFrom(a))&&(b=tf.dom.GetHTMLElementFrom(b))&&b.parentNode==h&&h.insertBefore(a,b)};this.InsertContentAfter=function(a,c){(a=tf.dom.GetHTMLElementFrom(a))&&(c=tf.dom.GetHTMLElementFrom(c))&&c.parentNode==h&&(c=c.nextSibling)&&b.InsertContentBefore(a,c)};this.ScrollContent=function(a){if(a=tf.dom.GetHTMLElementFrom(a)&&
a.parentNode==h)h.scrollTop=a.offsetTop-h.offsetTop};b=this;g=!1;if(f=tf.js.GetIsValidObject(a.domObj)?a.domObj:null)(h=tf.dom.GetHTMLElementFrom(a.domElement))?(a.id&&(h.id=a.id),tf.js.GetIsNonEmptyString(a.cssClass)&&(h.className=a.cssClass),tf.js.GetIsNonEmptyString(a.tooltip)&&(h.title=a.tooltip),tf.js.GetIsNonEmptyString(a.value)&&(h.value=a.value),k=tf.js.GetNonEmptyString(a.spanCSSClass,null),g=tf.js.GetBoolFromValue(a.addTextContentAsSpan,!0)):f=null;tf.dom.Insertable.call(b,a)};
tf.js.InheritFrom(tf.dom.Element,tf.dom.Insertable);tf.dom.Div=function(a){var c;this.GetDiv=function(){return c.GetHTMLElement()};c=this;(function(){var e=document.createElement("div");a=tf.js.GetValidObjectFrom(a);var d=tf.js.GetIsNonEmptyString(a.cssClass)?a.cssClass:tf.GetStyles().paddedBlockDivStyle;tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(e.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:d,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Div,tf.dom.Element);
tf.dom.Select=function(a){var c;this.GetSelect=function(){return c.GetHTMLElement()};c=this;(function(){var e=document.createElement("select");a=tf.js.GetValidObjectFrom(a);tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(e.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:a.cssClass,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Select,tf.dom.Element);
tf.dom.Option=function(a){var c;this.GetSelect=function(){return c.GetHTMLElement()};c=this;(function(){var e=document.createElement("option");a=tf.js.GetValidObjectFrom(a);tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(e.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:a.cssClass,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Option,tf.dom.Element);
tf.dom.UL=function(a){var c;this.GetUL=function(){return c.GetHTMLElement()};c=this;(function(){var e=document.createElement("ul");a=tf.js.GetValidObjectFrom(a);tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(e.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:a.cssClass,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Option,tf.dom.Element);
tf.dom.LI=function(a){var c;this.GetUL=function(){return c.GetHTMLElement()};c=this;(function(){var e=document.createElement("li");a=tf.js.GetValidObjectFrom(a);tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(e.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:a.cssClass,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Option,tf.dom.Element);
tf.dom.Button=function(a){var c,e;this.GetButton=function(){return c.GetHTMLElement()};this.OnDelete=function(){e&&(e.OnDelete(),e=void 0)};c=this;(function(){var d=document.createElement("button");a=tf.js.GetValidObjectFrom(a);var b=tf.js.GetIsNonEmptyString(a.cssClass)?a.cssClass:tf.GetStyles().unPaddedBlockDivStyle;tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(d.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:d,cssClass:b,tooltip:a.tooltip});c.SetOnClick(a.onClick,
a.optionalScope,a.onClickSettings);c.SetOnHover(a.onHover,a.optionalScope,a.onHoverSettings)})()};tf.js.InheritFrom(tf.dom.Div,tf.dom.Element);
tf.dom.TextInput=function(a){var c=null;this.GetInput=function(){return GetHTMLElement()};c=this;(function(){var e=document.createElement("input");a=tf.js.GetValidObjectFrom(a);var d=tf.js.GetNonEmptyString(a.label,""),b=tf.js.GetNonEmptyString(a.tooltip,d),f=tf.js.GetNonEmptyString(a.value,""),h=tf.js.GetIsNonEmptyString(a.cssClass)?a.cssClass:tf.GetStyles().inputTextClass;e.type="text";e.placeholder=d;tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:h,tooltip:b,value:f})})()};
tf.js.InheritFrom(tf.dom.TextInput,tf.dom.Element);
tf.dom.Link=function(a){function c(){window.open(d,b)}var e,d,b;this.GetLink=function(){return GetHTMLElement()};e=this;(function(){var f=document.createElement("a");a=tf.js.GetValidObjectFrom(a);d=f.href=a.href;b=f.target=a.target;tf.dom.Element.call(e,{id:a.id,domObj:e,domElement:f,addTextContentAsSpan:!1,tooltip:a.tooltip,cssClass:a.cssClass});tf.js.GetIsNonEmptyString(a.label)&&e.AddContent(a.label);new tf.events.DOMClickListener({target:f,callBack:c,optionalScope:e,callBackSettings:void 0})})()};
tf.js.InheritFrom(tf.dom.Link,tf.dom.Element);tf.dom.Span=function(a){var c;this.GetSpan=function(){return GetHTMLElement()};c=this;(function(){var e=document.createElement("span");a=tf.js.GetValidObjectFrom(a);var d=tf.js.GetIsNonEmptyString(a.cssClass)?a.cssClass:tf.GetStyles().spanClass,b=tf.js.GetIsNonEmptyString(a.spanCSSClass)?a.spanCSSClass:tf.GetStyles().spanClass;tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,addTextContentAsSpan:!0,spanCSSClass:b,cssClass:d})})()};
tf.js.InheritFrom(tf.dom.Span,tf.dom.Element);
tf.dom.Img=function(a){function c(){var a=d.GetHTMLElement();a.onload=a.onabort=a.onerror=void 0;h=!0;f&&(a=f,f=void 0,a(d))}function e(){k=!1;c()}var d,b,f,h,k;this.GetSettings=function(){return a};this.GetIsValid=function(){return k};this.GetImg=function(){return d.GetHTMLElement()};this.GetIsLoaded=function(){return h};this.GetSrc=function(){return b};this.GetDimensions=function(){var a=d.GetHTMLElement();return a?[a.width,a.height]:[0,0]};d=this;(function(){var g=document.createElement("img");
a=tf.js.GetValidObjectFrom(a);h=!1;k=!0;f=tf.js.GetFunctionOrNull(a.onLoad);g.onload=c;g.onabort=e;g.onerror=e;a.crossOrigin&&(g.crossOrigin="anonymous");if(b=tf.js.GetNonEmptyString(a.src))g.src=b;tf.dom.Element.call(d,{id:a.id,domObj:d,domElement:g,cssClass:a.cssClass,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Img,tf.dom.Element);
tf.dom.ImgsPreLoader=function(a){function c(){g(b)}function e(){void 0!==f&&h==f&&(k=!0,g&&setTimeout(c,10))}function d(b,c){new tf.dom.Img({src:b,cssClass:a.cssClassStr,onLoad:function(a){l[c]=a;++h;e()}})}var b,f,h,k,g,l;this.GetIsLoadComplete=function(){return k};this.GetImgs=function(){return l};b=this;(function(){a=tf.js.GetValidObjectFrom(a);h=0;k=!1;l=[];g=tf.js.GetFunctionOrNull(a.onAllLoaded);var b=a.imgSrcs;if(tf.js.GetIsValidObject(b)){var c=0,p;for(p in b)tf.js.GetNonEmptyString(b[p])&&
++c;var q=0;for(p in b){var r=tf.js.GetNonEmptyString(b[p]);r&&d(r,q++)}f=c;e()}})()};
tf.ui.TextBtn=function(a){function c(a){tf.js.GetIsNonEmptyString(a)?l.title=a:void 0!==l.title&&delete l.title}function e(a){tf.js.GetIsNonEmptyString(a)?m=l.className=a:(a=!!a)!=m&&(m=a,l.className=m?h:k)}function d(a){n&&n.OnDelete();tf.js.GetFunctionOrNull(a)&&(n=new tf.events.DOMClickListener({domObj:b,target:l,callBack:a,optionalScope:b,callBackSettings:void 0}))}var b,f,h,k,g,l,m,n;this.SetOnClick=function(a){return d(a)};this.GetStyle=function(){return m};this.SetStyle=function(a){return e(a)};
this.SetText=function(a){l.textContent=tf.js.GetNonEmptyString(a,"")};this.GetText=function(){return l.textContent};this.ChangeToolTip=function(a){return c(a)};b=this;a=tf.js.GetValidObjectFrom(a);f=tf.GetStyles();h=f.textDivBtnLightStyleClass;k=f.textDivBtnDarkStyleClass;g=f.GetSubStyles().textButtonHeightDelta+"px";m=void 0;n=null;l=(new tf.dom.Div({cssClass:f.GetUnPaddedDivClassNames(!1,!1)})).GetHTMLElement();d(a.onClick);l.textContent=tf.js.GetNonEmptyString(a.label,"");c(a.tooltip);e(a.style);
a=tf.js.GetDimFromStrOrPxNumber(a.dim,"1em");l.style.fontSize="calc("+a+" - "+g+")";tf.dom.Insertable.call(b,{domObj:b,domElement:l})};tf.js.InheritFrom(tf.ui.TextBtn,tf.dom.Insertable);
tf.js.ObjectCache=function(a){function c(){return{}}var e,d,b;this.GetNext=function(){for(var f=d.length,h=tf.js.GetFunctionOrNull(a.createNew)?a.createNew:c;b>=f;)d.push(h({sender:e})),++f;return d[b++]};this.Reset=function(){b=0};this.GetObjects=function(){return d};this.GetActiveCount=function(){return b};this.GetTotalCount=function(){return d.length};this.OnDelete=function(){var b=tf.js.GetFunctionOrNull(a.onDelete);if(b)for(var c=buttonsCache.length,k=0;k<c;++k)b({sender:e,obj:d[k]});d=[];e.Reset()};
e=this;d=[];e.Reset()};
tf.ui.TextButtonCache=function(a){var c,e,d,b;this.GetNextButton=function(){for(var a=c.length;e>=a;)c.push(new tf.ui.TextBtn({style:b,label:"",dim:d,tooltip:"",onClick:void 0})),++a;return c[e++]};this.Reset=function(){e=0};this.GetButtons=function(){return c};this.GetActiveCount=function(){return e};this.GetTotalCount=function(){return c.length};this.OnDelete=function(){for(var a=c.length,b=0;b<a;++b)c[b].OnDelete();c=[];e=0};d=void 0!=a.buttonDim?a.buttonDim:"1rem";b=void 0!=a.buttonStyle?a.buttonStyle:
!0;c=[];e=0};
tf.ui.LiveStreamPlayer=function(a){function c(a){l.display="block";try{jwplayer(n).setup({height:f,width:b,stretching:"exactfit",sources:[{file:a}],rtmp:{bufferlength:3}}),jwplayer(n).onMeta(function(a){}),jwplayer(n).play(),d=!0}catch(c){d=!1}}function e(){d&&(jwplayer(n).stop(),l.display="none",d=!1)}var d,b,f,h,k,g,l,m="liveFeedPlayerContainer",n="liveFeedPlayer";this.PlayStream=function(a){return c(a)};this.PlayVideo=function(a){l.display="block";try{jwplayer(n).setup({height:f,width:b,stretching:"exactfit",
file:a}),jwplayer(n).play(),d=!0}catch(c){d=!1}};this.OnDelete=function(){e();h.removeChild(k.GetHTMLElement())};this.StopPlay=function(){return e()};this.GetIsPlaying=function(){return d};a=tf.js.GetValidObjectFrom(a);(h=tf.dom.GetHTMLElementFrom(a.container))||(h=document.body);m=tf.dom.CreateDomElementID("tf-live-player");n=tf.dom.CreateDomElementID("tf-live-player");b=void 0!==a.width?a.width:320;f=void 0!==a.height?a.height:240;(function(){if(!k){var a={position:"relative",display:"block",backgroundColor:"#fff",
width:b+"px",height:f+"px",left:"0",top:"0",margin:"0px",padding:"0px",border:"0px",zIndex:"2000"};k=new tf.dom.Div({id:m});g=new tf.dom.Div({id:n});l=k.GetHTMLElement().style;tf.GetStyles().ApplyStyleProperties(k,a);g.AppendTo(k);k.AppendTo(h)}})();d=!1};
tf.ui.ConfirmMsg=function(a){function c(a){a=void 0!=a?a:p;return void 0==a?0:a}function e(a){v&&(clearTimeout(v),v=void 0);t&&k.ChangeOpacityVisibilityClass(q,t=!1);w.ClearContent();u({sender:f,confirmed:a})}function d(a){a=c(a);v&&(clearTimeout(v),v=void 0);k.ChangeOpacityVisibilityClass(q,t=!0);0<a&&(v=setTimeout(function(){return e(!1)},a))}function b(a){return function(b){e(a);return!1}}var f,h,k,g,l,m,n,p,q,r,t,v,w,A,u,C,B,F,E,D,K;this.ConfirmMsg=function(a,b,c){tf.js.GetFunctionOrNull(a)&&
tf.js.GetIsNonEmptyString(b)&&(t&&e(!1),u=a,A.innerHTML=b,d(c))};f=this;k=tf.GetStyles();D=k.CreateTextDivBtnClasses("white","green","white","darkgreen");K=k.CreateTextDivBtnClasses("white","red","white","darkred");h=tf.dom.GetHTMLElementFrom(a.container);l=a.style;g=a.className;m=a.msgClassName;n=a.buttonsDivClassName;p=a.timeout;C=tf.js.GetNonEmptyString(a.yesLabel,"Yes");B=tf.js.GetNonEmptyString(a.noLabel,"No");F=tf.js.GetNonEmptyString(a.yesTooltip,"Confirm");E=tf.js.GetNonEmptyString(a.noTooltip,
"Cancel");(function(){q=new tf.dom.Div({});r=q.GetHTMLElement();void 0!=g&&(r.className=g);void 0!=l&&k.ApplyStyleProperties(q,l);w=new tf.dom.Div({cssClass:m});A=w.GetHTMLElement();var a=new tf.dom.Div({cssClass:n}),c=k.AddButtonDivMargins(new tf.ui.TextBtn({dim:"18px",style:D,label:C,tooltip:F,onClick:b(!0)})),d=k.AddButtonDivMargins(new tf.ui.TextBtn({dim:"18px",style:K,label:B,tooltip:E,onClick:b(!1)})),e={textShadow:"1px 1px 1px #000"};k.ApplyStyleProperties(c,e);k.ApplyStyleProperties(d,e);
a.AddContent(c,d);q.AddContent(w,a);h.appendChild(r);k.ChangeOpacityVisibilityClass(q,!1)})()};
tf.ui.OneToast=function(a){function c(a,b){g!=(a=!!a)&&((g=a)?b?k.InsertHead(m):k.AddContent(m):(k.RemoveContent(m),p&&p({sender:f})))}function e(){t&&(clearTimeout(t),t=void 0);g&&c(!1);m.ClearContent()}function d(b){var d=void 0!=b.timeout?b.timeout:2E3,g=void 0!=a.addBefore?!!a.addBefore:v;++u;var k=new C(f,u,function(){return u});t&&(clearTimeout(t),t=void 0);A=void 0!=a.closeOnClick?!!a.closeOnClick:w;n.className=tf.js.GetIsNonEmptyString(b.className)?b.className:r;tf.js.GetIsValidObject(b.style)&&
(n.style="",h.Apply(m,b.style));c(!0,g);0<d&&(t=setTimeout(e,d));return k}function b(a){A&&e();return!1}var f,h,k,g,l,m,n,p,q,r,t,v,w,A,u;this.Toast=function(b){var c;if(!l&&tf.js.GetIsValidObject(b)){var e=!1;m.ClearContent();(e=tf.js.GetIsNonEmptyString(b.text))?n.innerHTML=b.text:(e=tf.dom.GetHTMLElementFrom(a.content))&&m.ReplaceContent(a.content);e&&(c=d(b))}return c};this.GetIsShowing=function(){return g};this.GetIsDeleted=function(){return l};this.Close=function(){return e()};var C=function(a,
b,c){this.IsShowing=function(){return b==c()&&a.GetIsShowing()};this.Close=function(){b==c()&&a.Close()}};f=this;h=tf.GetStyles();u=0;tf.dom.GetHTMLElementFrom(a.container)&&tf.js.GetFunctionOrNull(a.container.AddContent)&&tf.js.GetFunctionOrNull(a.container.RemoveContent)?(k=a.container,l=!1,p=tf.js.GetFunctionOrNull(a.onClose),w=void 0!=a.closeOnClick?!!a.closeOnClick:!0,v=void 0!=a.addBefore?!!a.addBefore:!0,q=tf.js.GetValidObjectFrom(a.style),r=tf.js.GetNonEmptyString(a.className,""),m=new tf.dom.Div({}),
n=m.GetHTMLElement(),void 0!=r&&(n.className=r),void 0!=q&&h.ApplyStyleProperties(m,q),n.addEventListener("click",b)):l=!0};
tf.ui.Toaster=function(a){function c(a){a=void 0!=a?a:k;return void 0==a?0:a}function e(){1==++q&&b.ChangeOpacityVisibilityClass(m,!0);return 0<p.length?p.pop():new tf.ui.OneToast({onClose:function(a){0==--q&&b.ChangeOpacityVisibilityClass(m,!1);p.push(a.sender)},container:m,className:a.toastClassName,style:a.toastStyle,closeOnClick:l})}var d,b,f,h,k,g,l,m,n,p,q;this.GetNActiveToasts=function(){return q};this.Toast=function(a){var d;if(tf.js.GetIsValidObject(a)){var f=tf.js.GetIsNonEmptyString(a.text),
h=!f&&tf.dom.GetHTMLElementFrom(a.content);if(f||h)d=e().Toast({text:a.text,content:a.content,timeout:c(a.timeout),addBefore:void 0!=a.addBefore?a.addBefore:g,className:a.className,style:a.style,closeOnClick:void 0!=a.closeOnClick?a.closeOnClick:l}),1==q&&b.ChangeOpacityVisibilityClass(m,!0)}return d};b=tf.GetStyles();d=tf.dom.GetHTMLElementFrom(a.container);h=a.style;f=a.className;k=a.timeout;l=void 0!=a.closeOnClick?!!a.closeOnClick:!0;g=void 0!=a.addBefore?!!a.addBefore:!0;q=0;p=[];m=new tf.dom.Div({});
n=m.GetHTMLElement();void 0!=f&&(n.className=f);void 0!=h&&b.ApplyStyleProperties(m,h);d.appendChild(n);b.ChangeOpacityVisibilityClass(m,!1)};
tf.ui.FullScreenDiv=function(a){function c(a){r||t!=(a=!!a)&&d(t=a)}function e(a,b){b?setTimeout(function(){p.zIndex=a},1E3):p.zIndex=a}function d(a){var c,d,g;a?(c=v,d="1",g="all"):(c=w,d="0",g="none");p.opacity=d;p.pointerEvents=g;e(c,!a);a?b():k.Notify(l,{sender:f})}function b(){r||q.DelayCallBack()}var f,h,k,g,l,m,n,p,q,r,t,v,w,A,u;this.Show=function(a){return c(a)};this.GetIsShowing=function(){return t};this.GetTopDiv=function(){return m};this.AddResizeListener=function(a){return k.AddListener(g,
a)};this.AddCloseListener=function(a){return k.AddListener(l,a)};this.OnDelete=function(){r||(c(!1),A&&A.OnDelete(),n&&document.body.removeChild(n),m&&(m.ClearContent(),m.OnDelete()),m=n=toDivES=k=A=q=void 0,r=!0)};this.GetIsDeleted=function(){return r};f=this;h=tf.GetStyles();r=!1;g="res";l="clo";k=new tf.events.MultiEventNotifier({eventNames:[g]});a=tf.js.GetValidObjectFrom(a);v=void 0!=a.zIndexShowing?a.zIndexShowing:100;w=void 0!=a.zIndexNotShowing?a.zIndexNotShowing:0;u=a.customStyle;m=new tf.dom.Div;
n=m.GetHTMLElement();p=n.style;h.ApplyStyleProperties(m,{display:"block","pointer-events":"none",position:"absolute","z-index":"0",left:"0px",top:"0px",width:"100%",height:"100%",border:"none",margin:"0px",padding:"0px",opacity:"0",overflow:"hidden","background-color":"rgba(255,255,255,0)","-webkit-transition":"opacity 1s ease-in-out","-moz-transition":"opacity 1s ease-in-out","-ms-transition":"opacity 1s ease-in-out","-o-transition":"opacity 1s ease-in-out",transition:"opacity 1s ease-in-out"});
tf.js.GetIsValidObject(u)&&h.ApplyStyleProperties(m,u);d(t=!1);document.body.appendChild(n);void 0!=a.onClose&&f.AddCloseListener(a.onClose);void 0!=a.onResize&&f.AddResizeListener(a.onResize);q=new tf.events.DelayedCallBack(250,function(){if(!r)return k.Notify(g,{sender:f}),!1});A=tf.events.AddDOMEventListener(window,tf.consts.DOMEventNamesResize,b);b()};
tf.ui.MultiLineInput=function(a){function c(a){if(k){var b=!0;if(h){var b=a?A.value.trim():"",c={sender:d,isConfirmed:a,props:v,text:b};(b=!(a&&B&&!B(c)))&&h(c)}b&&(k=!1,r.display="none")}}function e(a){return function(b){a?c(!0):c(!1)}}var d,b,f,h,k,g,l,m,n,p,q,r,t,v,w,A,u,C,B;this.GetTopDiv=function(){return p};this.GetIsEditing=function(){return k};this.Edit=function(a){if(!k&&tf.js.GetIsValidObject(a)){k=!0;r.display="block";w=tf.js.GetNonEmptyString(a.title,"Text Input");u.SetText(tf.js.GetNonEmptyString(a.saveText,
"Save"));u.ChangeToolTip(tf.js.GetNonEmptyString(a.saveToolTip,"Save"));var b;void 0!==a.cancelText?(C.SetText(tf.js.GetNonEmptyString(a.cancelText,"Cancel")),C.ChangeToolTip(tf.js.GetNonEmptyString(a.cancelToolTip,"Cancel")),b="inline-block"):b="none";C.GetHTMLElement().style.display=b;A.value=tf.js.GetNonEmptyString(a.text,"").trim();void 0!=a.nRows&&(A.rows=""+a.nRows);n.innerHTML=w;k=!0;v=a.props;A.focus()}};this.OnClose=function(a){return c(a)};d=this;a=tf.js.GetValidObjectFrom(a);h=tf.js.GetFunctionOrNull(a.onClose);
B=tf.js.GetFunctionOrNull(a.validator);m=a.container;b=tf.GetStyles();f=b.GetStyleCreator();g=b.CreateTextDivBtnClasses("white","green","white","darkgreen");l=b.CreateTextDivBtnClasses("white","red","white","darkred");k=!1;(function(){var c=tf.GetNextDynCSSClassName(),d=tf.GetNextDynCSSClassName(),h=tf.GetNextDynCSSClassName(),k=tf.GetNextDynCSSClassName(),v=tf.GetNextDynCSSClassName();f.CreateStyles([{styleName:"."+c,inherits:{margin:"0px",padding:"0px",border:"none",display:"block"}},{styleName:"."+
d,inherits:{padding:"4px",fontSize:"90%",backgroundColor:"rgba(255, 255, 255, 0.7)",marginBottom:"4px",display:"block",borderBottom:"1px solid brown"}},{styleName:"."+h,inherits:{display:"block",border:"none",padding:"2px",marginTop:"2px",borderTop:"1px solid rgba(255, 255, 255, 0.7)"}},{styleName:"."+k,inherits:{position:"absolute",margin:"4px",border:"2px solid red",borderRadius:"6px",fontSize:"18px",lineHeight:"20px",color:"darkblue",backgroundColor:"orange",textShadow:"2px 2px 3px white",cursor:"default",
display:"block",zIndex:"10",textAlign:"center",boxShadow:"2px 2px 4px 1px rgba(0,0,0,0.75)"}},{styleName:"."+v,inherits:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"40%",overflow:"hidden"}}]);t=new tf.dom.Div({cssClass:c});c=new tf.dom.Div({cssClass:d});n=c.GetHTMLElement();n.innerHTML="";n.title="";h=new tf.dom.Div({cssClass:h});u=b.AddButtonDivMargins(new tf.ui.TextBtn({dim:"16px",style:g,label:"Save",tooltip:"Save",onClick:e(!0)}));C=b.AddButtonDivMargins(new tf.ui.TextBtn({dim:"16px",
style:l,label:"Cancel",tooltip:"Cancel",onClick:e(!1)}));d={textShadow:"1px 1px 1px #000"};b.ApplyStyleProperties(u,d);b.ApplyStyleProperties(C,d);h.AddContent(u,C);h.GetHTMLElement().style.textAlign="right";A=document.createElement("textarea");A.className="multiLineInput";A.title=tf.js.GetNonEmptyString(a.textAreaToolTip,"Copy, Paste or Type text here");A.rows=10;t.AddContent(c,A,h);p=new tf.dom.Div({cssClass:k+" "+v});p.AddContent(t);q=p.GetHTMLElement();r=q.style;r.display="none";void 0!=a.zIndex&&
(r.zIndex=a.zIndex);m.AddContent(p)})()};
tf.ui.FullScreenMultiLineInput=function(a){function c(a){e.Show(!1);b&&b(a)}var e,d,b;this.GetIsEditing=function(){return d.GetIsEditing()};this.Edit=function(a){d.GetIsEditing()||(e.Show(!0),d.Edit(a))};this.OnClose=function(a){return d.OnClose(a)};this.GetTopDiv=function(){return d.GetTopDiv()};(function(){a=tf.js.GetValidObjectFrom(a);var f=tf.js.GetValidObjectFrom(a.multiLineInputSettings),h=tf.js.GetValidObjectFrom(a.fullScreenSettings);b=tf.js.GetFunctionOrNull(f.onClose);e=new tf.ui.FullScreenDiv(h);
d=new tf.ui.MultiLineInput(tf.js.ShallowMerge(f,{onClose:c,container:e.GetTopDiv()}))})()};
tf.ui.DatePicker=function(a){function c(){p&&(p.removeChild(n),p=void 0)}function e(a){B+=a?1:-1;0>B?(B=11,--C):11<B&&(B=0,++C);h()}function d(a){return function(b){if(E&&(b=a.index-F+1,E)){var c=new Date(C,B,b),d=c.getDay();E({sender:g,month:B,year:C,day:b,date:c,dow:d})}}}function b(a){a&&(a=a||new Date,void 0!=S&&a<S&&(a=S),void 0!=T&&a>T&&(a=T),R=a,A=a.getMonth(),w=a.getFullYear(),u=a.getDate(),C=w,B=A,h())}function f(a,b){var c,d;b?(c=1,d="all"):(c=0,d="none");a.style.opacity=c;a.style.pointerEvents=
d}function h(){var a=v[B],b=new Date(C,B,1),c=tf.units.GetDaysBetweenDates(b,new Date(C,B+1,0))+1,d=B==A&&C==w,e=J;q.titleDiv.myDivE.innerHTML=a+" "+C;F=b.getDay();for(var a=0,b=F,g=q.rows,h=g[a],k=h.cols,l=0;l<F;++l)f(k[l].divE,!1);for(l=0;l<c;++l){6<b&&(b=0,h=g[++a],k=h.cols);var m=k[b],n=l+1;f(m.divE,!0);d&&u==n?tf.dom.AddCSSClass(m.divE,e):tf.dom.RemoveCSSClass(m.divE,e);m.divE.innerHTML=""+n;h.divE.style.display="block";++b}for(l=b;7>l;++l)f(k[l].divE,!1);for(l=a+1;l<r;++l)q.rows[l].divE.style.display=
"none"}function k(){var a=new tf.dom.Div({cssClass:N}),b=new tf.dom.Div({cssClass:Q}),c=new tf.dom.Div({cssClass:M}),d=new tf.dom.Div({cssClass:P}),g=b.GetHTMLElement(),f=new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphLeftArrowName,onClick:function(){e(!1)},tooltip:"Previous Month",dim:D}),h=new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphRightArrowName,onClick:function(){e(!0)},tooltip:"Next Month",dim:D});c.AddContent(f);d.AddContent(h);a.AddContent(d);a.AddContent(c);a.AddContent(b);
return{div:a,prev:c,next:d,myDiv:b,myDivE:g}}var g,l,m,n,p,q,r,t,v,w,A,u,C,B,F,E,D,K,G,L,H,I,J,N,M,P,Q,R,S,T;this.SetMinDate=function(a){S=a;b(R)};this.SetMaxDate=function(a){b(R)};this.SetDate=function(a){return b(a)};this.AppendTo=function(a,b){c();l.ApplyStyleProperties(m,b);(p=tf.dom.GetHTMLElementFrom(a))?(p.appendChild(n),n.focus()):p=void 0};this.Detach=function(){return c()};this.IsAttached=function(){return!!p};this.GetHTMLElement=function(){return m.GetHTMLElement()};g=this;l=tf.GetStyles();
a=tf.js.GetValidObjectFrom(a);E=tf.js.GetFunctionOrNull(a.onClick);r=6;t=tf.js.GetIsArrayWithLength(a.weekDayLetters,7)&&tf.js.GetIsStringWithMinLength(a.weekDayLetters[0],2)?a.weekDayLetters:"Su Mo Tu We Th Fr Sa".split(" ");v=tf.js.GetIsArrayWithLength(a.monthNames,12)&&tf.js.GetIsNonEmptyString(a.monthNames[0])?a.monthNames:"January February March April May June July August September October November December".split(" ");D=tf.js.GetIsNonEmptyString(a.buttonDim)?a.buttonDim:"20px";(function(){K=
tf.GetNextDynCSSClassName();G=tf.GetNextDynCSSClassName();L=tf.GetNextDynCSSClassName();H=tf.GetNextDynCSSClassName();I=tf.GetNextDynCSSClassName();J=tf.GetNextDynCSSClassName();N=tf.GetNextDynCSSClassName();M=tf.GetNextDynCSSClassName();P=tf.GetNextDynCSSClassName();Q=tf.GetNextDynCSSClassName();var a=[{styleName:"."+K,inherits:{backgroundColor:"rgb(0,68,152)",borderRadius:"6px",border:"2px solid navajowhite",display:"inline-block"}},{styleName:".undefined",inherits:{padding:"2px",margin:"2px",display:"block",
border:"1px solid green"}},{styleName:"."+G,inherits:{whiteSpace:"nowrap",display:"block"}},{styleName:"."+L,inherits:{whiteSpace:"nowrap",backgroundColor:"white",color:"navy",textShadow:"none",fontWeight:"600",marginBottom:"2px"}},{styleName:"."+H,inherits:{padding:"2px",margin:"2px",display:"inline-block",border:"1px solid navy",lineHeight:"16px",fontSize:"14px",textAlign:"right",paddingRight:"6px",width:"24px"}},{styleName:"."+I,inherits:{padding:"2px",margin:"2px",display:"inline-block",border:"1px solid navy",
lineHeight:"16px",fontSize:"14px",textAlign:"right",paddingRight:"6px",width:"24px",color:"white",cursor:"pointer"}},{styleName:"."+I+":hover",inherits:{backgroundColor:"white",color:"navy",fontWeight:"600",fontSize:"16px"}},{styleName:"."+J,inherits:{backgroundColor:"lightgreen",fontWeight:"600",fontSize:"15px",color:"navy"}},{styleName:"."+N,inherits:{verticalAlign:"middle",whiteSpace:"nowrap",backgroundColor:"white",color:"navy",textShadow:"none",fontWeight:"600",borderRadius:"4px",marginBottom:"4px",
position:"relative",textAlign:"center",overflow:"hidden",lineHeight:"16px",fontSize:"14px"}},{styleName:"."+M,inherits:{position:"absolute",left:"4px",top:"2px",height:"calc(100% - 4px)",overflow:"hidden"}},{styleName:"."+P,inherits:{position:"absolute",right:"4px",top:"2px",height:"calc(100% - 4px)",overflow:"hidden"}},{styleName:"."+Q,inherits:{padding:"2px",margin:"2px",display:"inline-block"}}];l.GetStyleCreator().CreateStyles(a)})();m=new tf.dom.Div({cssClass:K});n=m.GetHTMLElement();q=function(){var a=
[],b=new tf.dom.Div({cssClass:void 0}),c=k(),e;e=[];for(var g=new tf.dom.Div({cssClass:L}),f=0;7>f;++f){var h;h=f;var l=new tf.dom.Div({cssClass:H});l.GetHTMLElement().innerHTML=t[h];h={div:l,col:h};e.push(h);g.AddContent(h.div)}e={div:g,cols:e};b.AddContent(c.div);b.AddContent(e.div);for(g=0;g<r;++g){f=g;h=[];for(var l=new tf.dom.Div({cssClass:G}),m=0;7>m;++m){var n,p=f,q=m,u=new tf.dom.Div({cssClass:I});n=u.GetHTMLElement();var v=7*p+q,p={div:u,divE:n,row:p,col:q,index:v};n.innerHTML=""+v;n.addEventListener("click",
d(p));n=p;h.push(n);l.AddContent(n.div)}f={div:l,divE:l.GetHTMLElement(),cols:h};a.push(f);b.AddContent(f.div)}return{div:b,rows:a,wdDiv:e,titleDiv:c}}();m.AddContent(q.div);S=a.minDate;b()};
tf.ui.QuickMenu=function(a){function c(){g&&(g.removeChild(h),g=void 0)}function e(a,b){return function(){l&&l({sender:d,text:a.text,item:a,index:b})}}var d,b,f,h,k,g,l,m,n,p,q;this.GetTopDivStyle=function(){return k};this.AppendTo=function(a,d){c();b.ApplyStyleProperties(f,d);(g=tf.dom.GetHTMLElementFrom(a))?(g.appendChild(h),h.focus()):g=void 0};this.Detach=function(){return c()};this.IsAttached=function(){return!!g};this.GetHTMLElement=function(){return f.GetHTMLElement()};this.GetButtons=function(){return n};
d=this;b=tf.GetStyles();a=tf.js.GetValidObjectFrom(a);l=tf.js.GetFunctionOrNull(a.onClick);m=tf.js.GetIsNonEmptyString(a.buttonDim)?a.buttonDim:"1.6em";(function(){p=tf.GetNextDynCSSClassName();q=tf.GetNextDynCSSClassName();var a=[{styleName:"."+p,inherits:{backgroundColor:"rgb(0,68,152)",borderRadius:"6px",border:"2px solid navajowhite",display:"inline-block",fontSize:"1.4em"}},{styleName:"."+q,inherits:{padding:"2px",margin:"2px",display:"block",border:"1px solid green"}}];b.GetStyleCreator().CreateStyles(a)})();
(function(){f=new tf.dom.Div({cssClass:p});h=f.GetHTMLElement();k=h.style;n=[];for(var b=a.items?a.items.length:0,c=0;c<b;++c){var d=a.items[c],d=new tf.ui.TextBtn({style:!0,label:d.text,buttonDim:m,tooltip:tf.js.GetIsNonEmptyString(d.toolTip)?d.toolTip:d.text,onClick:e(d,c)});d.GetHTMLElement().style.display="block";f.AddContent(d);n.push(d)}})()};
tf.ui.MultiMenus=function(a){function c(a){e(a.sender)}function e(a){for(var c in d){var e=d[c];e!=a&&e.CloseIfOpen()}}var d;this.AddMenu=function(a){a&&tf.js.GetFunctionOrNull(a.AddOpenListener)&&tf.js.GetFunctionOrNull(a.CloseIfOpen)&&(d.push(a),a.AddOpenListener(c))};this.CloseMenus=function(a){return e(a)};this.UpdateMenuPositions=function(){for(var a in d)d[a].OnResize()};d=[]};
tf.ui.GuidedTour=function(a){function c(){P&&(clearTimeout(P),P=void 0);R&&(R=!1,Q&&Q.SetIsToggled(!R))}function e(){R&&(P=setTimeout(d,1E3*L[H].duration_secs))}function d(){p(H+1)}function b(){R?c():(R=!0,e())}function f(){T&&m(T)}function h(){var a=F?v:w;a&&a({sender:q,isPlaying:F})}function k(){if(!F){var a=A.GetTopDiv();a.ClearContent();a.AddContent(E,S);u&&(u.GetHTMLElement().style.opacity=0);A.Show(F=!0);h();p(H)}}function g(a,b){a&&aa&&(b?tf.dom.AddCSSClass:tf.dom.RemoveCSSClass)(a,aa)}function l(a){if(S){T=
void 0;var b=S.GetHTMLElement().style;a&&g(S,!1);b.opacity=0;a&&g(S,!0)}}function m(a){setTimeout(function(){n(a)},300)}function n(a){if((a=tf.dom.GetHTMLElementFrom(a))&&S){var b=a.getBoundingClientRect();if(b){l(!0);T=a;a=Math.trunc(b.left)-8;var c=Math.trunc(b.top)-8,d=Math.trunc(b.width),b=Math.trunc(b.height),e=S.GetHTMLElement().style;e.left=a+"px";e.top=c+"px";e.width=d+4+"px";e.height=b+4+"px";e.opacity=1}}}function p(a){var b=L.length;0>a?a=b-1:a>=b&&(a=0);l(!0);var c=0==a?"none":"inline-block",
d=a<b-1?"inline-block":"none";N.GetHTMLElement().style.display=c;M.GetHTMLElement().style.display=d;I.GetHTMLElement().style.display=c;J.GetHTMLElement().style.display=d;H=a;c=L[a];D.GetHTMLElement().innerHTML="[ "+(a+1)+"/"+b+" ] "+c.title;K.GetHTMLElement().innerHTML=c.content;c.action();e()}var q,r,t,v,w,A,u,C,B,F,E,D,K,G,L,H,I,J,N,M,P,Q,R,S,T,aa,ba,ia,V,U,ha;this.ShowPlayButton=function(a){u.GetHTMLElement().style.display=a};this.GetIsPlaying=function(){return F};this.HiLight=function(a){return n(a)};
this.DelayHiLight=function(a){return m(a)};this.HideHighLight=function(a){return l(a)};q=this;r=tf.GetStyles();A=a.fullScreenDiv;L=a.tourSteps;v=tf.js.GetFunctionOrNull(a.onPlay);w=tf.js.GetFunctionOrNull(a.onPause);C=void 0!=a.playButtonClass?a.playButtonClass:!0;B=void 0!=a.playButtonStyles?a.playButtonStyles:{position:"absolute",left:"1rem",top:"1rem"};t=void 0!=a.buttonDim?a.buttonDim:"1rem";aa=a.opacityTransitionCSSClass;ba=a.hilightDivCSSClass;ia=a.guidedWrapperCSSClass;V=a.guidedTitleCSSClass;
U=a.guidedContentCSSClass;ha=a.guidedButtonsCSSClass;(function(){R=F=!1;if(tf.dom.GetHTMLElementFrom(a.playButtonContainer)){var d=tf.js.GetNonEmptyString(a.playButtonToolTip,"Take a guided tour");u=new tf.ui.TextBtn({style:C,label:"Guided Tour",dim:"1.4rem",tooltip:d,onClick:k});r.ApplyStyleProperties(u,B);g(u,!0);a.playButtonContainer.AddContent(u)}void 0==A?A=new tf.ui.FullScreenDiv({onResize:f}):A.AddResizeListener(f);E=new tf.dom.Div({cssClass:ia});D=new tf.dom.Div({cssClass:V});K=new tf.dom.Div({cssClass:U});
G=new tf.dom.Div({cssClass:ha});E.AddContent(D,K,G);I=r.AddButtonDivRightMargin(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphArrowToStartName,onClick:function(){c();p(0)},tooltip:"First step in Tour",dim:t}));J=r.AddButtonDivRightMargin(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphArrowToEndName,onClick:function(){c();p(L.length-1)},tooltip:"Last step in Tour",dim:t}));N=r.AddButtonDivRightMargin(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphLeftArrowName,onClick:function(){c();
p(H+-1)},tooltip:"Previous step in Tour",dim:t}));M=r.AddButtonDivRightMargin(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphRightArrowName,onClick:function(){c();p(H+1)},tooltip:"Next step in Tour",dim:t}));var d=new tf.dom.Div,e=d.GetHTMLElement().style;e.position="absolute";e.left="2px";e.top="2px";e=r.AddButtonDivLeftRightMargins(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphPauseName,onClick:function(){c();F&&(A.Show(F=!1),u&&(u.GetHTMLElement().style.opacity=1),h())},tooltip:"Pause Tour",
dim:t}));Q=r.AddButtonDivRightMargin(new tf.ui.SvgGlyphToggleBtn({style:!0,onClick:b,dim:t,isToggled:!R,glyph:tf.styles.SvgGlyphAutoRepeatName,tooltip:"Manually advance to the next step of the tour",toggledGlyph:tf.styles.SvgGlyphNoAutoRepeatName,toggledTooltip:"Automatically advance to the next step of the tour"}));d.AddContent(e,Q);G.AddContent(d,I,J,N,M);S=new tf.dom.Div({cssClass:ba});g(S,!0);H=void 0!=a.curTourStep?a.curTourStep:0})()};
tf.ui.TimeAnimationControl=function(a){function c(a,b){D.Notify(a,tf.js.ShallowMerge(b,{sender:k,isPaused:u.GetIsPaused()}))}function e(){var a=!u.GetIsPaused();q.SetIsToggled(a);u.Pause(a);c(E)}function d(){u.Pause(!0);u.SetElapsedTime(0);q.SetIsToggled(!0);h()}function b(){u.SetWrap(r=!r)}function f(){100<(t*=10)&&(t=1);u.SetSpeed(t);v&&v.SetText(t+"x")}function h(){B=u.GetElapsedTime();if(w&&n){var a=void 0==C;a||(a=999<Math.abs(B-C));a&&(K=new Date,C=B,K.setTime(n.getTime()+B),a=tf.js.GetTimeStampFromDate(K),
a=a.substring(0,19),w.innerHTML=a,A.SetPos01(0!=F?B/F:0))}}var k,g,l,m,n,p,q,r,t,v,w,A,u,C,B,F,E,D,K,G;this.AddListener=function(a){return D.AddListener(E,a)};this.GetIsShowing=function(){return G};this.Show=function(a){g.ChangeOpacityVisibilityClass(m,a);G=!!a};this.SetMinMaxDate=function(a,b){K=new Date(a);n=a;p=b;F=p.getTime()-n.getTime();u.SetLimit(F);d()};this.Pause=function(){k.GetIsPaused()||k.OnPlayPause()};this.OnUpdate=function(){return h()};this.GetIsPaused=function(){return u.GetIsPaused()};
this.OnPlayPause=function(){return e()};this.OnStop=function(){return d()};this.GetElapsedTime=function(){return B};this.GetCurrentDateTime=function(){return K};k=this;G=!1;K=new Date;E="playpause";D=new tf.events.MultiEventNotifier({eventNames:[E]});g=tf.GetStyles();l=a.container;t=1;u=new tf.helpers.Timer;u.SetSpeed(t);u.SetLimit(F=18E5);u.SetWrap(r=!0);u.Pause(!0);(function(){var a=new tf.dom.Div({cssClass:g.unPaddedBlockDivClass});(v=new tf.ui.TextBtn({style:!0,label:"",dim:"1.0em",tooltip:"Select playback speed",
onClick:f}))&&v.SetText(t+"x");v.GetHTMLElement().style.minWidth="3rem";var n=new tf.ui.SvgGlyphToggleBtn({style:!0,onClick:b,dim:"1.0em",isToggled:r,glyph:tf.styles.SvgGlyphAutoRepeatName,tooltip:"Auto-repeat",toggledGlyph:tf.styles.SvgGlyphNoAutoRepeatName,toggledTooltip:"Auto-repeat"});q=new tf.ui.SvgGlyphToggleBtn({style:!0,onClick:e,dim:"1.0em",isToggled:!1,glyph:tf.styles.SvgGlyphPauseName,tooltip:"Pause",toggledGlyph:tf.styles.SvgGlyphPlayName,toggledTooltip:"Play"});var p=new tf.ui.SvgGlyphBtn({style:!0,
glyph:tf.styles.SvgGlyphStopName,onClick:d,tooltip:"Stop",dim:"1.0em"}),B=new tf.dom.Div;w=B.GetHTMLElement();g.ApplyStyleProperties(B,{verticalAlign:"middle",borderLeft:"1px solid #003377",padding:"6px",paddingBottom:"2px",display:"inline-block",cursor:"default",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"calc(100% - 14px)",backgroundColor:"transparent",background:"none",textAlign:"center"});a.AddContent(g.AddButtonDivMargins(v),g.AddButtonDivRightMargin(p),g.AddButtonDivRightMargin(q),g.AddButtonDivRightMargin(n),
g.AddButtonDivRightMargin(w));n=new tf.dom.Div({cssClass:g.unPaddedBlockDivClass});g.ApplyStyleProperties(n,{overflow:"hidden",borderTop:"1px solid #003377"});A=new tf.ui.CanvasSlider(0,"1.5rem",!1);p=A.GetHTMLElement();A.SetOnClickListener(function(a,b){u.SetElapsedTime(F*b);h();A.SetPos01(b);u.GetIsPaused()&&c(E,{isSeek:!0})},k);p.title="Click to change time";p.style.width="calc(100% - 2px)";p.style.display="block";n.AddContent(A);a.AddContent(n);g.ApplyStyleProperties(m=a,{display:"block",overflow:"hidden",
position:"absolute",right:"8px",top:"3.5rem",fontSize:"1.8em",backgroundColor:"rgba(255,255,255,0.75)",borderRadius:"8px",border:"2px solid navy","tf-shadow":[0,0,4,"rgba(0,0,0,0.6)"],zIndex:2,textAlign:"left",width:"24rem"});m.AppendTo(l);g.ChangeOpacityVisibilityClass(m,!1);G=!1})()};
tf.ui.DateTimePicker=function(a){function c(){H&&(H.Detach(),H=void 0,b())}function e(a){a=H==a;c();return a}function d(a,d){c();a&&((H=a).AppendTo(I,d),b(),B&&B({sender:t}),S.Notify(R,{sender:t}))}function b(){G.SetStyle(H==K?C:u);D.SetStyle(H==E?C:u)}function f(){var a=F.GetHTMLElement().getBoundingClientRect();return{position:"absolute",left:a.left+"px",top:a.bottom+"px",zIndex:10}}function h(){e(E)||(E.SetDate(J),d(E,f()))}function k(){var a=G.GetHTMLElement().getBoundingClientRect();return{position:"absolute",
left:a.left+"px",top:a.bottom+"px",zIndex:10,fontSize:"1rem"}}function g(){e(K)||d(K,k())}function l(){D&&D.SetText(tf.js.GetMonthDayYearStr(J))}function m(){L&&L.SetText(P?"am":"pm")}function n(a){J=a.date;c();l()}function p(a){N=parseInt(a.text,10);Q=a.text;c();G&&G.SetText(Q)}function q(){c();P=!P;m()}function r(a){var b,d;c();d=!0;a?(b=a.getHours(),12<b&&(b-=12,d=!1),a.getMinutes()):b=0;J=new Date(a.getFullYear(),a.getMonth(),a.getDate());N=b;Q=0<b?""+b:M;P=d;l();G&&G.SetText(Q);m()}var t,v,w,
A,u,C,B,F,E,D,K,G,L,H,I,J,N,M,P,Q,R,S;this.AddOpenListener=function(a){return S.AddListener(R,a)};this.GetIsOpen=function(){return void 0!=H};this.CloseIfOpen=function(){return c()};this.OnResize=function(){var a;H==E?a=f():H==K&&(a=k());void 0!=a&&v.ApplyStyleProperties(H,a)};this.SetDateTime=function(a){return r(a)};this.GetDateTime=function(){var a=N;P||(a+=12);var a=new Date(J.getFullYear(),J.getMonth(),J.getDate(),a,0,0,0),b=tf.js.GetTimeStampFromDate(a);return{startDate:a,startDateStr:b}};this.GetHTMLElement=
function(){return F.GetHTMLElement()};this.GetTopDiv=function(){return F};t=this;v=tf.GetStyles();R="open";S=new tf.events.MultiEventNotifier({eventNames:[R]});M="0/12";A=void 0!=a.style?a.style:{borderRadius:"4px",padding:"2px",border:"1px solid #bfbfbf",color:"white",backgroundColor:"#61788c",textAlign:"left",position:"relative"};w=void 0!=a.buttonDim?a.buttonDim:"1rem";u=void 0!=a.buttonClasses?a.buttonClasses:!0;C=void 0!=a.buttonSelectedClasses?a.buttonSelectedClasses:!1;I=a.menuContainer;B=
tf.js.GetFunctionOrNull(a.onOpenMenu);(function(){E=new tf.ui.DatePicker({onClick:n});D=new tf.ui.TextBtn({style:u,label:"",dim:w,tooltip:"Select date",onClick:h});l();for(var a=[],b=0;12>b;++b){var c=0==b?M:""+b;a.push({text:c,toolTip:"Select hour "+c})}K=new tf.ui.QuickMenu({onClick:p,items:a});(G=new tf.ui.TextBtn({style:u,label:"",dim:w,tooltip:"Select hour",onClick:g}))&&G.SetText(Q);a=G.GetHTMLElement().style;a.minWidth="1.4rem";a.textAlign="right";L=new tf.ui.TextBtn({style:u,label:"",dim:w,
tooltip:"Select AM/PM",onClick:q});m();F=new tf.dom.Div({cssClass:v.unPaddedBlockDivClass});v.ApplyStyleProperties(F,A);F.AddContent(D,G,L)})();r(new Date)};
tf.ui.QuickTextMenus=function(a){function c(){p&&(p.menu.Detach(),p=void 0,e())}function e(){for(var a in q){var b=q[a],c=p==b;b.isCurrent!=c&&(b.button.SetStyle(c?v:t),b.isCurrent=c)}}function d(a){a=q[a];var b={};a&&(a=a.button.GetHTMLElement().getBoundingClientRect(),b={position:"absolute",left:a.left+"px",top:a.bottom+"px",zIndex:10,fontSize:"1rem"});return b}function b(a){return function(){var b=q[a];if(b){var f=p==b;c();f||(f=d(a),c(),b&&((p=b).menu.AppendTo(n,f),e(),g&&g({sender:h,isOpenMenu:!0}),
A.Notify(w,{sender:h})))}}}function f(a){return function(b){var d=q[a];if(d){var e=d.button,g=void 0!=b.item.label?b.item.label:b.text,f=e.GetText();c();g!=f&&(e.SetText(g),l&&l({sender:h,isSelect:!0,menuName:a,text:b.text,menuitem:d,item:b.item,index:b.index}))}else console.log("click without menu: "+a)}}var h,k,g,l,m,n,p,q,r,t,v,w,A;this.AddOpenListener=function(a){return A.AddListener(w,a)};this.GetIsOpen=function(){return void 0!=p};this.CloseIfOpen=function(){return c()};this.OnResize=function(){p&&
k.ApplyStyleProperties(p.menu,d(p.name))};this.GetItem=function(a){return q[a]};h=this;k=tf.GetStyles();w="open";A=new tf.events.MultiEventNotifier({eventNames:[w]});r=void 0!=a.buttonDim?a.buttonDim:"1rem";t=void 0!=a.buttonClasses?a.buttonClasses:!0;v=void 0!=a.buttonSelectedClasses?a.buttonSelectedClasses:!1;m=tf.js.GetIsNonEmptyArray(a.items)?a.items:[];g=tf.js.GetFunctionOrNull(a.onOpenMenu);l=tf.js.GetFunctionOrNull(a.onSelect);n=a.menuContainer;(function(){q={};for(var c in m){var d=a.items[c];
if(tf.js.GetIsValidObject(d)){var e=d.name;if(tf.js.GetIsNonEmptyString(e))if(void 0==q[e]){var g=d.items;if(tf.js.GetIsNonEmptyArray(g)){var h=void 0!=d.selIndex?d.selIndex:0;h>=g.length&&(h=0);h=void 0!=g[h].label?g[h].label:g[h].text;g=new tf.ui.QuickMenu({onClick:f(e),items:g});d=new tf.ui.TextBtn({style:t,label:h,dim:r,tooltip:tf.js.GetIsNonEmptyString(d.toolTip)?d.toolTip:h,onClick:b(e)});q[e]={name:e,menu:g,button:d,isCurrent:!1}}}else console.log("duplicate menu name: "+e)}}})()};
tf.ui.Select=function(a){function c(a,b){var c=a.settings.value,d=b.settings.value;return(c>d)-(c<d)}var e,d,b;this.AddOrSetOption=function(c){if(tf.js.GetIsValidObject(c)&&tf.js.GetIsNonEmptyString(c.value)){var e,k=b[c.value];void 0==k&&(k=b[c.value]={option:new tf.dom.Option({cssClass:a.optionsCSSClass})},e=!0);k.settings=c;e&&d.AddContent(k.option);k.option.GetHTMLElement().innerHTML=tf.js.GetNonEmptyString(c.innerHTML,"");k.option.GetHTMLElement().value=c.value}};this.GetCurrentOption=function(){return e.GetOption(e.GetHTMLElement().value)};
this.SetCurrentOption=function(a){e.GetOption(a)&&(e.GetHTMLElement().value=a)};this.GetOption=function(a){return b[a]};this.DelOption=function(a){var c=e.GetOption(a);c&&(delete b[a],d.RemoveContent(c.option))};this.Clear=function(){b={};d.ClearContent()};this.Sort=function(a){(a=tf.js.GetFunctionOrNull(a))||(a=c);var d=tf.js.ObjectToArray(b);d.sort(a);var k=!1;a=0;for(var g in b){var k=b[g],l=d[a++];if(k=k.settings.value!=l.settings.value)break}if(k){a=e.GetCurrentOption();e.Clear();for(g in d)e.AddOrSetOption(d[g].settings);
e.SetCurrentOption(a)}};e=this;b={};d=new tf.dom.Select({cssClass:a.cssClass});tf.dom.Insertable.call(e,{domObj:e,domElement:d.GetHTMLElement()});tf.js.GetFunctionOrNull(a.onChange)&&d.SetOnChange(a.onChange)};tf.js.InheritFrom(tf.ui.Select,tf.dom.Insertable);
tf.dom.RangeInput=function(a){var c=null;this.GetInput=function(){return GetHTMLElement()};c=this;(function(){var e=document.createElement("input");a=tf.js.GetValidObjectFrom(a);var d=tf.js.GetNonEmptyString(a.tooltip,""),b=tf.js.GetNonEmptyString(a.value,""),f=a.cssClass;e.type="range";tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:f,tooltip:d,value:b})})()};tf.js.InheritFrom(tf.dom.RangeInput,tf.dom.Element);
tf.helpers.DocCookies={getItem:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(a,c,e,d,b,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var h="";if(e)switch(e.constructor){case Number:h=Infinity===e?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+e;break;case String:h="; expires="+e;break;case Date:h="; expires="+
e.toUTCString()}document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(c)+h+(b?"; domain="+b:"")+(d?"; path="+d:"")+(f?"; secure":"");return!0},removeItem:function(a,c,e){if(!tf.helpers.DocCookies.hasItem(a))return!1;document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(e?"; domain="+e:"")+(c?"; path="+c:"");return!0},hasItem:function(a){return a?(new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie):!1},keys:function(){for(var a=
document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),c=a.length,e=0;e<c;e++)a[e]=decodeURIComponent(a[e]);return a}};
tf.services.TranslateRoutingInstruction=function(a){var c={};a=""+(parseInt(a,10)&63);c["0"]="No turn";c["1"]="Straight";c["2"]="Slight right turn";c["3"]="Right turn ";c["4"]="Sharp right turn";c["5"]="U-Turn";c["6"]="Sharp left turn";c["7"]="Left turn";c["8"]="Slight left turn";c["9"]="Reach via location";c["10"]="Head on";c["11"]="Enter round about";c["12"]="Leave round about";c["13"]="Stay in round about";c["14"]="Start at end of street";c["15"]="Enter against allowed direction";c["16"]="Leave against allowed direction";
return c[a]};
tf.services.BaseJSONService=function(a){function c(){f.call(h,k);k=null}function e(a){k=a.data;g&&(k=g(k));k&&(k.requestProps=a.requestProps);setTimeout(c,0)}var d,b,f,h,k,g,l;this.GetIsInProgress=function(){return!!b&&b.GetIsInProgress()};this.Cancel=function(){b&&(b.Cancel(),b=null,l=!0)};this.WasCancelled=function(){return l};d=this;(function(){l=!1;a=tf.js.GetValidObjectFrom(a);tf.js.GetIsNonEmptyString(a.serviceURL)&&(f=tf.js.GetFunctionOrNull(a.callBack))&&(g=tf.js.GetFunctionOrNull(a.filterData),h=
a.optionalScope,a.skipRemoteService?(k={failed:!0,requestProps:a.requestProps},setTimeout(function(){c()},0)):a.useAjax?b=new tf.ajax.GetRequest({requestProps:a.requestProps,url:a.serviceURL,useRedirect:a.useRedirect,autoSend:!0,optionalScope:d,onDataLoaded:e}):(b=new tf.ajax.JSONGet,b.Request(a.serviceURL,e,d,a.requestProps,a.useRedirect,a.overrideMimeType,a.JSONDecode)))})()};
tf.services.Geocoder=function(a){function c(a){var c={pointCoords:[0,0],geocoderAccuracy:0};a&&a.responseText&&(a=tf.helpers.XMLString2Object(a.responseText),tf.js.GetIsValidObject(c)&&(tf.js.GetIsNonEmptyString(a.GeocoderErrorMsg)?c.errorMsg=a.GeocoderErrorMsg:(c.pointCoords=[tf.js.GetLongitudeFrom(a.Longitude),tf.js.GetLongitudeFrom(a.Latitude)],c.geocoderAccuracy=parseInt(a.GeocoderLevel,10))));return c}var e,d;this.GetSettings=function(){return tf.js.ShallowMerge(d)};e=this;(function(){d=tf.js.ShallowMerge(a);
if(tf.js.GetFunctionOrNull(d.callBack)){var b=encodeURI(tf.js.GetNonEmptyString(d.address));d.serviceURL="http://vn4.cs.fiu.edu/cgi-bin/geocoder.cgi?street="+b+"&filetype=.xml";d.overrideMimeType="text/xml";d.JSONDecode=c;tf.services.BaseJSONService.call(e,d)}})()};tf.js.InheritFrom(tf.services.Geocoder,tf.services.BaseJSONService);
tf.services.TFReverseGeocoder=function(a){function c(b){b=b?tf.js.GetNonEmptyString(unescape(b.responseText),void 0):void 0;return{pointCoords:a.pointCoords,HTML:b}}function e(a){var b={success:!1,sender:d};tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(a.address)&&(b.success=!0,b=tf.js.ShallowMerge(b,a));return b}var d,b;this.GetSettings=function(){return tf.js.ShallowMerge(b)};d=this;(function(){b=tf.js.ShallowMerge(a);if(tf.js.GetFunctionOrNull(b.callBack)){var f="http://vn4.cs.fiu.edu/cgi-bin/reversegeocoder.cgi?Lat="+
a.pointCoords[1]+"&Long="+a.pointCoords[0];void 0!=a.resolution&&(f+="&Res="+a.resolution);var h=!!a.getJSON;tf.js.GetIsNonEmptyString(a.vidParam)&&(f+="&vid="+a.vidParam);if(tf.js.GetIsNonEmptyString(a.passThrough)){var k=a.passThrough;"&"!=k.charAt(0)&&(k="&"+k);f+=k}h&&(f+="&filetype=.json");b.serviceURL=f;h?b.filterData=e:(b.overrideMimeType="text/html",b.JSONDecode=c);tf.services.BaseJSONService.call(d,b)}})()};tf.js.InheritFrom(tf.services.TFReverseGeocoder,tf.services.BaseJSONService);
tf.services.ReverseGeocoder=function(a){function c(a){var c={success:!1,sender:e};tf.js.GetIsValidObject(a)&&tf.js.GetIsArrayWithMinLength(a=a.features,1)&&tf.js.GetIsValidObject(a=a[0].properties)&&(c.success=!0,c.pointCoords=[tf.js.GetLongitudeFrom(a.lon),tf.js.GetLatitudeFrom(a.lat)],c.address=a.ADDR,c.city=a.CITY,c.stdAddress=a.STD_ADDR,c.stdCity=a.STD_CITY,c.stdState=a.STD_STATE,c.stdZip=a.STD_ZIP,c.stdZipPlus=a.STD_PLUS);return c}var e,d;this.GetSettings=function(){return tf.js.ShallowMerge(d)};
e=this;(function(){d=tf.js.ShallowMerge(a);if(tf.js.GetFunctionOrNull(d.callBack)&&tf.js.GetIsArrayWithMinLength(d.pointCoords,2)){var b=tf.js.GetLongitudeFrom(d.pointCoords[0]),f=tf.js.GetLatitudeFrom(d.pointCoords[1]);d.serviceURL="http://vn4.cs.fiu.edu/cgi-bin/arquery.cgi?&tfaction=shortdisplayflash&numfind=1&category=firstamerican_points_2017&filetype=.json&lat="+f+"&lon="+b;d.filterData=c;tf.services.BaseJSONService.call(e,d)}})()};tf.js.InheritFrom(tf.services.ReverseGeocoder,tf.services.BaseJSONService);
tf.services.GetDirectionModeFrom=function(a,c,e){a=tf.js.GetNonEmptyString(a,c);switch(a=a.toLowerCase()){case tf.consts.routingServiceModeFoot:case tf.consts.routingServiceModeBicycle:case tf.consts.routingServiceModeCar:break;case tf.consts.routingServiceModeBus:e||(a=c);break;default:a=c}return a};
tf.services.Routing=function(a){function c(a){if(tf.js.GetIsValidObject(a)&&(0==a.status||200==a.status))if(tf.js.GetIsArrayWithMinLength(a.mapped_coordinate,2)){var b=a.mapped_coordinate,c=b[0];b[0]=b[1];b[1]=c;a.mapped_coordinate=b}else a.status=400,a.status_message="Invalid route";return a}function e(a){if(tf.js.GetIsValidObject(a)){if(0!==a.status&&200!==a.status||!tf.js.GetLooksLikeLineStringCoords(a.route_geometry))a.route_geometry=[];else{var b=a.route_geometry,c;for(c in b){var e=b[c],h=e[0];
e[0]=e[1];e[1]=h}e=a.via_indices;if(tf.js.GetIsArrayWithMinLength(e,2)&&(h=e.length,e[h-1]==b.length))for(c=1;c<h;++c)--e[c]}a.sender=d}else a={sender:d};return a}var d,b,f,h;this.GetSettings=function(){return tf.js.ShallowMerge(b)};d=this;(function(){var k=!1;b=tf.js.GetValidObjectFrom(a);void 0===b.level&&(b.level=14);f=tf.js.GetNonEmptyString(a.serverURL,null);var g="";void 0!==b.level&&(g="&z="+tf.js.GetLevelFrom(b.level));h=!f;if(b.locateOnly||b.nearestOnly){var l=b.coords;if(tf.js.GetIsArrayWithMinLength(l,
2)){var k=tf.services.GetDirectionModeFrom(b.mode,tf.consts.routingServiceModeFoot,!1),m=b.locateOnly?"/locate?":"/nearest?",n="loc="+l[1]+","+l[0];b.serviceURL=h?tf.consts.RoutingServiceURL+k+m+n:f+m+n+g;b.filterData=c;k=!0}}else if(l=b.lineStringCoords,tf.js.GetLooksLikeLineStringCoords(l)){k=tf.services.GetDirectionModeFrom(b.mode,tf.consts.routingServiceModeFoot,!1);switch(k=k.toLowerCase()){case tf.consts.routingServiceModeFoot:case tf.consts.routingServiceModeBicycle:case tf.consts.routingServiceModeCar:break;
default:k=tf.consts.routingServiceModeCar}var n="",m=l.length,p="",q="";tf.js.GetIsFalseNotUndefined(b.findAlternatives)&&(p="&alt=false");b.instructions&&(q="&instructions=true");25<m&&(m=25);for(var r=0;r<m;++r)var t=l[r],n=n+("&loc="+t[1]+","+t[0]);b.serviceURL=h?tf.consts.RoutingServiceURL+k+"/viaroute?compression=false"+n+p+q:f+"/viaroute?compression=false"+n+p+g+q;b.filterData=e;k=!0}b.skipRemoteService=!k;tf.services.BaseJSONService.call(d,b)})()};tf.js.InheritFrom(tf.services.Routing,tf.services.BaseJSONService);
tf.services.RasterSourceList=function(a){var c,e;this.GetSettings=function(){return tf.js.ShallowMerge(e)};c=this;(function(){e=tf.js.ShallowMerge(a);var d=tf.js.GetLevelFrom(e.level),b;void 0!==e.pointCoordinates?(b=tf.js.GetMapCoordsFrom(e.pointCoordinates),b=[b[0],b[1],b[0],b[1]]):b=tf.js.GetMapExtentFrom(e.extent);e.serviceURL="http://131.94.133.184/TileService/rsourcelist.aspx?projection=bing&z="+d+"&bbox="+b[1]+","+b[2]+","+b[3]+","+b[0];tf.services.BaseJSONService.call(c,e)})()};
tf.js.InheritFrom(tf.services.RasterSourceList,tf.services.BaseJSONService);
tf.services.RasterMosaic=function(a){function c(){setTimeout(e,50)}function e(){d.call(b,h);h=null}var d,b,f,h;this.GetSettings=function(){return tf.js.ShallowMerge(f)};(function(){f=tf.js.ShallowMerge(a);if(d=tf.js.GetFunctionOrNull(f.callBack)){b=f.optionalScope;var e=tf.js.GetLevelFrom(f.level),g=tf.js.GetMapCoordsFrom(f.leftTop),l=tf.js.GetMapExtentFrom(f.extent),m=tf.js.GetIsArrayWithMinLength(a.dim,2)?a.dim:[16,16],n=tf.js.GetNonEmptyString(f.source),p=tf.js.GetNonEmptyString(f.date);void 0!==
f.level&&void 0!==f.leftTop?f.serviceURL="http://131.94.133.184/TileService/rmosaic.aspx?projection=bing&z="+e+"&left="+g[0]+"&top="+g[1]+"&width="+m[0]+"&height="+m[1]:(e=tf.units.TM2OL([l[0],l[3]]),l=tf.units.TM2OL([l[2],l[1]]),f.serviceURL="http://131.94.133.184/TileService/rmosaic.aspx?projection=bing&bbox="+e[0]+","+e[1]+","+l[0]+","+l[1]+"&width="+m[0]+"&height="+m[1]);n&&(f.serviceURL+="&source="+n);p&&(f.serviceURL+="&date="+p);h=new tf.dom.Img({src:f.serviceURL,onLoad:c,crossOrigin:!0})}})()};
tf.services.Uber=function(a){function c(a,b){if(tf.js.GetFunctionOrNull(b)){var c={Authorization:"Token "+d};(new tf.ajax.JSONGet).Request("https://api.uber.com/"+f+a,function(a){b(a?a.data:void 0)},e,void 0,!1,void 0,void 0,void 0,c)}}var e,d,b,f,h;this.GetPriceEstimate=function(a,b,d,e){b="start_latitude="+b[1]+"&start_longitude="+b[0]+"&end_latitude="+d[1]+"&end_longitude="+d[0];void 0!=e&&(b+="&seat_count="+e);return c("/estimates/price?"+b,a)};this.GetTimeEstimate=function(a,b){return c("/estimates/time?"+
("start_latitude="+b[1]+"&start_longitude="+b[0]),a)};this.GetProducts=function(a,b){return c("/products?"+("latitude="+b[1]+"&longitude="+b[0]),a)};this.SetPickup=function(a,b,c,d,e,h){return setPickup(a,b,c,d,e,h)};this.MakeSetPickupUrl=function(a,c,d,e,f){a=h+"?client_id="+b+"&action=setPickup&pickup[latitude]="+a[1]+"&pickup[longitude]="+a[0]+"&pickup[formatted_address]="+c+"&dropoff[latitude]="+d[1]+"&dropoff[longitude]="+d[0]+"&dropoff[formatted_address]="+e;void 0!=f&&(a+="&product_id="+f);
return a};e=this;a=tf.js.GetValidObjectFrom(a);f=tf.js.GetNonEmptyString(a.uperApiVersion,"v1.2");d=tf.js.GetNonEmptyString(a.serverToken,"");b=tf.js.GetNonEmptyString(a.clientId,"");h=a.useDeepLink?"uber://":"https://m.uber.com/ul/"};
tf.services.MDTServiceAPI=function(a){function c(a,b,c){a=t+a;void 0!=b&&(a+="&RouteID="+b);void 0!=c&&(a+="&Dir="+c);return a}function e(a,c){tf.js.GetFunctionOrNull(c)&&(++f,new tf.ajax.GetRequest({onDataLoaded:function(a){--f;0>f&&console.log("MDTServiceAPI has negative number of pending requests: "+f);var b;a=a.httpRequest;200==a.status&&a.responseXML&&(b=tf.helpers.XML2Object(a.responseXML.documentElement));c(b)},optionalScope:b,url:a,autoSend:!0,useRedirect:!0}))}function d(a,b){return e(h+
a,b)}var b,f,h,k,g,l,m,n,p,q,r,t;this.GetHasRequestsPending=function(){return 0<f};this.GetBuses=function(a){return d(r,a)};this.GetBusRoutes=function(a){return d(k,a)};this.GetDirectionsForRouteId=function(a,b){return d(void 0!=a?g+a:g,b)};this.GetShapeIdsForRouteIdAndDirection=function(a,b,c){return d(l+a+"&Dir="+b,c)};this.GetShapeForShapeId=function(a,b){return d(m+a,b)};this.GetRouteServices=function(a){return d(n,a)};this.GetBusRouteStops=function(a,b,c){return d(p+a+"&Dir="+b,c)};this.GetBusTrackerURL=
function(a,b,d){return h+c(a,b,d)};this.GetBusTracker=function(a,b,e,g){return d(c(a,b,e),g)};this.GetBusSchedules=function(a,b,c,e,g,h){a=q+a+"&Service="+b+"&Dir="+c+"&StopID="+e;void 0!=g&&(a+="&Sequence="+g);return d(a,h)};b=this;f=0;h="http://www.miamidade.gov/transit/WebServices/";r="Buses";k="BusRoutes/";g="BusRouteDirections/?RouteID=";p="BusRouteStops/?RouteID=";m="BusRouteShape/?ShapeID=";n="BusRouteService";q="BusSchedules/?RouteID=";t="BusTracker/?StopID=";l="BusRouteShapesByRoute/?RouteID="};
tf.services.CRUDClient=function(a){function c(c,m,n,p,q,r){if(d&&void 0!==d[m]&&tf.js.GetFunctionOrNull(c)){var t=tf.js.GetNonEmptyString(q,g);q=k?k({sender:e}):h;var v=tf.js.GetIsNonEmptyArray(n)?n:void 0;n=void 0==v?n:void 0;var w=tf.js.GetIsNonEmptyArray(p)?p:void 0;p=void 0==w?p:void 0;if(m==d.put)if(void 0!=p)n=p.id;else{if(tf.js.GetIsNonEmptyArray(w))for(var v=[],A=0,u=w.length;A<u;++A)v.push(w[A].id)}else if(m==d.del)if(void 0==n&&void 0!=p)n=p.id,p=void 0;else{if(void 0==v&&void 0!=w){v=[];
for(A in w)v.push(w[A].id);w=void 0}}else m==d.listTables?t=n=v=p=w=void 0:m==d.rename_table&&(n=v=p=w=void 0);void 0!=p&&(p=JSON.stringify(p));if(void 0!=w)for(A in w)w[A]=JSON.stringify(w[A]);r={authForm:a.authForm,crudContent:{verb:m,tableName:t,newTableName:r,id:n,ids:v,value:p,values:w}};A=b[m];A.ajax&&A.ajax.Cancel();++A.counter>f&&(A.counter=1);c={counter:A.counter,then:c,sender:e,verbName:m,verbData:A,crudRecord:r};A.ajax=(new tf.ajax.JSONGet).Request(q,function(a){var b=a?a.requestProps:
void 0;if(b&&b.counter==b.verbData.counter){var c=!1,d="",e=a&&a.data&&a.data.OK?a.data:void 0,g=[];if(void 0!=e)if(c=!0,d=a.data.message,e.value)a=JSON.parse(e.value),e.id&&(a.id=e.id),g.push(a);else if(tf.js.GetIsNonEmptyArray(e.values))for(var h=e.values.length,f=tf.js.GetIsNonEmptyArray(e.ids)?e.ids:void 0,k=0;k<h;++k)a=JSON.parse(e.values[k]),f&&(a.id=f[k]),g.push(a);b.then({sender:b.sender,data:g,ok:c,message:d})}},e,c,!1,void 0,void 0,JSON.stringify(r))}}var e=this;if(!(e instanceof tf.services.CRUDClient))return new tf.services.CRUDClient(a);
var d,b,f,h,k,g;this.ListTables=function(a){c(a,d.list_tables,void 0,void 0,void 0)};this.RenameTable=function(a,b,e){c(a,d.rename_table,void 0,void 0,b,e)};this.Post=function(a,b,e){c(a,d.post,void 0,b,e)};this.Get=function(a,b,e){c(a,d.get,b,void 0,e)};this.Put=function(a,b,e){c(a,d.put,void 0,b,e)};this.Del=function(a,b,e,g){c(a,d.del,b,e,g)};(function(){if(a){d={post:"post",get:"get",put:"put",del:"del",list_tables:"list_tables",rename_table:"rename_table"};b={};f=1E3;for(var c in d)b[d[c]]={counter:0,
ajax:null};void 0!==a.serverURL?tf.js.GetIsNonEmptyString(a.serverURL)?h=a.serverURL:tf.js.GetFunctionOrNull(a.serverURL)&&(k=a.serverURL):h=tf.js.GetNonEmptyString(a.serverURL,"http://131.94.133.212/v1/CRUD/");g=tf.js.GetNonEmptyString(a.tableName,"_crud_test")}})()};tf.services.TestCrudClient=function(a){if(!(this instanceof testCrudClient))return new testCrudClient(a);tf.services.CRUDClient({serverURL:function(){return"http://192.168.0.105:8080/v1/CRUD/"},tableName:"_utma_stops3"})};
tf.ajax.GetRequest=function(a){function c(){if(!m&&q){try{f.open(t?"POST":"GET",h,!0);if(f.setRequestHeader&&(void 0!=w&&f.setRequestHeader("Content-type",w),A))for(var a in A){var b=A[a];b&&f.setRequestHeader(a,b)}f.onreadystatechange=d;f.send(v)}catch(c){q=!1}(m=q)||e(void 0,g)}}function e(c,d){if(k)try{k.call(a.optionalScope,{sender:b,httpRequest:c,requestProps:d})}catch(e){console.log("exception during AJAX notification: "+e)}}function d(){n||4!=f.readyState||(e(f,g),p=!0,f=null)}var b,f,h,k,
g,l,m,n,p,q,r,t,v,w,A;this.Send=function(){return c()};this.Cancel=function(){m&&!n&&!p&&f&&(f.abort(),f=null,n=!0)};this.WasCancelled=function(){return n};this.GetIsValid=function(){return q};this.WasSent=function(){return m};this.GetIsInProgress=function(){return m&&!n&&!p};this.WasReceived=function(){return p};b=this;(function(){m=n=p=!1;k=tf.js.GetFunctionOrNull(a.onDataLoaded);h=tf.js.GetNonEmptyString(a.url,null);if(q=!!h&&!!k){a.useRedirect&&(h=tf.platform.GetURL()+"RedirectStream.aspx?URL="+
escape(h));r=tf.js.GetNonEmptyString(a.overrideMimeType,"text/xml");g=a.requestProps;l=!!a.autoSend;t=!!a.usePost;v=a.postParams?a.postParams:null;w=a.contentType;A=a.requestHeaders;if(window.XMLHttpRequest)try{f=new XMLHttpRequest({mozSystem:!0}),f.overrideMimeType&&r&&f.overrideMimeType(r)}catch(b){f=null}else if(window.ActiveXObject)try{f=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{f=new ActiveXObject("Microsoft.XMLHTTP")}catch(B){f=null}}q=!!f;l&&(q?c():setTimeout(function(){e(void 0,g)},
10))}})()};
tf.ajax.JSONGet=function(){function a(a){e=null;var h=a.requestProps,k=h.JSONDecode,g;a=a.httpRequest;if(200<=a.status&&300>a.status||304===a.status)k?g=k(a):(g=a.responseText)&&(g=tf.js.JSONParse(g));d&&d.call(b,{sender:c,data:g,requestProps:h.clientProps})}var c,e,d,b;this.Request=function(f,h,k,g,l,m,n,p,q){tf.js.GetFunctionOrNull(f)&&(f=f());if(tf.js.GetNonEmptyString(f)){m=tf.js.GetNonEmptyString(m,"application/json");n=tf.js.GetFunctionOrNull(n);d=tf.js.GetFunctionOrNull(h);b=k;e&&(e.Cancel(),
e=null);var r,t;void 0!=p&&(r=!0,t="application/json; charset=utf-8");e=new tf.ajax.GetRequest({optionalScope:c,url:f,onDataLoaded:a,requestProps:{clientProps:g,JSONDecode:n},contentType:t,usePost:r,postParams:p,requestHeaders:q,overrideMimeType:m,useRedirect:l,autoSend:!0})}};this.GetIsInProgress=function(){return!!e&&e.GetIsInProgress()};this.Cancel=function(){e&&(e.Cancel(),e=null)};c=this};
tf.ajax.PeriodicJSONGet=function(a){function c(){if(h)try{h.call(r,{sender:f,data:p}),p=null}catch(a){console.log("exception during Periodic notification")}}function e(a){a.requestProps==q?(l=g=new Date,p=a.data,1E4<q&&(q=0),c(),b(),A&&(m=setTimeout(d,w))):F&&F.LogIfTest("PeriodicJSONGet: skipping stale response: "+a.requestProps+" last requested "+q)}function d(){n.Request(t,e,f,q=++q,v,void 0,u,C,B)}function b(){m&&(clearTimeout(m),m=null)}var f,h,k,g,l,m,n,p,q,r,t,v,w,A,u,C,B,F;this.GetLastRefreshTime=
function(){return l};this.GetIsRefreshing=function(){return!!n&&n.GetIsInProgress()};this.OnDelete=function(){k=!0;n&&n.Cancel();b();h=null};this.ChangeCallBack=function(a){k||(h=tf.js.GetFunctionOrNull(a))};this.RefreshNow=function(){return d()};this.Cancel=function(){n&&n.Cancel()};this.RefreshFromData=function(a){p=a;c()};f=this;F=tf.GetDebug();u=a.JSONDecode;C=a.postParams;B=a.requestHeaders;r=a.optionalScope;t=a.url;v=tf.js.GetBoolFromValue(a.useRedirect,!1);A=tf.js.GetBoolFromValue(a.autoRefresh,
!0);q=0;n=new tf.ajax.JSONGet;k=!1;(h=tf.js.GetFunctionOrNull(a.onRefresh))&&t&&(w=tf.js.GetFloatNumberInRange(a.refreshMillis,1E3,864E5,5E3),b(),A&&(m=setTimeout(d,w)),g&&(g=new Date))};tf.styles.SvgGlyphMapLensName=tf.consts.SVGGlyphPrefix+"maplens";tf.styles.SvgGlyphArrowToStartName=tf.consts.SVGGlyphPrefix+"arrowtostart";tf.styles.SvgGlyphArrowToEndName=tf.consts.SVGGlyphPrefix+"arrowtoend";tf.styles.SvgGlyphUserLocationName=tf.consts.SVGGlyphPrefix+"userlocation";
tf.styles.SvgGlyphTriangleDownName=tf.consts.SVGGlyphPrefix+"triangledown";tf.styles.SvgGlyphTriangleRightName=tf.consts.SVGGlyphPrefix+"triangleright";tf.styles.SvgGlyphBullsEye2Name=tf.consts.SVGGlyphPrefix+"bullseye2";tf.styles.SvgGlyphBullsEyeName=tf.consts.SVGGlyphPrefix+"bullseye";tf.styles.SvgGlyphEarthName=tf.consts.SVGGlyphPrefix+"earth";tf.styles.SvgGlyphDownloadName=tf.consts.SVGGlyphPrefix+"download";tf.styles.SvgGlyphMeasuringTapeName=tf.consts.SVGGlyphPrefix+"measuringtape";
tf.styles.SvgGlyphMeasure2Name=tf.consts.SVGGlyphPrefix+"measure2";tf.styles.SvgGlyphMeasureName=tf.consts.SVGGlyphPrefix+"measure";tf.styles.SvgGlyphCloseXName=tf.consts.SVGGlyphPrefix+"closex";tf.styles.SvgGlyphMapLayersName=tf.consts.SVGGlyphPrefix+"maplayers";tf.styles.SvgGlyphInfoName=tf.consts.SVGGlyphPrefix+"info";tf.styles.SvgGlyphMapDirectionsName=tf.consts.SVGGlyphPrefix+"mapdirections";tf.styles.SvgGlyphMapPinName=tf.consts.SVGGlyphPrefix+"mappin";
tf.styles.SvgGlyphParkingName=tf.consts.SVGGlyphPrefix+"parking";tf.styles.SvgGlyphMessagesName=tf.consts.SVGGlyphPrefix+"messages";tf.styles.SvgGlyphRoadName=tf.consts.SVGGlyphPrefix+"road";tf.styles.SvgGlyphBusStopName=tf.consts.SVGGlyphPrefix+"busstop";tf.styles.SvgGlyphBusStop2Name=tf.consts.SVGGlyphPrefix+"busstop2";tf.styles.SvgGlyphBusName=tf.consts.SVGGlyphPrefix+"bus";tf.styles.SvgGlyphLeftArrowName=tf.consts.SVGGlyphPrefix+"leftarrow";
tf.styles.SvgGlyphRightArrowName=tf.consts.SVGGlyphPrefix+"rightarrow";tf.styles.SvgGlyphHomeName=tf.consts.SVGGlyphPrefix+"home";tf.styles.SvgGlyphHollowStarName=tf.consts.SVGGlyphPrefix+"hollowstar";tf.styles.SvgGlyphStarName=tf.consts.SVGGlyphPrefix+"star";tf.styles.SvgGlyphUploadVideoName=tf.consts.SVGGlyphPrefix+"uploadvideo";tf.styles.SvgGlyphLogInName=tf.consts.SVGGlyphPrefix+"login";tf.styles.SvgGlyphLogOutName=tf.consts.SVGGlyphPrefix+"logout";
tf.styles.SvgGlyphPlusSignName=tf.consts.SVGGlyphPrefix+"plussign";tf.styles.SvgGlyphMagnifyingLensName=tf.consts.SVGGlyphPrefix+"magnifyinglens";tf.styles.SvgGlyphQuestionMarkName=tf.consts.SVGGlyphPrefix+"questionmark";tf.styles.SvgGlyphPlaySelectedName=tf.consts.SVGGlyphPrefix+"playselected";tf.styles.SvgGlyphDirectionName=tf.consts.SVGGlyphPrefix+"direction";tf.styles.SvgGlyphCompassName=tf.consts.SVGGlyphPrefix+"compass";tf.styles.SvgGlyphNoCompassName=tf.consts.SVGGlyphPrefix+"nocompass";
tf.styles.SvgGlyphTargetName=tf.consts.SVGGlyphPrefix+"target";tf.styles.SvgGlyphNoTargetName=tf.consts.SVGGlyphPrefix+"notarget";tf.styles.SvgGlyphAutoRepeatName=tf.consts.SVGGlyphPrefix+"autorepeat";tf.styles.SvgGlyphNoAutoRepeatName=tf.consts.SVGGlyphPrefix+"noautorepeat";tf.styles.SvgGlyphPlayName=tf.consts.SVGGlyphPrefix+"play";tf.styles.SvgGlyphPauseName=tf.consts.SVGGlyphPrefix+"pause";tf.styles.SvgGlyphStopName=tf.consts.SVGGlyphPrefix+"stop";
tf.styles.SvgGlyphGearName=tf.consts.SVGGlyphPrefix+"gear";tf.styles.SvgGlyphGear2Name=tf.consts.SVGGlyphPrefix+"gear2";tf.styles.SvgGlyphTwoGearsName=tf.consts.SVGGlyphPrefix+"twogears";tf.styles.SvgGlyphRefreshName=tf.consts.SVGGlyphPrefix+"refresh";tf.styles.SvgGlyphUndoName=tf.consts.SVGGlyphPrefix+"undo";tf.styles.SvgGlyphSortAscendingName=tf.consts.SVGGlyphPrefix+"sortasc";tf.styles.SvgGlyphSortDescendingName=tf.consts.SVGGlyphPrefix+"sortdsc";
tf.styles.SvgGlyphMaximumVolumeName=tf.consts.SVGGlyphPrefix+"maxvol";tf.styles.SvgGlyphMediumVolumeName=tf.consts.SVGGlyphPrefix+"medvol";tf.styles.SvgGlyphMinimumVolumeName=tf.consts.SVGGlyphPrefix+"minvol";tf.styles.SvgGlyphMuteVolumeName=tf.consts.SVGGlyphPrefix+"mutevol";
tf.styles.SvgGlyphNames=[tf.styles.SvgGlyphMapLensName,tf.styles.SvgGlyphArrowToStartName,tf.styles.SvgGlyphArrowToEndName,tf.styles.SvgGlyphUserLocationName,tf.styles.SvgGlyphTriangleDownName,tf.styles.SvgGlyphTriangleRightName,tf.styles.SvgGlyphBullsEye2Name,tf.styles.SvgGlyphBullsEyeName,tf.styles.SvgGlyphEarthName,tf.styles.SvgGlyphDownloadName,tf.styles.SvgGlyphMeasuringTapeName,tf.styles.SvgGlyphMeasure2Name,tf.styles.SvgGlyphMeasureName,tf.styles.SvgGlyphCloseXName,tf.styles.SvgGlyphMapLayersName,
tf.styles.SvgGlyphInfoName,tf.styles.SvgGlyphMapDirectionsName,tf.styles.SvgGlyphMapPinName,tf.styles.SvgGlyphParkingName,tf.styles.SvgGlyphMessagesName,tf.styles.SvgGlyphRoadName,tf.styles.SvgGlyphBusStopName,tf.styles.SvgGlyphBusStop2Name,tf.styles.SvgGlyphBusName,tf.styles.SvgGlyphLeftArrowName,tf.styles.SvgGlyphRightArrowName,tf.styles.SvgGlyphHomeName,tf.styles.SvgGlyphHollowStarName,tf.styles.SvgGlyphStarName,tf.styles.SvgGlyphUploadVideoName,tf.styles.SvgGlyphLogInName,tf.styles.SvgGlyphLogOutName,
tf.styles.SvgGlyphPlusSignName,tf.styles.SvgGlyphMagnifyingLensName,tf.styles.SvgGlyphQuestionMarkName,tf.styles.SvgGlyphPlaySelectedName,tf.styles.SvgGlyphDirectionName,tf.styles.SvgGlyphCompassName,tf.styles.SvgGlyphNoCompassName,tf.styles.SvgGlyphTargetName,tf.styles.SvgGlyphNoTargetName,tf.styles.SvgGlyphAutoRepeatName,tf.styles.SvgGlyphNoAutoRepeatName,tf.styles.SvgGlyphPlayName,tf.styles.SvgGlyphPauseName,tf.styles.SvgGlyphStopName,tf.styles.SvgGlyphGearName,tf.styles.SvgGlyphGear2Name,tf.styles.SvgGlyphTwoGearsName,
tf.styles.SvgGlyphRefreshName,tf.styles.SvgGlyphUndoName,tf.styles.SvgGlyphSortAscendingName,tf.styles.SvgGlyphSortDescendingName,tf.styles.SvgGlyphMaximumVolumeName,tf.styles.SvgGlyphMediumVolumeName,tf.styles.SvgGlyphMinimumVolumeName,tf.styles.SvgGlyphMuteVolumeName];
tf.styles.SvgGlyphLib=function(){this.GetGlyphByName=function(c){return a[c]};var a,c=[{name:tf.styles.SvgGlyphMapLensName,W:237.569,H:237.569,paths:[{d:"m221.780075,35.150684c-1.790283,-1.250271 -4.07785,-1.547016 -6.130142,-0.793118l-63.811768,23.442291l-63.809097,-23.443184c-1.489082,-0.547157 -3.122559,-0.547157 -4.609856,0l-66.109133,24.288879c-2.630637,0.966885 -4.379049,3.47187 -4.379049,6.273613l0,132.22625c0,2.184174 1.067582,4.23114 2.857881,5.480515c1.137094,0.793991 2.475583,1.203003 3.82566,1.203003c0.77618,0 1.556814,-0.135422 2.304478,-0.409897l63.804638,-23.442291l63.809105,23.442291c1.487305,0.54628 3.120773,0.54628 4.609848,0l66.116272,-24.288879c2.630646,-0.965988 4.379059,-3.470978 4.379059,-6.273605l0,-132.225368c0,-2.185074 -1.066696,-4.231129 -2.857895,-5.480499zm-10.509201,133.041637l-59.432709,21.832916l-63.809097,-23.442291c-0.744102,-0.273605 -1.524742,-0.409943 -2.304489,-0.409943c-0.780632,0 -1.561264,0.136337 -2.305367,0.409943l-57.121103,20.987183l0,-117.985855l59.42647,-21.832886l63.809097,23.442299c1.48732,0.546257 3.120758,0.546257 4.609879,0l57.12822,-20.987221l0,117.985855l-0.0009,0z"},{d:"m152.85585,115.300591c0,-22.732948 -18.492905,-41.227638 -41.224083,-41.227638c-22.732948,0 -41.227646,18.49469 -41.227646,41.227638c0,22.732048 18.494698,41.225853 41.227646,41.225853c8.958618,0 17.251564,-2.881058 24.020668,-7.753799l20.106735,20.103195c1.304642,1.304626 3.01474,1.956924 4.725723,1.956924c1.710083,0 3.421097,-0.652298 4.726593,-1.957809c2.610153,-2.610153 2.609268,-6.842178 -0.000885,-9.451416l-20.105865,-20.10321c4.870071,-6.769989 7.751114,-15.062035 7.751114,-24.019737zm-69.084641,0c0,-15.362343 12.498207,-27.86055 27.860558,-27.86055c15.36055,0 27.857002,12.498207 27.857002,27.86055c0,15.361443 -12.496452,27.858757 -27.857002,27.858757c-15.36235,-0.00087 -27.860558,-12.498215 -27.860558,-27.858757z"}]},
{name:tf.styles.SvgGlyphArrowToStartName,W:956.199,H:956.199,paths:[{d:"m319.474548,483.886353c0.350769,8.505585 2.104492,17.011169 5.086731,24.990631c1.753723,4.559723 4.033569,9.032562 6.664124,13.152985c3.156738,4.911316 6.752747,10.172546 11.224792,14.118408l201.063354,200.976501c30.778809,30.777954 80.760071,30.777954 111.624817,0c30.777954,-30.777954 30.777954,-80.759277 0,-111.624878l-66.290955,-66.291016l223.688232,0c43.5802,0 78.917786,-35.337646 78.917786,-78.917786c0,-43.581116 -35.337585,-78.917847 -78.917786,-78.917847l-223.688232,0l70.587585,-70.675293c30.778015,-30.779663 30.778015,-80.760986 0,-111.625732c-15.4328,-15.432861 -35.600647,-23.149231 -55.768555,-23.149231s-40.423523,7.717285 -55.768616,23.150085l-205.361755,205.360901c-12.101563,12.890747 -20.518555,28.498077 -22.534485,46.299286c-0.527039,4.384338 -0.701477,8.768646 -0.527039,13.152985z"},
{d:"m143.663208,897.328064c43.580994,0 78.917786,-35.337646 78.917786,-78.917847l0,-680.62146c0,-43.581055 -35.336792,-78.917847 -78.917786,-78.917847c-43.579285,0 -78.917847,35.336792 -78.917847,78.917847l0,680.62146c0,43.5802 35.338562,78.917847 78.917847,78.917847z"}]},{name:tf.styles.SvgGlyphArrowToEndName,W:956.199,H:956.199,paths:[{d:"m636.724365,472.312622c-0.350769,-8.505585 -2.104492,-17.011169 -5.086731,-24.990631c-1.753723,-4.559723 -4.033569,-9.032593 -6.664124,-13.152985c-3.156738,-4.911316 -6.752747,-10.172516 -11.224792,-14.118408l-201.063324,-200.976486c-30.778839,-30.777939 -80.760101,-30.777939 -111.624847,0c-30.777954,30.777954 -30.777954,80.759232 0,111.624863l66.290955,66.290985l-223.688217,0c-43.580185,0 -78.917816,35.337646 -78.917816,78.917816c0,43.581116 35.337631,78.917847 78.917816,78.917847l223.688217,0l-70.587616,70.675293c-30.777954,30.779663 -30.777954,80.760986 0,111.625732c15.432831,15.432861 35.600708,23.149231 55.768585,23.149231s40.423492,-7.717285 55.768616,-23.150085l205.361755,-205.360901c12.101563,-12.890747 20.518555,-28.498077 22.534485,-46.299286c0.527039,-4.384338 0.701477,-8.768646 0.527039,-13.152985z"},
{d:"m812.535706,58.870922c-43.580994,0 -78.917786,35.33765 -78.917786,78.91782l0,680.621475c0,43.581055 35.336792,78.917847 78.917786,78.917847c43.579285,0 78.917847,-35.336792 78.917847,-78.917847l0,-680.621475c0,-43.58017 -35.338562,-78.91782 -78.917847,-78.91782z"}]},{name:tf.styles.SvgGlyphUserLocationName,W:368.806,H:368.806,paths:[{d:"m166.194717,184.403c0,-10.05983 8.148453,-18.208298 18.208282,-18.208298c10.05983,0 18.208298,8.148468 18.208298,18.208298c0,10.05983 -8.148468,18.208282 -18.208298,18.208282c-10.05983,0 -18.208282,-8.148453 -18.208282,-18.208282z"},
{d:"m217.362122,61.836975l-9.163315,28.699081c-0.906876,2.82412 0.654984,5.846161 3.47908,6.74765c0.542526,0.171837 1.089523,0.257309 1.63205,0.257309c2.276184,0 4.385971,-1.454796 5.110199,-3.736397l9.1633,-28.699081c0.906906,-2.82412 -0.654968,-5.846161 -3.479065,-6.74765c-2.812439,-0.896088 -5.846161,0.66037 -6.742249,3.479088z"},{d:"m138.759247,104.568466c0.864594,0 1.739075,-0.209633 2.555084,-0.649574c2.6091,-1.417007 3.575348,-4.675667 2.158371,-7.279366l-14.370697,-26.47686c-1.417,-2.603691 -4.675667,-3.569946 -7.273964,-2.15834c-2.609085,1.417007 -3.575348,4.675667 -2.15834,7.279358l14.370689,26.47686c0.971664,1.793076 2.81871,2.807922 4.718857,2.807922z"},
{d:"m269.611359,144.127655c0.864594,0 1.739105,-0.209625 2.555115,-0.649582l26.476868,-14.370667c2.6091,-1.417015 3.575348,-4.675682 2.158325,-7.279381c-1.416992,-2.603683 -4.670258,-3.575348 -7.273926,-2.15834l-26.476898,14.370689c-2.60907,1.416992 -3.575348,4.675659 -2.158325,7.279358c0.971649,1.793076 2.813293,2.807922 4.718842,2.807922z"},{d:"m306.964539,217.367493l-28.699097,-9.1633c-2.813324,-0.933868 -5.846161,0.654984 -6.742249,3.479095c-0.90686,2.818726 0.654968,5.840744 3.479095,6.742233l28.699097,9.163315c0.542511,0.177246 1.089508,0.257294 1.632019,0.257294c2.276215,0 4.385986,-1.454788 5.110229,-3.736389c0.90686,-2.823212 -0.655884,-5.840759 -3.479095,-6.742249z"},
{d:"m144.696274,310.44812c0.542511,0.177246 1.089493,0.257324 1.632004,0.257324c2.276245,0 4.385971,-1.454803 5.110229,-3.73642l9.1633,-28.699066c0.906876,-2.818726 -0.654953,-5.840759 -3.479095,-6.742249c-2.818695,-0.933868 -5.846146,0.654968 -6.742218,3.479065l-9.163315,28.699097c-0.906876,2.823212 0.655869,5.846161 3.479095,6.742249z"},{d:"m227.486267,264.892517c-2.6091,1.416992 -3.575348,4.670288 -2.15834,7.273956l14.370667,26.476868c0.977066,1.793091 2.818726,2.807922 4.724274,2.807922c0.864578,0 1.739059,-0.209625 2.555099,-0.649597c2.60907,-1.416992 3.575363,-4.670227 2.158356,-7.273956l-14.370697,-26.476868c-1.422394,-2.603668 -4.675644,-3.564545 -7.279358,-2.158325z"},
{d:"m96.639534,225.334229l-26.47686,14.370667c-2.609085,1.417007 -3.575348,4.670258 -2.158348,7.273972c0.977058,1.793045 2.818718,2.807907 4.724251,2.807907c0.864601,0 1.739098,-0.20961 2.555115,-0.649597l26.476852,-14.370636c2.609093,-1.417023 3.575356,-4.670288 2.158348,-7.273987c-1.417,-2.604584 -4.670265,-3.576233 -7.279358,-2.158325z"},{d:"m93.799225,150.38678l-28.693687,-9.1633c-2.844803,-0.90152 -5.846161,0.660339 -6.747643,3.47905c-0.906883,2.824142 0.654976,5.846176 3.473686,6.747665l28.693687,9.1633c0.547913,0.171829 1.094917,0.257324 1.637428,0.257324c2.276207,0 4.380577,-1.454803 5.110214,-3.73642c0.906891,-2.823212 -0.654968,-5.845245 -3.473686,-6.74762z"},
{d:"m184.959015,147.267548c4.43454,0 8.036011,-3.586121 8.052185,-8.025177l0.376083,-112.664989c0.01619,-4.445351 -3.580734,-8.062988 -8.025192,-8.079182c-0.010803,0 -0.016205,0 -0.027008,0c-4.43454,0 -8.03598,3.586147 -8.052185,8.0252l-0.376068,112.659584c-0.016205,4.445343 3.58075,8.062988 8.025208,8.079178c0.010803,0.005386 0.01619,0.005386 0.026978,0.005386z"},{d:"m109.587822,128.559479c1.567245,0 3.119202,-0.681953 4.176346,-1.99189c1.867737,-2.308594 1.508774,-5.68512 -0.794434,-7.552872l-23.410728,-18.950081c-2.303192,-1.873146 -5.695915,-1.50338 -7.547462,0.794418c-1.867752,2.308601 -1.508774,5.68512 0.794418,7.552872l23.411629,18.950081c0.992355,0.805229 2.188934,1.197472 3.370232,1.197472z"},
{d:"m245.609573,114.967033c1.567261,0 3.119186,-0.681961 4.176315,-1.991898l18.950104,-23.41613c1.867737,-2.3032 1.508759,-5.68512 -0.794434,-7.54747c-2.303192,-1.867752 -5.690521,-1.503372 -7.547485,0.794418l-18.950073,23.41613c-1.867737,2.3032 -1.508759,5.68512 0.794434,7.54747c0.99324,0.810608 2.190704,1.197479 3.37114,1.197479z"},{d:"m342.282593,177.287384l-107.291138,-0.376068c-0.005402,0 -0.016205,0 -0.026993,0c-4.434555,0 -8.035995,3.586151 -8.0522,8.025208c-0.016205,4.450745 3.575363,8.062988 8.025208,8.079163l107.291138,0.376068c0.005432,0 0.016205,0 0.027008,0c4.43457,0 8.03598,-3.586121 8.052185,-8.025177c0.016205,-4.444458 -3.575348,-8.062988 -8.025208,-8.079193z"},
{d:"m183.439453,350.3078c0.010788,0 0.016205,0 0.026993,0c4.434555,0 8.03598,-3.586151 8.05217,-8.025208l0.376068,-112.65416c0.01622,-4.445358 -3.58075,-8.063004 -8.025177,-8.079208c-0.010803,0 -0.01619,0 -0.026993,0c-4.434555,0 -8.035995,3.586151 -8.0522,8.025208l-0.376053,112.654175c-0.01622,4.450775 3.580719,8.062988 8.025192,8.079193z"},{d:"m255.036438,242.24382c-1.867737,2.303192 -1.508759,5.685104 0.794434,7.54747l23.411621,18.950073c0.993256,0.799805 2.185364,1.197479 3.371124,1.197479c1.567261,0 3.119202,-0.681976 4.176361,-1.991913c1.867737,-2.303192 1.508759,-5.68512 -0.794434,-7.547455l-23.411621,-18.950104c-2.296906,-1.867737 -5.689636,-1.508743 -7.547485,0.794449z"},
{d:"m119.009331,255.836273l-18.944687,23.416138c-1.867752,2.308594 -1.508774,5.68512 0.794418,7.547455c0.993256,0.799805 2.185341,1.197479 3.371124,1.197479c1.567253,0 3.119217,-0.681946 4.176338,-1.991882l18.944695,-23.416168c1.867744,-2.308594 1.508766,-5.68512 -0.794418,-7.547455c-2.297806,-1.86235 -5.68512,-1.507874 -7.54747,0.794434z"},{d:"m230.412048,104.77269c1.900146,0 3.73642,-1.009445 4.71347,-2.786331l14.484055,-26.412079c1.42778,-2.598297 0.472305,-5.86235 -2.125992,-7.290154s-5.867722,-0.466934 -7.28476,2.125961l-14.484039,26.412079c-1.427795,2.598289 -0.472305,5.86235 2.125977,7.290161c0.81601,0.445335 1.702209,0.660362 2.571289,0.660362z"},
{d:"m161.021973,90.433495l-9.04007,-28.73687c-0.890671,-2.818718 -3.897415,-4.407562 -6.731445,-3.510574c-2.829498,0.891586 -4.402145,3.908234 -3.510559,6.731453l9.040024,28.73687c0.725143,2.292397 2.83403,3.757988 5.121017,3.757988c0.531738,0 1.073334,-0.080971 1.610428,-0.246513c2.828629,-0.891594 4.401291,-3.908234 3.510605,-6.732353z"},{d:"m276.762054,161.268463c0.531738,0 1.073334,-0.080048 1.610474,-0.246506l28.742249,-9.040024c2.829498,-0.891586 4.396759,-3.902847 3.51059,-6.731476c-0.890686,-2.824097 -3.902863,-4.412949 -6.731445,-3.510559l-28.74231,9.039124c-2.829498,0.891602 -4.396759,3.902863 -3.510559,6.731445c0.724243,2.292419 2.834015,3.757996 5.121002,3.757996z"},
{d:"m264.699982,227.84613c-1.427795,2.592911 -0.472321,5.862366 2.125977,7.28476l26.412079,14.484039c0.81604,0.45076 1.702209,0.66037 2.571289,0.66037c1.900146,0 3.73642,-1.00946 4.71347,-2.791718c1.427795,-2.592896 0.472351,-5.862335 -2.125946,-7.28476l-26.412079,-14.484039c-2.598328,-1.427795 -5.856995,-0.472321 -7.28479,2.131348z"},{d:"m133.67511,266.830414l-14.478645,26.417511c-1.427811,2.598297 -0.472336,5.862335 2.125961,7.284729c0.81601,0.450745 1.701309,0.66037 2.571304,0.66037c1.900131,0 3.736389,-1.00943 4.713463,-2.791718l14.478653,-26.41748c1.427765,-2.598297 0.472321,-5.862335 -2.125977,-7.284729c-2.603683,-1.433228 -5.866852,-0.471466 -7.28476,2.131317z"},
{d:"m216.824997,307.109375c0.725143,2.297791 2.834915,3.757965 5.121017,3.757965c0.531708,0 1.073303,-0.080963 1.610443,-0.24649c2.829498,-0.891571 4.402161,-3.908264 3.510559,-6.731476l-9.040039,-28.736847c-0.891602,-2.829529 -3.892059,-4.402161 -6.731445,-3.51059c-2.829514,0.891602 -4.402161,3.908234 -3.51059,6.731445l9.040054,28.735992z"},{d:"m90.428101,207.784927l-28.73597,9.040054c-2.829514,0.890686 -4.402161,3.908249 -3.510574,6.731445c0.725151,2.297821 2.834908,3.758011 5.12101,3.758011c0.531715,0 1.073326,-0.080093 1.610443,-0.246536l28.73687,-9.040024c2.829514,-0.890701 4.402168,-3.908234 3.510574,-6.731461c-0.891586,-2.829514 -3.892036,-4.408447 -6.732353,-3.51149z"},
{d:"m104.106926,140.970673c1.427803,-2.598297 0.472343,-5.862366 -2.125954,-7.290146l-26.412086,-14.484062c-2.598289,-1.427795 -5.867752,-0.466934 -7.284752,2.125961c-1.427803,2.598297 -0.472336,5.86235 2.125954,7.290154l26.412086,14.484039c0.81601,0.445343 1.702202,0.66037 2.571304,0.66037c1.900131,0 3.736397,-1.009445 4.713448,-2.786316z"},{d:"m122.691734,115.379982c1.218185,0 2.437256,-0.412949 3.446701,-1.255951c2.270805,-1.905533 2.571297,-5.287453 0.665771,-7.563667l-19.358543,-23.078743c-1.905533,-2.265411 -5.282051,-2.565903 -7.56366,-0.665771c-2.270805,1.90554 -2.571304,5.28746 -0.665764,7.563667l19.353134,23.078743c1.067932,1.266754 2.587509,1.921722 4.12236,1.921722z"},
{d:"m258.799835,128.060165c1.21817,0 2.437256,-0.412956 3.446686,-1.255959l23.084167,-19.358551c2.270813,-1.905533 2.571289,-5.287453 0.665771,-7.56366c-1.900146,-2.270805 -5.282074,-2.571304 -7.56369,-0.665764l-23.084137,19.358543c-2.270798,1.905533 -2.571289,5.28746 -0.665741,7.56366c1.062546,1.266754 2.582092,1.92173 4.116943,1.92173z"},{d:"m242.668472,254.69278c-2.270813,1.900116 -2.571304,5.287445 -0.66037,7.558258l19.358536,23.078735c1.057129,1.266754 2.576691,1.916351 4.117859,1.916351c1.21817,0 2.437225,-0.412964 3.446686,-1.255981c2.270844,-1.900146 2.57132,-5.287445 0.6604,-7.558258l-19.358551,-23.078735c-1.901031,-2.270844 -5.288361,-2.57132 -7.56456,-0.66037z"},
{d:"m106.554977,242.002701l-23.078751,19.353134c-2.270805,1.905518 -2.571304,5.292847 -0.665764,7.56366c1.062531,1.266785 2.582092,1.916321 4.12326,1.916321c1.21817,0 2.437248,-0.412933 3.446701,-1.250549l23.078751,-19.353149c2.270798,-1.905502 2.571289,-5.292847 0.665756,-7.563644c-1.911835,-2.265411 -5.288345,-2.561417 -7.569954,-0.665771z"},{d:"m133.81456,191.90007c0.005386,0 0.016205,0 0.026993,0c4.43454,0 8.036011,-3.586151 8.052185,-8.025192c0.016205,-4.450745 -3.575363,-8.062988 -8.025208,-8.079193l-107.291145,-0.376038c-0.005398,0 -0.016193,0 -0.026989,0c-4.434555,0 -8.035995,3.586151 -8.052193,8.025192c-0.016193,4.45076 3.575356,8.062988 8.0252,8.079178l107.291157,0.376053z"}]},
{name:tf.styles.SvgGlyphTriangleDownName,W:16,H:16,paths:[{d:"m2.282138,2.282138l11.435724,0l-5.67339,11.435724"}]},{name:tf.styles.SvgGlyphTriangleRightName,W:16,H:16,paths:[{d:"m2.282138,13.717862l0,-11.435724l11.435724,5.67339"}]},{name:tf.styles.SvgGlyphBullsEye2Name,W:390,H:390,paths:[{d:"m340.384766,173.735092l31.219025,0c-4.673218,-39.459625 -22.307343,-75.974045 -50.835632,-104.503242c-28.529175,-28.528301 -65.04274,-46.162409 -104.50325,-50.83563l0,31.21903c64.030197,9.325581 114.794266,60.089661 124.119858,124.119843z"},
{d:"m173.735092,49.61525l0,-31.21903c-39.459625,4.673222 -75.974045,22.307329 -104.503242,50.83563c-28.528301,28.529198 -46.162409,65.042717 -50.83563,104.503242l31.21903,0c9.325581,-64.030182 60.089661,-114.794262 124.119843,-124.119843z"},{d:"m216.264908,340.384766l0,31.219025c39.45871,-4.673218 75.974075,-22.307343 104.50325,-50.835632c28.52829,-28.529175 46.162415,-65.04274 50.835632,-104.50325l-31.219025,0c-9.325592,64.030197 -60.089661,114.794266 -124.119858,124.119858z"},{d:"m49.61525,216.264908l-31.21903,0c4.673222,39.45871 22.307329,75.974075 50.83563,104.50325c28.529198,28.52829 65.042717,46.162415 104.503242,50.835632l0,-31.219025c-64.030182,-9.325592 -114.794262,-60.089661 -124.119843,-124.119858z"},
{d:"m116.634109,173.735092c7.527847,-27.709595 29.391388,-49.573135 57.100983,-57.100983l0,-31.732529c-44.80574,8.638191 -80.19532,44.027771 -88.833511,88.833511l31.732529,0z"},{d:"m116.634109,216.264908l-31.732529,0c8.638191,44.80574 44.027771,80.195328 88.833511,88.832596l0,-31.731598c-27.709595,-7.526947 -49.574036,-29.391403 -57.100983,-57.100998z"},{d:"m273.365906,216.264908c-7.527863,27.709595 -29.391434,49.57225 -57.100998,57.100998l0,31.731598c44.80574,-8.637268 80.195328,-44.026855 88.833511,-88.832596l-31.732513,0z"},
{d:"m273.365906,173.735092l31.732513,0c-8.638184,-44.80574 -44.027771,-80.19532 -88.833511,-88.833496l0,31.732513c27.709595,7.526947 49.574051,29.391388 57.100998,57.100983z"},{d:"m193.5,159.5l3,0l0,71l-3,0l0,-71z"},{d:"m230.5,193.5l0,3l-71,0l0,-3l71,0z"}]},{name:tf.styles.SvgGlyphBullsEyeName,W:390,H:390,paths:[{d:"m340.384766,173.735092l31.219025,0c-4.673218,-39.459625 -22.307343,-75.974037 -50.835632,-104.503242c-28.529175,-28.528301 -65.04274,-46.162415 -104.50325,-50.835625l0,31.219021c64.030197,9.325584 114.794266,60.089664 124.119858,124.119846z"},
{d:"m173.735092,49.615246l0,-31.219021c-39.459625,4.67321 -75.974037,22.307323 -104.503242,50.835625c-28.528301,28.529205 -46.162415,65.042717 -50.835625,104.503242l31.219021,0c9.325584,-64.030182 60.089664,-114.794262 124.119846,-124.119846z"},{d:"m216.264908,340.384766l0,31.219025c39.45871,-4.673218 75.974075,-22.307343 104.50325,-50.835632c28.52829,-28.529175 46.162415,-65.04274 50.835632,-104.50325l-31.219025,0c-9.325592,64.030197 -60.089661,114.794266 -124.119858,124.119858z"},{d:"m49.615246,216.264908l-31.219021,0c4.67321,39.45871 22.307323,75.974075 50.835625,104.50325c28.529205,28.52829 65.042717,46.162415 104.503242,50.835632l0,-31.219025c-64.030182,-9.325592 -114.794262,-60.089661 -124.119846,-124.119858z"},
{d:"m116.634109,173.735092c7.527847,-27.709595 29.391388,-49.573135 57.100983,-57.100983l0,-31.732529c-44.80574,8.638191 -80.19532,44.027771 -88.833511,88.833511l31.732529,0z"},{d:"m116.634109,216.264908l-31.732529,0c8.638191,44.80574 44.027771,80.195328 88.833511,88.832596l0,-31.731598c-27.709595,-7.526947 -49.574036,-29.391403 -57.100983,-57.100998z"},{d:"m273.365906,216.264908c-7.527863,27.709595 -29.391434,49.57225 -57.100998,57.100998l0,31.731598c44.80574,-8.637268 80.195328,-44.026855 88.833511,-88.832596l-31.732513,0z"},
{d:"m273.365906,173.735092l31.732513,0c-8.638184,-44.80574 -44.027771,-80.19532 -88.833511,-88.833496l0,31.732513c27.709595,7.526947 49.574051,29.391388 57.100998,57.100983z"},{d:"m203.622787,153.380371l0,-134.984146l-17.245575,0l0,134.984146c-16.530121,3.418884 -29.577057,16.466721 -32.996841,32.996841l-134.984146,0l0,17.245575l134.984146,0c3.418884,16.530106 16.466721,29.577057 32.996841,32.997742l0,134.983261l17.245575,0l0,-134.984161c16.530106,-3.418884 29.577057,-16.466736 32.997742,-32.998657l134.983261,0l0,-17.245575l-134.984161,0c-3.418884,-16.528305 -16.466736,-29.576141 -32.996841,-32.995026z"}]},
{name:tf.styles.SvgGlyphEarthName,W:356.902,H:356.902,paths:[{d:"m40.129982,93.390343l-0.176014,-1.852318c-1.568474,2.457771 -3.07336,4.946877 -4.518353,7.479286l4.694366,-5.626968z"},{d:"m92.50428,54.721287l0,-2.56374l-5.952278,0l-0.33268,1.225662l-3.62352,0l0,0.310562l0,3.276093l8.185188,0"},{d:"m341.73584,141.128342l1.166656,2.184052c-0.203644,-0.931686 -0.428528,-1.862442 -0.652435,-2.783981l-0.514221,0.59993z"},{d:"m120.032738,103.000237l3.105621,-0.583344l2.48909,-1.579529l0,-3.265038l-5.594711,0c0,0.502235 0,5.42791 0,5.42791z"},
{d:"m332.430969,111.747559c-1.209961,-2.71949 -2.515839,-5.41777 -3.887054,-8.062614l-1.049652,1.166679l0,7.264557l3.233704,-0.433128l1.703003,0.064507z"},{d:"m92.359596,64.668472c0,0 0.300423,-3.597717 0,-3.597717c-0.305031,0 -3.945145,0.615593 -3.945145,0.615593l-5.80851,1.64312l1.562943,1.842171l8.190712,-0.503166z"},{d:"m306.272858,79.621498l3.265961,-4.81324c-2.623657,-3.18026 -5.364349,-6.258224 -8.21286,-9.240356l-0.021179,8.003639l-7.15213,3.582054l0.706818,2.361008l11.413391,0.106895z"},
{d:"m326.808594,119.093216l-4.346924,-4.727539l-0.8349,-7.575119l-4.443726,2.398788l-2.40802,9.278137l-6.425018,-6.761391l-0.256195,-6.402908l-6.210297,-5.278625l-2.290955,-2.259628l-7.195465,0l2.269806,6.349457l8.672638,4.76992l1.49939,1.590599l-1.863373,0.931679l0.075562,5.021515l-4.229889,1.745407l-3.596832,-0.791611l-2.248566,-3.153534l5.846313,0.316086l1.585052,-2.103882l-12.977203,-8.661629l-0.984253,-3.693558l-5.288727,4.710953l-5.355133,-1.08651l-8.137238,10.461411l-1.594299,4.111023l-5.214111,0.46077l-7.708755,0.04332l-4.604065,-2.126022l-1.350067,-9.052353l1.638519,-4.299019l7.848831,-1.713158l8.543671,1.713158l1.049652,-4.684219l-3.640137,-0.85704l1.249634,-7.279305l8.597137,-1.327034l6.0177,-8.410042l6.209381,-1.028442l5.611298,0.81926l2.055054,0l-1.13443,-7.891212l-6.810211,2.713951l-2.398804,-5.894211l-3.961731,-0.540947l-0.728027,-4.041908l3.233704,-3.479752l7.666351,-2.971069l1.979492,-3.485291c-21.799194,-18.988487 -48.642044,-32.420961 -78.263336,-38.080181c-0.680115,-0.117037 -1.33902,-0.240524 -2.018188,-0.358482c-3.046646,-0.551085 -6.172531,-0.909567 -9.299347,-1.295696c-6.140259,-0.669044 -12.367157,-1.055172 -18.705551,-1.055172c-36.543045,0 -70.329727,11.580164 -97.906105,31.174107l6.969666,-0.053459l3.742401,2.050446l7.050758,1.4883l0.55661,2.740681l11.194038,0.407326l-1.526077,-3.554409l-9.941658,-0.272778l2.345337,-2.189598l-0.819252,-2.591393l-8.994301,0l9.823692,-7.243362l9.395172,0l4.421585,6.017708l7.333679,0.406403l4.405907,-4.245567l3.32402,1.644043l-6.086815,5.877625c0,0 -8.432159,0.134544 -8.014694,0.134544s0.701294,5.733868 0.701294,5.733868l10.219948,-0.272778l1.107712,-2.730545l7.05629,-0.417458l0.824783,-4.089828l-4.133148,-0.691158l1.381393,-3.68343l3.169205,-0.952877l11.060425,0.545559l-6.092361,5.472145l0.985138,4.234512l6.359604,0.952881l-0.428528,-7.634102l6.086823,-3.148003l10.787628,-1.226585l15.622086,6.841568l0,5.878555l4.97818,1.225655l-2.500153,4.636307l-7.049835,0l-2.082703,5.332069l-16.130753,-3.752533l12.666656,-6.664635l-4.82338,-4.058495l-10.910202,1.360207l-0.97406,0.979599l-0.032257,-0.011059l-0.17601,0.230389l-3.14801,3.223576l-5.198456,0.438656l0.417465,2.564667l1.80899,0.733551l-0.063583,0.85704l-4.234512,0.588863l-0.305954,2.424595l-4.047424,0.20919l-0.722488,-4.81324l-7.259033,2.179455l-14.824013,8.586987l1.644043,6.038895l4.148804,2.676186l8.297615,1.129814l0,9.320526l3.839157,-0.615593l3.527695,-7.281143l8.828415,-2.762802l0,-11.183899l4.898026,-3.65118l11.852936,2.76281l-0.829391,7.382519l3.174744,0l8.720596,-4.234512l0.411926,9.695595l6.349457,3.821663l-0.262634,5.733864l-6.086823,2.055054l0.41745,1.895622l7.313416,3.298218l-0.128113,3.961731l-2.130615,0.182465c0,-0.064507 -0.021179,-0.106895 -0.021179,-0.106895l-9.250504,-2.816246l-0.385208,-2.93882l-0.011047,0l2.698273,-1.831116l0,-2.677094l-2.907471,-0.711433l-0.712357,2.467903l-5.107224,0.776863l-0.508682,-0.176933l0,0.251579l-1.761078,0.268173l-1.439453,-2.875229l-1.665253,-0.711441l-3.629959,0l-1.643127,1.327034l0,2.971069l3.105621,1.017387l3.067825,0.42852l-0.690231,0.305031l-2.805191,3.062302l-1.221054,-1.536224l-2.703827,-0.691154l-7.372375,6.852631l0.979614,0.775932l-10.889008,5.942146l-10.24115,10.530518l-0.691139,4.678696l-10.25222,6.664627l-5.096161,5.053772l0.567673,10.113052l-7.061813,-3.249374l0.058975,-5.920929l-19.622505,0l-10.166519,5.090622l-4.405907,8.035889l-1.755554,6.381714l2.863243,6.183578l8.004555,0.952881l12.73027,-8.410034l1.102158,4.169998l-3.880623,7.254425l9.695595,1.621918l0.963936,14.781616l1.215523,0.209198c-0.011063,-0.011078 -0.011063,-0.021194 -0.011063,-0.021194l0.133621,0.043304l11.938637,2.007126l8.432159,-9.636612l10.241142,2.060562l3.58667,4.941345l9.8237,-0.57782l0.262634,-2.864166l5.406708,2.591385l6.08223,9.417313l10.502869,0.154831l3.881546,6.696854l0.552017,8.19165l11.628082,4.373657l14.652603,0.13916l4.293488,6.954895l6.494141,2.055069l-1.231186,5.749527l-7.125397,8.940857l-2.07164,19.786514l-6.435165,5.032578l-9.528809,-0.279205l-3.191315,5.46106l2.372055,10.257751l-10.374771,13.105316l-3.329544,6.0177l-9.883591,4.710968l-6.488617,0.97406l-0.272781,2.73053l4.56073,1.295715l-0.551086,2.944336l-4.08429,3.876038l2.483566,3.083496l4.914612,0.150208l-0.272781,3.758057l-1.305817,3.682526l-0.406418,3.009766l7.270096,6.049011l-0.974091,3.148041l-9.903854,-0.181549l-9.844894,-8.512329l-7.671875,-13.331116l1.081894,-12.869385l-5.809433,-7.666351l2.345337,-12.956055l-3.431839,-0.974976l0,-28.148636c0,0 -9.690063,-7.259033 -10.241158,-7.259033c-0.55661,0 -5.118271,-1.209976 -5.118271,-1.209976l-0.963928,-5.321014l-12.586502,-15.589828l1.236717,-5.600235l0.417465,-9.154663l8.704933,-6.022308l-1.225662,-10.246674l-12.720108,-0.941833l-9.958244,-11.210617l-7.05629,-1.905762l-4.561653,-0.83493l0.55661,-4.100876l-5.80851,-0.819244l0,2.323212l-14.518978,-3.549805l-5.846298,-8.838547l2.029251,-3.62999l-2.398785,-0.021194l-0.691162,-2.302017l1.696568,-0.857056l-7.441494,-10.733246l-1.589672,-9.702057l-3.742405,0l1.252384,9.427429l6.360516,9.700211l-0.691158,3.839172l-5.39566,-0.81926l-6.623154,-11.183914l0,-13.003944l-6.916216,-3.292694l0,-7.923462c-3.672367,8.560257 -6.601044,17.516777 -8.795246,26.741463l2.280827,-0.46077l1.349148,6.413055l2.854034,4.550598l1.894703,2.147186l3.431839,1.327957l-3.244766,3.811523l-6.284954,0.604538l-4.814161,0l0.535418,-5.546799l3.929478,-0.813721l-0.342813,-2.596008l-3.254906,-2.039368c-1.820056,9.617264 -2.815326,19.51561 -2.885365,29.649857c0.481968,90.293152 74.907043,163.584747 166.362297,163.584747c51.999237,0 98.500519,-23.739075 129.036926,-60.785278l-5.471252,0l0,-10.931396l-6.360504,-8.44873l0,-13.169815l-4.839966,-4.753326l-0.41745,-5.482285l6.146729,-11.616089l-11.670502,-20.359756l1.391541,-13.817673l-10.493652,-1.07637l-3.886169,-3.821655l-7.056274,0l-3.596802,3.276108l-12.441803,0l-0.406433,1.097549l-6.938293,0l-15.868149,-17.897354l0.106903,-13.945786l2.633774,-0.952881l0.984222,-5.326538l-3.725815,0l-1.541748,-5.605789l18.395004,-13.11084l0,-9.279068l8.994324,-4.941345l3.640076,0.35849l7.409241,0l5.791931,-3.067841l18.674255,-1.444992l0,9.427444l14.722626,3.693573l2.912079,2.050446l2.698303,0l0,-5.118286l8.491119,-0.813736l8.082886,5.942154l13.277679,0l0.919708,-0.83493c-1.294769,-4.427124 -2.804291,-8.769455 -4.485199,-13.036209l-8.662537,0.145599l0,-0.000008l0,-0.000008zm-240.685104,64.612442l-3.159065,0.428513l0,-7.104202l1.022919,-1.145477c1.349144,2.591385 2.617195,5.219635 3.822578,7.885681l-1.686432,-0.064514zm10.765511,28.802032l0.514221,-0.599915c0.21933,0.920624 0.439583,1.820053 0.658913,2.741608l-1.173134,-2.141693z"},
{d:"m106.744949,105.751976l2.918541,1.541748l7.060898,-9.721405l-5.503479,0l-3.838249,4.089828"},{d:"m120.032738,105.869934l-2.484497,0.198128l-0.823853,3.586662l5.284149,0l2.392334,-2.361l0,-3.18026l-3.838242,0.519753"},{d:"m96.889,212.50769l1.162071,2.141693c-0.219322,-0.921555 -0.439583,-1.821915 -0.658905,-2.741608l-0.503166,0.599915z"},{d:"m82.964424,177.029968l0,7.104202l3.159065,-0.428513l1.675369,0.053452c-1.194328,-2.666046 -2.478043,-5.284164 -3.822578,-7.885681l-1.011856,1.15654z"},{d:"m20.140699,151.578674l0.342815,2.601532l-3.929482,0.808197l-0.536339,5.546783l4.737671,0l6.279428,-0.598999l3.249372,-3.817062l-3.431843,-1.327942l-1.90023,-2.146271l-2.847582,-4.550613l-1.349148,-6.413971l-2.280827,0.46077l-0.385208,0.074661c-0.546478,2.372055 -1.027525,4.759781 -1.467104,7.157654l0.262642,0.165863l3.255827,2.039398l0.000002,0l0.000004,0z"}]},
{name:tf.styles.SvgGlyphDownloadName,W:29.978,H:29.978,paths:[{d:"m24.494501,18.724583l0,6.215084l-19.011004,0l0,-6.215084l-3.653903,0l0,8.042036c0,1.008316 0.816819,1.826044 1.829675,1.826044l22.659461,0c1.01195,0 1.829676,-0.81682 1.829676,-1.826044l0,-8.042036l-3.653904,0z"},{d:"m14.654558,18.108339l-5.231272,-6.32127c0,0 -0.795944,-0.751473 0.067162,-0.751473s2.947808,0 2.947808,0s0,-0.50552 0,-1.285129c0,-2.222653 0,-6.267723 0,-7.916789c0,0 -0.117078,-0.448343 0.55816,-0.448343c0.680682,0 3.662069,0 4.149439,0c0.486462,0 0.475569,0.377552 0.475569,0.377552c0,1.59915 0,5.783985 0,7.934033c0,0.697019 0,1.148993 0,1.148993s1.671757,0 2.720915,0c1.047344,0 0.258661,0.786869 0.258661,0.786869s-4.450758,5.908321 -5.071538,6.528194c-0.446527,0.449251 -0.874904,-0.052637 -0.874904,-0.052637z"}]},
{name:tf.styles.SvgGlyphMeasuringTapeName,W:80.853,H:80.853,paths:[{d:"m76.442612,40.437309c0,-0.127323 -0.054695,-0.231339 -0.068146,-0.353287c-0.024208,-2.757259 -0.234032,-5.544113 -0.716438,-8.319305c-2.197739,-12.695959 -8.09066,-22.629272 -16.184906,-27.25609c-0.36853,-0.216098 -0.800728,-0.330872 -1.248165,-0.330872l-29.184824,0c-1.140566,0 -2.136765,0.763066 -2.428185,1.868661c-0.288727,1.100215 0.197268,2.260507 1.182709,2.820925c5.40423,3.096202 9.761152,9.528916 12.250311,17.702962l-16.678967,0c-0.494961,0 -0.92626,0.179335 -1.319899,0.427713c-1.59697,-0.060974 -3.21546,0.260033 -4.764009,1.035652c-8.132799,4.052952 -12.871703,16.671795 -10.797704,28.722145c1.51896,8.798126 5.70372,15.515091 11.471105,18.440926c1.952948,0.989922 4.018875,1.479507 6.103634,1.479507c0.95047,0 1.90453,-0.106705 2.853205,-0.31205l31.595972,-0.94957c0.364048,-0.009865 0.720924,-0.102219 1.043724,-0.264519c10.163761,-5.087708 16.754292,-19.223713 16.817059,-34.381027c0.026894,-0.111191 0.073524,-0.214306 0.073524,-0.331772zm-48.30722,30.224968c-0.617805,0.308456 -1.232922,0.540688 -1.839968,0.716446l-2.054272,0.058273c-0.326387,0.009865 -0.642015,0.088776 -0.928949,0.210724c-1.040138,-0.102219 -2.066826,-0.407089 -3.081858,-0.921776c-4.274427,-2.164566 -7.560724,-7.698814 -8.793646,-14.808514c-1.659736,-9.651764 2.0471,-20.357109 8.093348,-23.372612c1.446329,-0.719131 2.872932,-0.728096 4.233179,-0.041248c2.482882,1.260719 4.406239,4.563156 5.140612,8.835793c1.105595,6.408501 -1.526133,12.404537 -4.686895,13.979088c-0.674297,0.33894 -1.277756,0.348804 -1.896458,0.034073c-1.027584,-0.520065 -2.30534,-2.105381 -2.806578,-4.994453c-0.612427,-3.551708 0.817762,-7.133907 2.50709,-7.97678c1.245476,-0.618702 1.752094,-2.125107 1.134287,-3.366993c-0.618702,-1.243683 -2.130487,-1.752098 -3.3661,-1.133392c-3.883478,1.928734 -6.179852,7.787579 -5.224897,13.330795c0.703886,4.078056 2.707047,7.222679 5.497484,8.635834c2.034546,1.030273 4.310295,1.020409 6.401333,-0.028698c5.541418,-2.758156 8.792746,-11.252316 7.395735,-19.336693c-0.616909,-3.577717 -1.965502,-6.554661 -3.763327,-8.871658l11.199411,0c0.062767,0.346115 0.154228,0.672504 0.215199,1.025791c2.754574,15.901554 -3.250427,32.961609 -13.374729,38.026001zm29.647507,-0.251076l-21.750534,0.661743c8.598171,-8.36055 13.065388,-24.115047 10.436348,-39.308228c-1.612213,-9.363928 -5.245522,-17.226831 -10.288395,-22.562917l21.353306,0c3.383137,2.104486 6.327801,5.546803 8.645699,9.882203l-14.234642,0c-1.379978,0 -2.511574,1.126219 -2.511574,2.511574c0,1.387148 1.131596,2.51247 2.511574,2.51247l16.47094,0c0.971092,2.642488 1.770927,5.481346 2.286507,8.511196c0.313835,1.758369 0.467171,3.531982 0.564003,5.306496l-14.928665,0c-1.380871,0 -2.51247,1.126217 -2.51247,2.51157c0,1.383568 1.131599,2.511578 2.51247,2.511578l14.899979,0c-0.263618,4.917336 -1.256241,9.627548 -2.875626,13.817688l-16.427002,0c-1.379078,0 -2.51247,1.128014 -2.51247,2.51247c0,1.38356 1.133392,2.512466 2.51247,2.512466l14.014961,0c-2.190563,3.787537 -4.928104,6.862221 -8.166878,8.61969z"}]},
{name:tf.styles.SvgGlyphMeasure2Name,W:145.261,H:145.261,paths:[{d:"m31.43428,22.218863l-18.93448,0c-3.440969,0 -3.440969,2.776997 -3.440969,4.676542l0,8.060009l16.350917,0c0.474888,0 0.859154,0.585548 0.859154,1.061306c0,0.475758 -0.386009,1.061306 -0.859154,1.061306l-16.351789,0l0,4.245228l9.46811,0c0.474888,0 0.859154,0.585548 0.859154,1.061306c0,0.474888 -0.386009,1.061306 -0.859154,1.061306l-9.46811,0l0,4.245228l16.351792,0c0.474888,0 0.68314,0.509743 0.68314,0.984627c0,0.475758 -0.208252,1.137985 -0.68314,1.137985l-16.351792,0l0,4.245228l9.46811,0c0.474888,0 0.859154,0.585548 0.859154,1.061306s-0.386009,1.06131 -0.859154,1.06131l-9.46811,0l0,4.245224l16.351792,0c0.474888,0 0.859154,0.585548 0.859154,1.061302c0,0.474892 -0.386009,1.06131 -0.859154,1.06131l-16.351792,0l0,4.246101l9.46811,0c0.474888,0 0.859154,0.585548 0.859154,1.061302c0,0.475761 -0.386009,1.06131 -0.859154,1.06131l-9.46811,0l0,4.245232l16.351792,0c0.474888,0 0.859154,0.585541 0.859154,1.06218c0,0.474884 -0.386009,1.061302 -0.859154,1.061302l-16.351792,0l0,4.246094l9.46811,0c0.474888,0 0.662228,0.587296 0.662228,1.063927c0,0.474884 -0.186468,1.058693 -0.662228,1.058693l-9.46811,0l0,4.246101l16.351792,0c0.474888,0 0.859154,0.585541 0.859154,1.060432c0,0.476631 -0.386009,1.06218 -0.859154,1.06218l-16.351792,0l0,4.245224l9.46811,0c0.474888,0 0.859154,0.586418 0.859154,1.062172s-0.386009,1.06218 -0.859154,1.06218l-9.46811,0l0,4.245232l16.351792,0c0.474888,0 0.859154,0.585548 0.859154,1.06131s-0.386009,1.062172 -0.859154,1.062172l-16.351792,0l0,4.244354l9.46811,0c0.474888,0 0.859154,0.586426 0.859154,1.06218c0,0.474892 -0.386009,1.06218 -0.859154,1.06218l-9.46811,0l0,4.245224l16.351792,0c0.474888,0 0.859154,0.585556 0.859154,1.06218c0,0.474884 -0.386009,1.06044 -0.859154,1.06044l-16.351792,0l0,8.068718c0,1.9039 1.541422,2.546097 3.443583,2.546097l18.93448,0c1.899546,0 5.217653,-0.642197 5.217653,-2.546097l0,-94.672398c0,-1.899546 0,-4.676542 -5.219395,-4.676542z"},
{d:"m126.037849,112.169395l-1.886475,1.786278c-0.671814,0.671806 -1.761017,0.513222 -2.434555,-0.158585c-0.672699,-0.671814 -0.672699,-1.704369 0,-2.377922l1.991043,-1.991043l-5.081726,-5.540054l-4.802025,4.802895c-0.672691,0.671806 -1.761879,0.671806 -2.435432,0c-0.671814,-0.672684 -0.671814,-1.761879 0,-2.434563l4.908325,-4.909195l-5.081726,-5.538315l-2.554802,2.553062c-0.671814,0.672684 -1.761002,0.672684 -2.433685,0c-0.672691,-0.671806 -0.672691,-1.761002 0,-2.434555l2.658493,-2.65937l-5.081726,-5.540924l-5.468605,5.470345c-0.672684,0.671814 -1.761002,0.671814 -2.435425,0c-0.671814,-0.672676 -0.671814,-1.761871 0,-2.434555l5.574036,-5.574036l-5.904282,-6.438423l-2.399704,2.398834c-0.671806,0.672676 -1.761002,0.672676 -2.433685,0c-0.673561,-0.671814 -0.673561,-1.761009 0,-2.434555l2.500778,-2.502525l-5.904282,-6.439293l-6.210121,6.211868c-0.672684,0.671814 -1.761879,0.671814 -2.435432,0c-0.671814,-0.672684 -0.671814,-1.761871 0,-2.435425l6.317299,-6.317307l-5.081718,-5.540054l-2.242867,2.243729c-0.672676,0.672684 -1.761864,0.672684 -2.435425,0c-0.671806,-0.672684 -0.671806,-1.761871 0,-2.434555l2.34742,-2.34742l-5.081726,-5.540062l-5.157524,5.158409c-0.672691,0.672684 -1.761879,0.672684 -2.434563,0s-0.672684,-1.761871 0,-2.434559l5.264709,-5.264709l-5.905151,-6.438423l-2.086895,2.086891c-0.672684,0.672684 -1.761871,0.672684 -2.434555,0s-0.672684,-1.761875 0,-2.434559l2.192322,-2.193192l-5.081726,-5.540054l-5.003304,5.0033c-0.672684,0.672684 -1.761871,0.672684 -2.434555,0c-0.672684,-0.67181 -0.672684,-1.761002 0,-2.434555l4.676544,-5.106995l-10.867508,-11.494877c-1.309639,-1.373249 -2.339581,-0.950645 -2.339581,0.951519l0,98.111622c0,1.900421 1.479557,2.525177 3.381718,2.525177l89.504414,0c1.902161,0 2.418869,-0.696213 1.15889,-2.119125l-8.905205,-9.820145zm-72.402393,-0.796417l0,-52.887573l51.359241,52.886711l-51.359241,0l0,0.000862z"}]},
{name:tf.styles.SvgGlyphMeasureName,W:31.154,H:31.154,paths:[{d:"m26.068542,15.236625c0,0 -1.257383,0.254503 -2.836899,0.452053l-0.74749,-3.226662l0.575745,0l0,-5.375692l-1.964828,0l0,-4.229542l-2.09119,0l0,4.229542l-1.965717,0l0,5.375692l0.574854,0l-0.74482,3.222212c-1.576844,-0.196659 -2.836897,-0.446712 -2.836897,-0.446712l0,2.406203c0,0 0.979745,0.195772 2.295858,0.377304l-2.279841,9.841049l0.654943,0.151278l-0.189543,0.862282l0.399551,0.088099l-0.079199,0.364845l0.226917,0.049833l0.080088,-0.364847l0.484978,0.106785l0.185982,-0.850714l0.722573,0.167294l2.388405,-10.151611c0.392431,0.022245 0.783083,0.037374 1.158609,0.037374c0.355946,0 0.722572,-0.013348 1.093647,-0.033815l2.387514,10.148052l0.719904,-0.167294l0.199331,0.911224l0.484978,-0.105894l0.080978,0.363956l0.226025,-0.050724l-0.078306,-0.364845l0.39599,-0.088097l-0.202,-0.923681l0.658503,-0.153059l-2.277172,-9.836599c1.316114,-0.183313 2.29497,-0.381754 2.29497,-0.381754l0,-2.404424l0.003559,0l0,0.000889zm-8.410143,-7.533621l4.7866,0l0,4.140555l-0.102335,0l-1.901648,0l-0.779524,0l-1.901648,0l-0.101446,0l0,-4.140555zm-1.579515,19.993555l-1.285857,-0.297216l2.152589,-9.29912c0.435144,0.053391 0.894318,0.101444 1.357939,0.139709l-2.22467,9.456627zm2.780838,-11.822787c-0.460062,-0.029366 -0.922794,-0.06941 -1.371286,-0.117462l0.761726,-3.294292l1.411331,0l-0.801771,3.411755zm1.223568,0.042713c-0.195772,0 -0.394211,-0.004448 -0.597992,-0.011568l0.566847,-2.406203l0.567736,2.408875c-0.183313,0.006228 -0.362177,0.008897 -0.536591,0.008897zm0.357727,-3.454468l1.41222,0l0.762617,3.298742c-0.449383,0.048941 -0.911226,0.088985 -1.371286,0.117462l-0.803551,-3.416204zm4.870249,14.937325l-1.284081,0.297216l-2.223782,-9.452177c0.463621,-0.037374 0.921906,-0.086317 1.357941,-0.138821l2.149921,9.293781z"},
{d:"m5.085456,28.928133l6.877789,0l0,-27.213052l-6.877789,0l0,27.213052zm1.196872,-26.017068l4.484935,0l0,1.450485l-2.130344,0l0,0.862282l2.130344,0l0,0.931692l-1.382854,0l0,0.862282l1.382854,0l0,1.28052l-2.130344,0l0,0.861392l2.130344,0l0,0.931692l-1.382854,0l0,0.862282l1.382854,0l0,1.258273l-2.35548,0l0,0.862283l2.35459,0l0,0.932581l-1.607101,0l0,0.861393l1.607991,0l0,1.28052l-2.35548,0l0,0.862282l2.35459,0l0,0.931692l-1.607101,0l0,0.862282l1.607991,0l0,1.181746l-2.35548,0l0,0.862282l2.35459,0l0,0.93169l-1.607101,0l0,0.862282l1.607991,0l0,1.280521l-2.35548,0l0,0.861391l2.35459,0l0,0.932583l-1.607101,0l0,0.862282l1.607991,0l0,1.152378l-4.484935,0l0,-24.821086z"}]},
{name:tf.styles.SvgGlyphCloseXName,W:16,H:16,paths:[{d:"m14.743668,2.536786l-1.280454,-1.280454l-5.463214,5.463214l-5.462371,-5.463214l-1.281297,1.280454l5.463214,5.463214l-5.463214,5.463214l1.280454,1.280454l5.463214,-5.463214l5.46237,5.463214l1.280455,-1.280454l-5.462371,-5.463214"}]},{name:tf.styles.SvgGlyphMapLayersName,W:16,H:16,paths:[{d:"m8,8l-6,-3l6,-3l6,3l-6,3zm0,1.102l-3.703,-1.852l-2.297,0.75l6,3l6,-3l-2.109,-0.797l-3.891,1.899zm0,3l-3.703,-1.852l-2.297,0.75l6,3l6,-3l-2.109,-0.797l-3.891,1.899z"}]},
{name:tf.styles.SvgGlyphInfoName,W:16,H:16,paths:[{d:"m8,0.792577c-3.980299,0 -7.207423,3.227124 -7.207423,7.207423c0,3.979399 3.227124,7.207423 7.207423,7.207423s7.207423,-3.228024 7.207423,-7.207423c0,-3.980299 -3.227123,-7.207423 -7.207423,-7.207423zm-0.652272,12.30127c-0.840565,0 -1.254992,-0.367579 -1.178413,-0.882009c0.142347,-0.941469 0.366678,-2.764047 0.66939,-5.037989l-0.9703,-0.301811l0.106309,-0.479294l2.64062,-0.301811l0.325234,0.142346l-0.75768,5.399261c-0.041443,0.290099 0.029731,0.450464 0.207213,0.450464c0.135139,0 0.27208,-0.072074 0.544161,-0.272981l0.165771,0.432445c-0.141445,0.177484 -0.715337,0.851377 -1.752305,0.851377zm0.743266,-8.028169c-0.66038,0 -1.218055,-0.623442 -1.202739,-1.239676c0.021623,-0.809934 0.555872,-1.4568 1.469414,-1.4568c0.78651,0 1.276614,0.600919 1.262199,1.195531c-0.021622,0.82525 -0.474789,1.500946 -1.528874,1.500946z"}]},
{name:tf.styles.SvgGlyphMapDirectionsName,W:885.1,H:885.1,paths:[{d:"m78.585098,268.950256l0,475.153748c0,11.532715 7.332047,21.726929 18.240723,25.39209l204.135086,68.760376l0,-531.751801l-187.056778,-62.948364c-17.346558,-5.901398 -35.319031,7.063812 -35.319031,25.393951z"},{d:"m612.304932,487.39093c-7.690613,8.13855 -17.526306,13.859314 -28.165771,16.541809l0,259.48407l186.967346,62.948364c17.346558,5.812012 35.408447,-7.063843 35.408447,-25.393982l0,-475.152802c0,-11.534576 -7.331177,-21.727905 -18.239807,-25.393951l-38.628357,-13.054626c-8.494446,23.695038 -22.174988,50.161987 -40.952148,79.221954c-24.768066,38.359131 -58.119934,80.20639 -96.389709,120.799164z"},
{d:"m527.539246,487.302368c-37.196808,-39.701263 -70.101593,-81.09967 -95.316711,-119.727051c-19.492523,-29.954102 -33.620178,-56.95755 -42.204041,-80.83139l-58.656403,19.760773l0,531.752686l222.375824,-74.929138l0,-259.931091c-9.92511,-2.949829 -19.045471,-8.405945 -26.198669,-16.094788z"},{d:"m570.369141,46.842693c-0.178833,0 -0.357666,0 -0.447083,0c-89.683502,0 -163.719391,71.889896 -166.223022,161.573414c-0.447052,15.558258 1.251831,30.669434 4.82843,45.065308c1.430664,7.689697 3.755463,15.915924 6.974426,24.678619c15.379395,42.293427 39.789795,80.742004 67.240265,116.239868c17.79364,23.069153 54.543365,84.40802 87.179901,84.40802c34.693115,0 74.482971,-68.222961 92.544861,-92.634216c24.410339,-32.993347 47.837158,-68.581512 61.78595,-107.387787c3.219849,-8.941498 5.634033,-17.435944 7.063782,-25.304504c3.218933,-12.875793 4.917847,-26.377502 4.917847,-40.326294c0,-91.650665 -74.214661,-166.044178 -165.865356,-166.312428zm13.77002,249.200397c-4.649658,0.715332 -9.388611,1.162384 -14.217102,1.162384c-5.543701,0 -10.908569,-0.536469 -16.184143,-1.52002c-26.020752,-4.82843 -48.016022,-21.280853 -60.445648,-43.724091c-6.974365,-12.607574 -10.90863,-27.003418 -10.90863,-42.382843c0,-48.373672 39.253326,-87.626984 87.626984,-87.626984c48.374573,0 87.626953,39.253311 87.626953,87.626984c0,15.647675 -4.113098,30.311768 -11.266296,43.008759c-12.874939,22.62204 -35.586426,39.074463 -62.232117,43.455811z"}]},
{name:tf.styles.SvgGlyphMapPinName,W:430.114,H:430.114,paths:[{d:"m336.607635,122.049576c-1.31839,-4.941208 -3.995667,-10.206192 -5.976288,-14.815849c-23.700195,-56.957253 -75.484589,-77.369621 -117.297928,-77.369621c-55.974701,0 -117.624275,37.533478 -125.855011,114.898788l0,15.806137c0,0.659637 0.227341,6.585114 0.550262,9.549149c4.613968,36.870392 33.707451,76.055542 55.435623,112.925949c23.376404,39.502899 47.632874,78.362518 71.664597,117.20578c14.818436,-25.348419 29.583466,-51.03006 44.064346,-75.722321c3.946594,-7.246429 8.527802,-14.488586 12.478699,-21.405212c2.633392,-4.605347 7.664124,-9.210693 9.962494,-13.495728c23.375519,-42.797592 61.00116,-85.925888 61.00116,-128.398849l0,-17.448318c0.000854,-4.604492 -5.706757,-20.737015 -6.027954,-21.729904zm-122.249466,79.346771c-16.45372,0 -34.463516,-8.227295 -43.353043,-30.948364c-1.324417,-3.61676 -1.217636,-10.864944 -1.217636,-11.528885l0,-10.206192c0,-28.965164 24.59404,-42.137093 45.989822,-42.137093c26.340439,0 46.712341,21.073708 46.712341,47.414146c0,26.339569 -21.791061,47.406387 -48.131485,47.406387z"}]},
{name:tf.styles.SvgGlyphAlarmName,W:45.773,H:45.773,paths:[{d:"m7.230119,14.841127c2.270289,-3.466105 5.811132,-6.022158 9.953398,-7.023654c0.319178,-0.076496 0.582081,-0.30247 0.705179,-0.605821c0.12398,-0.30423 0.094084,-0.648905 -0.080013,-0.927635c-1.325947,-2.113779 -3.671854,-3.5215 -6.351886,-3.5215c-4.143147,0 -7.503739,3.358833 -7.503739,7.501979c0,1.758552 0.60758,3.373781 1.622264,4.651368c0.203113,0.257629 0.517893,0.400071 0.845862,0.385123s0.629561,-0.186407 0.808934,-0.459862z"},{d:"m34.316208,2.762518c-2.667727,0 -5.00572,1.394531 -6.334307,3.494242c-0.175854,0.277851 -0.206629,0.625165 -0.082651,0.931153c0.124857,0.306867 0.388641,0.531961 0.711334,0.607579c4.153698,0.977754 7.706852,3.516223 9.996487,6.970897c0.182011,0.274333 0.485359,0.444033 0.81509,0.455463c0.329727,0.01231 0.64275,-0.135408 0.844982,-0.396553c0.9716,-1.26264 1.552799,-2.841817 1.552799,-4.559923c-0.002636,-4.144025 -3.360592,-7.502859 -7.503735,-7.502859z"},
{d:"m39.474037,25.739748c0,-2.896334 -0.75354,-5.61857 -2.067177,-7.987339c-2.434715,-4.387585 -6.807356,-7.541546 -11.953754,-8.331137c-0.820366,-0.125736 -1.653038,-0.211024 -2.508574,-0.211024c-0.893343,0 -1.763826,0.091444 -2.619362,0.22861c-5.124418,0.822123 -9.475073,3.989274 -11.884289,8.382133c-1.289897,2.352943 -2.025852,5.05056 -2.025852,7.918756c0,4.911634 2.165657,9.317686 5.577245,12.345911l-1.392772,1.961662c-0.599666,0.844986 -0.40095,2.01442 0.444035,2.615849c0.329727,0.233883 0.708695,0.347309 1.084146,0.347309c0.587357,0 1.16592,-0.275211 1.53082,-0.789589l1.391893,-1.960785c2.346787,1.281105 5.036489,2.010902 7.894135,2.010902c2.856766,0 5.546471,-0.729797 7.893257,-2.010902l1.391897,1.960785c0.365776,0.515259 0.943459,0.789589 1.530819,0.789589c0.37545,0 0.753536,-0.113426 1.083267,-0.347309c0.844982,-0.601429 1.044579,-1.770863 0.444912,-2.615849l-1.392773,-1.961662c3.411587,-3.028225 5.578125,-7.434277 5.578125,-12.345911zm-16.528625,11.907152c-6.566431,0 -11.90715,-5.340721 -11.90715,-11.907152c0,-2.046951 0.519653,-3.973444 1.432342,-5.658136c1.737447,-3.204082 4.906356,-5.51218 8.639762,-6.093382c0.599665,-0.093203 1.209003,-0.156511 1.835047,-0.156511c0.589115,0 1.165039,0.057154 1.732172,0.140684c3.765059,0.552185 6.968258,2.860285 8.725935,6.078434c0.923237,1.690845 1.448166,3.62789 1.448166,5.688034c0,6.567308 -5.340723,11.90803 -11.906273,11.90803z"},
{d:"m29.615599,28.525293l-4.542339,-2.804888c-0.094084,-0.531082 -0.381605,-0.989185 -0.785192,-1.313639l0.207506,-5.699463c0.025501,-0.728043 -0.542511,-1.339138 -1.269672,-1.366396c-0.725403,-0.033413 -1.339136,0.541634 -1.366394,1.269674l-0.208389,5.70562c-0.563616,0.397432 -0.934669,1.051613 -0.934669,1.794601c0,1.214279 0.98391,2.197309 2.198189,2.197309c0.345556,0 0.668251,-0.087048 0.958412,-0.228613l4.35681,2.692343c0.216301,0.131893 0.456345,0.196079 0.69199,0.196079c0.442276,0 0.873121,-0.221577 1.123713,-0.625164c0.383366,-0.621651 0.189926,-1.434099 -0.429962,-1.817465z"}]},
{name:tf.styles.SvgGlyphParkingName,W:252.094,H:252.094,paths:[{d:"m185.140823,143.323944c-0.90892,0 -1.844482,0.130798 -2.780899,0.389069l-3.522354,0.970551l-5.189423,-12.640686c-2.90921,-7.086403 -11.508514,-12.851494 -19.169754,-12.851494l-56.956078,0c-7.660408,0 -16.260551,5.76593 -19.168922,12.852318l-5.180244,12.617371l-3.438225,-0.947235c-0.936409,-0.25827 -1.871994,-0.389053 -2.780907,-0.389053c-4.56958,0 -7.887009,3.278275 -7.887009,7.79451c0,4.458801 3.254105,8.212769 7.664581,9.339966c-2.41851,6.679016 -4.298004,16.69043 -4.298004,23.267792l0,26.898468c0,5.742584 4.671219,10.413818 10.413818,10.413818l3.818115,0c5.742599,0 10.413818,-4.671234 10.413818,-10.413818l0,-5.031952l77.841194,0l0,5.031952c0,5.742584 4.671204,10.413818 10.413788,10.413818l3.819794,0c5.742599,0 10.413818,-4.671234 10.413818,-10.413818l0,-26.898468c0,-6.570709 -1.876129,-16.568787 -4.290497,-23.247803c4.453796,-1.099701 7.750397,-4.873657 7.750397,-9.359955c-0.000824,-4.51709 -3.317413,-7.795349 -7.887009,-7.795349zm-105.493614,10.496277l8.465179,-20.622681c1.740356,-4.238815 6.913109,-7.707039 11.495186,-7.707039l52.788055,0c4.582062,0 9.754822,3.468224 11.495193,7.707039l8.465164,20.622681c1.740356,4.238861 -0.584839,7.707062 -5.166931,7.707062l-82.374931,0c-4.582077,0 -6.907265,-3.468201 -5.166916,-7.707062zm22.443855,33.533325c0,2.291046 -1.874489,4.165527 -4.165527,4.165527l-17.276932,0c-2.291039,0 -4.165527,-1.874481 -4.165527,-4.165527l0,-6.890625c0,-2.291016 1.874489,-4.165497 4.165527,-4.165497l17.276932,0c2.291039,0 4.165527,1.874481 4.165527,4.165497l0,6.890625zm73.239105,0c0,2.291046 -1.874481,4.165527 -4.165527,4.165527l-17.275269,0c-2.291016,0 -4.165497,-1.874481 -4.165497,-4.165527l0,-6.890625c0,-2.291016 1.874481,-4.165497 4.165497,-4.165497l17.275269,0c2.291046,0 4.165527,1.874481 4.165527,4.165497l0,6.890625z"},
{d:"m226.434509,80.635277l-95.740433,-56.120472c-1.270493,-0.744797 -2.920876,-1.154678 -4.647072,-1.154678c-1.726196,0 -3.376572,0.409882 -4.647064,1.154678l-95.740444,56.120472c-2.63512,1.544571 -4.62291,5.013618 -4.62291,8.068619l0,133.781685c0,3.444901 2.80257,6.248306 6.248291,6.248306l10.757061,0c3.445717,0 6.248291,-2.803406 6.248291,-6.248306l0,-113.208992c0,-1.14801 0.933907,-2.082748 2.082756,-2.082748l159.346375,0c1.148834,0 2.082764,0.934738 2.082764,2.082748l0,113.208992c0,3.444901 2.802551,6.248306 6.248276,6.248306l10.757889,0c3.44574,0 6.248291,-2.803406 6.248291,-6.248306l0,-133.781685c0.000824,-3.055 -1.986969,-6.524048 -4.62207,-8.068619l0,0z"}]},
{name:tf.styles.SvgGlyphMessagesName,W:611.932,H:611.932,paths:[{d:"m510.886414,229.428406l-110.864441,0l0,-89.889816c0,-23.360428 -19.199036,-42.558655 -42.558655,-42.558655l-258.904648,0c-23.359619,0 -42.558655,19.198227 -42.558655,42.558655l0,155.808914c0,23.360413 19.199036,42.558655 42.558655,42.558655l25.191315,0l31.738541,42.558655c1.775558,2.996124 5.381989,4.216705 8.989227,4.216705s6.603394,-1.775543 8.989227,-4.216705l31.738556,-42.558655l4.771698,0l0,89.889801c0,23.360413 19.199005,42.558655 42.558624,42.558655l152.202484,0l31.738556,42.558655c1.775543,2.996155 5.381989,4.216736 8.989227,4.216736s6.603394,-1.775574 8.989197,-4.216736l31.738586,-42.558655l25.191284,0c23.360474,0 42.558655,-19.199036 42.558655,-42.558655l0,-155.808899c0.056152,-23.415771 -19.086731,-42.558655 -43.057434,-42.558655zm-311.617828,86.282562c-3.60643,0 -6.603378,1.775574 -8.989212,4.216736l-26.356583,34.735474l-26.356567,-34.735474c-1.775543,-2.996155 -5.381973,-4.216736 -8.989227,-4.216736l-31.183578,0c-11.375076,0 -20.364304,-8.989227 -20.364304,-20.364288l0,-155.80809c0,-11.375061 8.989227,-20.364288 20.364304,-20.364288l258.904648,0c11.375061,0 20.363495,8.989227 20.363495,20.364288l0,101.264877l0,54.544037c0,11.375061 -8.989258,20.364288 -20.363495,20.364288l-135.499939,0l-21.529541,-0.000824l0,0zm332.591583,112.084991c0,11.375092 -8.989258,20.364319 -20.363525,20.364319l-31.183533,0c-3.606445,0 -6.603394,1.775543 -8.989258,4.216705l-26.356567,34.735504l-26.356567,-34.735504c-1.775543,-2.996124 -5.381958,-4.216705 -8.989227,-4.216705l-157.02948,0c-11.375061,0 -20.364288,-8.989227 -20.364288,-20.364319l0,-89.889801l125.235626,0c8.378937,0 16.202057,-2.385864 22.750122,-6.603394l83.896759,0c5.992249,0 10.764771,-4.771698 10.764771,-10.764771c0,-5.993103 -4.771729,-10.764771 -10.764771,-10.764771l-65.919128,0c1.775543,-4.216736 2.385834,-8.989227 2.385834,-14.371216l0,-43.168945l110.863617,0c11.375061,0 20.364258,8.989227 20.364258,20.364288l0,155.198608l0.055359,0zm-57.540161,-45.554779c0,5.992279 -4.771667,10.764771 -10.764771,10.764771l-163.021759,0c-5.992249,0 -10.764771,-4.771698 -10.764771,-10.764771s4.771698,-10.764771 10.764771,-10.764771l163.021759,0c5.937744,-0.055328 10.764771,4.771667 10.764771,10.764771zm-166.018707,-121.684509l-162.411469,0c-5.992279,0 -10.764771,-4.771698 -10.764771,-10.764801s4.771683,-10.76474 10.764771,-10.76474l162.411469,0c5.992279,0 10.764771,4.771667 10.764771,10.76474c0.610291,5.993103 -4.771698,10.764801 -10.764771,10.764801zm-173.176254,-73.076614c0,-5.992279 4.771683,-10.764786 10.764771,-10.764786l97.657639,0c5.992279,0 10.764771,4.771683 10.764771,10.764786c0,5.992264 -4.771667,10.764771 -10.764771,10.764771l-97.657623,0c-5.993103,-0.000824 -10.764786,-4.772507 -10.764786,-10.764771z"}]},
{name:tf.styles.SvgGlyphRoadName,W:455.416,H:455.416,paths:[{d:"m239.589569,78.242989c0.324921,8.700958 0.648163,17.401909 0.973938,26.102867c-6.284241,0 -9.425079,0 -15.708496,0c0.324097,-8.700958 0.648987,-17.401909 0.97226,-26.102867c-12.742554,0 -25.484299,0 -38.226852,0c-25.615936,104.87397 -51.236038,209.745262 -76.851135,314.621025c34.451172,0 68.902344,0 103.352661,0c0.324081,-8.701843 0.648163,-17.402802 0.973083,-26.102844c11.756149,0 23.512283,0 35.267624,0c0.326569,8.700928 0.649811,17.401001 0.973083,26.102844c34.451141,0 68.901459,0 103.352631,0c-25.615906,-104.873962 -51.235168,-209.74614 -76.851105,-314.621025c-12.74173,0 -25.484283,0 -38.227692,0zm-16.193329,65.186195c6.20755,0 12.415131,-0.003586 18.623535,-0.001785c0.901459,24.194366 1.802032,48.390518 2.705139,72.583984c-8.011261,0 -16.021729,0 -24.033813,0c0.904755,-24.192581 1.80452,-48.387833 2.705139,-72.582199zm-6.865753,184.247726c0.900589,-24.193451 1.803696,-48.387817 2.705124,-72.581299c8.981857,0 17.96373,-0.00177 26.944778,-0.00177c0.902252,24.193451 1.804535,48.389618 2.705109,72.583069c-10.783875,0 -21.570282,0 -32.355011,0z"},
{d:"m302.874146,78.242989c-5.205292,0 -7.808807,0 -13.01416,0c32.459167,104.87397 64.910828,209.747032 97.371704,314.621025c11.727814,0 23.456482,0 35.184296,0c-39.845612,-104.875763 -79.693695,-209.747055 -119.54184,-314.621025z"},{d:"m162.54184,78.242989c-39.848114,104.87487 -79.697067,209.745262 -119.54184,314.621025c11.728653,0 23.456482,0 35.185135,0c32.45668,-104.873962 64.912521,-209.74614 97.370865,-314.621017c-5.205338,-0.000008 -7.808838,-0.000008 -13.01416,-0.000008z"}]},{name:tf.styles.SvgGlyphBusStopName,
W:395,H:395,paths:[{d:"m299.633789,22.857147l-204.26757,0c-39.981285,0 -72.509071,32.526905 -72.509071,72.508179l0,204.259644c0,39.986572 32.527786,72.517883 72.509071,72.517883l204.26757,0c39.982178,0 72.509064,-32.531311 72.509064,-72.517883l0,-204.259644c0,-39.981274 -32.526886,-72.508179 -72.509064,-72.508179zm59.245056,276.767822c0,32.672791 -26.57666,59.253876 -59.245056,59.253876l-204.26757,0c-32.667507,0 -59.245052,-26.581085 -59.245052,-59.253876l0,-204.259644c0,-32.667492 26.577545,-59.24416 59.245052,-59.24416l204.26757,0c32.668396,0 59.245056,26.576668 59.245056,59.24416l0,204.259644z"},
{d:"m325.843475,251.141434l0,-57.280197c0,0 -4.294891,-33.228119 -6.375549,-49.842621c-1.909149,-13.932526 -8.834717,-35.414032 -75.069016,-35.414032c-66.236069,0 -73.299591,21.485046 -75.21051,35.414032c-2.082443,16.614502 -4.158707,33.229004 -6.237625,49.842621l0,57.281967c-1.465225,1.109741 -2.416687,2.863266 -2.416687,4.841354l0,8.755127c0,3.353149 2.722656,6.076691 6.076691,6.076691l13.057083,0l0,10.567871c0,2.250488 1.822479,4.072052 4.072052,4.072052l13.025269,0c2.245163,0 4.072052,-1.821564 4.072052,-4.072052l0,-10.567871l87.118027,0l0,10.567871c0,2.250488 1.824249,4.072052 4.072052,4.072052l13.025269,0c2.250458,0 4.074707,-1.821564 4.074707,-4.072052l0,-10.567871l13.057068,0c3.353149,0 6.075836,-2.723541 6.075836,-6.076691l0,-8.755127c0.00177,-1.978943 -0.950562,-3.732452 -2.416718,-4.843124zm-107.89743,-127.430893l52.900391,0c2.185059,0 3.949158,1.771164 3.949158,3.952667c0,2.179718 -1.764099,3.950027 -3.949158,3.950027l-52.900391,0c-2.182373,0 -3.946487,-1.770309 -3.946487,-3.950027c0,-2.181503 1.76413,-3.952667 3.946487,-3.952667zm-13.857346,117.128311c-6.746078,0 -12.211731,-5.470078 -12.211731,-12.212616c0,-6.747849 5.465652,-12.212616 12.211731,-12.212616c6.744308,0 12.210846,5.465652 12.210846,12.212616c-0.000015,6.741669 -5.466537,12.212616 -12.210846,12.212616zm80.619553,0c-6.747864,0 -12.213501,-5.470078 -12.213501,-12.212616c0,-6.747849 5.465637,-12.212616 12.213501,-12.212616c6.742523,0 12.210846,5.465652 12.210846,12.212616c0.000885,6.741669 -5.468323,12.212616 -12.210846,12.212616zm11.952637,-52.985306c-2.493652,0 -5.192413,0 -8.053894,0c-0.831207,-3.0065 -1.858734,-5.287933 -3.15686,-7.117477c-3.935883,-5.557632 -9.922333,-6.019211 -15.217346,-6.019211c-5.298553,0 -11.281464,0.460693 -15.213837,6.019211c-1.29808,1.829544 -2.325577,4.110977 -3.156815,7.117477c-21.77774,-0.0009 -44.522873,-0.0009 -59.724319,0.000885c-3.457489,0 -6.093475,-2.717377 -5.882141,-6.074936c0.649933,-10.462646 1.306061,-20.925293 1.962189,-31.387955c0.206924,-3.356674 3.01889,-6.07933 6.27211,-6.07933c25.371414,0 74.443832,0 99.817001,0c3.253235,0 6.063416,2.722656 6.27475,6.07933c0.651703,10.462662 1.305176,20.925308 1.957794,31.387955c0.209564,3.357559 -2.424652,6.074051 -5.878632,6.074051z"},
{d:"m258.46051,157.061569c-0.349243,1.147781 -0.543793,2.362762 -0.543793,3.623734c0,6.800903 5.514282,12.309875 12.315155,12.309875c6.801819,0 12.317871,-5.508102 12.317871,-12.309875c0,-1.260971 -0.19632,-2.475952 -0.550018,-3.623734l3.628143,-6.220825l-30.791962,0l3.624603,6.220825z"},{d:"m106.663605,211.505936c12.924454,-2.946381 22.574478,-14.501114 22.574478,-28.319565c0,-16.047684 -13.009346,-29.057037 -29.054382,-29.057037c-16.045929,0 -29.057045,13.009354 -29.057045,29.057037c0,13.818451 9.650902,25.374054 22.577141,28.319565l0,61.928787l-26.965759,0l0,12.960693l66.887787,0l0,-12.960693l-26.962219,0l0,-61.928787z"}]},
{name:tf.styles.SvgGlyphBusStop2Name,W:395,H:395,paths:[{d:"m354.270111,263.858307l0,-70.859711c0,0 -5.31308,-41.105591 -7.886993,-61.658936c-2.361755,-17.235527 -10.929199,-43.809692 -92.865784,-43.809692c-81.938797,0 -90.67688,26.578545 -93.040817,43.809692c-2.576141,20.553345 -5.144623,41.106674 -7.7164,61.658936l0,70.861908c-1.812592,1.372833 -2.989609,3.542053 -2.989609,5.989105l0,10.830719c0,4.148102 3.368118,7.517303 7.517303,7.517303l16.152542,0l0,13.073212c0,2.784027 2.254547,5.037445 5.03743,5.037445l16.11319,0c2.777435,0 5.03743,-2.253418 5.03743,-5.037445l0,-13.073212l107.771255,0l0,13.073212c0,2.784027 2.256744,5.037445 5.037445,5.037445l16.11319,0c2.783966,0 5.04071,-2.253418 5.04071,-5.037445l0,-13.073212l16.152527,0c4.148071,0 7.516235,-3.369202 7.516235,-7.517303l0,-10.830719c0.002197,-2.44809 -1.175903,-4.61731 -2.989655,-5.991302zm-133.476883,-157.641182l65.441605,0c2.703064,0 4.885376,2.191048 4.885376,4.889732c0,2.696465 -2.182312,4.886467 -4.885376,4.886467l-65.441605,0c-2.699753,0 -4.882095,-2.190002 -4.882095,-4.886467c0,-2.698685 2.182358,-4.889732 4.882095,-4.889732zm-17.142532,144.896156c-8.345383,0 -15.106796,-6.766876 -15.106796,-15.10788c0,-8.34758 6.761414,-15.10791 15.106796,-15.10791c8.343201,0 15.105698,6.761429 15.105698,15.10791c-0.000015,8.339905 -6.762497,15.10788 -15.105698,15.10788zm99.732178,0c-8.347595,0 -15.108978,-6.766876 -15.108978,-15.10788c0,-8.34758 6.761383,-15.10791 15.108978,-15.10791c8.341003,0 15.105713,6.761429 15.105713,15.10791c0.001099,8.339905 -6.764709,15.10788 -15.105713,15.10788zm14.786285,-65.546631c-3.084839,0 -6.423401,0 -9.963257,0c-1.028259,-3.719269 -2.299377,-6.541565 -3.905243,-8.80484c-4.868988,-6.875198 -12.274658,-7.446198 -18.824951,-7.446198c-6.554718,0 -13.955994,0.569916 -18.820618,7.446198c-1.605835,2.263275 -2.876923,5.085571 -3.905212,8.80484c-26.940643,-0.001129 -55.078003,-0.001129 -73.883286,0.001083c-4.277161,0 -7.538071,-3.361588 -7.276627,-7.515121c0.804016,-12.943054 1.615692,-25.886108 2.427368,-38.829163c0.255981,-4.152451 3.734573,-7.520584 7.759048,-7.520584c31.386276,0 92.092392,0 123.48082,0c4.024475,0 7.500885,3.368134 7.762299,7.520584c0.806213,12.943054 1.614624,25.886108 2.421936,38.829163c0.259247,4.153534 -2.999451,7.514038 -7.272278,7.514038z"},
{d:"m270.912537,147.474747c-0.432037,1.419876 -0.672699,2.922913 -0.672699,4.482819c0,8.413193 6.821564,15.228195 15.234711,15.228195c8.414368,0 15.238098,-6.813904 15.238098,-15.228195c0,-1.559906 -0.242859,-3.062943 -0.680389,-4.482819l4.488251,-7.695602l-38.091858,0l4.483887,7.695602z"},{d:"m83.12883,214.82634c15.988495,-3.644867 27.92627,-17.938919 27.92627,-35.03334c0,-19.852127 -16.093506,-35.945633 -35.942368,-35.945633c-19.849968,0 -35.945648,16.093506 -35.945648,35.945633c0,17.094421 11.93885,31.389526 27.929543,35.03334l0,76.610367l-33.358589,0l0,16.033325l82.74501,0l0,-16.033325l-33.354218,0l0,-76.610367z"}]},
{name:tf.styles.SvgGlyphBusName,W:45.437,H:45.437,paths:[{d:"m38.959923,13.213912c-0.322495,-3.15284 -0.836231,-5.607655 -1.649002,-6.572544c-3.351036,-3.967344 -26.824778,-4.25768 -29.489957,0c-0.651952,1.043123 -1.109187,3.489246 -1.416039,6.57776c-0.990098,0.116482 -1.761139,0.950111 -1.761139,1.970634l0,3.862162c0,0.858835 0.544162,1.582937 1.303904,1.865452c-0.179939,6.083143 -0.033902,12.429682 0.235571,15.585997c0,2.436565 1.636834,2.032352 1.636834,2.032352l1.534259,0l0,2.630405c0,1.043125 1.075286,1.887184 2.400052,1.887184c1.326505,0 2.401791,-0.844059 2.401791,-1.887184l0,-2.630405l17.849571,0l0,2.630405c0,1.043125 1.074417,1.887184 2.400925,1.887184c1.324764,0 2.400047,-0.844059 2.400047,-1.887184l0,-2.630405l0.504181,0c0,0 1.9263,0.264256 2.049736,-0.883183c0,-3.147621 0.198193,-10.123507 0.034771,-16.708221c0.807552,-0.252956 1.396919,-0.997049 1.396919,-1.892397l0,-3.862162c0.000866,-1.044864 -0.807552,-1.8924 -1.832424,-1.97585zm-25.40613,-6.00665l18.024294,0l0,2.726897l-18.024294,0l0,-2.726897zm0.257304,28.222559c-1.415171,0 -2.561736,-1.14743 -2.561736,-2.562599c0,-1.414307 1.146565,-2.560871 2.561736,-2.560871s2.562604,1.146564 2.562604,2.560871c0,1.415169 -1.146564,2.562599 -2.562604,2.562599zm17.670501,0c-1.414301,0 -2.563475,-1.14743 -2.563475,-2.562599c0,-1.414307 1.148308,-2.560871 2.563475,-2.560871s2.561741,1.146564 2.561741,2.560871c0.00087,1.415169 -1.146568,2.562599 -2.561741,2.562599zm3.257156,-11.21357l-24.345623,0l0,-12.769564l24.345623,0l0,12.769564z"}]},
{name:tf.styles.SvgGlyphLeftArrowName,W:493.578,H:493.578,paths:[{d:"m457.26651,228.576828c0,-15.198685 -12.252594,-27.58606 -27.58609,-27.58606l-228.65683,0l97.020416,-97.019516c10.713013,-10.713036 10.713013,-28.189125 0,-39.102592l-26.045654,-26.046513c-10.713013,-10.713034 -28.189133,-10.713034 -39.102585,0l-188.482964,188.482067c-5.356514,5.356506 -8.101299,12.38739 -8.101299,19.484772c0,7.029999 2.744785,14.12825 8.101299,19.484756l188.482933,188.482941c10.713043,10.712189 28.189163,10.712189 39.102615,0l26.045654,-26.046509c10.713013,-10.713013 10.713013,-28.189117 0,-39.10257l-97.020416,-96.685181l228.522064,0c15.199554,0 27.586945,-12.38736 27.586945,-27.586945l0.133911,-36.758652z"}]},
{name:tf.styles.SvgGlyphRightArrowName,W:493.578,H:493.578,paths:[{d:"m36.311493,263.730835c0,15.1987 12.252594,27.58606 27.58609,27.58606l228.65683,0l-97.020416,97.019531c-10.713013,10.713043 -10.713013,28.189117 0,39.1026l26.045654,26.046509c10.713013,10.713043 28.189133,10.713043 39.1026,0l188.482971,-188.482056c5.356506,-5.356506 8.101288,-12.387405 8.101288,-19.484787c0,-7.029999 -2.744781,-14.12825 -8.101288,-19.484756l-188.482971,-188.482941c-10.713028,-10.712189 -28.189148,-10.712189 -39.1026,0l-26.045654,26.046509c-10.713013,10.713013 -10.713013,28.189117 0,39.10257l97.020416,96.685181l-228.522064,0c-15.199554,0 -27.586945,12.38736 -27.586945,27.586945l-0.133911,36.758636z"}]},
{name:tf.styles.SvgGlyphHomeName,W:460.298,H:460.298,paths:[{d:"m230.148148,129.384476l-143.848549,124.868591c0,0.176208 -0.042053,0.435516 -0.126175,0.788879c-0.082367,0.350616 -0.126183,0.605286 -0.126183,0.786102l0,126.442703c0,4.565308 1.585144,8.521698 4.754555,11.853424c3.168533,3.333588 6.920662,5.010986 11.257233,5.010986l96.063759,0l0,-101.157074l64.051559,0l0,101.160767l96.062866,0c4.335693,0 8.093079,-1.673706 11.257263,-5.014679c3.169373,-3.328064 4.759796,-7.28717 4.759796,-11.853424l0,-126.442703c0,-0.701233 -0.091125,-1.230835 -0.25238,-1.574982l-143.853745,-124.868591z"},
{d:"m429.03418,225.801834l-54.785156,-47.94342l0,-107.478249c0,-2.457047 -0.750061,-4.477676 -2.255493,-6.05912c-1.493103,-1.579605 -3.412109,-2.3694 -5.750854,-2.3694l-48.032745,0c-2.336121,0 -4.254242,0.789795 -5.756989,2.3694c-1.499298,1.581444 -2.248505,3.602997 -2.248505,6.05912l0,51.367432l-61.04158,-53.740517c-5.331146,-4.566261 -11.669952,-6.848923 -19.00946,-6.848923c-7.338638,0 -13.676575,2.282661 -19.01297,6.848923l-179.881861,157.794754c-1.667511,1.402435 -2.581444,3.290207 -2.751438,5.661469c-0.169117,2.369385 0.413593,4.438904 1.749882,6.193832l15.510576,19.494019c1.336288,1.57962 3.085289,2.545654 5.254021,2.899017c2.002235,0.177124 4.004478,-0.439178 6.006721,-1.843475l173.11982,-152.001366l173.121536,152.000481c1.337158,1.22525 3.085297,1.836975 5.253998,1.836975l0.751831,0c2.165253,-0.346924 3.910736,-1.319397 5.254028,-2.895294l15.512329,-19.491287c1.333679,-1.758591 1.918121,-3.824417 1.744629,-6.196594c-0.170868,-2.364792 -1.088318,-4.252548 -2.752319,-5.657776z"}]},
{name:tf.styles.SvgGlyphHollowStarName,W:611.815,H:611.815,paths:[{d:"m566.952148,243.921387c-1.467346,-4.334747 -5.73468,-12.270111 -19.472168,-14.404205l-153.378998,-22.340393l-66.953827,-135.373337c-6.468842,-12.936798 -14.404205,-15.137466 -20.873016,-15.137466c-12.937653,0 -20.139771,12.936806 -21.606293,15.137466l-66.953827,135.374191l-151.244942,21.606293c-10.069443,1.467377 -18.005669,7.202087 -20.139755,15.137451c-2.867348,8.669495 0.733276,17.271545 9.336182,25.94104l108.032341,104.431732l-25.206924,149.111725c-0.733261,3.601501 -2.867355,15.137451 4.334732,23.07373c5.734711,7.202026 15.871613,8.669434 26.674316,3.60144c0,0 0.733292,0 0.733292,-0.733276l136.107468,-72.021881l136.107452,72.021881c5.067993,2.867371 10.069427,4.334778 14.404175,4.334778c5.734711,0 10.069458,-2.134094 13.670959,-5.734741c2.86731,-2.867371 5.73468,-8.669495 4.334717,-19.472168l-26.007629,-154.181488l110.166443,-107.299072c9.336182,-9.402771 9.336182,-17.271545 7.935303,-23.0737zm-141.909546,116.701813c-2.867371,2.867371 -4.334747,7.202118 -3.601471,11.536865l25.94104,149.778412l-134.706665,-70.554474c-3.601471,-2.134094 -8.669495,-2.134094 -12.270111,0l-134.706635,70.554474l25.94104,-149.778412c0.733261,-4.334717 -0.733276,-8.669464 -3.601471,-11.536835l-109.432304,-105.898254l150.511681,-21.606277c4.334717,-0.733276 7.935333,-3.601486 10.069427,-7.202133l66.953827,-136.107445l66.952942,136.107445c2.134094,3.601471 5.734741,6.468857 10.069489,7.202133l150.511658,21.606277l-108.632446,105.898224z"}]},
{name:tf.styles.SvgGlyphStarName,W:126.73,H:126.73,paths:[{d:"m112.326828,46.830582l-29.217438,-2.762756c-1.841827,-0.167442 -3.43335,-1.339523 -4.185997,-3.097641l-10.464996,-25.367153c-1.674393,-4.185997 -7.619354,-4.185997 -9.293747,0l-10.381279,25.367153c-0.669762,1.758118 -2.344154,2.930199 -4.185997,3.097641l-29.218275,2.762756c-4.353439,0.418606 -6.111557,5.860405 -2.846479,8.790596l22.018353,19.339325c1.423241,1.255791 2.009285,3.097633 1.590679,4.939476l-6.613874,27.124435c-1.004639,4.270546 3.599955,7.785957 7.451075,5.526344l24.362518,-14.316948c1.590679,-0.920921 3.516235,-0.920921 5.106918,0l24.36335,14.316948c3.851112,2.259613 8.455719,-1.172073 7.450233,-5.526344l-6.530151,-27.124435c-0.418594,-1.841843 0.167435,-3.683685 1.590683,-4.939476l22.018349,-19.339325c3.181374,-2.930191 1.339523,-8.37199 -3.013924,-8.790596z"}]},
{name:tf.styles.SvgGlyphUploadVideoName,W:32,H:32,paths:[{d:"m22.63689,14.389723l0,-7.030955l-4.634211,-4.632549l-15.276462,0l0,26.547564l19.910671,0l0,-0.048946c3.732422,-0.414803 6.635231,-3.574797 6.63689,-7.417557c-0.001659,-3.844419 -2.904469,-7.004407 -6.63689,-7.417555l0.000002,-0.000002zm-4.979328,-9.661653l2.976646,2.975816l-2.976646,0c0,0 0,-2.975816 0,-2.975816zm-13.272121,22.886486l0,-23.230775l11.614559,0l0,4.978498l4.977667,0l0,5.027444c-0.574921,0.063051 -1.129101,0.197448 -1.659222,0.384941l0,-2.09311l-9.955338,0l0,2.488833l-3.318445,-2.488833l0,8.296114l3.318445,-2.488832l0,2.488832l5.026614,0c-0.030695,0.272942 -0.048944,0.548372 -0.048944,0.829611c0,2.346972 1.085131,4.440079 2.779198,5.80728l-12.734533,0l0,-0.000002zm17.421837,-0.097063c-3.153353,-0.007463 -5.704405,-2.558517 -5.711874,-5.710217c0.007469,-3.153353 2.558521,-5.704405 5.711874,-5.711874c3.151695,0.007467 5.702751,2.558521 5.710217,5.711874c-0.007462,3.151695 -2.558517,5.702751 -5.710217,5.710217z"},
{d:"m18.488834,22.63689l6.63689,0l-3.320107,-3.318445"}]},{name:tf.styles.SvgGlyphLogInName,W:96.943,H:96.943,paths:[{d:"m38.658562,20.173479l39.757797,0l0,56.594442l-39.759399,0c-0.88131,0 -1.596565,0.715263 -1.596565,1.596565l0,5.879379c0,0.881302 0.715256,1.596565 1.596565,1.596565l47.234535,0c0.88131,0 1.596573,-0.715263 1.596573,-1.596565l0,-71.544723c0,-0.88131 -0.715263,-1.596573 -1.596573,-1.596573l-47.232933,0c-0.882111,0 -1.596573,0.715263 -1.596573,1.596573l0,5.877778c0,0.882902 0.713661,1.596563 1.596573,1.596563l0,-0.000008l0,0.000002z"},
{d:"m72.41008,47.187103l-21.49144,-21.489838c-0.598709,-0.599512 -1.658833,-0.598713 -2.257542,0l-5.098648,5.099447c-0.623466,0.623461 -0.623466,1.634085 0,2.257547l9.707142,9.708744l-42.022534,0c-0.881308,0 -1.596571,0.715267 -1.596571,1.596573l0,7.912601c0,0.88131 0.715263,1.596573 1.596571,1.596573l42.024938,0l-9.707157,9.708736c-0.623459,0.623463 -0.623459,1.634098 0,2.257565l5.098648,5.100243c0.299355,0.299355 0.70649,0.467789 1.12878,0.467789c0.423889,0 0.829422,-0.168434 1.128777,-0.467789l21.491432,-21.489845c0.299362,-0.299358 0.467796,-0.706482 0.467796,-1.128777c-0.000793,-0.424683 -0.17083,-0.830215 -0.470192,-1.12957z"}]},
{name:tf.styles.SvgGlyphLogOutName,W:96.943,H:96.943,paths:[{d:"m58.606525,76.769516l-39.757795,0l0,-56.594435l39.759394,0c0.88131,0 1.596569,-0.715265 1.596569,-1.596569l0,-5.879373c0,-0.881307 -0.71526,-1.59657 -1.596569,-1.59657l-47.234535,0c-0.881308,0 -1.596573,0.715263 -1.596573,1.59657l0,71.544719c0,0.88131 0.715265,1.596573 1.596573,1.596573l47.232937,0c0.882111,0 1.596573,-0.715263 1.596573,-1.596573l0,-5.877777c0,-0.882904 -0.713665,-1.596565 -1.596573,-1.596565z"},{d:"m86.695793,47.343121l-21.49144,-21.489838c-0.598709,-0.599512 -1.658833,-0.598713 -2.257542,0l-5.098648,5.099447c-0.623466,0.623459 -0.623466,1.634085 0,2.257547l9.707142,9.708744l-42.022533,0c-0.881308,0 -1.596571,0.715267 -1.596571,1.596573l0,7.912601c0,0.88131 0.715263,1.596573 1.596571,1.596573l42.024937,0l-9.707157,9.708736c-0.623459,0.623459 -0.623459,1.634094 0,2.257561l5.098648,5.100243c0.299355,0.299355 0.70649,0.467789 1.12878,0.467789c0.423889,0 0.829422,-0.168434 1.128777,-0.467789l21.491432,-21.489841c0.299362,-0.299358 0.467796,-0.706482 0.467796,-1.128777c-0.000793,-0.424683 -0.17083,-0.830215 -0.470192,-1.12957z"}]},
{name:tf.styles.SvgGlyphPlusSignName,W:533.333,H:533.333,paths:[{d:"m483.854065,208.749969l-159.271454,0l0,-159.27058c0,-7.996841 -6.482605,-14.479454 -14.478607,-14.479454l-86.875,0c-7.996841,0 -14.479462,6.482613 -14.479462,14.479454l0,159.27058l-159.27058,0c-7.996841,0 -14.479454,6.482635 -14.479454,14.479477l0,86.875015c0,7.995972 6.482613,14.478577 14.479454,14.478577l159.27058,0l0,159.271454c0,7.995972 6.48262,14.478577 14.479462,14.478577l86.875,0c7.996002,0 14.479492,-6.482605 14.479492,-14.478577l0,-159.271454l159.270569,0c7.995911,0 14.479431,-6.482605 14.479431,-14.478577l0,-86.875015c-0.000854,-7.996841 -6.483521,-14.479477 -14.479431,-14.479477z"}]},
{name:tf.styles.SvgGlyphMagnifyingLensName,W:16,H:16,paths:[{d:"m2.262,14.615l3.335,-2.607c0.86,0.713 1.927,1.198 3.119,1.344c3.317,0.404 6.333,-1.955 6.738,-5.273c0.406,-3.319 -1.954,-6.335 -5.273,-6.74c-3.317,-0.405 -6.335,1.956 -6.739,5.273c-0.146,1.193 0.07,2.343 0.556,3.351l-3.332,2.608c-0.188,0.146 -0.222,0.419 -0.075,0.606l1.063,1.363c0.149,0.187 0.422,0.221 0.608,0.075zm2.896,-7.793c0.288,-2.365 2.448,-4.056 4.813,-3.768c2.366,0.289 4.055,2.45 3.768,4.815c-0.289,2.367 -2.449,4.056 -4.813,3.767c-2.366,-0.288 -4.057,-2.448 -3.768,-4.814z"}]},
{name:tf.styles.SvgGlyphQuestionMarkName,W:16,H:16,paths:[{d:"m6.558,9.947c-0.063,-0.424 -0.047,-0.811 0.047,-1.16s0.229,-0.675 0.402,-0.975c0.176,-0.3 0.371,-0.574 0.59,-0.824c0.219,-0.249 0.428,-0.49 0.627,-0.721c0.199,-0.231 0.365,-0.455 0.496,-0.674c0.133,-0.219 0.197,-0.446 0.197,-0.684c0,-0.387 -0.115,-0.681 -0.346,-0.881c-0.232,-0.199 -0.533,-0.299 -0.908,-0.299c-0.35,0 -0.658,0.081 -0.928,0.243s-0.527,0.369 -0.777,0.618l-1.518,-1.386c0.424,-0.512 0.924,-0.924 1.498,-1.236s1.211,-0.468 1.911,-0.468c0.525,0 1.016,0.063 1.471,0.187c0.457,0.125 0.85,0.318 1.182,0.581c0.33,0.262 0.59,0.597 0.777,1.002c0.188,0.406 0.281,0.884 0.281,1.433c0,0.389 -0.07,0.734 -0.207,1.04c-0.137,0.307 -0.309,0.591 -0.516,0.853c-0.205,0.263 -0.424,0.516 -0.654,0.759s-0.444,0.496 -0.639,0.757c-0.191,0.263 -0.346,0.54 -0.457,0.833c-0.113,0.294 -0.15,0.628 -0.113,1.002l-2.416,0zm-0.45,2.829c0,-0.499 0.156,-0.914 0.467,-1.246c0.313,-0.33 0.707,-0.495 1.182,-0.495s0.871,0.165 1.189,0.495c0.318,0.332 0.479,0.747 0.479,1.246c0,0.487 -0.16,0.896 -0.479,1.227c-0.318,0.331 -0.715,0.497 -1.189,0.497s-0.869,-0.166 -1.182,-0.497c-0.31,-0.33 -0.467,-0.739 -0.467,-1.227z"}]},
{name:tf.styles.SvgGlyphPlaySelectedName,W:512,H:512,paths:[{d:"m256,92.481003c44.433014,0 86.179993,17.068001 117.553009,48.063995c31.240997,30.865997 48.446991,71.867996 48.446991,115.453995s-17.205994,84.587982 -48.447998,115.455017c-31.372009,30.993988 -73.119995,48.063995 -117.552002,48.063995s-86.179001,-17.070007 -117.552002,-48.063995c-31.241997,-30.867004 -48.447998,-71.869019 -48.447998,-115.455017s17.206001,-84.587997 48.447998,-115.453003c31.373001,-30.995987 73.119995,-48.064987 117.552002,-48.064987m0,-40.000004c-113.771011,0 -206,91.116993 -206,203.518009c0,112.397995 92.228989,203.520004 206,203.520004c113.772003,0 206,-91.121002 206,-203.520004c0,-112.400009 -92.227997,-203.518009 -206,-203.518009l0,0zm-49.455994,304.680012l0,-197.328018l160.919006,98.666l-160.919006,98.662018z"}]},
{name:tf.styles.SvgGlyphDirectionName,W:512,H:512,paths:[{d:"m256,92.481003c44.433014,0 86.179993,17.068001 117.553009,48.063995c31.240997,30.865997 48.446991,71.867996 48.446991,115.453995s-17.205994,84.587982 -48.447998,115.454987c-31.372009,30.994019 -73.119995,48.063995 -117.552002,48.063995s-86.179001,-17.069977 -117.552017,-48.063995c-31.241982,-30.866974 -48.447983,-71.868988 -48.447983,-115.454987s17.206001,-84.587997 48.447998,-115.453003c31.373001,-30.995987 73.119995,-48.064987 117.552002,-48.064987m0,-40.000004c-113.770996,0 -206,91.117008 -206,203.517994c0,112.39801 92.229004,203.52002 206,203.52002c113.772003,0 206,-91.121002 206,-203.52002c0,-112.399994 -92.227997,-203.517994 -206,-203.517994l0,0z"},
{d:"m370.083466,282.923218c-6.344604,6.339935 -10.186737,5.512634 -45.754547,-9.9151c-17.957001,-7.789948 -33.174683,-14.163147 -33.809814,-14.163147c-0.638367,0 -1.161194,21.506592 -1.161194,47.795807l0,47.798981l-33.63327,0l-33.635681,0l0,-48.177338c0,-37.146271 -1.012207,-47.758057 -4.426788,-46.364685c-2.433212,0.996094 -18.586517,7.789886 -35.894592,15.100494c-32.626236,13.775665 -41.374649,13.771027 -44.087418,-0.020874c-1.34729,-6.864563 102.349655,-113.741272 113.922836,-117.417114c41.328461,35.600739 84.587952,78.156128 122.729858,117.355286c0,2.065369 -1.910706,5.669067 -4.24939,8.00769z"}]},
{name:tf.styles.SvgGlyphCompassName,W:32,H:32,paths:[{d:"m8.88776,8.937267c3.894513,-3.921812 10.253166,-3.944012 14.174973,-0.049506s3.944019,10.25316 0.049505,14.174972s-10.253159,3.944019 -14.174971,0.049507s-3.944013,-10.253167 -0.049507,-14.174973m-2.370751,-2.354249c-5.200529,5.236982 -5.170973,13.699442 0.06601,18.899971s13.699442,5.170973 18.899971,-0.06601s5.170973,-13.699443 -0.06601,-18.899971s-13.699443,-5.170973 -18.899971,0.06601l0,0z"},{d:"m15.993603,13.492196c0.942642,-0.002105 1.737152,0.538501 2.167452,1.305994l-2.194059,-8.248177l-2.076434,8.182772c0.435124,-0.726224 1.193476,-1.237406 2.103042,-1.240589z"},
{d:"m16.44162,17.090729c-1.097321,0.005255 -2.016274,-0.608433 -2.548089,-1.479322l2.574435,9.838581l2.574963,-9.953221c-0.510595,0.932097 -1.462778,1.589986 -2.601309,1.593963z"}]},{name:tf.styles.SvgGlyphNoCompassName,W:32,H:32,paths:[{d:"m8.88776,8.937267c3.894513,-3.921812 10.253166,-3.944012 14.174973,-0.049506s3.944019,10.25316 0.049505,14.174972s-10.253159,3.944019 -14.174971,0.049507s-3.944013,-10.253167 -0.049507,-14.174973m-2.370751,-2.354249c-5.200529,5.236982 -5.170973,13.699442 0.06601,18.899971s13.699442,5.170973 18.899971,-0.06601s5.170973,-13.699443 -0.06601,-18.899971s-13.699443,-5.170973 -18.899971,0.06601l0,0z"},
{fill:"#f00",d:"m15.993603,13.492196c0.942642,-0.002105 1.737152,0.538501 2.167452,1.305994l-2.194059,-8.248177l-2.076434,8.182772c0.435124,-0.726224 1.193476,-1.237406 2.103042,-1.240589z"},{fill:"#f00",d:"m16.44162,17.090729c-1.097321,0.005255 -2.016274,-0.608433 -2.548089,-1.479322l2.574435,9.838581l2.574963,-9.953221c-0.510595,0.932097 -1.462778,1.589986 -2.601309,1.593963z"}]},{name:tf.styles.SvgGlyphTargetName,W:390,H:390,paths:[{d:"m331.655457,175.011902l29.344543,0c-4.392609,-37.090363 -20.967926,-71.412354 -47.783325,-98.228592c-26.816223,-26.81538 -61.13736,-43.39069 -98.228592,-47.78331l0,29.344551c60.185654,8.765648 107.901718,56.481697 116.667374,116.667351z"},
{d:"m175.011902,58.344551l0,-29.344551c-37.090363,4.39262 -71.412354,20.96793 -98.228592,47.78331c-26.81538,26.816254 -43.39069,61.137375 -47.78331,98.228592l29.344551,0c8.765648,-60.185654 56.481697,-107.901703 116.667351,-116.667351z"},{d:"m214.988098,331.655457l0,29.344543c37.089508,-4.392609 71.412354,-20.967926 98.228577,-47.783325c26.815399,-26.816223 43.390717,-61.13736 47.783325,-98.228592l-29.344543,0c-8.765656,60.185654 -56.48172,107.901718 -116.667343,116.667374l-0.000015,0z"},{d:"m58.344551,214.988098l-29.344551,0c4.39262,37.089508 20.96793,71.412354 47.78331,98.228577c26.816254,26.815399 61.137375,43.390717 98.228592,47.783325l0,-29.344543c-60.185654,-8.765656 -107.901703,-56.48172 -116.667351,-116.667343l0,-0.000015z"},
{d:"m121.339417,175.011902c7.075851,-26.045837 27.626648,-46.596634 53.672501,-53.672493l0,-29.827217c-42.115494,8.119514 -75.380196,41.384216 -83.499718,83.49971l29.827217,0z"},{d:"m121.339417,214.988098l-29.827217,0c8.119522,42.115479 41.384224,75.380157 83.499718,83.49884l0,-29.826355c-26.045853,-7.075012 -46.597504,-27.626648 -53.672501,-53.672485z"},{d:"m268.660583,214.988098c-7.075867,26.045837 -27.626678,46.595795 -53.672501,53.672485l0,29.826355c42.115494,-8.118683 75.380173,-41.383362 83.49971,-83.49884l-29.827209,0z"},
{d:"m268.660583,175.011902l29.827209,0c-8.119537,-42.115494 -41.384216,-75.380196 -83.49968,-83.499702l0,29.827217c26.045837,7.074997 46.597458,27.626648 53.67247,53.672501l0,-0.000015z"},{d:"m203.105057,155.879333l0,-126.879333l-16.210114,0l0,126.879333c-15.537598,3.213593 -27.801178,15.478012 -31.01561,31.01561l-126.879333,0l0,16.210114l126.879333,0c3.213593,15.537598 15.478012,27.801147 31.01561,31.016449l0,126.878494l16.210114,0l0,-126.879333c15.537598,-3.213593 27.801163,-15.478012 31.016464,-31.017334l126.878479,0l0,-16.210098l-126.879333,0c-3.213593,-15.535889 -15.478012,-27.800308 -31.01561,-31.013916l0,0.000015z"}]},
{name:tf.styles.SvgGlyphNoTargetName,W:390,H:390,paths:[{d:"m331.655457,175.011902l29.344543,0c-4.392609,-37.090363 -20.967926,-71.412354 -47.783325,-98.228592c-26.816223,-26.81538 -61.13736,-43.39069 -98.228592,-47.78331l0,29.344551c60.185654,8.765648 107.901718,56.481697 116.667374,116.667351z"},{d:"m175.011902,58.344551l0,-29.344551c-37.090363,4.39262 -71.412354,20.96793 -98.228592,47.78331c-26.81538,26.816254 -43.39069,61.137375 -47.78331,98.228592l29.344551,0c8.765648,-60.185654 56.481697,-107.901703 116.667351,-116.667351z"},
{d:"m214.988098,331.655457l0,29.344543c37.089508,-4.392609 71.412354,-20.967926 98.228577,-47.783325c26.815399,-26.816223 43.390717,-61.13736 47.783325,-98.228592l-29.344543,0c-8.765656,60.185654 -56.48172,107.901718 -116.667343,116.667374l-0.000015,0z"},{d:"m58.344551,214.988098l-29.344551,0c4.39262,37.089508 20.96793,71.412354 47.78331,98.228577c26.816254,26.815399 61.137375,43.390717 98.228592,47.783325l0,-29.344543c-60.185654,-8.765656 -107.901703,-56.48172 -116.667351,-116.667343l0,-0.000015z"},
{d:"m121.339417,175.011902c7.075851,-26.045837 27.626648,-46.596634 53.672501,-53.672493l0,-29.827217c-42.115494,8.119514 -75.380196,41.384216 -83.499718,83.49971l29.827217,0z"},{d:"m121.339417,214.988098l-29.827217,0c8.119522,42.115479 41.384224,75.380157 83.499718,83.49884l0,-29.826355c-26.045853,-7.075012 -46.597504,-27.626648 -53.672501,-53.672485z"},{d:"m268.660583,214.988098c-7.075867,26.045837 -27.626678,46.595795 -53.672501,53.672485l0,29.826355c42.115494,-8.118683 75.380173,-41.383362 83.49971,-83.49884l-29.827209,0z"},
{d:"m268.660583,175.011902l29.827209,0c-8.119537,-42.115494 -41.384216,-75.380196 -83.49968,-83.499702l0,29.827217c26.045837,7.074997 46.597458,27.626648 53.67247,53.672501l0,-0.000015z"},{fill:"#f00",d:"m203.105057,155.879333l0,-126.879333l-16.210114,0l0,126.879333c-15.537598,3.213593 -27.801178,15.478012 -31.01561,31.01561l-126.879333,0l0,16.210114l126.879333,0c3.213593,15.537598 15.478012,27.801147 31.01561,31.016449l0,126.878494l16.210114,0l0,-126.879333c15.537598,-3.213593 27.801163,-15.478012 31.016464,-31.017334l126.878479,0l0,-16.210098l-126.879333,0c-3.213593,-15.535889 -15.478012,-27.800308 -31.01561,-31.013916l0,0.000015z"}]},
{name:tf.styles.SvgGlyphAutoRepeatName,W:140.171,H:140.171,paths:[{d:"m39.906174,86.319725c-8.734777,-4.047989 -14.207458,-9.832954 -14.207458,-16.258339c0,-10.321568 14.137886,-18.971752 33.246418,-21.433754l0,-11.144604c-25.291977,3.081844 -44.328565,16.49633 -44.328565,32.578358c0,9.273209 6.341588,17.633232 16.543754,23.655396c11.161989,6.823059 16.702665,-4.258286 8.745852,-7.397057zm66.545029,-41.272026c-5.946251,-5.460033 -14.258858,2.851776 -8.590088,7.765484c10.059853,4.063797 16.496292,10.281246 16.496292,17.248203c0,10.327095 -14.140251,18.978073 -33.247192,21.43927l0,11.13987c25.291977,-3.077103 44.328545,-16.490776 44.328545,-32.57914c0,-9.986343 -7.367012,-18.925896 -18.987556,-25.013687zm-42.609745,11.104286l18.037235,-10.800686c2.624069,-1.571751 2.629608,-4.131783 0.014221,-5.714607l-18.204052,-11.017309c-2.618542,-1.580456 -4.731873,-0.386616 -4.719219,2.673092l0.098038,22.164278c0.007908,3.060493 2.146534,4.266987 4.773777,2.695232zm12.525814,27.878883l-18.203262,11.016518c-2.61776,1.582825 -2.612228,4.14286 0.015011,5.715416l18.03487,10.800667c2.624077,1.568604 4.767441,0.36528 4.780891,-2.697594l0.094879,-22.164276c0.009476,-3.058121 -2.106216,-4.250381 -4.722389,-2.670731z"},
{fill:"#f00",d:"m11.993611,43.781517c0,0 2.609659,-5.64209 2.609659,-5.64209c0,0 113.574113,58.094925 113.574113,58.094925c0,0 -2.12635,5.889297 -2.12635,5.889297c0,0 -114.057422,-58.342133 -114.057422,-58.342133z"}]},{name:tf.styles.SvgGlyphNoAutoRepeatName,W:140.171,H:140.171,paths:[{d:"m39.906174,86.319725c-8.734777,-4.047989 -14.207458,-9.832954 -14.207458,-16.258339c0,-10.321568 14.137886,-18.971752 33.246418,-21.433754l0,-11.144604c-25.291977,3.081844 -44.328565,16.49633 -44.328565,32.578358c0,9.273209 6.341588,17.633232 16.543754,23.655396c11.161989,6.823059 16.702665,-4.258286 8.745852,-7.397057zm66.545029,-41.272026c-5.946251,-5.460033 -14.258858,2.851776 -8.590088,7.765484c10.059853,4.063797 16.496292,10.281246 16.496292,17.248203c0,10.327095 -14.140251,18.978073 -33.247192,21.43927l0,11.13987c25.291977,-3.077103 44.328545,-16.490776 44.328545,-32.57914c0,-9.986343 -7.367012,-18.925896 -18.987556,-25.013687zm-42.609745,11.104286l18.037235,-10.800686c2.624069,-1.571751 2.629608,-4.131783 0.014221,-5.714607l-18.204052,-11.017309c-2.618542,-1.580456 -4.731873,-0.386616 -4.719219,2.673092l0.098038,22.164278c0.007908,3.060493 2.146534,4.266987 4.773777,2.695232zm12.525814,27.878883l-18.203262,11.016518c-2.61776,1.582825 -2.612228,4.14286 0.015011,5.715416l18.03487,10.800667c2.624077,1.568604 4.767441,0.36528 4.780891,-2.697594l0.094879,-22.164276c0.009476,-3.058121 -2.106216,-4.250381 -4.722389,-2.670731z"}]},
{name:tf.styles.SvgGlyphPlayName,W:512,H:512,paths:[{d:"m121.929863,420.870117c4.552467,2.629425 9.635857,3.945007 14.717476,3.945007c5.081635,0 10.162415,-1.315582 14.717499,-3.945007l238.707916,-137.818573c9.106659,-5.257172 14.717438,-14.974762 14.717438,-25.490814c0,-10.512573 -5.610779,-20.231049 -14.717438,-25.48732l-238.711365,-137.820297c-4.554214,-2.627724 -9.632416,-3.944168 -14.717468,-3.944168c-5.08078,0 -10.161591,1.316444 -14.717491,3.944168c-9.106712,5.257179 -14.716621,14.973877 -14.716621,25.48735l0,275.639725c0.006012,10.516083 5.616814,20.234497 14.720055,25.489929z"}]},
{name:tf.styles.SvgGlyphPauseName,W:512,H:512,paths:[{d:"m162.590088,58.444733c-30.713196,0 -55.60907,24.895859 -55.60907,55.60907l0,283.892426c0,30.709412 24.895874,55.60907 55.60907,55.60907c30.709473,0 55.605377,-24.895935 55.605377,-55.60907l0,-283.896179c0,-30.709465 -24.895874,-55.605331 -55.605377,-55.605331l0,0l0,0.000015z"},{d:"m349.409882,58.444733c-30.709473,0 -55.609039,24.895859 -55.609039,55.60907l0,283.892426c0,30.709412 24.895874,55.60907 55.609039,55.60907c30.713287,0 55.6091,-24.895874 55.6091,-55.60907l0,-283.896179c0,-30.709473 -24.895813,-55.605316 -55.6091,-55.605316l0,-0.000015l0,0.000015z"}]},
{name:tf.styles.SvgGlyphStopName,W:512,H:512,paths:[{d:"m172.584091,411.139801l166.831863,0c36.728516,0 66.502563,-30.869995 66.502563,-68.950317l0,-172.378891c0,-38.080399 -29.774048,-68.950378 -66.502563,-68.950378l-166.831863,0c-36.728531,0 -66.502609,30.86998 -66.502609,68.950378l0,172.378891c-0.002785,38.080322 29.774078,68.950317 66.502609,68.950317z"}]},{name:tf.styles.SvgGlyphGearName,W:268.765,H:268.765,style:"enable-background:new 0 0 268.765 268.765;",paths:[{style:"fill-rule:evenodd;clip-rule:evenodd;",
d:"M267.92,119.461c-0.425-3.778-4.83-6.617-8.639-6.617c-12.315,0-23.243-7.231-27.826-18.414c-4.682-11.454-1.663-24.812,7.515-33.231c2.889-2.641,3.24-7.062,0.817-10.133c-6.303-8.004-13.467-15.234-21.289-21.5c-3.063-2.458-7.557-2.116-10.213,0.825c-8.01,8.871-22.398,12.168-33.516,7.529c-11.57-4.867-18.866-16.591-18.152-29.176c0.235-3.953-2.654-7.39-6.595-7.849c-10.038-1.161-20.164-1.197-30.232-0.08c-3.896,0.43-6.785,3.786-6.654,7.689c0.438,12.461-6.946,23.98-18.401,28.672c-10.985,4.487-25.272,1.218-33.266-7.574c-2.642-2.896-7.063-3.252-10.141-0.853c-8.054,6.319-15.379,13.555-21.74,21.493c-2.481,3.086-2.116,7.559,0.802,10.214c9.353,8.47,12.373,21.944,7.514,33.53c-4.639,11.046-16.109,18.165-29.24,18.165c-4.261-0.137-7.296,2.723-7.762,6.597c-1.182,10.096-1.196,20.383-0.058,30.561c0.422,3.794,4.961,6.608,8.812,6.608c11.702-0.299,22.937,6.946,27.65,18.415c4.698,11.454,1.678,24.804-7.514,33.23c-2.875,2.641-3.24,7.055-0.817,10.126c6.244,7.953,13.409,15.19,21.259,21.508c3.079,2.481,7.559,2.131,10.228-0.81c8.04-8.893,22.427-12.184,33.501-7.536c11.599,4.852,18.895,16.575,18.181,29.167c-0.233,3.955,2.67,7.398,6.595,7.85c5.135,0.599,10.301,0.898,15.481,0.898c4.917,0,9.835-0.27,14.752-0.817c3.897-0.43,6.784-3.786,6.653-7.696c-0.451-12.454,6.946-23.973,18.386-28.657c11.059-4.517,25.286-1.211,33.281,7.572c2.657,2.89,7.047,3.239,10.142,0.848c8.039-6.304,15.349-13.534,21.74-21.494c2.48-3.079,2.13-7.559-0.803-10.213c-9.353-8.47-12.388-21.946-7.529-33.524c4.568-10.899,15.612-18.217,27.491-18.217l1.662,0.043c3.853,0.313,7.398-2.655,7.865-6.588C269.044,139.917,269.058,129.639,267.92,119.461z M134.595,179.491c-24.718,0-44.824-20.106-44.824-44.824c0-24.717,20.106-44.824,44.824-44.824c24.717,0,44.823,20.107,44.823,44.824C179.418,159.385,159.312,179.491,134.595,179.491z"}]},
{name:tf.styles.SvgGlyphGear2Name,W:48.352,H:48.352,paths:[{d:"m42.532543,20.907301l-4.609421,-0.864265c-0.28017,-0.932331 -0.647404,-1.826674 -1.102489,-2.667988l2.667194,-3.899487c0.246937,-0.360903 0.195488,-0.903839 -0.113972,-1.212506l-3.288483,-3.289277c-0.30946,-0.309458 -0.851604,-0.359319 -1.210922,-0.113178l-3.901861,2.668779c-0.865849,-0.466957 -1.787891,-0.841314 -2.749508,-1.123863l-0.859516,-4.585677c-0.080727,-0.429758 -0.498615,-0.777997 -0.93708,-0.777997l-4.650576,0c-0.437674,0 -0.856352,0.348239 -0.937872,0.777998l-0.869013,4.63079c-0.922041,0.281756 -1.806095,0.648991 -2.638704,1.101702l-3.851208,-2.634747c-0.360902,-0.246933 -0.903839,-0.19628 -1.212505,0.113178l-3.289278,3.289278c-0.309458,0.309458 -0.359318,0.851602 -0.113177,1.212505l2.651366,3.874951c-0.446379,0.832609 -0.808072,1.71587 -1.085081,2.63633l-4.60942,0.863474c-0.428967,0.08152 -0.777206,0.500198 -0.777206,0.937874l0,4.650576c0,0.437672 0.348239,0.85635 0.777206,0.93866l4.606255,0.863476c0.280965,0.940247 0.651365,1.842503 1.108826,2.690147l-2.621292,3.832211c-0.246934,0.360905 -0.19628,0.903839 0.113178,1.211712l3.288484,3.28849c0.30946,0.310246 0.851604,0.359318 1.212505,0.114761l3.830633,-2.622086c0.8239,0.445591 1.698456,0.808075 2.611002,1.088249l0.868223,4.63237c0.08152,0.42976 0.500198,0.776417 0.937872,0.776417l4.651365,0c0.438467,0 0.85556,-0.346657 0.93787,-0.776417l0.86031,-4.586468c0.949745,-0.280174 1.863079,-0.64978 2.721016,-1.108826l3.878908,2.654533c0.360901,0.246933 0.903835,0.196281 1.212505,-0.114761l3.286903,-3.286903c0.311039,-0.310249 0.360107,-0.850811 0.114761,-1.212502l-2.639496,-3.856747c0.466164,-0.857937 0.840523,-1.770481 1.126236,-2.722599l4.605461,-0.863476c0.428177,-0.08231 0.775623,-0.500988 0.775623,-0.938662l0,-4.650576c0.00317,-0.439257 -0.345863,-0.857935 -0.775623,-0.939455zm-18.354574,11.250498c-4.406807,0 -7.980217,-3.573406 -7.980217,-7.982588c0,-4.406017 3.573408,-7.980217 7.980217,-7.980217c4.40839,0 7.982588,3.5742 7.982588,7.980217c0,4.409182 -3.575781,7.982588 -7.982588,7.982588z"}]},
{name:tf.styles.SvgGlyphTwoGearsName,W:217.794,H:217.794,style:"enable-background:new 0 0 217.794 217.794;",paths:[{d:"m112.864532,130.463486l-5.187439,-11.524536c4.945206,-3.632652 9.192589,-8.151802 12.511253,-13.309792l11.811638,4.478897c2.258789,0.856743 4.782547,-0.281799 5.637787,-2.541374l4.340942,-11.466774c0.411011,-1.085152 0.374283,-2.28933 -0.10231,-3.347351c-0.476593,-1.058029 -1.352829,-1.883278 -2.438065,-2.294586l-11.811638,-4.478897c0.930428,-6.064629 0.741554,-12.264023 -0.557037,-18.264755l11.51606,-5.191254c1.057236,-0.47694 1.881882,-1.353821 2.292892,-2.43985c0.411011,-1.085155 0.374283,-2.28933 -0.10231,-3.347359l-5.032669,-11.179737c-0.991653,-2.203564 -3.581879,-3.183708 -5.782074,-2.192188l-11.516075,5.191246c-3.629974,-4.948837 -8.145821,-9.199326 -13.300026,-12.520428l4.475609,-11.820328c0.85524,-2.259577 -0.281586,-4.786066 -2.539497,-5.641939l-11.457489,-4.345001c-1.083488,-0.410434 -2.286774,-0.374554 -3.344902,0.10239c-1.057251,0.476943 -1.881889,1.35382 -2.292892,2.439852l-4.474731,11.819452c-6.066299,-0.936384 -12.271637,-0.742981 -18.252228,0.556581l-5.186565,-11.523663c-0.476593,-1.058025 -1.352821,-1.88327 -2.438057,-2.29458c-1.083488,-0.410434 -2.287651,-0.374554 -3.344902,0.102389l-11.172401,5.036352c-2.20195,0.992393 -3.182243,3.582766 -2.190582,5.786333l5.187439,11.524534c-4.945206,3.632652 -9.192574,8.151798 -12.511238,13.309792l-11.811653,-4.478893c-1.083483,-0.410435 -2.286774,-0.373676 -3.344896,0.10239c-1.057253,0.476944 -1.881891,1.353821 -2.292894,2.439854l-4.340938,11.4659c-0.855246,2.259575 0.281584,4.786064 2.5395,5.641937l11.811649,4.478897c-0.930449,6.063751 -0.741566,12.264893 0.557045,18.264763l-11.516947,5.191246c-1.057253,0.476944 -1.88189,1.353813 -2.292897,2.43985c-0.411007,1.085159 -0.374279,2.28933 0.102316,3.347359l5.032651,11.179733c0.475719,1.058029 1.352825,1.88327 2.437183,2.294586c1.085236,0.411308 2.287651,0.375427 3.344902,-0.102394l11.516075,-5.191246c3.629978,4.949715 8.144939,9.199326 13.300018,12.520424l-4.475601,11.820328c-0.855251,2.259567 0.281578,4.786072 2.539494,5.641937l11.458363,4.344131c0.499329,0.189026 1.024895,0.283524 1.548714,0.283524c0.613007,0 1.226021,-0.128632 1.796188,-0.385925c1.057255,-0.476944 1.881893,-1.353806 2.292896,-2.439835l4.474739,-11.819473c6.066292,0.935516 12.272499,0.742996 18.252213,-0.556557l5.186562,11.523659c0.476601,1.058029 1.352829,1.883255 2.438065,2.294571c1.084358,0.411301 2.288528,0.375427 3.344902,-0.102386l11.171524,-5.035477c2.202827,-0.992401 3.183998,-3.582764 2.192337,-5.786331zm-7.245979,-41.593872c-4.340057,11.464149 -15.483604,19.166138 -27.728996,19.166138c-3.581886,0 -7.11393,-0.651093 -10.498177,-1.934029c-7.405132,-2.807404 -13.274662,-8.332954 -16.526867,-15.558868c-3.252205,-7.225044 -3.497936,-15.285828 -0.692596,-22.696396c4.340065,-11.464153 15.483616,-19.166142 27.729008,-19.166142c3.581886,0 7.113922,0.651096 10.498169,1.934029c7.405136,2.807407 13.274666,8.332954 16.526871,15.557995c3.253082,7.225914 3.49881,15.286705 0.692589,22.697273zm97.215477,59.750107c-0.783524,-0.854996 -1.875763,-1.363434 -3.033569,-1.413315l-8.235886,-0.353561c-0.758194,-3.889938 -2.127625,-7.645096 -4.051498,-11.111481l6.073303,-5.578033c1.779572,-1.633865 1.897614,-4.401886 0.264954,-6.1819l-6.030426,-6.575691c-0.783539,-0.854996 -1.875778,-1.363449 -3.03447,-1.41333c-1.156052,-0.042885 -2.289398,0.364052 -3.143768,1.148163l-6.072418,5.578056c-3.28717,-2.214943 -6.908417,-3.901314 -10.715912,-4.989967l0.353287,-8.241936c0.103195,-2.414474 -1.769089,-4.455269 -4.181778,-4.558533l-8.91011,-0.382439c-2.400467,-0.091003 -4.451996,1.770386 -4.555191,4.183983l-0.353287,8.241943c-3.8862,0.758728 -7.638611,2.129181 -11.103333,4.053581l-5.573944,-6.077751c-0.783554,-0.854996 -1.875778,-1.363449 -3.033592,-1.41333c-1.157806,-0.047256 -2.289383,0.364052 -3.143753,1.148163l-6.570877,6.034874c-1.779572,1.633858 -1.897629,4.401886 -0.264969,6.181892l5.573959,6.077744c-2.213318,3.289597 -3.898453,6.912628 -4.986313,10.723785l-8.235016,-0.353546c-2.402206,-0.097137 -4.452866,1.769516 -4.556061,4.183975l-0.382149,8.916672c-0.049843,1.159531 0.362915,2.291077 1.147324,3.146072c0.783539,0.854996 1.875771,1.363449 3.034454,1.41333l8.235023,0.352676c0.758179,3.889938 2.127625,7.645096 4.050613,11.112335l-6.072418,5.578064c-0.85437,0.784119 -1.362457,1.877151 -1.4123,3.035812c-0.04985,1.159546 0.362923,2.291077 1.147331,3.146072l6.030441,6.575714c0.783539,0.85498 1.875763,1.363449 3.034454,1.413315c1.153442,0.046387 2.289398,-0.364044 3.143768,-1.148163l6.072411,-5.578049c3.287186,2.214935 6.908417,3.901306 10.715927,4.989975l-0.353287,8.241928c-0.103195,2.414474 1.768204,4.455276 4.180908,4.558533l8.91011,0.382431c0.062973,0.002625 0.125046,0.003494 0.187134,0.003494c1.093109,0 2.148621,-0.409561 2.956635,-1.151657c0.85437,-0.784103 1.362442,-1.877151 1.412292,-3.035812l0.353287,-8.241928c3.8862,-0.758743 7.638611,-2.129196 11.103317,-4.053589l5.573959,6.077744c0.783539,0.854996 1.875778,1.363449 3.033585,1.41333c1.163055,0.050751 2.290268,-0.364059 3.143768,-1.148163l6.570877,-6.034882c1.779572,-1.63385 1.897629,-4.401886 0.264954,-6.181885l-5.573944,-6.077744c2.213303,-3.289597 3.898438,-6.912628 4.986298,-10.723801l8.235016,0.353546c2.41008,0.092773 4.451996,-1.769501 4.556061,-4.183975l0.382141,-8.916656c0.04985,-1.159561 -0.3629,-2.291092 -1.147324,-3.146088zm-49.251785,25.872223c-11.231873,-0.481308 -19.978455,-10.018433 -19.496613,-21.25856c0.468719,-10.951324 9.408569,-19.530197 20.351852,-19.530197c0.295593,0 0.592911,0.006134 0.891113,0.019257c11.231857,0.482208 19.978439,10.018448 19.496613,21.258575c-0.481857,11.247986 -9.919281,19.987 -21.242966,19.510925z"}]},
{name:tf.styles.SvgGlyphRefreshName,W:512,H:512,paths:[{d:"M92.07,256.41H50l78.344,78.019l77.536-78.019h-39.825c-0.104-61.079,49.192-111.032,110.329-111.387c61.293-0.358,111.27,49.039,111.626,110.331c0.58,98.964-119.057,148.511-188.892,79.686l-51.929,52.687c116.154,114.483,315.773,32.415,314.809-132.804C461.4,152.769,378.105,70.441,275.952,71.037C173.955,71.632,91.725,154.47,92.07,256.41z"}]},{name:tf.styles.SvgGlyphUndoName,W:485.183,H:485.183,style:"enable-background:new 0 0 485.183 485.183;",paths:[{d:"m254.626526,140.272308c-59.080673,0 -111.368027,28.49437 -144.308174,72.367249l-60.318359,-60.331848l0,192.602997l192.603035,0l-65.526276,-65.521515c17.410828,-52.809677 67.063232,-90.967331 125.693787,-90.967331c73.165894,0 132.411682,59.295029 132.411682,132.417252c0.000793,-99.735886 -80.831757,-180.566803 -180.555695,-180.566803z"}]},
{name:tf.styles.SvgGlyphSortAscendingName,W:301.219,H:301.219,paths:[{d:"m149.624527,240.399307l-111.602127,0c-4.422764,0 -8.0079,3.585129 -8.0079,8.007904l0,8.007889c0,4.42276 3.585136,8.007904 8.0079,8.007904l111.602127,0c4.421967,0 8.007904,-3.585144 8.007904,-8.007904l0,-8.007889c0,-4.42276 -3.585144,-8.007904 -8.007904,-8.007904z"},{d:"m38.0224,213.973236l96.564087,0c4.421967,0 8.007904,-3.585144 8.007904,-8.007904l0,-8.007904c0,-4.42276 -3.585938,-8.007904 -8.007904,-8.007904l-96.564087,0c-4.422764,0 -8.0079,3.585144 -8.0079,8.007904l0,8.007904c0,4.42276 3.585136,8.007904 8.0079,8.007904z"},
{d:"m38.0224,163.523453l81.524445,0c4.421974,0 8.007912,-3.585144 8.007912,-8.007904l0,-8.007904c0,-4.42276 -3.585938,-8.007904 -8.007912,-8.007904l-81.524445,0c-4.422764,0 -8.0079,3.585144 -8.0079,8.007904l0,8.007904c0,4.422775 3.585136,8.007904 8.0079,8.007904z"},{d:"m38.0224,107.46814l66.485611,0c4.421951,0 8.007904,-3.585144 8.007904,-8.007904l0,-8.007904c0,-4.422768 -3.585953,-8.007896 -8.007904,-8.007896l-66.485611,0c-4.422764,0 -8.0079,3.585129 -8.0079,8.007896l0,8.007904c0,4.42276 3.585136,8.007904 8.0079,8.007904z"},
{d:"m38.0224,57.018356l51.445969,0c4.421959,0 8.007904,-3.58514 8.007904,-8.007904l0,-8.007904c0,-4.422764 -3.585945,-8.0079 -8.007904,-8.0079l-51.445969,0c-4.422764,0 -8.0079,3.585136 -8.0079,8.0079l0,8.007904c0,4.422764 3.585136,8.007904 8.0079,8.007904z"},{d:"m154.996231,101.547096l5.661591,5.662384c1.50148,1.501472 3.538696,2.345505 5.662369,2.345505c2.123703,0 4.16011,-0.844032 5.662399,-2.345505l27.542374,-27.54158l0,180.548561c0,4.42276 3.585129,8.007904 8.007904,8.007904l8.007904,0c4.421967,0 8.007904,-3.585144 8.007904,-8.007904l0,-180.547775l27.542374,27.541603c1.502258,1.502266 3.538696,2.345497 5.662369,2.345497c2.123718,0 4.160919,-0.844025 5.662415,-2.345497l5.661591,-5.662399c3.127075,-3.127098 3.127075,-8.197693 0,-11.324776l-50.87822,-50.878994c-1.502289,-1.50148 -3.538696,-2.345528 -5.662384,-2.345528c-2.123703,0 -4.16011,0.844048 -5.662384,2.345528l-50.878204,50.878994c-3.12709,3.127083 -3.12709,8.196892 0,11.323982z"}]},
{name:tf.styles.SvgGlyphSortDescendingName,W:301.219,H:301.219,paths:[{d:"m268.882202,203.675873l-5.66156,-5.662384c-1.501495,-1.50148 -3.538696,-2.34552 -5.662384,-2.34552c-2.123703,0 -4.16011,0.84404 -5.662399,2.34552l-27.542374,27.541565l0,-180.548553c0,-4.42276 -3.585129,-8.007904 -8.007904,-8.007904l-8.007904,0c-4.421967,0 -8.007904,3.585144 -8.007904,8.007904l0,180.547775l-27.542374,-27.541611c-1.502258,-1.502258 -3.538696,-2.34549 -5.662369,-2.34549c-2.123718,0 -4.160919,0.844025 -5.662415,2.34549l-5.661591,5.662415c-3.127075,3.12709 -3.127075,8.197693 0,11.324768l50.87822,50.878998c1.502289,1.501465 3.538696,2.34552 5.662384,2.34552c2.123703,0 4.16011,-0.844055 5.662384,-2.34552l50.878189,-50.878998c3.127106,-3.127075 3.127106,-8.196899 0,-11.323975z"},
{d:"m38.022415,57.018341l111.602127,0c4.42276,0 8.007904,-3.585114 8.007904,-8.007904l0,-8.007874c0,-4.42276 -3.585144,-8.007904 -8.007904,-8.007904l-111.602127,0c-4.421967,0 -8.007904,3.585144 -8.007904,8.007904l0,8.007874c0,4.42276 3.585144,8.007904 8.007904,8.007904z"},{d:"m134.586517,83.444427l-96.564072,0c-4.421997,0 -8.007935,3.585144 -8.007935,8.007904l0,8.007904c0,4.42276 3.585938,8.007904 8.007935,8.007904l96.564072,0c4.42276,0 8.007904,-3.585144 8.007904,-8.007904l0,-8.007904c0,-4.42276 -3.585144,-8.007904 -8.007904,-8.007904z"},
{d:"m119.546875,133.894211l-81.52446,0c-4.421967,0 -8.007904,3.585144 -8.007904,8.007904l0,8.007904c0,4.42276 3.585938,8.007904 8.007904,8.007904l81.52446,0c4.42276,0 8.007904,-3.585144 8.007904,-8.007904l0,-8.007904c0,-4.422775 -3.585144,-8.007904 -8.007904,-8.007904z"},{d:"m104.508026,189.949554l-66.485611,0c-4.421967,0 -8.007904,3.585144 -8.007904,8.007904l0,8.007904c0,4.42276 3.585938,8.007889 8.007904,8.007889l66.485611,0c4.42276,0 8.007904,-3.585129 8.007904,-8.007889l0,-8.007904c0,-4.42276 -3.585144,-8.007904 -8.007904,-8.007904z"},
{d:"m89.468384,240.399292l-51.445969,0c-4.421967,0 -8.007904,3.585144 -8.007904,8.007935l0,8.007874c0,4.422791 3.585938,8.007935 8.007904,8.007935l51.445969,0c4.42276,0 8.007904,-3.585144 8.007904,-8.007935l0,-8.007874c0,-4.422791 -3.585144,-8.007935 -8.007904,-8.007935z"}]},{name:tf.styles.SvgGlyphMaximumVolumeName,W:301.219,H:301.219,paths:[{d:"m21.455528,109.688332l0,82.469673l46.948105,0l70.280388,57.715927l0.041748,-197.901718l-70.290283,57.716118l-46.979958,0zm144.216576,-9.483368c-4.104141,-4.063011 -10.695053,-4.063011 -14.778412,0.021095c-4.073715,4.083328 -4.073715,10.694679 0.020554,14.78904l0,-0.021042c9.013901,9.024132 14.570023,21.400856 14.570023,35.156212c0,13.745148 -5.545639,26.080322 -14.548798,35.103806c-4.115494,4.062958 -4.115494,10.674606 -0.021225,14.778854c2.037018,2.036697 4.71048,3.060287 7.384476,3.060287c2.683945,0 5.357742,-1.02359 7.394363,-3.060287c12.763199,-12.742172 20.68045,-30.445496 20.670029,-49.88266c0.010422,-19.478912 -7.937759,-37.203224 -20.69101,-49.945305zm23.970535,-23.959351c-4.104767,-4.084099 -10.695129,-4.084099 -14.758392,0c-4.094208,4.083946 -4.094208,10.705086 0,14.768127c15.144714,15.154945 24.481857,36.001808 24.481857,59.125984c0,23.103195 -9.337143,43.939758 -24.46106,59.105225c-4.094162,4.073395 -4.094162,10.684525 0,14.768448c2.036713,2.037094 4.710953,3.06012 7.394852,3.06012c2.673706,0 5.347382,-1.023026 7.384521,-3.06012c18.883286,-18.893295 30.59166,-45.067719 30.570923,-73.873672c0.010361,-28.826607 -11.698181,-55.021339 -30.612701,-73.894112zm22.758224,-22.758972c-4.104416,-4.083778 -10.704803,-4.06274 -14.768387,0.021049c-4.083572,4.062889 -4.083572,10.684319 0.021042,14.758034l-0.021042,0c20.983154,20.982536 33.923676,49.851196 33.923676,81.874001c0,31.99147 -12.940521,60.870712 -33.902634,81.863739c-4.083755,4.073364 -4.083755,10.68428 0.020706,14.778336c2.026276,2.026825 4.69989,3.039841 7.373642,3.039841s5.357941,-1.023499 7.394928,-3.06015c24.68074,-24.711487 40.012848,-58.93808 39.99202,-96.621765c0.020828,-37.714821 -15.311279,-71.951752 -40.033951,-96.653084z"}]},
{name:tf.styles.SvgGlyphMediumVolumeName,W:301.219,H:301.219,paths:[{d:"m21.455528,109.570831l0,82.591293l47.019302,0l70.385674,57.800995l0.04007,-198.193111l-70.393234,57.800823l-47.051811,0zm144.426079,-9.496384c-4.109863,-4.070122 -10.709396,-4.070122 -14.795074,0.019798c-4.07811,4.089752 -4.07811,10.711502 0.015884,14.811241l0,-0.019798c9.033234,9.037628 14.59549,21.430916 14.59549,35.206825c0,13.765945 -5.55394,26.119141 -14.571304,35.156937c-4.118179,4.067825 -4.118179,10.68927 -0.024185,14.799149c2.042831,2.041031 4.724518,3.06456 7.397903,3.06456c2.68927,0 5.370209,-1.023529 7.405487,-3.06456c12.783997,-12.760254 20.708878,-30.490311 20.700562,-49.956085c0.008316,-19.50766 -7.948318,-37.257828 -20.724762,-50.018066zm24.012802,-23.99482c-4.118179,-4.089752 -10.717712,-4.089752 -14.77919,0c-4.10231,4.08992 -4.10231,10.721649 0,14.789474c15.162506,15.178391 24.514801,36.05481 24.514801,59.213432c0,23.136703 -9.352295,44.004944 -24.498932,59.193314c-4.10231,4.077972 -4.10231,10.699585 0,14.789474c2.042847,2.038757 4.716232,3.064423 7.405472,3.064423c2.681702,0 5.355087,-1.025665 7.397919,-3.064423c18.913269,-18.921265 30.635757,-45.134308 30.611588,-73.982788c0.016632,-28.868576 -11.714951,-55.101578 -30.651657,-74.002907z"}]},
{name:tf.styles.SvgGlyphMinimumVolumeName,W:301.219,H:301.219,paths:[{d:"m20.998001,109.054123l0,82.093719l49.343155,0l73.866394,57.453156l0.044052,-196.999992l-73.877525,57.453117l-49.376076,0zm151.574982,-9.440422c-4.314087,-4.044304 -11.240814,-4.044304 -15.532837,0.020905c-4.281189,4.065163 -4.281189,10.646355 0.021866,14.721985l0,-0.020844c9.473511,8.982857 15.313354,21.303185 15.313354,34.995918c0,13.682297 -5.828949,25.960983 -15.291382,34.943848c-4.325027,4.044403 -4.325027,10.625565 -0.021973,14.711578c2.140625,2.027405 4.95079,3.046341 7.761017,3.046341c2.821152,0 5.631332,-1.018936 7.771942,-3.046341c13.414246,-12.684204 21.735229,-30.30687 21.724121,-49.655426c0.011108,-19.390167 -8.342667,-37.033676 -21.746109,-49.717964z"}]},
{name:tf.styles.SvgGlyphMuteVolumeName,W:301.219,H:301.219,paths:[{d:"m20.998001,108.944298l0,83.188042l47.356949,0l70.893066,58.218903l0.042236,-199.625908l-70.903702,58.218964l-47.38855,0z"},{d:"m227.115997,176.025162l-24.435715,-24.435684l24.431274,-24.435745l-12.559845,-12.568733l-24.435684,24.435707l-24.435791,-24.435707l-12.559784,12.568733l24.431244,24.435745l-24.435699,24.435684l12.568695,12.56424l24.431335,-24.435684l24.431244,24.435684"}]}];(function(){a={};for(var e in c){var d=c[e];if(tf.js.GetIsValidObject(d)&&
tf.js.GetIsNonEmptyString(d.name)){var b=d.name;tf.js.GetIsValidObject(a[b])?tf.GetDebug().LogIfTest("glyphlib: adding duplicate glyph named: "+b):a[b]=d}}})()};tf.ui.GetSvgGlyphLib=function(){tf.g_SvgGlyphLib||(tf.g_SvgGlyphLib=new tf.styles.SvgGlyphLib);return tf.g_SvgGlyphLib};
tf.ui.SvgGlyph=function(a){function c(a){if(tf.js.GetIsValidObject(a)&&a.d){var c=document.createElementNS(b,"path"),d=a.style,e=a.fill;c.setAttributeNS(null,"d",a.d);d&&c.setAttributeNS(null,"style",d);e&&c.setAttributeNS(null,"fill",e);p.push(c);n.appendChild(c)}}function e(a){tf.js.GetIsString(a)&&(a=tf.ui.GetSvgGlyphLib().GetGlyphByName(a));if(tf.js.GetIsValidObject(a)&&a.W&&a.H){m.setAttributeNS(null,"viewBox","0 0 "+a.W+" "+a.H);a=a.paths;for(var b in a)c(a[b])}else c(a)}function d(a){tf.js.GetIsNonEmptyString(a)?
m.setAttributeNS(null,"class",l=a):(l=!!a,m.setAttributeNS(null,"class",l?k:g))}var b,f,h,k,g,l,m,n,p;this.GetStyle=function(){return l};this.SetStyle=function(a){return d(a)};this.ChangeGlyph=function(a){if(p.length){for(var b in p)n.removeChild(p[b]);p=[]}e(a)};h=this;(function(){a=tf.js.GetValidObjectFrom(a);b="http://www.w3.org/2000/svg";f=tf.GetStyles();p=[];var c=tf.js.GetBoolFromValue(a.noChangeOnHover,!1);k=c?f.svgGlyphLightNoHoverStyleClass:f.svgGlyphLightStyleClass;g=c?f.svgGlyphDarkNoHoverStyleClass:
f.svgGlyphDarkStyleClass;var c=tf.js.GetNonEmptyString(a.paddingDim,"0px"),l="calc(100% - "+c+" - "+c+")";m=document.createElementNS(b,"svg");m.setAttributeNS(null,"width",l);m.setAttributeNS(null,"height",l);m.style.border=m.style.caption=m.style.margin="0px";m.style.padding=c;m.style.display="block";d(a.style);m.appendChild(n=document.createElementNS(b,"g"));e(a.glyph);tf.dom.Insertable.call(h,{domObj:h,domElement:m})})()};tf.js.InheritFrom(tf.ui.SvgGlyph,tf.dom.Insertable);
tf.ui.SvgGlyphBtn=function(a){function c(a){tf.js.GetIsNonEmptyString(a)?f.title=a:void 0!==f.title&&delete f.title}function e(a){a=tf.js.GetDimFromStrOrPxNumber(a,d);f.style.width=f.style.height=a}var d,b,f,h,k;this.GetStyle=function(){return h?h.GetStyle():null};this.SetStyle=function(a){h&&h.SetStyle(a)};this.ChangeGlyph=function(a){h&&h.ChangeGlyph(a)};this.ChangeToolTip=function(a){return c(a)};this.SetSize=function(a){return e(a)};a=tf.js.GetIsValidObject(a)?a:{};d="1em";b=new tf.dom.Div({cssClass:tf.GetStyles().divSvgGlyphBtnClass});
f=b.GetHTMLElement();e(a.dim);k=tf.js.GetFunctionOrNull(a.onClick);new tf.events.DOMClickListener({target:f,callBack:function(a){tf.events.StopDOMEvent(a.event);k&&k.call(null,a);return!1},optionalScope:this,callBackSettings:null});h=new tf.ui.SvgGlyph(a);c(a.tooltip);tf.dom.Insertable.call(this,{domObj:this,domElement:b});b.AddContent(h)};tf.js.InheritFrom(tf.ui.SvgGlyphBtn,tf.dom.Insertable);
tf.ui.SvgGlyphToggleBtn=function(a){function c(a){(a=!!a)!=d&&((d=a)?(e.ChangeToolTip(g),e.ChangeGlyph(k)):(e.ChangeToolTip(h),e.ChangeGlyph(f)))}var e,d,b,f,h,k,g;this.SetIsToggled=function(a){return c(a)};this.GetIsToggled=function(){return d};this.ToggleToggled=function(){c(!d)};this.GetStyle=function(){return e.GetStyle()};this.SetStyle=function(a){return e.SetStyle(a)};a=tf.js.GetValidObjectFrom(a);d=tf.js.GetBoolFromValue(a.isToggled,!1);b=tf.js.GetFunctionOrNull(a.onClick);f=a.glyph;k=a.toggledGlyph;
h=a.tooltip;g=a.toggledTooltip;e=new tf.ui.SvgGlyphBtn({paddingDim:a.paddingDim,style:a.style,glyph:d?k:f,onClick:function(a){c(!d);return b?b(a):!1},tooltip:d?g:h,dim:a.dim});tf.dom.Insertable.call(this,{domObj:this,domElement:e})};tf.js.InheritFrom(tf.ui.SvgGlyphToggleBtn,tf.dom.Insertable);
tf.ui.ClickOpenClose=function(a){function c(a){b&&(b.style.display=d.GetIsToggled()?"block":"none",f&&f.call(null,a))}function e(a,c){b=tf.dom.GetHTMLElementFrom(a);void 0!==c&&(f=tf.js.GetFunctionOrNull(c))}var d,b,f;this.SetDivOpenClose=function(a,b){return e(a,b)};this.SetIsOpen=function(a){d.SetIsToggled(a);c()};this.GetIsOpen=function(){return d.GetIsToggled()};this.Toggle=function(){d.Toggle();c()};a=tf.js.GetValidObjectFrom(a);e(a.divOpenClose,a.onClick);d=new tf.ui.SvgGlyphToggleBtn({style:a.style,
onClick:function(a){c(a);return!1},dim:a.dim,isToggled:a.isOpen,glyph:tf.styles.SvgGlyphTriangleRightName,tooltip:"Open",toggledGlyph:tf.styles.SvgGlyphTriangleDownName,toggledTooltip:"Close"});tf.dom.Insertable.call(this,{domObj:this,domElement:d})};tf.js.InheritFrom(tf.ui.ClickOpenClose,tf.dom.Insertable);
tf.styles.CSSStyleCreator=function(a){function c(b,d){var e;if(b=tf.dom.GetHTMLElementFrom(b))for(var g in d)if(d.hasOwnProperty(g)&&"styleName"!=g)if("inherits"==g){if("object"===typeof(e=d[g]))if(e.length)for(var h in e)e.hasOwnProperty(h)&&c(b,e[h]);else c(b,e)}else switch(g){case "tf-shadow":e=d[g];tf.js.GetIsArrayWithMinLength(e,4)&&c(b,a.GetSubStyles().CreateShadowStyle(e[0],e[1],e[2],e[3]));break;default:b.style[g]=d[g]}}function e(b,c){"string"!==typeof c&&(c="");var d,g;for(g in b)if(b.hasOwnProperty(g)&&
"styleName"!=g)if("inherits"==g){if("object"===typeof(d=b[g]))if(d.length)for(var h in d)d.hasOwnProperty(h)&&(c=e(d[h],c));else c=e(d,c)}else switch(g){case "tf-shadow":d=b[g];tf.js.GetIsArrayWithMinLength(d,4)&&(c=e(a.GetSubStyles().CreateShadowStyle(d[0],d[1],d[2],d[3]),c));break;default:d=b[g],g=tf.js.UnCamelize(g),c+=g+" : "+d+"; "}return c}function d(a){tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(a.styleName)&&f(a.styleName,e(a,""))}function b(a){var b=null;if(a)try{var c=typeof a.media,
b="string"==c?a.rules:"object"==c?a.cssRules:null;!b&&a.sheet&&a.sheet.cssRules&&(b=a.sheet.cssRules)}catch(d){b=null}return b}function f(a,b){if("string"===typeof a&&0<a.length&&"string"===typeof b&&0<b.length){var c=a.toLowerCase(),d=g[c];if(d)try{d.style.cssText=b}catch(e){}else if(m)try{var h=m.length;"function"===typeof l.insertRule?l.insertRule(a+"{"+b+"}",h):l.addRule(a,b);g[c]=m[h]}catch(f){}}}var h,k,g,l,m;this.CreateStyle=function(a){return d(a)};this.CreateStyles=function(a){if(tf.js.GetIsValidObject(a))for(var b in a)d(a[b])};
this.CreateRawStyle=function(a,b){return f(a,b)};this.ApplyStyleProperties=function(a,b){return c(a,b)};this.LogStyles=function(){var a=document.styleSheets;if(0<(a?a.length:0)){var c="",d;for(d in a)if(a.hasOwnProperty(d)){var e=a[d];if(!e.disabled){var e=b(e),g;for(g in e)e.hasOwnProperty(g)&&(c+=e[g].cssText)}}tf.GetDebug().SaveAsTextFile("stylesheets",c)}};h=(k=document.getElementsByTagName("head"))&&0<k.length;(function(){var a=document.styleSheets,c=a?a.length:0;g=[];if(0<c)for(var d in a)if(a.hasOwnProperty(d)&&
(c=a[d],!c.disabled))try{var e=b(c);if(e)for(var h in e)if(e.hasOwnProperty(h)){var f=e[h];f.selectorText&&(g[f.selectorText.toLowerCase()]=f)}}catch(k){}})();(function(){var a,c;c=a=null;var d=document.styleSheets,e=d?d.length:0;if(0<e)for(--e;0<=e&&!a;--e){var g=d[e];try{if(!g.disabled){var f=g.media,w=typeof f,A="string"==w?f:"object"==w?f.mediaText:null;if(""==A||-1!=A.indexOf("screen")||-1!=A.indexOf("all"))(c=b(a=g))||(a=null)}}catch(u){}}a||(c=a=null,h&&(d=document.createElement("style"))&&
(d.type="text/css",k[0].appendChild(d),void 0!=d.sheet?a=d.sheet:void 0!=d.styleSheet&&(a=d.styleSheet),a&&((c=b(a))||(a=null))));l=a;m=c})()};tf.styles.CreateCSSClasses=function(a){if(tf.js.GetIsValidObject(a)){var c=tf.GetStyles().GetStyleCreator(),e=[],d;for(d in a)e.push({styleName:"."+d,inherits:a[d]});c.CreateStyles(e)}};
tf.styles.AddRangeClasses=function(a){var c=a.className,e=a.cssClasses;e[c]={};e[c+" input[type=range]"]={"-webkit-appearance":"none",inherits:[a.rangeSettings]};e[c+" input[type=range]::-ms-tooltip"]={display:"none"};e[c+" input[type=range]:focus"]={outline:"none"};e[c+" input[type=range]::-ms-track"]={inherits:[a.trackSettings]};e[c+" input[type=range]::-moz-range-track"]={inherits:[a.trackSettings]};e[c+" input[type=range]::-webkit-slider-runnable-track"]={inherits:[a.trackSettings]};e[c+" input[type=range]::-moz-range-thumb"]=
{inherits:[a.thumbSettings]};e[c+" input[type=range]::-ms-thumb"]={inherits:[a.thumbSettings]};e[c+" input[type=range]::-webkit-slider-thumb"]={inherits:[a.thumbSettings],"-webkit-appearance":"none",marginTop:2-(a.thumbHeightInt+a.thumbBorderInt)/2+"px"}};
tf.dom.StyleSheet=function(a){function c(a,b){"string"!==typeof b&&(b="");var d,e;for(e in a)if(a.hasOwnProperty(e)&&"styleName"!=e)if("inherits"==e){if("object"===typeof(d=a[e]))if(d.length)for(var h in d)d.hasOwnProperty(h)&&(b=c(d[h],b));else b=c(d,b)}else switch(e){case "tf-shadow":break;default:d=a[e];for(var f="",k="string"===typeof e?e.length:0,t=0;t<k;++t)var v=e[t],w=v.toLowerCase(),f=f+(v==w?v:"-"+w);e=f;b+=e+" : "+d+"; "}return b}var e,d,b,f,h,k;this.GetAllRules=function(){return e};this.GetIsActive=
function(){return void 0!=b};this.AddStyles=function(a){if(void 0!=a){void 0==a.length&&(a=[a]);for(var b=a.length,m=0;m<b;++m){var n=a[m];if(void 0!=n&&void 0!=n.styleName){var p=n.styleName,n=c(n),q=p,r=n,t=!1,v=e[q];if(v){try{v.style.cssText=r,t=!0,e[q]=r}catch(w){t=!1}e[q]=f[k]}if(!t&&f){k=h.length;try{d?f.insertRule(p+"{"+n+"}",k):f.addRule(p,n),e[p]=n}catch(A){}}}}}};d=!1;e={};(function(){var c=a.document.getElementsByTagName("head");if(void 0!=c&&0<c.length){b=a.document.createElement("style");
b.type="text/css";c[0].appendChild(b);if(f=void 0!=b.sheet?b.sheet:void 0!=b.styleSheet?b.styleSheet:void 0){var e;if(f)try{var k=typeof f.media;e="string"==k?f.rules:"object"==k?f.cssRules:null;!e&&f.sheet&&f.sheet.cssRules&&(e=f.sheet.cssRules)}catch(n){e=void 0}(h=e)||(f=void 0)}void 0!=f&&((d="function"==typeof f.insertRule)||"function"!=typeof f.addRule&&(f=void 0));void 0==f&&(b=void 0)}})()};
tf.styles.GetDefaultAPIStyleSpecifications=function(){return{fontFamily:"Arial,Verdana,Geneva,Lucida,Arial,Helvetica,sans-serif",markerFontFamily:"Arial,Verdana,Geneva,Lucida,Arial,Helvetica,sans-serif",inputFormBkColor:"#fff",inputFormBorderRadiusPxNumber:6,mapZoomInBorderRadius:"2px 2px 0 0",mapZoomOutBorderRadius:"0 0 2px 2px",mapPopupTextButtonTextColor:"#fff",mapPopupTextButtonBkColor:"#456DA7",textInputBackgroundColor:"#fff",borderSeparatorLineSpecs:"1px solid",textShadow:"1px 1px 1px #eee",
darkTextShadow:"1px 1px 1px #333",textShadowSelRadioCheck:"1px 2px 2px #ddd",dLayerSpanBackgroundColor:"#ffd",overviewMapWidthPxNumber:200,overviewMapHeightPxNumber:200,overviewMapBorderWidthPxNumberNumber:2,overviewMapBoxBorder:"2px dotted rgba(255,255,255,1.0)",mapButtonDimEmNumber:2.25,mapButtonMarginEmNumber:.33,mapButtonSpacingEmNumber:.75,mapScaleLineBkColor:"rgba(255,255,255,0.7)",mapScaleLineBorderRadiusPxNumber:4,mapScaleLinePaddingPxNumber:2,mapScaleLineBorder:"1px solid #00618b",mapScaleLineFontSizeEmNumber:.9,
mapScaleLineMarginPxNumber:1,mapScaleLineFontColor:"#00618b",mapControlFontWeight:"700",mapSubLegendBkColor:"#e4f4ff",tfLogoBorderRadius:"10%",tfLogoWidth:"8em",tfLogoHeight:"8em",tfLogoOpacity:"0.8",tfLogoBkColor:"rgba(255,255,255,0.3)",tfLogoBorder:"1px solid rgba(128,128,128,0.3)",mapControlLineHeightEmNumber:.4,mapControlTextColor:"#00618b",maxHeightLogoImageEmNumber:4.5,maxWidthLogoImageEmNumber:12,imageThumbWidthEmNumber:8,infoPopupContentFontSizeEmNumber:1.2,locationPopupContentFontSizeEmNumber:1,
mapControlFontSizeEmNumber:1.75,popupContentFontSizeEmNumber:1.5,topFontSizePXNumber:12,markerFontSizePXNumber:14,buttonBorderRadiusPxNumber:3,buttonMarginTopBottomPxNumber:2,buttonMarginLeftRightPxNumber:6,textButtonPaddingTopBottomPxNumber:2,textButtonPaddingLeftRightPxNumber:5,paddingPxNumber:4,popupContainerPaddingPxNumber:8,popupCaptionBorderRadiusPXNumber:5,popupContentPaddingPXNumber:5,popupContentBorderRadiusPXNumber:10,svgButtonBorderRadiusPercentNumber:20,lightTextColor:"#fff",darkTextColor:"#07375f",
disabledTextColor:"#a4a4a4",borderLightColor:"#BFBFBF",borderDarkColor:"#07375f",defaultButtonBk:"#456DA7",defaultButtonFill:"#fff",buttonShapedLinkBkColor:"#456DA7",buttonShapedLinkTextColor:"#fff",buttonShapedLinkTextShadow:"1px 1px 1px #333",buttonShapedLinkHoverBkColor:"#0869bf",buttonShapedLinkHoverTextColor:"#fdfff0",buttonShapedLinkTextShadowHover:"1px 1px 1px #999",buttonShapedLinkMarginPxNumber:2,mapControlBkColor:"rgba(244,244,254,.75)",mapControlHoverBkColor:"rgba(244,244,254,0.9)",mapControlButtonHoverBkColor:"rgba(255,255,255,1)",
mapControlButtonBkColor:"rgba(244,244,254,.6)",popupContentBkColor:"rgb(219, 232, 241)",containerDarkBackgroundColor:"#07375f",containerDarkSelBackgroundColor:"rgb(25,182,0)",hcfLayoutContainerBkColor:"#07375f",popupCaptionBackgroundColor:"#eeeeee",separatorBackgroundColor:"#FF8800",buttonLightBkg:"#456DA7",buttonLightFill:"#fff",buttonDarkBkg:"#fff",buttonDarkFill:"#456DA7",lightTextDivBtnColor:"#fff",darkTextDivBtnColor:"#07375f",imgFramePaddingBorderWidthEmNumber:.15,imgFrameBorder:"0.15em solid #07375f",
verticalSeparatorWidthEMNumber:.85,horizontalSeparatorHeightEMNumber:.85}};
tf.styles.GetGraphiteAPIStyleSpecifications=function(){return tf.js.ShallowMerge(tf.styles.GetDefaultAPIStyleSpecifications(),{separatorBackgroundColor:"rgba(0,107,133, 0.8)",inputFormBkColor:"rgba(128,128,128,0.5)",mapPopupTextButtonTextColor:"rgba(255,255,255,1)",mapPopupTextButtonBkColor:"rgba(0,0,0,0.7)",mapSubLegendBkColor:"rgba(0,0,0,0.5)",buttonShapedLinkBkColor:"rgba(0,0,0,0.5)",buttonShapedLinkTextColor:"rgba(255,255,255,1)",buttonShapedLinkHoverBkColor:"#fff",buttonShapedLinkMarginPxNumber:1,
buttonShapedLinkHoverTextColor:"rgba(0,0,0,1)",topFontSizePXNumber:12,darkTextColor:"#eef",paddingPxNumber:"6",popupCaptionBorderRadiusPXNumber:16,popupContentBkColor:"rgba(192, 192, 192, 0.6)",popupCaptionBackgroundColor:"rgba(210, 210, 210, 0.6)",mapControlButtonBkColor:"rgba(192, 192, 192, 0.7)",mapControlButtonHoverBkColor:"rgba(244, 244, 244, 0.7)",buttonDarkFill:"rgba(0, 0, 0, 0.7)",dLayerSpanBackgroundColor:"rgba(32, 32, 32, 1)",textShadow:"1px 1px 1px #000",darkTextShadow:"1px 1px 1px #fff",
textShadowSelRadioCheck:"1px 1px 1px #333",borderSeparatorLineSpecs:"1px solid",textInputBackgroundColor:"#000",mapZoomInBorderRadius:"5px 5px 0 0",mapZoomOutBorderRadius:"0 0 5px 5px",mapControlFontWeight:"700",mapScaleLineBkColor:"rgba(255,255,255,0.5)",mapScaleLineBorderRadiusPxNumber:4,mapScaleLinePaddingPxNumber:2,mapScaleLineBorder:"1px solid #07375f",mapScaleLineFontSizeEmNumber:.9,mapScaleLineMarginPxNumber:4,mapScaleLineFontColor:"rgba(0, 0, 0, 0.7)",tfLogoBorderRadius:"10%",tfLogoWidth:"8em",
tfLogoHeight:"8em",tfLogoOpacity:.8,tfLogoBkColor:"rgba(255,255,255,0.3)",tfLogoBorder:"1px solid rgba(128,128,128,0.3)",mapControlLineHeightEmNumber:0,mapControlTextColor:"rgba(0, 0, 0, 1)",overviewMapWidthPxNumber:300,overviewMapHeightPxNumber:200,overviewMapBorderWidthPxNumberNumber:1,overviewMapBoxBorder:"2px dotted red"})};
tf.styles.SubStyles=function(a,c){function e(a,c){return{inherits:[a?b.mapButtonLeftMarginStyle:b.mapButtonRightMarginStyle],top:(a?g:l)+c*(f+2*k)+"em"}}function d(a,b,c,d){a=a+"px "+b+"px "+c+"px "+d;b="drop-shadow("+a+")";return{"-moz-box-shadow":a,"-webkit-filter":b,filter:b}}var b,f,h,k,g,l,m,n,p,q,r,t,v,w,A,u,C,B,F,E,D,K,G,L,H,I,J,N,M,P,Q,R,S,T,aa,ba,ia,V,U,ha,Y,ka,qa,la,ra,ja,X,ya,va,ea,ca,sa,pa,da,Ea,ma,ta;this.GetStyles=function(){return a};this.CreateShadowStyle=function(a,b,c,e){return d(a,
b,c,e)};this.CreateSvgGlyphStyles=function(a,c,d,e){return{style:{inherits:[b.svgGlyphStyleBase,b.cursorPointerStyle],backgroundColor:c,fill:a},hoverStyle:{backgroundColor:e,fill:d}}};this.CreateTextDivBtnStyles=function(a,c,d,e){return{style:{inherits:[b.textButtonStyleBase],backgroundColor:c,color:a},hoverStyle:{backgroundColor:e,color:d}}};this.bodyStyle=this.popupCaptionStyle=this.mapTFLogoControlStyle=this.mapOverviewMapBoxStyle=this.mapOverviewMapNotCollapsedStyle=this.mapOverviewMapButtonCollapsedStyle=
this.mapOverviewMapButtonNotCollapsedStyle=this.mapOverviewMapMapStyle=this.mapOverviewMapButtonStyle=this.mapOverviewMapStyle=this.mapControlButtonMozFocusInnerStyle=this.mapControlButtonFocusHoverStyle=this.mapControlButtonStyle=this.mapControlButtonWidthHeightStyle=this.mapControlButtonTextColorStyle=this.mapControlButtonLineHeightStyle=this.mapControlHoverStyle=this.mapControlStyle=this.mapControlButtonBkColorStyle=this.mapControlButtonHoverBkColorStyle=this.mapControlHoverBkColorStyle=this.mapControlBkColorStyle=
this.mapScaleLineInnerStyle=this.mapScaleLineStyle=this.mapButtonTextSpanStyle=this.mapCompassStyle=this.popupContentBkColorStyle=this.mapRotateHiddenStyle=this.mapRotateStyle=this.mapUserLocationButtonStyle=this.mapLocationButtonStyle=this.transitionOpacityToInvisibleStyle=this.transitionOpacityToVisibleStyle=this.mapZoomSliderStyle=this.mapZoomOutBorderRadiusStyle=this.mapZoomInBorderRadiusStyle=this.mapViewPortUnSelectableStyle=this.mapFullScreenButtonStyle=this.mapSourceButtonStyle=this.mapDownloadButtonStyle=
this.mapMeasureButtonStyle=this.mapTypeButtonStyle=this.mapLayersButtonStyle=this.mapZoomStyle=this.mapAddressButtonStyle=this.mapButtonRightMarginStyle=this.mapButtonLeftMarginStyle=this.inputFormStyle=this.listContentStyle=this.topBottomSeparatorStyle=this.bottomContainerStyle=this.rightSideContainerStyle=this.leftRightSideSeparatorStyle=this.floatLeftSideContainerStyle=this.leftSideContainerStyle=this.unPaddedInlineBlockDivStyle=this.unPaddedBlockDivStyle=this.paddedInlineBlockDivWithBorderSeparatorStyle=
this.paddedBlockDivWithBorderSeparatorStyle=this.paddedInlineBlockDivStyle=this.paddedBlockDivStyle=this.textDivBtnDarkStyleHover=this.textDivBtnDarkStyle=this.textDivBtnLightStyleHover=this.textDivBtnLightStyle=this.textButtonStyleBase=this.divSvgGlyphIconStyle=this.divSvgGlyphBtnStyle=this.buttonDivAllMarginsStyle=this.buttonDivLeftRightMarginsStyle=this.buttonDivMarginRightStyle=this.buttonDivMarginLeftStyle=this.buttonDivTopBotMarginsStyle=this.buttonDivMarginBotStyle=this.buttonDivMarginTopStyle=
this.divSvgGlyphStyle=this.svgGlyphDarkStyleHover=this.svgGlyphDarkStyle=this.mapSvgGlyphInPopupHoverStyle=this.mapSvgGlyphInPopupStyle=this.mapSvgGlyphInButtonStyle=this.svgGlyphDarkNoHoverStyle=this.svgGlyphLightStyleHover=this.svgGlyphLightStyle=this.svgGlyphLightNoHoverStyle=this.svgGlyphStyleBase=this.buttonStyleBase=this.imgForInfoWindowStyle=this.divWithImgBkStyle=this.divWithImgBkkSizeStyle=this.imgDefaultFrameStyle=this.imgFullWidthHeightStyle=this.imgLogoStyle=this.logoMaxWidthHeightStyle=
this.imgStyleBase=this.mapMeasureOverlayDivStyle=this.checkCheckAndLabelSelStyleBefore=this.checkCheckAndLabelStyleBefore=this.checkCheckAndLabelCheckedStyle=this.checkCheckStyle=this.checkLabelStyle=this.radioRadioAndLabelSelStyleBefore=this.radioRadioAndLabelStyleBefore=this.radioRadioAndLabelCheckedStyle=this.radioRadioStyle=this.radioLabelStyle=this.radioCheckLabelCheckedStyle=this.radioCheckRemoveDefaultStyle=this.radioCheckLabelStyle=this.radioCheckWithDimStyle=this.radioCheckStyle=this.inputTextStyle=
this.inputFormBkStyle=this.inputTextPlaceholderStyle=this.dLayerInfoSpanStyle=this.dLayerInfoLinkHoverStyle=this.dLayerInfoLinkStyle=this.dLayerInfoImgStyle=this.dLayerInfoStyle=this.buttonShapedLinkHoverStyle=this.buttonShapedLinkStyle=this.hcfLayoutContentStyle=this.hcfLayoutFooterStyle=this.hcfLayoutHeaderStyle=this.hcfLayoutStyle=this.appContainerBaseStyle=this.spanCursorPointerStyle=this.spanStyle=this.popupContentStyle=this.popupContainerStyle=this.leftBorderSeparatorDarkStyle=this.leftBorderSeparatorLightStyle=
this.rightBorderSeparatorDarkStyle=this.rightBorderSeparatorLightStyle=this.bottomBorderSeparatorDarkStyle=this.bottomBorderSeparatorLightStyle=this.topSeparatorLightStyle=this.mapToolBarContainerStyle=this.popupMapToolBarBaseStyle=this.mapSubContainerStyle=this.mapContainerStyle=this.appContainerStyle=this.buttonBorderRadiusStyle=this.defaultButtonBkStyle=this.disabledTextColorStyle=this.lightTextColorStyle=this.darkTextColorStyle=this.horizontalSeparatorHeightStyle=this.verticalSeparatorWidthStyle=
this.noBorderMarginPaddingStyle=this.divIconCursorStyle=this.popupCaptionBackgroundColorStyle=this.hcfLayoutContainerBkColorStyle=this.rightSideContainerBkColorStyle=this.separatorBkColorStyle=this.paddingLeftRightStyle=this.paddingStyle=this.defaultRightPaddingRadioCheckStyle=this.defaultWidthHeightRadioCheckStyle=this.textShadowSelRadioCheckStyle=this.horShadowStyle=this.seShadowStyle=this.darkTextShadowStyle=this.textShadowStyle=this.popupContentBorderRadiusStyle=this.popupContentPaddingStyle=
this.popupCaptionBorderRadiusStyle=this.snapRightBotStyle=this.snapLeftBotStyle=this.snapRightTopStyle=this.snapLeftTopStyle=this.snapCenterStyle=this.snapCenterVerStyle=this.snapCenterHorStyle=this.snapBotStyle=this.snapTopStyle=this.snapRightStyle=this.snapLeftStyle=this.noTextDecorationStyle=this.notDraggableStyle=this.noSelectStyle=this.borderNoneStyle=this.noBorderRadiusStyle=this.textAlignLeftStyle=this.textAlignCenterStyle=this.inheritVerticalAlignStyle=this.middleVerticalAlignStyle=this.overflowYScrollStyle=
this.overflowAutoStyle=this.overflowHiddenStyle=this.noneDisplayStyle=this.blockStyle=this.inlineBlockStyle=this.inheritWidthHeightStyle=this.autoWidthFullHeightStyle=this.fullWidthAutoHeightStyle=this.fullWidthHeightStyle=this.autoWidthAutoHeightStyle=this.autoHeightStyle=this.autoWidthStyle=this.inheritHeightStyle=this.inheritWidthStyle=this.fullHeightStyle=this.fullWidthStyle=this.noOutlineStyle=this.willChangeTransformStyle=this.cursorDefaultStyle=this.cursorPointerStyle=this.allPointerEventsStyle=
this.noPointerEventsStyle=this.textInputBackgroundStyle=this.whiteBackgroundStyle=this.transparentBackgroundStyle=this.positionRelativeStyle=this.positionAbsoluteStyle=this.noPaddingStyle=this.noMarginStyle=this.noBorderSpacingStyle=this.noBorderStyle=this.opacityOneStyle=this.opacityZeroStyle=this.visibilityVisibleStyle=this.visibilityHiddenStyle=this.defaultFontSizeInheritStyle=this.defaultFontAndTopSizeStyle=this.defaultCheckUnCheckedStyle=this.defaultCheckCheckedStyle=this.defaultRadioUnCheckedStyle=
this.defaultRadioCheckedStyle=this.fontSizeInheritStyle=this.defaultFontStyle=this.topFontSizeStyle=this.floatNoneStyle=this.floatRightStyle=this.floatLeftStyle=this.fasterOpacityVisibilityTransitionStyle=this.defaultOpacityVisibilityTransitionStyle=this.opacityVisibilityShowStyle=this.opacityVisibilityHideStyle=this.margin1PXStyle=this.locationPopupContentFontSizeEmNumber=this.infoPopupContentFontSizeEmNumber=this.addressBarFontSize=this.popupContentBkColor=this.popupContentFontSizeEmNumber=this.mapControlFontSizeEmNumber=
null;b=this;(function(){var a=tf.styles.GetDefaultAPIStyleSpecifications();tf.js.GetIsValidObject(c)&&(a=tf.js.ShallowMerge(a,c));N=a.borderSeparatorLineSpecs;M=a.textInputBackgroundColor;sa=a.mapPopupTextButtonTextColor;pa=a.mapPopupTextButtonBkColor;R=a.mapScaleLineBkColor;S=a.mapScaleLineBorderRadiusPxNumber;T=a.mapScaleLinePaddingPxNumber;aa=a.mapScaleLineBorder;ba=a.mapScaleLineFontSizeEmNumber;ia=a.mapScaleLineMarginPxNumber;V=a.mapScaleLineFontColor;U=a.mapControlFontWeight;b.mapSubLegendBkColor=
a.mapSubLegendBkColor;ha=a.tfLogoBorderRadius;Y=a.tfLogoWidth;ka=a.tfLogoHeight;qa=a.tfLogoOpacity;la=a.tfLogoBkColor;ra=a.tfLogoBorder;ja=a.mapControlLineHeightEmNumber;X=a.mapControlTextColor;ya=a.overviewMapWidthPxNumber;va=a.overviewMapHeightPxNumber;ea=a.overviewMapBorderWidthPxNumberNumber;ca=a.overviewMapBoxBorder;P=a.mapZoomInBorderRadius;Q=a.mapZoomOutBorderRadius;L=a.dLayerSpanBackgroundColor;H=a.textShadow;I=a.darkTextShadow;J=a.textShadowSelRadioCheck;f=a.mapButtonDimEmNumber;h=a.mapButtonMarginEmNumber;
k=a.mapButtonSpacingEmNumber;m=a.maxHeightLogoImageEmNumber;n=a.maxWidthLogoImageEmNumber;b.mapButtonDimEmNumber=f;b.mapButtonMarginEmNumber=h;b.mapControlBkColor=a.mapControlBkColor;b.mapControlHoverBkColor=a.mapControlHoverBkColor;b.mapControlButtonHoverBkColor=a.mapControlButtonHoverBkColor;b.mapControlButtonBkColor=a.mapControlButtonBkColor;A=a.buttonMarginTopBottomPxNumber;u=a.buttonMarginLeftRightPxNumber;w=a.buttonBorderRadiusPxNumber;t=a.textButtonPaddingTopBottomPxNumber;v=a.textButtonPaddingLeftRightPxNumber;
b.lightTextColor=a.lightTextColor;b.darkTextColor=a.darkTextColor;b.disabledTextColor=a.disabledTextColor;b.borderLightColor=a.borderLightColor;b.defaultButtonBk=a.defaultButtonBk;b.defaultButtonFill=a.defaultButtonFill;b.buttonShapedLinkBkColor=a.buttonShapedLinkBkColor;b.buttonShapedLinkTextColor=a.buttonShapedLinkTextColor;b.buttonShapedLinkHoverBkColor=a.buttonShapedLinkHoverBkColor;b.buttonShapedLinkHoverTextColor=a.buttonShapedLinkHoverTextColor;da=a.buttonShapedLinkTextShadow;Ea=a.buttonShapedLinkTextShadowHover;
ma=a.buttonShapedLinkMarginPxNumber;C=a.svgButtonBorderRadiusPercentNumber;B=a.verticalSeparatorWidthEMNumber;F=a.horizontalSeparatorHeightEMNumber;E=a.paddingPxNumber;b.popupContainerPaddingPxNumber=a.popupContainerPaddingPxNumber;D=a.popupCaptionBorderRadiusPXNumber;K=a.popupContentPaddingPXNumber;G=a.popupContentBorderRadiusPXNumber;b.textButtonHeightDelta=2*t;b.topFontSizePXNumber=a.topFontSizePXNumber;b.markerFontSizePXNumber=a.markerFontSizePXNumber;b.imageThumbWidthEmNumber=a.imageThumbWidthEmNumber;
b.imageThumbSquareHeightEmNumber=b.imageThumbWidthEmNumber;b.imageThumbRectHeightEmNumber=9*b.imageThumbWidthEmNumber/16;b.popupContentBkColor=a.popupContentBkColor;b.mapControlFontSizeEmNumber=a.mapControlFontSizeEmNumber;b.popupContentFontSizeEmNumber=a.popupContentFontSizeEmNumber;b.infoPopupContentFontSizeEmNumber=a.infoPopupContentFontSizeEmNumber;b.locationPopupContentFontSizeEmNumber=a.locationPopupContentFontSizeEmNumber;b.fontFamily=a.fontFamily;b.markerFontFamily=a.markerFontFamily;b.containerDarkBackgroundColor=
a.containerDarkBackgroundColor;b.containerDarkSelBackgroundColor=a.containerDarkSelBackgroundColor;b.hcfLayoutContainerBkColor=a.hcfLayoutContainerBkColor;b.popupCaptionBackgroundColor=a.popupCaptionBackgroundColor;b.separatorBackgroundColor=a.separatorBackgroundColor;b.buttonLightBkg=a.buttonLightBkg;b.buttonLightFill=a.buttonLightFill;b.buttonDarkBkg=a.buttonDarkBkg;b.buttonDarkFill=a.buttonDarkFill;b.lightTextDivBtnColor=a.lightTextDivBtnColor;b.darkTextDivBtnColor=a.darkTextDivBtnColor;b.imgFramePaddingBorderWidthEmNumber=
a.imgFramePaddingBorderWidthEmNumber;b.imgFrameBorder=a.imgFrameBorder;b.inputFormBkColor=a.inputFormBkColor;ta=a.inputFormBorderRadiusPxNumber;p=N+" "+b.borderLightColor;q=N+" "+b.borderDarkColor;r=N+" "+b.defaultButtonBk;b.margin1PXStyle={margin:"1px"};b.defaultOpacityVisibilityTransitionStyle={transition:"opacity .15s ease-in-out, visibility 0.15s ease-in-out, margin-top 0s 1s"};b.fasterOpacityVisibilityTransitionStyle={transition:"opacity .10s ease-in-out, visibility .10s ease-in-out, margin-top 0s 1s"};
b.floatLeftStyle={"float":"left"};b.floatRightStyle={"float":"right"};b.floatNoneStyle={"float":"none"};b.defaultRadioCheckedStyle={content:"'\\25cf'"};b.defaultRadioUnCheckedStyle={content:"'\\25cb'"};b.defaultCheckCheckedStyle={content:"'\\2611'"};b.defaultCheckUnCheckedStyle={content:"'\\2610'"};b.topFontSizeStyle={fontSize:b.topFontSizePXNumber+"px"};b.defaultFontStyle={fontFamily:b.fontFamily};b.fontSizeInheritStyle={fontSize:"inherit"};b.defaultFontAndTopSizeStyle={inherits:[b.defaultFontStyle,
b.topFontSizeStyle]};b.defaultFontSizeInheritStyle={inherits:[b.defaultFontStyle,b.fontSizeInheritStyle]};b.visibilityHiddenStyle={visibility:"hidden"};b.visibilityVisibleStyle={visibility:"visible"};b.opacityZeroStyle={opacity:"0"};b.opacityOneStyle={opacity:"1"};b.opacityVisibilityHideStyle={inherits:[b.opacityZeroStyle,b.visibilityHiddenStyle],marginTop:"-10000px"};b.opacityVisibilityShowStyle={inherits:[b.opacityOneStyle,b.visibilityVisibleStyle],marginTop:"auto"};b.noBorderStyle={border:"0px"};
b.noBorderSpacingStyle={borderSpacing:"0px"};b.noMarginStyle={margin:"0px"};b.noPaddingStyle={padding:"0px"};b.positionAbsoluteStyle={position:"absolute"};b.positionRelativeStyle={position:"relative"};b.transparentBackgroundStyle={backgroundColor:"rgba(0,0,0,0.0)"};b.whiteBackgroundStyle={backgroundColor:"#fff"};b.textInputBackgroundStyle={background:M};b.noPointerEventsStyle={pointerEvents:"none"};b.allPointerEventsStyle={pointerEvents:"all"};b.cursorPointerStyle={cursor:"pointer"};b.cursorDefaultStyle=
{cursor:"default"};b.willChangeTransformStyle={willChange:"transform"};b.noOutlineStyle={outline:0};b.fullWidthStyle={width:"100%"};b.fullHeightStyle={height:"100%"};b.inheritWidthStyle={width:"inherit"};b.inheritHeightStyle={height:"inherit"};b.autoWidthStyle={width:"auto"};b.autoHeightStyle={height:"auto"};b.autoWidthAutoHeightStyle={inherits:[b.autoWidthStyle,b.autoHeightStyle]};b.fullWidthHeightStyle={inherits:[b.fullWidthStyle,b.fullHeightStyle]};b.fullWidthAutoHeightStyle={inherits:[b.fullWidthStyle,
b.autoHeightStyle]};b.autoWidthFullHeightStyle={inherits:[b.autoWidthStyle,b.fullHeightStyle]};b.inheritWidthHeightStyle={inherits:[b.inheritWidthStyle,b.inheritHeightStyle]};b.inlineBlockStyle={display:"inline-block"};b.blockStyle={display:"block"};b.noneDisplayStyle={display:"none"};b.overflowHiddenStyle={overflow:"hidden"};b.overflowAutoStyle={overflow:"auto"};b.overflowYScrollStyle={overflowY:"scroll"};b.middleVerticalAlignStyle={verticalAlign:"middle"};b.inheritVerticalAlignStyle={verticalAlign:"inherit"};
b.textAlignCenterStyle={textAlign:"center"};b.textAlignLeftStyle={textAlign:"left"};b.noBorderRadiusStyle={borderRadius:"0px"};b.borderNoneStyle={border:"none"};b.noSelectStyle={"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","-webkit-tap-highlight-color":"transparent"};b.notDraggableStyle={draggable:"false"};b.noTextDecorationStyle={textDecoration:"none"};b.snapLeftStyle={left:"0px"};b.snapRightStyle=
{right:"0px"};b.snapTopStyle={top:"0px"};b.snapBotStyle={bottom:"0px"};b.snapCenterHorStyle={left:"50%",transform:"translate(-50%, 0)"};b.snapCenterVerStyle={top:"50%",transform:"translate(0, -50%)"};b.snapCenterStyle={left:"50%",top:"50%",transform:"translate(-50%, -50%)"};b.snapLeftTopStyle={inherits:[b.snapLeftStyle,b.snapTopStyle]};b.snapRightTopStyle={inherits:[b.snapRightStyle,b.snapTopStyle]};b.snapLeftBotStyle={inherits:[b.snapLeftStyle,b.snapBotStyle]};b.snapRightBotStyle={inherits:[b.snapRightStyle,
b.snapBotStyle]};b.mapViewPortUnSelectableStyle={inherits:[b.noSelectStyle]};b.mapZoomSliderStyle={inherits:[b.transparentBackgroundStyle,b.opacityZeroStyle,b.visibilityHiddenStyle],top:"-100em"};b.divWithImgBkkSizeStyle={backgroundSize:"100% 100%"};b.popupCaptionBorderRadiusStyle={borderRadius:D+"px"};b.popupContentPaddingStyle={padding:K+"px"};b.popupContentBorderRadiusStyle={borderRadius:G+"px"};b.textShadowStyle={textShadow:H};b.darkTextShadowStyle={textShadow:I};b.seShadowStyle=d(3,3,3,"rgba(0,0,0,0.6)");
b.horShadowStyle=d(0,1,4,"rgba(0,0,0,0.6)");b.textShadowSelRadioCheckStyle={textShadow:J};b.defaultWidthHeightRadioCheckStyle={width:"1em",height:"1em"};b.defaultRightPaddingRadioCheckStyle={paddingRight:"0.2em"};b.paddingStyle={padding:E+"px"};b.paddingLeftRightStyle={paddingLeft:E+"px",paddingRight:E+"px"};b.separatorBkColorStyle={backgroundColor:b.separatorBackgroundColor};b.rightSideContainerBkColorStyle={backgroundColor:b.containerDarkBackgroundColor};b.hcfLayoutContainerBkColorStyle={backgroundColor:b.hcfLayoutContainerBkColor};
b.popupCaptionBackgroundColorStyle={backgroundColor:b.popupCaptionBackgroundColor};b.divIconCursorStyle={inherits:b.cursorDefaultStyle};b.noBorderMarginPaddingStyle={inherits:[b.noBorderStyle,b.noBorderSpacingStyle,b.noMarginStyle,b.noPaddingStyle]};b.verticalSeparatorWidthStyle={width:B+"em"};b.horizontalSeparatorHeightStyle={height:F+"em"};b.darkTextColorStyle={color:b.darkTextColor};b.lightTextColorStyle={color:b.lightTextColor};b.disabledTextColorStyle={color:b.disabledTextColor};b.defaultButtonBkStyle=
{backgroundColor:b.defaultButtonBk};b.buttonBorderRadiusStyle={borderRadius:w+"px"};b.appContainerStyle={inherits:[b.fullWidthHeightStyle,b.blockStyle,b.overflowHiddenStyle,b.defaultFontAndTopSizeStyle,b.noSelectStyle,b.positionRelativeStyle],lineHeight:"initial"};b.mapContainerStyle={inherits:[b.fullWidthHeightStyle,b.blockStyle,b.overflowHiddenStyle,b.noSelectStyle,b.middleVerticalAlignStyle,b.defaultFontAndTopSizeStyle,b.positionRelativeStyle],borderRadius:"inherit",lineHeight:"initial"};b.mapSubContainerStyle=
{inherits:[b.fullWidthHeightStyle,b.blockStyle,b.overflowHiddenStyle,b.noSelectStyle,b.middleVerticalAlignStyle,b.fontSizeInheritStyle,b.positionRelativeStyle],borderRadius:"inherit",lineHeight:"initial"};b.popupMapToolBarBaseStyle={inherits:[b.noBorderMarginPaddingStyle,b.blockStyle,b.positionAbsoluteStyle,b.noSelectStyle,b.darkTextColorStyle,b.defaultFontStyle]};b.mapToolBarContainerStyle={inherits:[b.popupMapToolBarBaseStyle,b.fasterOpacityVisibilityTransitionStyle,b.middleVerticalAlignStyle,b.popupCaptionBackgroundColorStyle,
b.seShadowStyle,b.popupCaptionBorderRadiusStyle]};b.topSeparatorLightStyle={borderTop:p};b.bottomBorderSeparatorLightStyle={borderBottom:p};b.rightBorderSeparatorLightStyle={borderRight:p};b.leftBorderSeparatorLightStyle={borderLeft:p};b.topBorderSeparatorDarkStyle={borderTop:q};b.bottomBorderSeparatorDarkStyle={borderBottom:q};b.rightBorderSeparatorDarkStyle={borderRight:q};b.leftBorderSeparatorDarkStyle={borderLeft:q};b.popupContainerStyle={inherits:[b.popupMapToolBarBaseStyle,b.defaultOpacityVisibilityTransitionStyle,
b.overflowHiddenStyle,b.textAlignLeftStyle,b.transparentBackgroundStyle,b.seShadowStyle,b.noPointerEventsStyle],padding:b.popupContainerPaddingPxNumber+"px"};b.popupContentStyle={inherits:[b.noBorderMarginPaddingStyle,b.blockStyle,b.popupContentBkColorStyle,b.borderLightStyle,b.popupContentBorderRadiusStyle,b.popupContentPaddingStyle,b.textAlignLeftStyle,b.allPointerEventsStyle]};b.spanStyle={inherits:[b.noBorderMarginPaddingStyle,b.middleVerticalAlignStyle,b.transparentBackgroundStyle,b.cursorDefaultStyle]};
b.spanCursorPointerStyle={inherits:[b.spanStyle,b.cursorPointerStyle]};b.appContainerBaseStyle={inherits:[b.unPaddedBlockDivStyle,b.lightTextColor,b.hcfLayoutContainerBkColorStyle,b.overflowHiddenStyle]};b.hcfLayoutStyle={inherits:[b.appContainerBaseStyle,b.fullHeightStyle]};b.hcfLayoutHeaderStyle={inherits:[b.appContainerBaseStyle,b.textAlignCenterStyle,b.bottomBorderSeparatorLightStyle],top:"0em"};b.hcfLayoutFooterStyle={inherits:[b.appContainerBaseStyle,b.textAlignCenterStyle,b.topSeparatorLightStyle],
bottom:"0em"};b.hcfLayoutContentStyle={inherits:[b.appContainerBaseStyle,b.overflowYScrollStyle]};b.inputTextPlaceholderStyle={inherits:[b.defaultFontSizeInheritStyle,b.disabledTextColorStyle]};b.inputTextStyle={inherits:[b.noBorderMarginPaddingStyle,b.noOutlineStyle,b.defaultFontSizeInheritStyle,b.darkTextColorStyle,b.seShadowStyle,b.textShadowStyle,b.textInputBackgroundStyle,b.paddingLeftRightStyle]};b.radioCheckStyle={inherits:[b.noBorderMarginPaddingStyle,b.middleVerticalAlignStyle]};b.radioCheckWithDimStyle=
{inherits:[b.radioCheckStyle,b.defaultRightPaddingRadioCheckStyle]};b.radioCheckLabelStyle={inherits:[b.radioCheckStyle,b.blockStyle,b.cursorPointerStyle,b.textAlignLeftStyle,b.floatNoneStyle]};b.radioCheckRemoveDefaultStyle={inherits:[b.radioCheckStyle,b.positionAbsoluteStyle,b.opacityZeroStyle,b.visibilityHiddenStyle]};b.radioCheckLabelCheckedStyle={inherits:[b.radioCheckStyle,b.textShadowSelRadioCheckStyle]};b.radioLabelStyle={inherits:[b.radioCheckLabelStyle]};b.radioRadioStyle={inherits:[b.radioCheckRemoveDefaultStyle]};
b.radioRadioAndLabelCheckedStyle={inherits:[b.radioCheckLabelCheckedStyle]};b.radioRadioAndLabelStyleBefore={inherits:[b.radioCheckWithDimStyle,b.defaultRadioUnCheckedStyle]};b.radioRadioAndLabelSelStyleBefore={inherits:[b.radioCheckWithDimStyle,b.defaultRadioCheckedStyle]};b.checkLabelStyle={inherits:[b.radioCheckLabelStyle]};b.checkCheckStyle={inherits:[b.radioCheckRemoveDefaultStyle]};b.checkCheckAndLabelCheckedStyle={inherits:[b.radioCheckLabelCheckedStyle]};b.checkCheckAndLabelStyleBefore={inherits:[b.radioCheckWithDimStyle,
b.defaultCheckUnCheckedStyle]};b.checkCheckAndLabelSelStyleBefore={inherits:[b.radioCheckWithDimStyle,b.defaultCheckCheckedStyle]};b.mapMeasureOverlayDivStyle={inherits:[b.blockStyle,b.cursorDefaultStyle,b.noBorderMarginPaddingStyle,b.paddingStyle,b.textAlignCenterStyle,b.middleVerticalAlignStyle,b.noPointerEventsStyle,b.noSelectStyle],fontSize:"1.2em",color:"#128",borderRadius:"0.5em",border:"1px solid #3e3e3e",backgroundColor:"rgba(255, 255, 255, 0.6)",textShadow:"2px 3px 3px #ddd"};b.imgStyleBase=
{inherits:[b.noBorderMarginPaddingStyle,b.notDraggableStyle,b.noSelectStyle]};b.logoMaxWidthHeightStyle={minWidth:n/2+"em",maxWidth:n+"em",maxHeight:m+"em"};b.imgLogoStyle={inherits:[b.imgStyleBase,b.inheritHeightStyle,b.autoWidthStyle,b.noPointerEventsStyle,b.logoMaxWidthHeightStyle,b.middleVerticalAlignStyle]};b.imgFullWidthHeightStyle={inherits:[b.imgStyleBase,b.fullWidthHeightStyle]};b.imgDefaultFrameStyle={inherits:[b.whiteBackgroundStyle],border:b.imgFrameBorder,margin:b.imgFramePaddingBorderWidthEmNumber+
"em",color:"#FFFFFF"};b.divWithImgBkStyle={inherits:[b.noBorderMarginPaddingStyle,b.imgDefaultFrameStyle,b.inheritVerticalAlignStyle,b.divWithImgBkkSizeStyle,b.inlineBlockStyle,b.middleVerticalAlignStyle],width:b.imageThumbWidthEmNumber+"em"};b.imgForInfoWindowStyle={inherits:[b.imgDefaultFrameStyle],align:"center",padding:"0px",height:"12em",width:"auto"};b.buttonStyleBase={inherits:[b.noBorderMarginPaddingStyle,b.middleVerticalAlignStyle,b.textAlignCenterStyle,b.buttonBorderRadiusStyle,b.cursorPointerStyle]};
b.svgGlyphStyleBase={inherits:[b.buttonStyleBase,b.blockStyle,b.transparentBackgroundStyle],stroke:"#000",strokeWidth:"0%",strokeLinejoin:"round",borderRadius:C+"%"};b.svgGlyphLightNoHoverStyle={inherits:[b.svgGlyphStyleBase,b.divIconCursorStyle],fill:b.buttonLightFill};b.svgGlyphLightStyle={inherits:[b.svgGlyphLightNoHoverStyle,b.cursorPointerStyle],backgroundColor:b.buttonLightBkg};b.svgGlyphLightStyleHover={backgroundColor:b.buttonLightFill,fill:b.buttonLightBkg};b.svgGlyphDarkNoHoverStyle={inherits:[b.svgGlyphStyleBase,
b.divIconCursorStyle],fill:b.buttonDarkFill};b.mapSvgGlyphInButtonStyle={inherits:[b.svgGlyphStyleBase,b.divIconCursorStyle],fill:X};b.mapSvgGlyphInPopupStyle={inherits:[b.svgGlyphStyleBase,b.divIconCursorStyle],fill:X};b.mapSvgGlyphInPopupHoverStyle={inherits:[b.svgGlyphStyleBase,b.divIconCursorStyle],backgroundColor:X,fill:b.mapControlButtonHoverBkColor};b.svgGlyphDarkStyle={inherits:[b.svgGlyphDarkNoHoverStyle,b.cursorPointerStyle]};b.svgGlyphDarkStyleHover={backgroundColor:b.buttonDarkFill,fill:b.buttonDarkBkg};
b.divSvgGlyphStyle={inherits:[b.noBorderMarginPaddingStyle,b.inlineBlockStyle,b.middleVerticalAlignStyle]};b.buttonDivMarginTopStyle={marginTop:A+"px"};b.buttonDivMarginBotStyle={marginBottom:A+"px"};b.buttonDivTopBotMarginsStyle={inherits:[b.buttonDivMarginTopStyle,b.buttonDivMarginBotStyle]};b.buttonDivMarginLeftStyle={marginLeft:u+"px"};b.buttonDivMarginRightStyle={marginRight:u+"px"};b.buttonDivLeftRightMarginsStyle={inherits:[b.buttonDivMarginLeftStyle,b.buttonDivMarginRightStyle]};b.buttonDivAllMarginsStyle=
{inherits:[b.buttonDivTopBotMarginsStyle,b.buttonDivLeftRightMarginsStyle]};b.divSvgGlyphBtnStyle={inherits:[b.divSvgGlyphStyle]};b.divSvgGlyphIconStyle={inherits:[b.divSvgGlyphStyle,b.divIconCursorStyle]};b.textButtonStyleBase={inherits:[b.buttonStyleBase,b.inlineBlockStyle,b.autoWidthStyle,b.buttonBorderRadiusStyle],paddingTop:t+"px",paddingBottom:t+"px",paddingLeft:v+"px",paddingRight:v+"px"};b.textDivBtnLightStyle={inherits:b.textButtonStyleBase,color:b.lightTextDivBtnColor,backgroundColor:b.buttonLightBkg,
textShadow:da};b.textDivBtnLightStyleHover={color:b.darkTextDivBtnColor,backgroundColor:b.buttonLightFill,textShadow:"none"};b.textDivBtnDarkStyle={inherits:b.textButtonStyleBase,color:b.darkTextDivBtnColor,backgroundColor:b.buttonDarkBkg};b.textDivBtnDarkStyleHover={color:b.lightTextDivBtnColor,backgroundColor:b.buttonDarkFill};b.mapTextBtnStyle={inherits:[b.textButtonStyleBase],color:sa,backgroundColor:pa,textShadow:da};b.mapTextBtnStyleHover={inherits:[b.darkTextShadowStyle],backgroundColor:sa,
color:pa,textShadow:Ea};b.buttonShapedLinkStyle={inherits:[b.textButtonStyleBase,b.noTextDecorationStyle],borderTop:p,borderLeft:p,borderBottom:r,borderRight:r,color:b.buttonShapedLinkTextColor,backgroundColor:b.buttonShapedLinkBkColor,textShadow:da,margin:ma+"px"};b.buttonShapedLinkHoverStyle={borderTop:r,borderLeft:r,borderBottom:p,borderRight:p,color:b.buttonShapedLinkHoverTextColor,backgroundColor:b.buttonShapedLinkHoverBkColor,textShadow:Ea};b.dLayerInfoStyle={inherits:[b.noBorderMarginPaddingStyle,
b.inlineBlockStyle,b.textShadowStyle],maxWidth:"17em"};b.dLayerInfoImgStyle={inherits:[b.fullWidthAutoHeightStyle,b.middleVerticalAlignStyle]};b.dLayerInfoLinkStyle={inherits:[b.buttonShapedLinkStyle]};b.dLayerInfoLinkHoverStyle={inherits:[b.buttonShapedLinkHoverStyle]};b.dLayerInfoSpanStyle={inherits:[b.blockStyle,b.textShadowStyle],backgroundColor:L,margin:"0.15em"};b.paddedBlockDivStyle={inherits:[b.noBorderMarginPaddingStyle,b.paddingStyle,b.blockStyle]};b.paddedInlineBlockDivStyle={inherits:[b.noBorderMarginPaddingStyle,
b.paddingStyle,b.inlineBlockStyle]};b.paddedBlockDivWithBorderSeparatorStyle={inherits:[b.paddedBlockDivStyle,b.bottomBorderSeparatorLightStyle]};b.paddedInlineBlockDivWithBorderSeparatorStyle={inherits:[b.paddedInlineBlockDivStyle,b.rightBorderSeparatorLightStyle]};b.unPaddedBlockDivStyle={inherits:[b.noBorderMarginPaddingStyle,b.blockStyle]};b.unPaddedInlineBlockDivStyle={inherits:[b.noBorderMarginPaddingStyle,b.inlineBlockStyle]};b.leftSideContainerStyle={inherits:[b.unPaddedBlockDivStyle,b.autoWidthFullHeightStyle,
b.overflowHiddenStyle]};b.floatLeftSideContainerStyle={inherits:[b.unPaddedBlockDivStyle,b.autoWidthFullHeightStyle,b.overflowHiddenStyle,b.floatLeftStyle]};b.leftRightSideSeparatorStyle={inherits:[b.unPaddedBlockDivStyle,b.fullHeightStyle,b.overflowHiddenStyle,b.separatorBkColorStyle,b.middleVerticalAlignStyle,b.textAlignCenterStyle,b.floatRightStyle,b.verticalSeparatorWidthStyle,b.positionRelativeStyle,b.leftBorderSeparatorLightStyle,b.rightBorderSeparatorDarkStyle]};b.rightSideContainerStyle={inherits:[b.unPaddedBlockDivStyle,
b.fullHeightStyle,b.overflowHiddenStyle,b.floatRightStyle,b.rightSideContainerBkColorStyle,b.lightTextColorStyle]};b.bottomContainerStyle={inherits:[b.unPaddedBlockDivStyle,b.fullWidthStyle,b.overflowHiddenStyle,b.whiteBackgroundStyle]};b.topBottomSeparatorStyle={inherits:[b.unPaddedBlockDivStyle,b.fullWidthStyle,b.overflowHiddenStyle,b.separatorBkColorStyle,b.middleVerticalAlignStyle,b.textAlignCenterStyle,b.horizontalSeparatorHeightStyle]};b.listContentStyle={inherits:[b.unPaddedBlockDivStyle,b.bottomBorderSeparatorLightStyle,
b.hcfLayoutContainerBkColorStyle]};b.inputFormBkStyle={backgroundColor:b.inputFormBkColor};b.inputFormStyle={inherits:[b.unPaddedBlockDivStyle,b.inputFormBkStyle,b.darkTextColorStyle,b.textAlignCenterStyle],borderRadius:ta+"px"};a=tf.platform.GetURL();b.fontFaceStyleContentStr="font-family: 'SourceSansPro-Regular';src: url('"+a+"fonts/SourceSansPro-Regular.eot');src: local('?'), url('"+a+"fonts/SourceSansPro-Regular.woff') format('woff'), url('"+a+"fonts/SourceSansPro-Regular.ttf') format('truetype'), url('"+
a+"fonts/SourceSansPro-Regular.svg') format('svg');font-weight: normal;font-style: normal;";b.transitionOpacityToVisibleStyle={transition:"opacity .25s linear,visibility 0s linear"};b.transitionOpacityToInvisibleStyle={transition:"opacity .25s linear,visibility 0s linear .25s"};b.mapZoomInBorderRadiusStyle={borderRadius:P};b.mapZoomOutBorderRadiusStyle={borderRadius:Q};var Ba=h,a=Ba+f+2*k;l=h;g=a+2*f+3*k;b.addressBarFontSize=f/2+.2+"em";var O=f+"em",Ca=h+"em";b.mapButtonLeftMarginStyle={left:Ca};
b.mapButtonRightMarginStyle={right:Ca};b.mapAddressButtonStyle={inherits:[b.mapButtonLeftMarginStyle],top:Ba+"em"};b.mapZoomStyle={inherits:[b.mapButtonLeftMarginStyle],top:a+"em",zIndex:1};b.mapLayersButtonStyle=e(!0,0);b.mapTypeButtonStyle=e(!0,1);b.mapMeasureButtonStyle=e(!0,2);b.mapDownloadButtonStyle=e(!0,3);b.mapSourceButtonStyle=e(!0,4);b.mapFullScreenButtonStyle=e(!1,0);b.mapLocationButtonStyle=e(!1,1);b.mapUserLocationButtonStyle=e(!1,2);b.mapRotateStyle={inherits:[b.transitionOpacityToVisibleStyle,
b.mapButtonRightMarginStyle],top:l+3*(f+2*k)+"em"};b.mapRotateHiddenStyle={inherits:[b.opacityZeroStyle,b.visibilityHiddenStyle,b.transitionOpacityToInvisibleStyle]};b.mapLocationButtonTopEmNumber=l+1*(f+2*k);var Ba={fontSize:b.mapControlFontSizeEmNumber+"em"},Ka={fontWeight:U};b.mapScaleLineStyle={inherits:[b.mapButtonLeftMarginStyle],background:R,borderRadius:S+"px",bottom:Ca,padding:T+"px",position:"absolute",zIndex:1,cursor:"pointer"};b.mapScaleLineInnerStyle={inherits:[Ka],border:aa,borderTop:"none",
color:V,fontSize:ba+"em",textAlign:"center",margin:ia+"px",willChange:"contents,width"};b.mapControlButtonWidthHeightStyle={width:O,height:O};b.mapOverviewMapStyle={inherits:[b.mapButtonRightMarginStyle],bottom:Ca,zIndex:1};b.mapTFLogoControlStyle={inherits:[b.positionAbsoluteStyle,b.noPointerEventsStyle],borderRadius:ha,top:2*h+a+"em",left:3*h+2*f+"em",width:ka,height:Y,opacity:qa,backgroundColor:la,border:ra};b.mapCompassStyle={inherits:[b.blockStyle,b.willChangeTransformStyle,Ba,Ka]};b.mapButtonTextSpanStyle=
{inherits:[b.blockStyle,Ba,Ka,b.cursorPointerStyle]};b.mapControlBkColorStyle={backgroundColor:b.mapControlBkColor};b.mapControlHoverBkColorStyle={backgroundColor:b.mapControlBkColor};b.mapControlButtonHoverBkColorStyle={backgroundColor:b.mapControlButtonHoverBkColor};b.mapControlButtonBkColorStyle={backgroundColor:b.mapControlButtonBkColor};b.mapControlButtonLineHeightStyle={lineHeight:ja+"em"};b.mapControlButtonTextColorStyle={color:X};b.mapControlStyle={inherits:[b.horShadowStyle,b.positionAbsoluteStyle,
b.mapControlBkColorStyle,b.cursorPointerStyle],borderRadius:"3px",padding:"1px"};b.mapControlHoverStyle={inherits:[b.mapControlHoverBkColorStyle]};b.mapControlButtonFocusHoverStyle={inherits:[b.noTextDecorationStyle,b.mapControlButtonHoverBkColorStyle]};b.mapControlButtonStyle={inherits:[b.noPaddingStyle,b.blockStyle,b.noTextDecorationStyle,b.borderNoneStyle,b.textAlignCenterStyle,b.mapControlButtonBkColorStyle,b.mapControlButtonWidthHeightStyle,Ka,b.margin1PXStyle,b.noBorderRadiusStyle,b.mapControlButtonLineHeightStyle,
b.mapControlButtonTextColorStyle]};b.mapControlButtonMozFocusInnerStyle={inherits:[b.borderNoneStyle,b.noPaddingStyle]};a=ea+"px";b.mapOverviewMapButtonStyle={inherits:[b.mapControlButtonStyle]};b.mapOverviewMapMapStyle={margin:a,width:ya+"px",height:va+"px"};b.mapOverviewMapButtonNotCollapsedStyle={inherits:[b.positionAbsoluteStyle],bottom:a,left:a};b.mapOverviewMapButtonCollapsedStyle={inherits:[b.noneDisplayStyle]};b.mapOverviewMapNotCollapsedStyle={inherits:[b.seShadowStyle],backgroundColor:b.mapControlBkColor};
b.mapOverviewMapBoxStyle={border:ca};b.popupContentBkColorStyle={backgroundColor:b.popupContentBkColor};b.popupCaptionStyle={inherits:[b.inlineBlockStyle,b.noBorderMarginPaddingStyle,b.popupCaptionBackgroundColorStyle,b.seShadowStyle,b.bottomBorderSeparatorLightStyle,b.rightBorderSeparatorLightStyle,b.textShadowStyle,b.cursorDefaultStyle,b.darkTextColorStyle,b.positionRelativeStyle,b.popupCaptionBorderRadiusStyle,b.allPointerEventsStyle],fontSize:b.mapControlFontSizeEmNumber+"em"};b.bodyStyle={inherits:[b.noBorderMarginPaddingStyle,
b.fullWidthHeightStyle,b.whiteBackgroundStyle,b.defaultFontStyle,b.topFontSizeStyle]}})()};
tf.styles.Styles=function(a){var c,e,d,b,f;this.GetStyleCreator=function(){return e};this.GetSubStyles=function(){return d};this.GetHiddenCanvas=function(){return b};this.CreateSvgGlyphClasses=function(a,b,c,f){var m="tf-glyph-svg-"+tf.GetGlobalCounter().GetNext();a=d.CreateSvgGlyphStyles(a,b,c,f);e.CreateStyles([{styleName:"svg."+m,inherits:a.style},{styleName:"svg."+m+":hover",inherits:a.hoverStyle}]);return m};this.CreateTextDivBtnClasses=function(a,b,c,f,m,n){var p="tf-btn-div-"+tf.GetGlobalCounter().GetNext();
a=d.CreateTextDivBtnStyles(a,b,c,f);m=[{styleName:"div."+p,inherits:tf.js.ShallowMerge(m,a.style)},{styleName:"div."+p+":hover",inherits:tf.js.ShallowMerge(n,a.hoverStyle)}];e.CreateStyles(m);return p};this.RotateByDegree=function(a,b){var d=c.GetSupportedTransformProperty();d&&(a=tf.dom.GetHTMLElementFrom(a))&&(a.style[d]=c.GetRotateByDegreeTransformStr(b))};this.GetSupportedTransformProperty=function(){return f};this.GetRotateByDegreeTransformStr=function(a){return"rotate("+(tf.js.GetFloatNumberInRange(a,
-3600,3600,0)+"deg")+")"};this.ChangeOpacityVisibilityClass=function(a,b){if(a=tf.dom.GetHTMLElementFrom(a)){var d,e;b?(d=c.opacityVisibilityShowClass,e=c.opacityVisibilityHideClass):(e=c.opacityVisibilityShowClass,d=c.opacityVisibilityHideClass);tf.dom.ReplaceCSSClass(a,e,d)}};this.ApplyStyleProperties=function(a,b){e.ApplyStyleProperties(a,b);return a};this.AddBorderBottom=function(a,b){return c.ApplyStyleProperties(a,b?d.bottomBorderSeparatorLightStyle:d.bottomBorderSeparatorDarkStyle)};this.AddBorderTop=
function(a,b){return c.ApplyStyleProperties(a,b?d.topSeparatorLightStyle:d.topBorderSeparatorDarkStyle)};this.GetButtonBGColor=function(a){return a?d.defaultButtonBk:d.defaultButtonFill};this.GetBorderSeparatorClassName=function(a){return a?this.rightBorderSeparatorLightClass:this.bottomBorderSeparatorLightClass};this.GetPaddedDivClassNames=function(a,b){var d="",d=a?this.paddedInlineBlockDivClass:this.paddedBlockDivClass;b&&(d+=" "+c.GetBorderSeparatorClassName(a));return d};this.GetUnPaddedDivClassNames=
function(a,b){var d="",d=a?this.unPaddedInlineBlockDivClass:this.unPaddedBlockDivClass;b&&(d+=" "+c.GetBorderSeparatorClassName(a));return d};this.GetUnicodeDoubleHorArrow=function(){return"\u2194"};this.GetUnicodeXClose=function(){return"\u00d7"};this.GetRadioItemClasses=function(){return c.radioClass+" "+c.radioLabelClass};this.GetCheckItemClasses=function(){return c.checkClass+" "+c.checkLabelClass};this.ApplyPositionRelativeStyle=function(a){return c.ApplyStyleProperties(a,d.positionRelativeStyle)};
this.ApplyPositionAbsoluteStyle=function(a){return c.ApplyStyleProperties(a,d.positionAbsoluteStyle)};this.ApplyDivWithImgBkStyle=function(a){return c.ApplyStyleProperties(a,d.divWithImgBkStyle)};this.ApplyTextColorStyle=function(a,b){return c.ApplyStyleProperties(a,b?d.darkTextColorStyle:d.lightTextColorStyle)};this.ApplyMiddleVerticalAlignStyle=function(a){return c.ApplyStyleProperties(a,d.middleVerticalAlignStyle)};this.ApplyTextAlignCenterStyle=function(a){return c.ApplyStyleProperties(a,d.textAlignCenterStyle)};
this.ApplyFloatStyle=function(a,b){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),b?d.floatLeftStyle:d.floatRightStyle);return a};this.AddDefaultOpacityTransitionStyle=function(a){return c.ApplyStyleProperties(a,d.defaultOpacityVisibilityTransitionStyle)};this.AddDefaultShadowStyle=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.seShadowStyle);return a};this.AddHorShadowStyle=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.horShadowStyle);return a};this.AddButtonDivMargins=
function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.buttonDivAllMarginsStyle);return a};this.AddButtonDivTopBottMargins=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.buttonDivTopBotMarginsStyle);return a};this.AddButtonDivLeftRightMargins=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.buttonDivLeftRightMarginsStyle);return a};this.AddButtonDivLeftMargin=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.buttonDivMarginLeftStyle);
return a};this.AddButtonDivRightMargin=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.buttonDivMarginRightStyle);return a};this.ApplySnapToCenterStyle=function(a){if(a){var b=a.GetHTMLElement?tf.dom.GetHTMLElementFrom(a):a;b&&e.ApplyStyleProperties(b,d.snapCenterStyle)}return a};this.ApplySnapStyle=function(a,b){var c=tf.dom.GetHTMLElementFrom(a);if(c){var f,m,n;switch(b.horPos){case tf.consts.positioningLeft:f=d.snapLeftStyle;break;case tf.consts.positioningRight:f=d.snapRightStyle}switch(b.verPos){case tf.consts.positioningTop:m=
d.snapTopStyle;break;case tf.consts.positioningBottom:m=d.snapBotStyle}f||(m?f=d.snapCenterHorStyle:n=d.snapCenterStyle);m||(m=d.snapCenterVerStyle);n?e.ApplyStyleProperties(c,n):(e.ApplyStyleProperties(c,f),e.ApplyStyleProperties(c,m))}return a};this.CloseXButtonForPopup=function(a,b,c,f){c&&(c=d.mapControlFontSizeEmNumber+"em");!f&&(f="Close");a=new tf.ui.SvgGlyphBtn({style:a,glyph:tf.styles.SvgGlyphCloseXName,onClick:b,tooltip:f,dim:c});b=a.GetHTMLElement();e.ApplyStyleProperties(b,d.buttonDivMarginLeftStyle);
return a};this.CreateImageFullWidthHeight=function(a){return new tf.dom.Img({src:a,cssClass:tf.GetStyles().imgFullWidthHeightClass})};this.CreateListContentItem=function(a){var b=tf.GetStyles();return b.ApplyTextColorStyle(b.ApplyMiddleVerticalAlignStyle(new tf.dom.Div({cssClass:b.paddedInlineBlockDivClass})),a)};this.CreateListContentItemWithImgBk=function(a,b){var d=tf.GetStyles(),e=d.GetSubStyles(),d=d.ApplyDivWithImgBkStyle(c.CreateListContentItem(!1)),f=d.GetHTMLElement();f.style.height=(b?e.imageThumbRectHeightEmNumber:
e.imageThumbSquareHeightEmNumber)+"em";f.style.backgroundImage="url('"+a+"')";return d};this.AddBodyStyle=function(){e.CreateStyle({styleName:"body",inherits:d.bodyStyle})};this.appContainerClass="tf-div-app";this.mapContainerClass="tf-div-map-container";this.mapSubContainerClass="tf-div-map";this.leftSideContainerClass="tf-div-left";this.floatLeftSideContainerClass="tf-div-floatLeft";this.leftRightSideSeparatorClass="tf-div-leftright";this.rightSideContainerClass="tf-div-right";this.bottomContainerClass=
"tf-div-bot";this.topBottomSeparatorClass="tf-div-topbot";this.listContentClass="tf-div-listcnt";this.inputFormClass="tf-div-inputForm";this.paddedBlockDivClass="tf-div-block-padded";this.paddedInlineBlockDivClass="tf-div-inlineblock-padded";this.paddedBlockDivWithBorderSeparatorClass="tf-div-block-padded-bordersep";this.paddedInlineBlockDivWithBorderSeparatorClass="tf-div-inline-block-padded-bordersep";this.unPaddedBlockDivClass="tf-div-block-unpadded";this.unPaddedInlineBlockDivClass="tf-div-inlineblock-unpadded";
this.divWithImgBkClass="tf-div-imgbk";this.mapMeasureOverlayDivClass="tf-div-mapoverlay";this.imgLogoStyleClass="tf-img-logo";this.imgFullWidthHeightClass="tf-img-fullwh";this.imgForInfoWindowClass="tf-img-infow";this.svgGlyphLightNoHoverStyleClass="tf-glyph-svg-nohover-light";this.svgGlyphLightStyleClass="tf-glyph-svg-light";this.svgGlyphDarkNoHoverStyleClass="tf-glyph-svg-nohover-dark";this.svgGlyphDarkStyleClass="tf-glyph-svg-dark";this.divSvgGlyphBtnClass="tf-glyph-svg-svgglyphbtndiv";this.textDivBtnLightStyleClass=
"tf-btn-div-light";this.textDivBtnDarkStyleClass="tf-btn-div-dark";this.mapTextBtnClass="tf-btn-div-map";this.bottomBorderSeparatorLightClass="tf-border-botlight";this.bottomBorderSeparatorDarkClass="tf-border-botdark";this.rightBorderSeparatorLightClass="tf-border-rightlight";this.rightBorderSeparatorDarkClass="tf-border-rightdark";this.radioClass="tf-radio";this.radioLabelClass=this.radioClass+"-label";this.checkClass="tf-check";this.checkLabelClass=this.checkClass+"-label";this.popupCaptionClass=
"tf-div-popupcaption";this.popupContainerClass="tf-div-popupcontainer";this.popupContentClass="tf-div-popupcontent";this.mapToolBarContainerClass="tf-div-maptoolbarcontainer";this.spanClass="tf-span-span";this.spanCursorPointerClass="tf-span-spanCursorPointer";this.dLayerInfoClass="tf-div-dLayerInfo";this.hcfLayoutClass="tf-div-hcfpage";this.hcfLayoutHeaderClass="tf-div-hcfhrd";this.hcfLayoutFooterClass="tf-div-hcfftr";this.hcfLayoutContentClass="tf-div-hcfcnt";this.buttonShapedLinkClass="tf-link-buttonshape";
this.inputTextClass="tf-input-input";this.mapTFLogoControlClass="tf-map-tflogo";this.mapAddressButtonClass="tf-map-addressbtn";this.mapLayersButtonClass="tf-map-layersbtn";this.mapTypeButtonClass="tf-map-typebtn";this.mapMeasureButtonClass="tf-map-measurebtn";this.mapDownloadButtonClass="tf-map-downloadbtn";this.mapSourceButtonClass="tf-map-sourcebtn";this.mapLocationButtonClass="tf-map-centerbtn";this.mapUserLocationButtonClass="tf-map-userlocbtn";this.mapFullScreenButtonClass="tf-map-fullscreenbtn";
this.opacityVisibilityShowClass="tf-u-show";this.opacityVisibilityHideClass="tf-u-hide";this.mapSvgGlyphInButtonClass="tf-map-svgglyphinbutton";c=this;e=new tf.styles.CSSStyleCreator(c);d=new tf.styles.SubStyles(c,a);(function(){b=document.createElement("canvas");var a=b.style;a.display="none";a.width="10em";a.height="10em";a.zIndex=-100})();f=function(a){var b=null;if(tf.js.GetIsValidObject(a)){var c=document.documentElement.style,d;for(d in a){var e=a[d];if(e in c){b=e;break}}}return b}(["transform",
"MozTransform","WebkitTransform","msTransform","OTransform"]);(function(){var a=[],b;for(b in a){var c=a[b];c.styleName&&e.CreateRawStyle(c.selector,c.style)}})();e.CreateStyles([{styleName:"."+c.appContainerClass,inherits:d.appContainerStyle},{styleName:"."+c.mapContainerClass,inherits:d.mapContainerStyle},{styleName:"."+c.mapSubContainerClass,inherits:d.mapSubContainerStyle},{styleName:"."+c.leftSideContainerClass,inherits:d.leftSideContainerStyle},{styleName:"."+c.floatLeftSideContainerClass,inherits:d.floatLeftSideContainerStyle},
{styleName:"."+c.leftRightSideSeparatorClass,inherits:d.leftRightSideSeparatorStyle},{styleName:"."+c.rightSideContainerClass,inherits:d.rightSideContainerStyle},{styleName:"."+c.bottomContainerClass,inherits:d.bottomContainerStyle},{styleName:"."+c.topBottomSeparatorClass,inherits:d.topBottomSeparatorStyle},{styleName:"."+c.listContentClass,inherits:d.listContentStyle},{styleName:"."+c.inputFormClass,inherits:d.inputFormStyle},{styleName:"."+c.popupContainerClass,inherits:d.popupContainerStyle},
{styleName:"."+c.popupContentClass,inherits:d.popupContentStyle},{styleName:"."+c.mapToolBarContainerClass,inherits:d.mapToolBarContainerStyle},{styleName:"."+c.paddedBlockDivClass,inherits:d.paddedBlockDivStyle},{styleName:"."+c.paddedInlineBlockDivClass,inherits:d.paddedInlineBlockDivStyle},{styleName:"."+c.paddedBlockDivWithBorderSeparatorClass,inherits:d.paddedBlockDivWithBorderSeparatorStyle},{styleName:"."+c.paddedInlineBlockDivWithBorderSeparatorClass,inherits:d.paddedInlineBlockDivWithBorderSeparatorStyle},
{styleName:"."+c.unPaddedBlockDivClass,inherits:d.unPaddedBlockDivStyle},{styleName:"."+c.unPaddedInlineBlockDivClass,inherits:d.unPaddedInlineBlockDivStyle},{styleName:"."+c.divWithImgBkClass,inherits:d.divWithImgBkStyle},{styleName:"."+c.inputTextClass+":-moz-placeholder",inherits:d.inputTextPlaceholderStyle},{styleName:"."+c.inputTextClass+"::-moz-placeholder",inherits:d.inputTextPlaceholderStyle},{styleName:"."+c.inputTextClass+":-ms-input-placeholder",inherits:d.inputTextPlaceholderStyle},{styleName:"."+
c.inputTextClass+"::-webkit-input-placeholder",inherits:d.inputTextPlaceholderStyle},{styleName:"."+c.inputTextClass+"::-ms-clear",inherits:d.noneDisplayStyle},{styleName:"."+c.inputTextClass+", ."+c.inputTextClass+" input, ."+c.inputTextClass+" input:focus",inherits:d.inputTextStyle},{styleName:"."+c.radioLabelClass+" label",inherits:d.radioLabelStyle},{styleName:"."+c.radioClass+' input[type="radio"]',inherits:d.radioRadioStyle},{styleName:"."+c.radioClass+' input[type="radio"]:checked + label',
inherits:d.radioRadioAndLabelCheckedStyle},{styleName:"."+c.radioClass+' input[type="radio"], .'+c.radioLabelClass+" label::before",inherits:d.radioRadioAndLabelStyleBefore},{styleName:"."+c.radioClass+' input[type="radio"]:checked + label::before',inherits:d.radioRadioAndLabelSelStyleBefore},{styleName:"."+c.checkLabelClass+" label",inherits:d.checkLabelStyle},{styleName:"."+c.checkClass+' input[type="checkbox"]',inherits:d.checkCheckStyle},{styleName:"."+c.checkClass+' input[type="checkbox"]:checked + label',
inherits:d.checkCheckAndLabelCheckedStyle},{styleName:"."+c.checkClass+' input[type="checkbox"], .'+c.checkLabelClass+" label::before",inherits:d.checkCheckAndLabelStyleBefore},{styleName:"."+c.checkClass+' input[type="checkbox"]:checked + label::before',inherits:d.checkCheckAndLabelSelStyleBefore},{styleName:"."+c.mapMeasureOverlayDivClass,inherits:d.mapMeasureOverlayDivStyle},{styleName:"."+c.hcfLayoutClass,inherits:d.hcfLayoutStyle},{styleName:"."+c.hcfLayoutHeaderClass,inherits:d.hcfLayoutHeaderStyle},
{styleName:"."+c.hcfLayoutFooterClass,inherits:d.hcfLayoutFooterStyle},{styleName:"."+c.hcfLayoutContentClass,inherits:d.hcfLayoutContentStyle},{styleName:"."+c.popupCaptionClass,inherits:d.popupCaptionStyle},{styleName:"."+c.spanClass,inherits:d.spanStyle},{styleName:"."+c.spanCursorPointerClass,inherits:d.spanCursorPointerStyle},{styleName:"."+c.dLayerInfoClass,inherits:d.dLayerInfoStyle},{styleName:"."+c.dLayerInfoClass+" img",inherits:d.dLayerInfoImgStyle},{styleName:"."+c.dLayerInfoClass+" a",
inherits:d.dLayerInfoLinkStyle},{styleName:"."+c.dLayerInfoClass+" a:link",inherits:d.dLayerInfoLinkStyle},{styleName:"."+c.dLayerInfoClass+" a:visited",inherits:d.dLayerInfoLinkStyle},{styleName:"."+c.dLayerInfoClass+" a:hover",inherits:d.dLayerInfoLinkHoverStyle},{styleName:"."+c.dLayerInfoClass+" a:active",inherits:d.dLayerInfoLinkStyle},{styleName:"."+c.dLayerInfoClass+" span",inherits:d.dLayerInfoSpanStyle},{styleName:"a."+c.buttonShapedLinkClass,inherits:d.buttonShapedLinkStyle},{styleName:"a."+
c.buttonShapedLinkClass+":hover",inherits:d.buttonShapedLinkHoverStyle},{styleName:"img."+c.imgLogoStyleClass,inherits:d.imgLogoStyle},{styleName:"img."+c.imgFullWidthHeightClass,inherits:d.imgFullWidthHeightStyle},{styleName:"img."+c.imgForInfoWindowClass,inherits:d.imgForInfoWindowStyle},{styleName:"svg."+c.svgGlyphLightNoHoverStyleClass,inherits:d.svgGlyphLightNoHoverStyle},{styleName:"svg."+c.svgGlyphLightStyleClass,inherits:d.svgGlyphLightStyle},{styleName:"svg."+c.svgGlyphLightStyleClass+":hover",
inherits:d.svgGlyphLightStyleHover},{styleName:"svg."+c.svgGlyphDarkNoHoverStyleClass,inherits:d.svgGlyphDarkNoHoverStyle},{styleName:"svg."+c.svgGlyphDarkStyleClass,inherits:d.svgGlyphDarkStyle},{styleName:"svg."+c.svgGlyphDarkStyleClass+":hover",inherits:d.svgGlyphDarkStyleHover},{styleName:"svg."+c.mapSvgGlyphInPopupClass,inherits:d.mapSvgGlyphInPopupStyle},{styleName:"svg."+c.mapSvgGlyphInPopupClass+":hover",inherits:d.mapSvgGlyphInPopupHoverStyle},{styleName:"svg."+c.mapSvgGlyphInButtonClass,
inherits:d.mapSvgGlyphInButtonStyle},{styleName:"."+c.divSvgGlyphBtnClass,inherits:d.divSvgGlyphBtnStyle},{styleName:"div."+c.textDivBtnLightStyleClass,inherits:d.textDivBtnLightStyle},{styleName:"div."+c.textDivBtnLightStyleClass+":hover",inherits:d.textDivBtnLightStyleHover},{styleName:"div."+c.textDivBtnDarkStyleClass,inherits:d.textDivBtnDarkStyle},{styleName:"div."+c.textDivBtnDarkStyleClass+":hover",inherits:d.textDivBtnDarkStyleHover},{styleName:"div."+c.mapTextBtnClass,inherits:d.mapTextBtnStyle},
{styleName:"div."+c.mapTextBtnClass+":hover",inherits:d.mapTextBtnStyleHover},{styleName:"."+c.bottomBorderSeparatorLightClass,inherits:d.bottomBorderSeparatorLightStyle},{styleName:"."+c.bottomBorderSeparatorDarkClass,inherits:d.bottomBorderSeparatorDarkStyle},{styleName:"."+c.rightBorderSeparatorLightClass,inherits:d.rightBorderSeparatorLightStyle},{styleName:"."+c.rightBorderSeparatorDarkClass,inherits:d.rightBorderSeparatorDarkStyle},{styleName:"."+c.mapTFLogoControlClass,inherits:d.mapTFLogoControlStyle},
{styleName:"."+c.mapAddressButtonClass,inherits:d.mapAddressButtonStyle},{styleName:"."+c.mapLayersButtonClass,inherits:d.mapLayersButtonStyle},{styleName:"."+c.mapTypeButtonClass,inherits:d.mapTypeButtonStyle},{styleName:"."+c.mapMeasureButtonClass,inherits:d.mapMeasureButtonStyle},{styleName:"."+c.mapDownloadButtonClass,inherits:d.mapDownloadButtonStyle},{styleName:"."+c.mapSourceButtonClass,inherits:d.mapSourceButtonStyle},{styleName:"."+c.mapLocationButtonClass,inherits:d.mapLocationButtonStyle},
{styleName:"."+c.mapUserLocationButtonClass,inherits:d.mapUserLocationButtonStyle},{styleName:"."+c.mapFullScreenButtonClass,inherits:d.mapFullScreenButtonStyle},{styleName:".ol-viewport .ol-unselectable",inherits:d.mapViewPortUnSelectableStyle},{styleName:".ol-zoom",inherits:d.mapZoomStyle},{styleName:".ol-zoom .ol-zoom-in",inherits:d.mapZoomInBorderRadiusStyle},{styleName:".ol-zoom .ol-zoom-out",inherits:d.mapZoomOutBorderRadiusStyle},{styleName:".ol-zoomslider",inherits:d.mapZoomSliderStyle},{styleName:".ol-rotate",
inherits:d.mapRotateStyle},{styleName:".ol-rotate.ol-hidden",inherits:d.mapRotateHiddenStyle},{styleName:".ol-compass",inherits:d.mapCompassStyle},{styleName:".ol-scale-line",inherits:d.mapScaleLineStyle},{styleName:".ol-scale-line-inner",inherits:d.mapScaleLineInnerStyle},{styleName:".ol-control",inherits:d.mapControlStyle},{styleName:".ol-control:hover",inherits:d.mapControlHoverStyle},{styleName:".ol-control button:focus, .ol-control button:hover",inherits:d.mapControlButtonFocusHoverStyle},{styleName:".ol-control button",
inherits:d.mapControlButtonStyle},{styleName:".ol-control button::-moz-focus-inner",inherits:d.mapControlButtonMozFocusInnerStyle},{styleName:".ol-overviewmap",inherits:d.mapOverviewMapStyle},{styleName:".ol-overviewmap.ol-uncollapsible",inherits:d.mapOverviewMapUnCollapsibleStyle},{styleName:".ol-overviewmap .ol-overviewmap-map, .ol-overviewmap button",inherits:d.mapControlButtonStyle},{styleName:".ol-overviewmap .ol-overviewmap-map",inherits:d.mapOverviewMapMapStyle},{styleName:".ol-overviewmap:not(.ol-collapsed) button",
inherits:d.mapOverviewMapButtonNotCollapsedStyle},{styleName:".ol-overviewmap.ol-collapsed .ol-overviewmap-map, .ol-overviewmap.ol-uncollapsible button",inherits:d.mapOverviewMapButtonCollapsedStyle},{styleName:".ol-overviewmap:not(.ol-collapsed)",inherits:d.mapOverviewMapNotCollapsedStyle},{styleName:".ol-overviewmap-box",inherits:d.mapOverviewMapBoxStyle},{styleName:".ol-button-text-span",inherits:d.mapButtonTextSpanStyle},{styleName:"."+c.opacityVisibilityShowClass,inherits:d.opacityVisibilityShowStyle},
{styleName:"."+c.opacityVisibilityHideClass,inherits:d.opacityVisibilityHideStyle},{}])};tf.js.Counter=function(){var a=0;this.GetNext=function(){return++a}};
tf.Debug=function(){function a(a,c){var b=new Blob([c],{type:"text/plain"}),f=document.createElement("a");f.download=a;f.innerHTML="Download File";null!=window.webkitURL?f.href=window.webkitURL.createObjectURL(b):(f.href=window.URL.createObjectURL(b),f.onclick=function(a){document.body.removeChild(a.target)},f.style.display="none",document.body.appendChild(f));f.click()}var c;this.AddExtent=function(a,c,b){a=new tf.map.Feature({type:"linestring",coordinates:[[a[0],a[1]],[a[0],a[3]],[a[2],a[3]],[a[2],
a[1]],[a[0],a[1]]],style:{line:!0,line_color:void 0!==b?b:"#f00",line_width:5,zindex:10}});c.AddMapFeature(a)};this.LogIfTest=function(a){c&&console.log(a)};this.FileLog=function(e,d){c&&a(e,"var "+e+" = "+JSON.stringify(d))};this.SaveAsTextFile=function(c,d){return a(c,d)};this.DebugArguments=function(){for(var a in arguments)c&&console.log(a+": "+arguments[a])};c=tf.platform.GetIsTest()};
tf.events.StopDOMEvent=function(a){!a&&window.event&&(a=window.event);a&&"object"===typeof a&&(void 0!==a.cancelBubble&&(a.cancelBubble=!0),null!=a.returnValue&&(a.returnValue=!1),a.preventDefault&&a.preventDefault(),null!=a.cancel&&(a.cancel=!0));return!1};
tf.events.DelayedCallBack=function(a,c,e){function d(){+new Date-g<f?l=setTimeout(d,f):(l=void 0,h.apply(k,m))}var b,f,h,k,g,l,m;this.DelayCallBack=function(){g=+new Date;m=arguments;void 0==l&&(l=setTimeout(d,f))};this.CancelCallBack=function(){void 0!=l&&(clearTimeout(l),l=void 0)};this.CallBackNow=function(){b.CancelCallBack();h.apply(k,m)};this.GetHasPendingCallBack=function(){return void 0!=l};this.ChangeDelay=function(a){f=a};b=this;f=a;h=c;k=e;g=+new Date(1,1,2E3,12,0,0);l=void 0;m=null};
tf.events.DOMEventListener=function(a){var c,e,d;this.OnDelete=function(){d&&(tf.events.DelDOMEventListener(c,e,d),d=null)};a=tf.js.GetValidObjectFrom(a);(d=tf.js.GetFunctionOrNull(a.callBack))&&tf.dom.GetDOMEventListenerFrom(a.target)&&tf.js.GetIsNonEmptyString(a.eventName)&&(e=a.eventName,c=a.target)};
tf.events.MultiDOMEventListener=function(a){function c(a){return function(c){!c&&window.event&&(c=window.event);p=a;n=c;c={sender:e,callBackSettings:g,event:c,eventName:a,target:b,domObj:d};l&&l.call(m,c);c=h.call(k,c);return void 0!=c?c:!0}}var e,d,b,f,h,k,g,l,m,n,p;this.GetDomObj=function(){return d};this.GetTarget=function(){return b};this.GetLastEvent=function(){return n};this.GetLastEventName=function(){return p};this.OnDelete=function(){if(f){for(var a in f)f[a].OnDelete();f=null}};this.ChangeCallBackSettings=
function(a){g=a};e=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.dom.GetDOMEventListenerFrom(a.target)&&tf.js.GetIsValidObject(a.eventNames)&&(h=tf.js.GetFunctionOrNull(a.callBack))){k=a.optionalScope;d=a.domObj;b=a.target;g=a.callBackSettings;l=tf.js.GetFunctionOrNull(a.onPreNotify);m=a.preNotifyScope;f=[];for(var e in a.eventNames){var n=a.eventNames[e];tf.js.GetIsNonEmptyString(n)&&f.push(tf.events.AddDOMEventListener(b,n,c(n)))}}})()};
tf.events.DOMFullScreenChangeListener=function(a){function c(a){f.call(b,{sender:e,callBackSettings:h,event:a})}var e,d,b,f,h,k;this.GetIsFullScreen=function(){return tf.browser.GetIsFullScreen()};this.OnDelete=function(){if(k){for(var a in k)k[a].OnDelete();k=null}};e=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetFunctionOrNull(a.callBack)){b=a.optionalScope;f=a.callBack;h=a.callBackSettings;d=new tf.events.DelayedCallBack(50,c,e);k=[];for(var g in tf.consts.allFullScreenEventNames)k.push(tf.events.AddDOMEventListener(document,
tf.consts.allFullScreenEventNames[g],d.DelayCallBack))}})()};tf.events.DOMClickListener=function(a){function c(a){}var e;e=this;(function(){a=tf.js.GetValidObjectFrom(a);var d=tf.js.ShallowMerge(a,{eventNames:[tf.consts.DOMEventNamesClick],onPreNotify:c,preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,d)})()};tf.js.InheritFrom(tf.events.DOMClickListener,tf.events.MultiDOMEventListener);
tf.events.DOMChangeListener=function(a){function c(a){}var e;e=this;(function(){a=tf.js.GetValidObjectFrom(a);var d=tf.js.ShallowMerge(a,{eventNames:[tf.consts.DOMEventNamesChange],onPreNotify:c,preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,d)})()};tf.js.InheritFrom(tf.events.DOMClickListener,tf.events.MultiDOMEventListener);
tf.events.DOMWheelListener=function(a){function c(a){var c=!1,d=a.event;switch(a.eventName){case tf.consts.DOMEventNamesDOMMouseScroll:c=0>d.detail;break;case tf.consts.DOMEventNamesMouseWheel:c=0<d.wheelDelta}a.isUp=c;tf.js.GetFunctionOrNull(d.preventDefault)&&d.preventDefault()}var e,d;e=this;(function(){a=tf.js.GetValidObjectFrom(a);d=tf.browser.GetBrowserType().isFireFox;var b=tf.js.ShallowMerge(a,{eventNames:d?[tf.consts.DOMEventNamesDOMMouseScroll]:[tf.consts.DOMEventNamesMouseWheel],onPreNotify:c,
preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,b)})()};tf.js.InheritFrom(tf.events.DOMWheelListener,tf.events.MultiDOMEventListener);
tf.events.DOMHoverListener=function(a){function c(a){b=a.mouseCoords=tf.events.GetMouseEventCoords(a.event);switch(a.eventName){case tf.consts.DOMEventNamesMouseOver:d=a.isInHover=!0;break;case tf.consts.DOMEventNamesMouseOut:d=a.isInHover=!1}}var e,d,b;this.GetIsInHover=function(){return d};this.GetLastPos=function(){return b};e=this;(function(){d=!1;var b=tf.js.ShallowMerge(a,{eventNames:[tf.consts.DOMEventNamesMouseOver,tf.consts.DOMEventNamesMouseOut],onPreNotify:c,preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,
b)})()};tf.js.InheritFrom(tf.events.DOMHoverListener,tf.events.MultiDOMEventListener);
tf.events.DOMMouseEnterLeaveListener=function(a){function c(a){b=a.mouseCoords=tf.events.GetMouseEventCoords(a.event);switch(a.eventName){case tf.consts.DOMEventNamesMouseEnter:d=a.isInHover=!0;break;case tf.consts.DOMEventNamesMouseLeave:d=a.isInHover=!1}}var e,d,b;this.GetIsInHover=function(){return d};this.GetLastPos=function(){return b};e=this;(function(){d=!1;var b=tf.js.ShallowMerge(a,{eventNames:[tf.consts.DOMEventNamesMouseEnter,tf.consts.DOMEventNamesMouseLeave],onPreNotify:c,preNotifyScope:e});
tf.events.MultiDOMEventListener.call(e,b)})()};tf.js.InheritFrom(tf.events.DOMMouseEnterLeaveListener,tf.events.MultiDOMEventListener);
tf.events.DOMFocusBlurListener=function(a){function c(a){switch(a.eventName){case tf.consts.DOMEventNamesFocus:d=a.hasFocus=!0;break;case tf.consts.DOMEventNamesBlur:d=a.hasFocus=!1}}var e,d;this.GetHasFocus=function(){return d};e=this;(function(){d=!1;var b=tf.js.ShallowMerge(a,{eventNames:[tf.consts.DOMEventNamesFocus,tf.consts.DOMEventNamesBlur],onPreNotify:c,preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,b)})()};tf.js.InheritFrom(tf.events.DOMFocusBlurListener,tf.events.MultiDOMEventListener);
tf.events.DOMMouseListener=function(a){function c(a){f=a.mouseCoords=tf.events.GetMouseEventCoords(a.event);switch(a.eventName){case tf.consts.DOMEventNamesMouseOver:d=a.isInHover=!0;break;case tf.consts.DOMEventNamesMouseOut:d=a.isInHover=!1;break;case tf.consts.DOMEventNamesMouseDown:b=a.isInDrag=!0;break;case tf.consts.DOMEventNamesMouseUp:b=a.isInDrag=!1}}var e,d,b,f;this.GetIsInHover=function(){return d};this.GetIsInDrag=function(){return b};this.GetLastPos=function(){return f};e=this;(function(){b=
d=!1;f=[0,0];var h=tf.js.ShallowMerge(a,{eventNames:tf.consts.allMouseEventNames,onPreNotify:c,preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,h)})()};tf.js.InheritFrom(tf.events.DOMMouseListener,tf.events.MultiDOMEventListener);
tf.events.DocMouseListener=function(){function a(){b&&(b=f=void 0,d.OnDelete())}function c(a){var c=!0;b&&(void 0===(c=b.call(f,a))?c=!0:c&&tf.events.StopDOMEvent(a.event));return c}var e,d,b,f;this.SetCapture=function(h,k,g){a();if(b=tf.js.GetFunctionOrNull(h))d=new tf.events.DOMMouseListener({target:document,callBack:c,optionalScope:e,callBackSettings:void 0}),f=k};this.ReleaseCapture=function(){return a()};this.GetIsCaptured=function(){return!!b};e=this};
tf.events.GetEventTarget=function(a){if(a){if(a.srcElement)return a.srcElement;if(a.originalTarget)return a.originalTarget}return null};tf.events.GetMouseEventCoords=function(a){if(tf.js.GetIsValidObject(a)){if(void 0!==a.offsetX)return[a.offsetX,a.offsetY];if(void 0!=a.layerX)return[a.layerX,a.layerY]}return[0,0]};
tf.events.AddDOMEventListener=function(a,c,e){var d=null;tf.js.GetFunctionOrNull(e)&&(a=tf.dom.GetDOMEventListenerFrom(a))&&tf.js.GetIsNonEmptyString(c)&&(a.addEventListener?a.addEventListener(c,e,!0):a.attachEvent?a.attachEvent("on"+c,e):a["on"+c]=e,d=new tf.events.DOMEventListener({target:a,eventName:c,callBack:e}));return d};
tf.events.DelDOMEventListener=function(a,c,e){tf.js.GetFunctionOrNull(e)&&(a=tf.dom.GetDOMEventListenerFrom(a))&&tf.js.GetIsNonEmptyString(c)&&(a.removeEventListener?a.removeEventListener(c,e,!0):a.detachEvent?a.detachEvent("on"+c,e):a["on"+c]=void 0)};tf.events.EventListener=function(a){var c,e,d;this.OnDelete=function(){if(e){var a=e;e=null;a(c)}};this.GetKey=function(){return d};c=this;a=tf.js.GetValidObjectFrom(a);d=a.key;e=tf.js.GetFunctionOrNull(a.deleteCallBack)};
tf.events.EventNotifier=function(a){function c(a){a&&a instanceof tf.events.EventListener&&(a=tf.js.MakeObjectKey(a.GetKey()),d[a]&&delete d[a],--f)}var e,d,b,f;this.GetEventName=function(){return e};this.Add=function(a){var e=null;tf.js.GetFunctionOrNull(a)&&(++f,++b,d[tf.js.MakeObjectKey(b)]={listener:e=new tf.events.EventListener({key:b,deleteCallBack:c}),callBackFunction:a});return e};this.Notify=function(){for(var a in d)try{d[a].callBackFunction.apply(void 0,arguments)}catch(b){console.log("exception during EventNotifier notification")}};
this.OnDelete=function(){for(var a in d)d[a].listener.OnDelete();d=[]};this.GetListenerCount=function(){return f};a=tf.js.GetValidObjectFrom(a);e=tf.js.GetNonEmptyString(a.eventName,"");d={};f=b=0};
tf.events.MultiEventNotifier=function(a){function c(a){a&&d[a]&&(d[a].OnDelete(),delete d[a])}function e(a){a&&(d[a]?tf.GetDebug().LogIfTest("tf.events.MultiEventNotifier: adding duplicate listener for event name: "+a):d[a]=new tf.events.EventNotifier({eventName:a}))}var d;this.AddListener=function(a,c){var e=null;a&&c&&d[a]&&(e=d[a].Add(c));return e};this.AddListeners=function(a){var c={};if(tf.js.GetIsValidObject(a))for(var e in a){var k=e?d[e]:null;if(k){var g=tf.js.GetFunctionOrNull(a[e]);g&&
(c[e]=k.Add(g))}}return c};this.Notify=function(a){a&&d[a]&&d[a].Notify.apply(null,Array.prototype.slice.call(arguments,1))};this.GetNotifier=function(a){return a?d[a]:null};this.AddNotifier=function(a){return e(a)};this.DelNotifier=function(a){return c(a)};this.OnDelete=function(){for(var a in d)c(a)};a=tf.js.GetValidObjectFrom(a);(function(a){d={};if(a&&"object"===typeof a)for(var c in a)e(a[c])})(a.eventNames)};
tf.events.DeleteListeners=function(a){if(tf.js.GetIsValidObject(a))for(var c in a){var e=a[c];tf.js.GetIsInstanceOf(e,tf.events.EventListener)&&(e.OnDelete(),delete a[c])}};
tf.js.KeyedItem=function(a){function c(a){var b=!1;f=new Date;tf.js.GetIsValidObject(a)&&(b=!h||!g||g({sender:d,itemData:h,itemDataSet:a}))&&(h=a);return b}function e(a,e){var g;b&&k&&b.GetKeyFromData(a)==k&&(e?g=c(a):(h=null,g=c(a),b.NotifyItemUpdated(d)));return g}var d,b,f,h,k,g;this.GetListName=function(){return b?b.GetName():""};this.GetList=function(){return b};this.GetKey=function(){return k};this.GetData=function(){return h};this.GetLastTimeUpdated=function(){return f};this.NotifyUpdated=
function(){b&&k&&b.NotifyItemUpdated(d)};this.Update=function(a){return e(a,!1)};this.OnDelete=function(){};this.privateUpdate=function(a){return e(a,!0)};d=this;a=tf.js.GetValidObjectFrom(a);b=tf.js.GetIsInstanceOf(a.list,tf.js.KeyedList)?a.list:null;k=a.key;g=tf.js.GetFunctionOrNull(a.needsUpdateItemData);c(a.itemData)};
tf.js.KeyedList=function(a){function c(a,b,c,d){a=E.Notify(a,{sender:q,eventName:a,items:b,keys:c});p(d);return a}function e(a,b,d){c(tf.consts.keyedListAddedItemsEvent,a,b,d?void 0:{added:!0,addedItems:a,addedKeys:b})}function d(a,b,d){c(tf.consts.keyedListUpdatedItemsEvent,a,b,d?void 0:{updated:!0,updatedItems:a,updatedKeys:b})}function b(a,b,d){c(tf.consts.keyedListDeletedItemsEvent,a,b,d?void 0:{deleted:!0,deletedItems:a,deletedKeys:b})}function f(a){return!!v[tf.js.MakeObjectKey(a)]}function h(a){return!!a&&
(L?a instanceof tf.js.KeyedList:a instanceof tf.js.KeyedItem)&&f(a.GetKey())}function k(a){return f(a)?v[tf.js.MakeObjectKey(a)]:null}function g(a,c,d){if(h(a)){var e=a.GetKey(),g=t(e);c&&b([a],[e],d);a.OnDelete();delete w[g];delete v[g];--A;return!0}return!1}function l(a,b){var c=null,d=K(a),g=!1;if(d&&!(g=!!(c=k(d)))&&(!D||D(a))){var c=L?new tf.js.KeyedList({key:d,getKeyFromItemData:G,needsUpdateItemData:F}):new tf.js.KeyedItem({list:q,key:d,itemData:a,needsUpdateItemData:F}),f=t(d);w[f]=d;v[f]=
c;++A;b&&e([c],[d])}return{isExisting:g,item:c,key:d}}function m(a){var c,f,h,k=[],m=[],n=[],q=[],t={};c={};var w={};r=new Date;if(a)for(h in a=tf.js.GetIsArray(a)?a:[a],a){var F=a[h],C=l(F,!1),D=C.item,E=C.key;C.isExisting?L?(D.AddItemDataToUpdateCache(F),t[E]||w[E]||(w[E]=D)):!D.privateUpdate(F)||t[E]||c[E]||(c[E]=E,n.push(D),q.push(E)):D&&(L&&D.AddItemDataToUpdateCache(F),t[E]=D,k.push(D),m.push(E))}if((t=0<k.length)&&L)for(h in k)k[h].UpdateFromItemDataCache();if(L)for(h in w)c=w[h],c.UpdateFromItemDataCache()&&
(q.push(h),n.push(c));w=0<n.length;u=A;if(B)f=[],h=[],a=!1;else{a=[];h=[];for(f in v)c=v[f],c.GetLastTimeUpdated()<r&&(a.push(c),h.push(c.GetKey()));c=!!a.length;f=a;if(a=c)u-=f.length}(c=t||w||a)&&p({added:t,addedItems:k,addedKeys:m,updated:w,updatedItems:n,updatedKeys:q,deleted:a,deletedItems:f,deletedKeys:h});t&&e(k,m,!0);w&&d(n,q,!0);if(a&&(k=f)){b(k,h,!0);for(var G in k)g(k[G],!1,!0)}return c}function n(){return null}function p(a){tf.js.GetIsValidObject(a)&&J.Notify(tf.js.ShallowMerge({added:!1,
updated:!1,deleted:!1},a,{sender:q}))}var q,r,t,v,w,A,u,C,B,F,E,D,K,G,L,H,I,J;this.GetName=function(){return C};this.GetIsListOfLists=function(){return L};this.GetKey=function(){return H};this.AddOrGetItem=function(a){return l(a,!0).item};this.RemoveItem=function(a,b,c){return g(a,!b,c)};this.RemoveItemByKey=function(a,b,c){b=!b;return(a=k(a))?g(a,b,c):!1};this.RemoveAllItems=function(a,b){var c=!a,d;for(d in v)g(v[d],c,b)};this.HasKey=function(a){return f(a)};this.GetItem=function(a){return k(a)};
this.GetItemCount=function(){return A};this.GetItemCountAfterUpdate=function(){return u};this.GetKeyedItemList=function(){return tf.js.ShallowMerge(v)};this.GetFirstKeyedItem=function(){var a=q.GetKeyedItemList(),b;for(b in a)return a[b]};this.GetKeyList=function(){return tf.js.ShallowMerge(w)};this.GetKeyFromData=function(a){return K(a)};this.GetLastTimeUpdated=function(){return r};this.UpdateFromNewData=function(a){return m(a)};this.AddAggregateListener=function(a){return J.Add(a)};this.AddListener=
function(a,b){return E.AddListener(a,b)};this.AddListeners=function(a){return E.AddListeners(a)};this.NotifyItemsAdded=function(a){tf.js.GetFunctionOrNull(a)&&0<A&&a({sender:q,eventName:tf.consts.keyedListAddedItemsEvent,items:v,keys:w})};this.NotifyItemsUpdatedByKeys=function(a){if(void 0!=a){var b=[],c=[],e;for(e in a){var g=a[e],f=k(g);f&&(b.push(f),c.push(g))}0<b.length&&d(b,c)}};this.NotifyItemsUpdated=function(a){if(0<A)if(void 0!=a){var b=[],c=[],e;for(e in a){var g=a[e];h(g)&&(b.push(g),c.push(g.GetKey()))}0<
b.length&&d(b,c)}else d(v,w)};this.NotifyItemUpdated=function(a){h(a)&&d([a],[a.GetKey()])};this.AddItemDataToUpdateCache=function(a){a&&(I||(I=[]),I.push(a))};this.UpdateFromItemDataCache=function(a){a=!1;I&&(a=m(I),I=null);return a};this.OnDelete=function(){c(tf.consts.keyedListDeleteEvent,v,w);for(var a in v)g(v[a],!1,!0);E.OnDelete()};q=this;J=new tf.events.EventNotifier({eventName:"agg"});E=new tf.events.MultiEventNotifier({eventNames:tf.consts.allKeyedListEventNames});t=tf.js.MakeObjectKey;
v={};w={};A=u=0;a=tf.js.GetValidObjectFrom(a);C=a.name;F=tf.js.GetFunctionOrNull(a.needsUpdateItemData);B=tf.js.GetBoolFromValue(a.keepNotUpdated,!1);D=tf.js.GetFunctionOrNull(a.filterAddItem);H=a.key;K=void 0;L=!1;if(G=a.getKeyFromItemData)"function"===typeof G?K=tf.js.GetFunctionOrNull(G):tf.js.GetIsNonEmptyArray(G)&&(K=tf.js.GetFunctionOrNull(G[0]),G=G.slice(1),(L=0<G.length)||(G=null));K||(K=n)};
tf.js.KeyedListsPeriodicRefresh=function(a){function c(){k&&k.RefreshNow()}function e(b){++r;m||k.Cancel();var d=!0;!b&&a.retryOnFail&&(d=!1,tf.GetDebug().LogIfTest("KeyedListsPeriodicRefresh: retrying JSON download"),setTimeout(c,1E3));if(d){b=a.preProcessServiceData(b);for(var e in l)l[e].UpdateFromNewData(b)}}function d(){n&&n({sender:h});q.Notify({sender:h})}function b(a){t||(e(a.data),d())}function f(a){t||(k.ChangeCallBack(b),e(a.data),p&&(a=p,p=null,a({sender:h})),d())}var h,k,g,l,m,n,p,q,
r,t;this.GetKeyedList=function(a){return g[a]};this.RefreshNow=function(){return c()};this.GetRefreshCount=function(){return r};this.GetIsRefreshing=function(){return k.GetIsRefreshing()};this.AddOnRefreshListener=function(a){return addListener(q,a)};this.OnDelete=function(){t=!0;k&&(k.OnDelete(),k=null);q&&q.OnDelete();q=null;for(var a in l)l[a].OnDelete();l=null;g={}};this.RefreshFromData=function(a){k&&k.RefreshFromData(a)};h=this;(function(){l=[];g={};if(a&&"object"===typeof a&&a.keyedLists&&
tf.js.GetIsArray(a.keyedLists)){t=!1;q=new tf.events.EventNotifier;n=tf.js.GetFunctionOrNull(a.refreshCallback);p=tf.js.GetFunctionOrNull(a.onCreated);for(var c in a.keyedLists){var d=a.keyedLists[c];d&&(d instanceof tf.js.KeyedList||(d=tf.js.GetIsValidObject(d)?new tf.js.KeyedList(d):null),d&&(l.push(d),g[d.GetName()]=d))}l.length&&(c=0<(m=tf.js.GetNonNegativeIntFrom(a.refreshMillis)),k=new tf.ajax.PeriodicJSONGet({url:a.serviceURL,refreshMillis:m?m:6E5,autoRefresh:c,onRefresh:f,optionalScope:h,
useRedirect:a.useRedirect,JSONDecode:a.JSONDecode,postParams:a.postParams,requestHeaders:a.requestHeaders}),tf.js.GetBoolFromValue(a.refreshOnCreate,!0)?k.RefreshNow():(k.ChangeCallBack(b),p&&(c=p,p=null,c({sender:h}))))}})()};
tf.map.KeyedFeatureList=function(a){function c(a,b){return a.distance<b.distance?-1:a.distance>b.distance?1:0}function e(b){(b=tf.js.GetFunctionOrNull(a.onCreated))&&b(r)}function d(a){return t?b(t.GetItem(a)):null}function b(a){return tf.js.GetObjProperty(a,C)}function f(a){var c=b(a);c&&(c.OnDelete(),tf.js.SetObjProperty(a,C,null))}function h(a){var b,c=b=new tf.map.KeyedFeature({featureList:r,keyedItem:a,getGeometryFromData:A,styleSettings:w});tf.js.SetObjProperty(a,C,c);return b}function k(){var a=
t?t.GetKeyedItemList():[],b=t?t.GetKeyList():[];allFeatures.Notify(featuresDeletedListener,a,b);for(var c in a)f(a[c])}function g(a){k()}function l(a,b){B.Notify(a,tf.js.ShallowMerge(b,{sender:r,eventName:a}))}function m(a){if(!tf.js.GetIsArray(a)){var b=[],c;for(c in a)b.push(a[c]);a=b}return a}function n(a){var b=m(a.items);a=m(a.keys);for(var c=[],d=[],e=b.length-1;0<=e;--e){var g=b[e],k=a[e];h(g).GetMapFeature()?(c.push(g),d.push(k)):f(g)}c.length&&l(tf.consts.keyedFeaturesAddedEvent,{items:c,
keys:d})}function p(a){var c=m(a.items),d=m(a.keys),e=[],g=[],k=[],n=[],p=[],u=[],t;for(t in c){var r=c[t],v=d[t],w=b(r);w?(w=w.UpdateFromItem(),w.updated?(e.push(r),g.push(v)):w.created?(k.push(r),n.push(v)):w.deleted&&(p.push(r),u.push(v))):(w=h(r),w.GetMapFeature()?(k.push(r),n.push(v)):f(r))}k.length&&l(tf.consts.keyedFeaturesAddedEvent,{items:k,keys:n});e.length&&l(tf.consts.keyedFeaturesUpdatedEvent,{items:e,keys:g});p.length&&q({items:p,keys:u,sender:a.sender})}function q(a){var b=a.items;
l(tf.consts.keyedFeaturesDeletedEvent,{items:b,keys:a.keys});for(var c in b)f(b[c])}var r,t,v,w,A,u,C,B;this.AddListener=function(a,b){return B.AddListener(a,b)};this.AddListeners=function(a){return B.AddListeners(a)};this.NotifyFeaturesAdded=function(a){if(tf.js.GetFunctionOrNull(a)&&t){a=t.GetKeyedItemList();var b=t.GetKeyList();l(tf.consts.keyedFeaturesAddedEvent,{items:a,keys:b})}};this.ShowAllOnMap=function(a,b,c){tf.js.GetIsMap(a)&&a.ShowAllKeyedFeatures(r,b,c)};this.ShowSomeOnMap=function(a,
b,c,d){tf.js.GetIsMap(a)&&a.ShowSomeKeyedFeatures(r,b,c,d)};this.GetKeyedList=function(){return t};this.GetKeyedListName=function(){return v};this.GetLayerName=function(){return u};this.GetPropertyName=function(){return C};this.GetPointFeaturesCloseTo=function(a,b,e){var g=e;e=[];if(a){var f=t?t.GetKeyedItemList():[];if(f){a=tf.js.GetMapCoordsFrom(a);b=tf.js.GetFloatNumber(b,1E3);var g=!!g,h;for(h in f){var k=f[h].GetKey(),l=d(k).GetMapFeature();l.GetIsPoint()&&(l=l.GetGeom().GetPointCoords())&&(l=
tf.units.GetDistanceInMetersBetweenMapCoords(l,a),l<=b&&(g?e.push({itemKey:k,distance:l}):e.push(k)))}if(g&&e.length){e.sort(c);g=[];f=[];for(h in e)g.push(e[h].itemKey),f.push(e[h].distance);e.sortedKeyesAndDistances={itemKeys:g,itemDistances:f}}}}return e};this.RefreshStyle=function(a,b){var c=a,c=null;tf.js.GetIsValidObject(c)||(c=t.GetKeyList());for(var e in c){var g=d(c[e]);g&&g.RefreshStyle(b)}};this.GetFeatures=function(a){var b=[];a||(a=t.GetKeyList());for(var c in a){var e=d(a[c]);e&&b.push(e)}return b};
this.GetFeature=function(a){return d(a)};this.GetFeatureFromItem=function(a){return b(a)};this.OnDelete=function(){k();monitor&&(monitor.OnDelete(),monitor=null);coreList=backendList=timedRefreshList=t=null};r=this;(function(){B=new tf.events.MultiEventNotifier({eventNames:tf.consts.allKeyedFeaturesEventNames});if("object"===typeof a&&(t=a.keyedList)&&t instanceof tf.js.KeyedList){w=tf.js.ShallowMerge(a.featureStyleSettings);if("object"===typeof w.styles)for(var b in w.styles){var c=w.styles[b];"object"===
typeof c&&(c.style=tf.map.GetOrCreateFeatureStyle(c.style),c.hoverStyle&&(c.hoverStyle=tf.map.GetOrCreateFeatureStyle(c.hoverStyle)))}else w.style=tf.map.GetOrCreateFeatureStyle(w.style,null),w.hoverStyle&&(w.hoverStyle=tf.map.GetOrCreateFeatureStyle(w.hoverStyle,null));u=tf.js.GetNonEmptyString(a.layerName,v=t.GetName());C=tf.js.GetNonEmptyString(a.propertyName,tf.consts.KeyedFeatureProperty);A=tf.js.GetGeoJSONGeometryFunctionFrom(a.getGeometryFromData);b={};b[tf.consts.keyedListDeleteEvent]=g;b[tf.consts.keyedListAddedItemsEvent]=
n;b[tf.consts.keyedListUpdatedItemsEvent]=p;b[tf.consts.keyedListDeletedItemsEvent]=q;t.AddListeners(b);t.NotifyItemsAdded(n)}setTimeout(e,10)})()};
tf.map.KeyedFeature=function(a){function c(){var a=b.GetData();l=null;if(a&&(a=n(a))){var c=m;if(tf.js.GetIsValidObject(c))if(tf.js.GetIsValidObject(c.styles))for(var d in c.styles){var g=c.styles[d];tf.js.GetIsValidObject(g)&&(g.style=tf.map.GetOrCreateFeatureStyle(g.style),g.hoverStyle&&(g.hoverStyle=tf.map.GetOrCreateFeatureStyle(g.hoverStyle)))}else c.style=tf.map.GetOrCreateFeatureStyle(c.style),c.hoverStyle&&(c.hoverStyle=tf.map.GetOrCreateFeatureStyle(c.hoverStyle));else c={};m=c;d=new tf.map.FeatureGeom({type:a.type,
coordinates:a.coordinates,simplifyTolerance:m.simplifyTolerance});l=new tf.map.FeatureWithNamedStyles({keyedFeature:e,geom:d,styleSettings:m})}return null!=l}var e,d,b,f,h,k,g,l,m,n,p;this.GetFeatureList=function(){return d};this.GetKeyedItem=function(){return b};this.GetKeyedItemKey=function(){return f};this.GetKeyedListName=function(){return h};this.GetLayerName=function(){return k};this.GetPropertyName=function(){return g};this.GetFeatureKey=function(){return h+":"+g+":"+f};this.GetMapFeature=
function(a){return l?l.GetMapFeature(a):null};this.GetGeom=function(){return l?l.GetGeom():void 0};this.SetGeom=function(a){l&&l.SetGeom(a)};this.RefreshStyle=function(a){l&&l.RefreshStyle(a)};this.RefreshGeom=function(a){l&&l.RefreshGeom()};this.SetIsAlwaysInHover=function(a,b){l&&l.SetIsAlwaysInHover(a,b)};this.GetIsPoint=function(){return l?l.GetIsPoint():!1};this.SetPointCoords=function(a){return l?l.SetPointCoords(a):!1};this.GetPointCoords=function(){return l?l.GetPointCoords():[0,0]};this.GetExtent=
function(){return l?l.GetExtent():void 0};this.UpdateFromItem=function(){var a=!1,d=!1,e=!1;if(!p){var g=b.GetData();if(g)if(g=n(g))if(l)if(l.GetIsPoint()){var f=l.GetPointCoords();!f||f[0]==g.coordinates[0]&&f[1]==g.coordinates[1]||(l.SetPointCoords(g.coordinates),a=!0)}else a=new tf.map.FeatureGeom(g),l.SetGeom(a),a=!0;else d=c();else l&&(e=!0)}return{updated:a,deleted:e,created:d}};this.OnDelete=function(){b=l=null;p=!0};this.IsDeleted=function(){return p};e=this;p=!1;d=a.featureList;b=a.keyedItem;
f=b.GetKey();m=a.styleSettings;tf.js.GetIsValidObject(m)||(m=tf.helpers.CopyDefaultMapFeatureStyleSettings());d instanceof tf.map.KeyedFeatureList&&b instanceof tf.js.KeyedItem?(n=tf.js.GetFunctionOrNull(a.getGeometryFromData))?(h=b.GetList().GetName(),k=d.GetLayerName(),g=d.GetPropertyName(),c()):(d=b=m=null,p=!0):(d=b=m=null,p=!0)};tf.map.nextFeatureId=0;
tf.map.Feature=function(a){function c(){h=C&&A||u?g:k;b()}function e(a){var b=null;a instanceof tf.map.FeatureStyle?b=a.getAPIStyle():"function"===typeof a&&(a=tf.map.GetOrCreateFeatureStyle(a(n?n:f,f)),b=a instanceof tf.map.FeatureStyle?a.getAPIStyle():null);return b}function d(){m&&m.setGeometry(l.getAPIGeom())}function b(){m&&m.setStyle(e(h))}var f,h,k,g,l,m,n,p,q,r,t,v,w,A,u,C,B;this.GetSettings=function(){return a};this.SetStyles=function(a,b){tf.js.GetIsInstanceOf(a,tf.map.FeatureStyle)&&tf.js.GetIsInstanceOf(b,
tf.map.FeatureStyle)&&(k=a,g=b,f.RefreshStyle())};this.SetGeom=function(a){return!tf.js.GetIsInstanceOf(a,tf.map.FeatureGeom)||l&&l.GetType()!=a.GetType()?!1:(l=a,d(),!0)};this.GetGeom=function(){return l};this.GetStyle=function(){return h};this.RefreshGeom=function(){return d()};this.RefreshStyle=function(){return b()};this.ChangeStyle=function(a){a instanceof tf.map.FeatureStyle?(h=a,b()):h instanceof tf.map.FeatureStyle&&(h.UpdateAttributesFrom(a),b())};this.GetIsPoint=function(){return l?l.GetIsPoint():
!1};this.SetPointCoords=function(a){return l&&l.SetPointCoords(a)?(d(),!0):!1};this.GetPointCoords=function(){return f.GetIsPoint()?l.GetPointCoords():f.GetMidExtentCoords()};this.GetMidExtentCoords=function(){return tf.js.GetMidExtentCoord(f.GetExtent())};this.GetExtent=function(){return l?l.GetExtent():void 0};this.GetClosestPoint=function(a){return l?l.GetClosestPoint(a):void 0};this.SetOnHoverInOutListener=function(a){w=tf.js.GetFunctionOrNull(a)};this.SetOnMouseMoveListener=function(a){r=tf.js.GetFunctionOrNull(a)};
this.SetOnClickListener=function(a){t=tf.js.GetFunctionOrNull(a)};this.SetOnDoubleClickListener=function(a){v=tf.js.GetFunctionOrNull(a)};this.GetIsInHover=function(){return A};this.GetIsAlwaysInHover=function(){return u};this.SetIsAlwaysInHover=function(a){u!=(a=!!a)&&(u=a,c())};this.GetIsDisplayingInHover=function(){return A||u};this.GetProcessInHover=function(){return C};this.SetProcessInHover=function(a){C!=(a=!!a)&&(C=a,c())};this.GetKeyedFeature=function(){return n};this.GetMapFeatureWithNamedStyles=
function(){return p};this.onHoverInOut=function(a){A=a.isInHover;g&&c();w&&w(a)};this.onMouseMove=function(a){r&&r(a)};this.onClick=function(a){t&&t(a)};this.onDoubleClick=function(a){v&&v(a)};this.getAPIFeature=function(){return m};this.getAPIStyle=function(){return e(h)};this.getStyleName=function(){return q};f=this;u=A=!1;C=!0;B=++tf.map.nextFeatureId;n=a.keyedFeature;p=a.mapFeatureWithNamedStyles instanceof tf.map.FeatureWithNamedStyles?a.mapFeatureWithNamedStyles:null;k=h=tf.map.GetOrCreateFeatureStyle(a.style);
g=a.hoverStyle?tf.map.GetOrCreateFeatureStyle(a.hoverStyle):null;l=a.geom instanceof tf.map.FeatureGeom?a.geom:new tf.map.FeatureGeom({type:a.type,coordinates:a.coordinates});q=tf.js.GetNonEmptyString(a.styleName,"");m=new ol.Feature({mapFeature:f});m.setId(B);d();b()};
tf.map.FeatureWithNamedStyles=function(a){function c(a){a&&tf.js.GetIsNonEmptyString(a)&&h[a]||(a=tf.consts.defaultMapFeatureStyleName);return h[a]}function e(a,b){var d=c(b);d&&d.SetIsAlwaysInHover(a)}function d(a){return(a=c(a))?a.RefreshStyle():!1}var b,f,h,k;this.GetGeom=function(){return k};this.SetGeom=function(a){if(tf.js.GetIsInstanceOf(a,tf.map.FeatureGeom)&&(!k||k.GetType()==a.GetType())){k=a;for(var b in h)h[b].SetGeom(a);return!0}return!1};this.GetExtent=function(){return k?k.GetExtent():
void 0};this.GetMapFeature=function(a){return c(a)};this.GetStyle=function(a){a=c(a);return(a?a.GetStyle():null).GetStyle()};this.RefreshStyle=function(a){var b=!1;if(tf.js.GetIsArray(a))for(var c in a)b=d(a[c])||b;else if(void 0==a)for(c in h)b=d(c)||b;else b=d(a);return b};this.RefreshGeom=function(){for(var a in h)h[a].RefreshGeom()};this.SetIsAlwaysInHover=function(a,b){if(tf.js.GetIsArray(b))for(var c in b)e(a,b[c]);else if(void 0==b)for(c in h)e(a,c);else e(a,b)};this.GetIsPoint=function(){return k?
k.GetIsPoint():!1};this.SetPointCoords=function(a){if(k&&k.SetPointCoords(a))for(var b in h)h[b].RefreshGeom()};this.GetPointCoords=function(){return k?k.GetPointCoords():[0,0]};this.GetClosestPoint=function(a){return k?k.GetClosestPoint(a):void 0};this.GetKeyedFeature=function(){return f};this.getAPIFeature=function(a){return c(a).getAPIFeature()};this.getAPIStyle=function(a){return c(a).getAPIStyle()};b=this;(function(){f=a.keyedFeature instanceof tf.map.KeyedFeature?a.keyedFeature:null;k=a.geom instanceof
tf.map.FeatureGeom?a.geom:new tf.map.FeatureGeom({type:a.type,coordinates:a.coordinates});var c=tf.js.ShallowMerge(a,{geom:k,mapFeatureWithNamedStyles:b});a=tf.js.GetValidObjectFrom(a);var d=tf.js.GetValidObjectFrom(a.styleSettings);if(tf.js.GetIsValidObject(d.styles)){var e=null,d=d.styles;h={};for(var n in d){var p=d[n];"object"===typeof p&&(c.style=tf.map.GetOrCreateFeatureStyle(p.style),c.hoverStyle=tf.map.GetOrCreateFeatureStyle(p.hoverStyle),c.styleName=n,p=new tf.map.Feature(c),h[n]=p,e||(e=
p))}e?void 0===h[tf.consts.defaultMapFeatureStyleName]&&(h[tf.consts.defaultMapFeatureStyleName]=e):h=null}else c.style=d.style,c.hoverStyle=d.hoverStyle;h||(c.styleName=tf.consts.defaultMapFeatureStyleName,h={},h[tf.consts.defaultMapFeatureStyleName]=new tf.map.Feature(c))})()};tf.map.GetOrCreateFeatureStyle=function(a){var c,e;a&&(a instanceof tf.map.FeatureStyle||tf.js.GetFunctionOrNull(a)?c=a:tf.js.GetIsValidObject(a)&&(e=a));c||(c=new tf.map.FeatureStyle(e));return c};
tf.map.FeatureSubStyle=function(a){function c(){return new ol.style.Stroke({color:tf.js.GetRGBAColor(O.line_color,O.line_color,O.line_opacity),width:O.line_width,lineDash:O.line_dash,lineCap:O.line_cap,lineJoin:O.line_join})}function e(){return new ol.style.Fill({color:tf.js.GetRGBAColor(O.fill_color,O.fill_color,O.fill_opacity)})}function d(a,b,d,g){b&&(a.opacity=O.opacity,a.snapToPixel=O.snaptopixel);O.rotate_with_map&&(a.rotateWithView=!0);a.rotation=O.rotation_rad;d&&(a.scale=O.scale);g&&(O.line&&
(a.stroke=c()),O.fill&&(a.fill=e()));return a}function b(a,b){return-1==(a=tf.js.GetFloatNumber(a,-1))?b:tf.js.GetFloatNumberInRange(a/100,0,1,b)}function f(){var a={};if(O.marker){var a={},b="string"===typeof O.label?O.label:"";if(0<b.length&&"."!=b.charAt(0)){var b=tf.canvas.CreateMemoryImage({drawFunction:tf.canvas.DrawTextMarkerImage,drawSettings:{label:O.label?O.label:"",font_height:O.font_height,font:O.font,arrow_length:O.marker_arrowlength,line_color:O.line_color,line_opacity:O.line_opacity,
line_width:O.line_width,font_color:O.font_color,font_opacity:O.font_opacity,border_line_color:O.border_color,border_line_opacity:O.border_opacity,border_line_width:O.border_width,fill_color:O.marker_color,fill_opacity:O.marker_opacity,horpos:O.marker_horpos,verpos:O.marker_verpos}}),g=null;try{g=new ol.style.Icon({opacity:O.opacity,rotation:O.rotation_rad,scale:O.scale,img:b.image,imgSize:[b.image.width,b.image.height],anchor:b.anchor})}catch(f){g=null}a.image=g}else a.image=new ol.style.RegularShape({opacity:O.opacity,
rotation:O.rotation_rad,radius1:O.font_height,radius2:O.font_height/2,stroke:new ol.style.Stroke({color:tf.js.GetRGBAColor(O.border_color,O.border_color,O.border_opacity),width:O.border_width}),fill:new ol.style.Fill({color:tf.js.GetRGBAColor(O.marker_color,O.marker_color,O.marker_opacity)}),points:5})}else O.icon?a.image=new ol.style.Icon(d({crossOrigin:"",src:O.icon_url,anchor:O.icon_anchor,img:O.icon_img,imgSize:O.icon_size,offset:O.icon_offset},!0,!0,!1)):O.circle?a.image=new ol.style.Circle(d({radius:O.circle_radius},
!0,!1,!0)):O.shape?a.image=new ol.style.RegularShape(d({radius:O.shape_radius,radius1:O.shape_radius1,radius2:O.shape_radius2,points:O.shape_points},!0,!1,!0)):O.round_rect?(b=a,g=tf.canvas.CreateMemoryImage({canvas:null,drawFunction:tf.canvas.DrawRoundRect,drawSettings:{width:O.round_rect_width,height:O.round_rect_height,radius:O.round_rect_radius,fill:O.fill,fill_color:tf.js.GetRGBAColor(O.fill_color,O.fill_color,O.fill_opacity),line:O.line,line_color:tf.js.GetRGBAColor(O.line_color,O.line_color,
O.line_opacity),line_width:O.line_width,line_dash:O.line_dash}}),g=new ol.style.Icon(d({img:g.image,imgSize:[g.image.width,g.image.height],anchor:O.icon_anchor},!0,!0,!1)),b.image=g):O.text?a.text=new ol.style.Text(d({text:O.label?O.label:"",font:O.font,offsetX:O.text_offsetx,offsetY:O.text_offsety,textAlign:O.text_align,textBaseline:O.text_baseline},!1,!1,!0)):(O.line&&(a.stroke=c()),O.fill&&(a.fill=e()));a.zIndex=O.zindex;Ca=new ol.style.Style(a)}function h(a){var b=!1;"string"===typeof a&&(a=a.length?
tf.js.ParseLegacyFormatString(a):null);if(a&&"object"===typeof a){for(var c in a){var d=c,e=a[c],g=!1;if(d&&"string"===typeof d&&d.length){var h=Ba[d.toLowerCase()];"function"===typeof h&&(h=h(e,O[d]),fa&&(fa.LogIfTest("requested ["+d+"] = "+e),fa.LogIfTest("+assigned ["+d+"] = "+h)),g=!0,O[d]=h)}g&&(b=!0)}b&&f()}return b}function k(a,b){var c=b;if(a)if("string"===typeof a){var d=a.split(",");if(2==d.length){for(var e in d)c=b?b[e]:void 0,d[e]=tf.js.GetFloatNumber(d[e],c);c=d}}else if("object"===
typeof a&&2==a.length){for(e in a)c=b?b[e]:void 0,a[e]=tf.js.GetFloatNumber(a[e],c);c=a}return c}function g(a,b){return void 0===a||null==a?void 0:Math.abs(tf.js.GetFloatNumber(a,b))}function l(a,b){return a?tf.js.GetNonEmptyString(a,b):void 0}function m(a,c){return b(a,c)}function n(a,b){return tf.js.GetHexColorStr(a,b)}function p(a,b){return tf.js.GetNonNegativeIntFrom(a,b)}function q(a,b){return tf.js.GetBoolFromValue(a,b)}function r(a,b){return g(a,b)}function t(a,b){return tf.js.GetBoolFromValue(a,
b)}function v(a,c){return b(a,c)}function w(a,b){return tf.js.GetHexColorStr(a,b)}function A(a,c){return b(a,c)}function u(a,b){return tf.js.GetHexColorStr(a,b)}function C(a,b){return tf.js.GetIntNumberInRange(a,8,120,b)}function B(a,b){return tf.js.GetNonEmptyString(a,b)}function F(a,b){return tf.js.GetBoolFromValue(a,b)}function E(a,b){return k(a,b)}function D(a,b){return k(a,b)}function K(a,b){return k(a,b)}function G(a,b){var c=a;(c=tf.dom.GetHTMLElementFrom(c))||(c=b);return c}function L(a,b){return tf.js.GetNonEmptyString(a,
b)}function H(a,b){return tf.js.GetNonEmptyString(a,b)}function I(a,b){return tf.js.GetNonEmptyString(a,b)}function J(a,b){return tf.js.GetNonEmptyString(a,b)}function N(a,b){return tf.js.GetBoolFromValue(a,b)}function M(a,c){return b(a,c)}function P(a,b){return tf.js.GetHexColorStr(a,b)}function Q(a,b){return void 0==a?b:a}function R(a,b){return tf.js.GetFloatNumber(a,b)}function S(a,b){return tf.js.GetBoolFromValue(a,b)}function T(a,c){return b(a,c)}function aa(a,b){return tf.js.GetFloatNumber(a,
b)}function ba(a,b){return tf.js.GetHexColorStr(a,b)}function ia(a,b){return tf.js.GetFloatNumberInRange(a,0,1,b)}function V(a,b){return tf.js.GetBoolFromValue(a,b)}function U(a,b){return tf.js.GetFloatNumber(a,b)}function ha(a,b){return void 0!==a?tf.js.GetFloatNumber(a,b):a}function Y(a,b){return tf.js.GetBoolFromValue(a,b)}function ka(a,b){return g(a,b)}function qa(a,b){return g(a,b)}function la(a,b){return g(a,b)}function ra(a,b){return tf.js.GetNonNegativeIntFrom(a,b)}function ja(a,b){return tf.js.GetBoolFromValue(a,
b)}function X(a,b){return tf.js.GetBoolFromValue(a,b)}function ya(a,b){return tf.js.GetFloatNumber(a,b)}function va(a,b){return tf.js.GetFloatNumber(a,b)}function ea(a,b){return tf.js.GetFloatNumber(a,b)}function ca(a,b){return tf.js.GetBoolFromValue(a,b)}function sa(a,b){return l(a,b)}function pa(a,b){return l(a,b)}function da(a,b){return l(a,b)}function Ea(a,b){return l(a,b)}function ma(a,b){return tf.js.GetFloatNumber(a,b)}function ta(a,b){return tf.js.GetNonNegativeIntFrom(a,b)}var fa,Ba,O,Ca;
this.UpdateAttributesFrom=function(a){return h(a)};this.GetAPISubStyle=function(){return Ca};(function(){var b=tf.GetStyles().GetSubStyles();a=tf.js.GetValidObjectFrom(a);Ba={border_alpha:m,border_color:n,border_opacity:m,border_width:p,circle:q,circle_radius:r,fill:t,fill_alpha:v,fill_color:w,fill_opacity:v,font_alpha:A,font_color:u,font_opacity:A,font_height:C,font:B,icon:F,icon_anchor:E,icon_offset:D,icon_img:G,icon_size:K,icon_url:L,label:H,marker:S,marker_alpha:T,marker_arrowlength:aa,marker_color:ba,
marker_opacity:T,marker_horpos:sa,marker_verpos:pa,opacity:ia,line:N,line_alpha:M,line_cap:I,line_color:P,line_dash:Q,line_join:J,line_opacity:M,line_width:R,rotate_with_map:V,rotation_rad:U,round_rect:X,round_rect_width:ya,round_rect_height:va,round_rect_radius:ea,scale:ha,shape:Y,shape_radius:ka,shape_radius1:qa,shape_radius2:la,shape_points:ra,snaptopixel:ja,text:ca,text_align:da,text_baseline:Ea,text_offsetx:ma,text_offsety:ma,zindex:ta};O=tf.js.ShallowMerge({border_opacity:1,border_color:"#000",
border_width:2,circle:!1,circle_radius:20,fill:!1,fill_opacity:1,fill_color:"#fff",font_opacity:1,font_color:b.darkTextColor,font_height:b.markerFontSizePXNumber,font:b.markerFontFamily,icon:!1,icon_anchor:[.5,.5],icon_img:void 0,icon_offset:[0,0],icon_url:void 0,icon_size:void 0,label:"",line:!1,line_opacity:1,line_cap:"round",line_join:"round",line_color:"#000",line_dash:[20,0],line_width:1,marker:!1,marker_opacity:1,marker_arrowlength:12,marker_color:"#3399FF",marker_horpos:tf.consts.positioningCenter,
marker_verpos:tf.consts.positioningTop,opacity:1,rotate_with_map:!1,rotation_rad:0,round_rect:!1,round_rect_width:10,round_rect_height:10,round_rect_radius:0,scale:1,shape:!1,shape_radius:void 0,shape_radius1:void 0,shape_radius2:void 0,shape_points:4,snaptopixel:!0,text:!1,text_offsetx:0,text_offsety:0,text_align:void 0,text_baseline:void 0,zindex:1});h(a);f()})()};
tf.map.FeatureStyle=function(a){function c(){var a=[],c;for(c in f)a.push(f[c].GetAPISubStyle());b=a}function e(a){return a instanceof tf.map.FeatureSubStyle?a:new tf.map.FeatureSubStyle(a)}var d,b,f;this.GetCount=function(){return f?f.length:0};this.Get=function(a){return 0<=a&&a<d.GetCount()?f[a]:null};this.UpdateAttributesFrom=function(a){var b=!1;if(a)if(tf.js.GetIsNonEmptyArray(a))for(var d=f.length<a.length?f.length:a.length,e=0;e<d;e++)f[e].UpdateAttributesFrom(a[i])&&(b=!0);else b=f[0].UpdateAttributesFrom(a);
b&&c();return b};this.getAPIStyle=function(){return b};d=this;(function(){f=[];if(tf.js.GetIsNonEmptyArray(a)){var b=a.length;f.push(e(a[0]));for(var d=1;d<b;d++)f.push(e(a[d]))}f.length||f.push(e(a));c()})()};
tf.map.FeatureGeom=function(a){function c(){p=!0;return new ol.geom.Point(l)}function e(){return new ol.geom.Polygon(l)}function d(){return new ol.geom.MultiLineString(l)}function b(){return new ol.geom.LineString(l)}function f(){return new ol.geom.MultiPoint(l)}function h(){return new ol.geom.MultiPolygon(l)}function k(){q=null;if(q=m())q.transform(tf.consts.tmSystem,tf.consts.olSystem),void 0!==r&&(q=q.simplify(r))}var g,l,m,n,p,q,r;this.GetType=function(){return n};this.GetIsPoint=function(){return p};
this.SetPointCoords=function(a){return p?(a=tf.js.GetMapCoordsFrom(a),l[0]=a[0],l[1]=a[1],k(),!0):!1};this.GetPointCoords=function(){return p?l:[0,0]};this.GetCoordinates=function(){return l};this.GetExtent=function(){var a=[0,0,0,0];q&&(a=ol.extent.applyTransform(q.getExtent(),ol.proj.getTransform(tf.consts.olSystem,tf.consts.tmSystem)));return a};this.GetClosestPoint=function(a){var b;q&&tf.js.GetIsArrayWithMinLength(a,2)&&(b=a.slice(0),b=tf.units.TM2OL(b),b=q.getClosestPoint(b))&&(b=tf.units.OL2TM(b));
return b};this.GetLength=function(){var a=0;g.GetIsPoint()||(a=tf.units.GetTotalHaversineDistanceInMeters("polygon"==n?l[0]:l));return a};this.GetArea=function(){var a=0;g.GetIsPoint()||(a="polygon"==n,a=tf.js.CalcPolyAreaInSquareMeters(a?l[0]:l,a));return a};this.GetContainsCoords=function(a){return"polygon"==n?q.intersectsCoordinate(tf.units.TM2OL(a)):!1};this.getAPIGeom=function(){return q};g=this;(function(){var g={point:c,polygon:e,linestring:b,multilinestring:d,multipoint:f,multipolygon:h};
tf.js.GetIsValidObject(a)||(a={type:"point",coordinates:[0,0]});n=a.type;tf.js.GetIsNonEmptyString(n)&&void 0!==g[n=n.toLowerCase()]&&tf.js.GetIsNonEmptyArray(a.coordinates)||(n="point",a.coordinates=[0,0]);m=g[n];l=(p="point"===n)?tf.js.GetIsArrayWithMinLength(a.coordinates,2)?a.coordinates.slice(0):[0,0]:a.coordinates.slice(0);r=a.simplifyTolerance;tf.js.GetIsNonEmptyArray(l)&&k()})()};
tf.map.CanvasFeatureStyle=function(a){var c,e,d,b,f;this.GetStyle=function(){return tf.js.ShallowMerge(b,{icon:!0,icon_img:e,icon_size:f({sender:c,ctx:d})})};this.SetBaseStyle=function(a){b=tf.js.ShallowMerge(a)};c=this;(function(){a=tf.js.GetValidObjectFrom(a);e=document.createElement("canvas");d=e.getContext("2d");b={};b=tf.js.ShallowMerge(a.baseStyle);(f=tf.js.GetFunctionOrNull(a.paint))||(f=function(){return[0,0]})})()};
tf.map.SecondsCounterFeature=function(a){function c(){var a={};if(k){var a=2*Math.PI,c=Math.PI/2,d=(Date.now()-l)/p,e=d*a,f=q-q*d,h=f.toFixed(10>f?1:0)+"",n=Math.floor(d*q*10),r="hsl("+120*(1-d)+", 100%, 50%)";(f=.8>=d)||(f=1==Math.floor(100*d)%10%2);g.translate(.5,.5);g.canvas.width=44;g.canvas.height=44;g.clearRect(0,0,44,44);g.lineDashOffset=0;g.shadowBlur=4;g.shadowOffsetX=0;g.shadowOffsetY=0;g.shadowColor="#000";g.beginPath();g.lineWidth=1.5;g.fillStyle="rgba(255, 255, 255, 0.4)";g.strokeStyle=
"rgba(0, 0, 255, 1)";g.setLineDash([4,2,8,2]);g.lineDashOffset=n;g.arc(22,22,20,0,a,!0);g.stroke();g.shadowBlur=0;g.fill();g.closePath();f&&(g.beginPath(),g.setLineDash([]),g.lineWidth=5,g.strokeStyle=r,g.arc(22,22,18,-c+e,-c,!0),g.stroke(),g.closePath());g.beginPath();g.lineWidth=1.5;g.setLineDash([8,2,1,2]);g.lineDashOffset=2*-n;g.strokeStyle="rgba(0, 0, 255, 1)";g.arc(22,22,16,0,a,!0);g.shadowBlur=4;g.stroke();g.closePath();g.shadowColor="#bebebe";a="bold "+(Math.floor(22)-6)+"px Arial";g.shadowBlur=
0;g.font=a;g.textAlign="center";g.textBaseline="middle";g.fillStyle=r;g.setLineDash([]);g.strokeStyle="#000";g.lineWidth=2;g.strokeText(h,22,22);g.fillText(h,22,22);a={zindex:(.33>d?1:.67>d?2:3)+v,icon:!0,icon_img:k,icon_size:[44,44]};m&&(m.GetIsInHover()&&f&&(g.beginPath(),g.lineWidth=3,g.setLineDash([9,3]),g.strokeStyle="#c00",g.strokeRect(1.5,1.5,40.5,40.5),g.closePath()),t&&(d=t({time01:d,sender:b}),void 0!==d&&m.SetPointCoords(d)))}return a}function e(){k&&(n&&(n.OnDelete(),n=null),g=k=null,
h&&m&&(h.DelMapFeature(m),h=null),r&&r(b),m=null)}function d(a){1>=(Date.now()-l)/p?(m&&m.RefreshStyle(),a.continueAnimation()):e()}var b,f,h,k,g,l,m,n,p,q,r,t,v;this.OnDelete=function(){return e()};this.GetMapFeature=function(){return m};this.GetTime01=function(){return(Date.now()-l)/p};b=this;a=tf.js.GetValidObjectFrom(a);if(f=tf.js.GetMapFrom(a.map))h=a.layer,k=document.createElement("canvas"),g=k.getContext("2d"),v=void 0!==a.baseZIndex?a.baseZIndex:1,q=Math.round(tf.js.GetFloatNumberInRange(a.nSeconds,
1,1E5,5)),p=1E3*q,r=tf.js.GetFunctionOrNull(a.onEnd),t=tf.js.GetFunctionOrNull(a.getPosition),l=Date.now(),n=f.AddListener(tf.consts.mapPreComposeEvent,d),m=new tf.map.Feature({type:"point",coordinates:a.center,style:c}),m.secondsCounter=b,h&&h.AddMapFeature(m)};
tf.map.AtlasAnimationFeature=function(a){function c(){m=Date.now()-k;r=Math.floor(m/n);return(m-r*n)/n}function e(){var d={};if(g){var e=c();r!=t&&(t=r,v&&v(b));if(g){var f=Math.floor(p.nFrames*e),h=p.ptLTFirstFrame[0]+f%p.nFramesPerRow*p.sizeAdvance[0],f=p.ptLTFirstFrame[1]+Math.floor(f/p.nFramesPerRow)*p.sizeAdvance[1],k={time01:e,nLoop:r,scale:q,sender:b},l=w?w(k):A,m=u?u(k):q,k=C?C(k):void 0;if(g){var n;B&&((n=8>p.sizeFrame[0]*m)||(n=8>p.sizeFrame[1]*m));d=n?B:{rotation_rad:k,rotate_with_map:p.rotateWithMap,
zindex:E,icon:!0,icon_img:a.atlas,icon_size:p.sizeFrame,icon_offset:[h,f],opacity:l,scale:m}}}g&&F&&(e=F({time01:e,nLoop:r,sender:b}),void 0!==e&&g.SetPointCoords(e))}return d}function d(a){g&&(g.RefreshStyle(),a.continueAnimation())}var b,f,h,k,g,l,m,n,p,q,r,t,v,w,A,u,C,B,F,E;this.OnDelete=function(){g&&(l&&(l.OnDelete(),l=null),h&&g&&(h.DelMapFeature(g),h=null),g=null)};this.GetMapFeature=function(){return g};this.SetScale=function(a){q=tf.js.GetFloatNumberInRange(a,1E-4,999999,1)};this.GetTime01=
function(){return c()};this.GetTimeFromStart=function(){return m};this.GetNLoop=function(){return r};this.GetSettings=function(){return a};b=this;a=tf.js.GetValidObjectFrom(a);tf.js.GetIsValidObject(p=a.frameSettings)&&(f=tf.js.GetMapFrom(a.map))&&(h=a.layer,q=tf.js.GetFloatNumberInRange(a.scale,1E-4,999999,1),n=p.frameDuration*p.nFrames,t=r=0,E=void 0!==a.baseZIndex?a.baseZIndex:1,B=tf.js.GetIsValidObject(a.iconStyle)?a.iconStyle:null,v=tf.js.GetFunctionOrNull(a.onLoop),k=Date.now(),m=0,(w=tf.js.GetFunctionOrNull(a.opacity))||
(A=tf.js.GetIntNumberInRange(a.opacity,0,1,1)),u=tf.js.GetFunctionOrNull(a.scaleCallBack),C=tf.js.GetFunctionOrNull(a.rotationCallBack),F=tf.js.GetFunctionOrNull(a.getPosition),l=f.AddListener(tf.consts.mapPreComposeEvent,d),g=new tf.map.Feature({type:"point",coordinates:a.center,style:e}),h&&h.AddMapFeature(g))};
tf.map.HTMLOverlay=function(a){function c(a){b!=(a=!!a)&&(b=a,f&&(b?f.addHTMLOverlay(e):(f.removeHTMLOverlay(e),k.setMap(void 0))))}var e,d,b,f,h,k,g;this.GetContainerDiv=function(){return h};this.GetOverlayHTMLElement=function(){return k?k.getElement():void 0};this.SetStyle=function(a){h&&d.ApplyStyleProperties(h,a)};this.SetVisible=function(a){return c(a)};this.GetIsVisible=function(){return b};this.SetPointCoords=function(a){a=k&&a&&"object"===typeof a?k.setPosition(tf.units.TM2OL(g=a.slice(0))):
void 0;return a};this.GetPointCoords=function(){return g.slice(0)};this.SetPositioning=function(a,b){if(k){var c=tf.js.GetNonEmptyString(a,tf.consts.positioningCenter),d=tf.js.GetNonEmptyString(b,tf.consts.positioningTop);k.setPositioning(d+"-"+c)}};this.SetOffset=function(a){k&&tf.js.GetIsArrayWithLength(a,2)&&k.setOffset(a)};this.GetOffset=function(){return k?k.getOffset():void 0};this.SetContent=function(a){a&&h&&h.ReplaceContent(a)};this.getAPIOverlay=function(){return k};e=this;(function(){d=
tf.GetStyles();var b=[tf.consts.defaultLongitude,tf.consts.defaultLatitude],e=tf.js.ShallowMerge({map:void 0,content:void 0,isVisible:!0,position:b,offset:[0,0],horPos:tf.consts.positioningCenter,verPos:tf.consts.positioningTop,stopEvent:!0,insertFirst:!0,autoPanMargin:20,autoPan:!1},a);if(f=tf.js.GetMapFrom(e.map)){var n=e.content,p=e.isVisible;e.positioning=e.verPos+"-"+e.horPos;delete e.horPos;delete e.verPos;delete e.isVisible;delete e.content;delete e.map;tf.js.GetIsArray(e.position)&&(e.position=
b);e.position=tf.units.TM2OL(g=e.position);e.element=(h=new tf.dom.Div({cssClass:d.GetUnPaddedDivClassNames(!1,!1)})).GetHTMLElement();n&&h.AddContent(a.content);k=new ol.Overlay(e);c(p)}})()};
tf.map.HTMLControl=function(a){function c(a){b!=(a=!!a)&&(b=a,f&&(b?f.addHTMLControl(e):(f.removeHTMLControl(e),k.setMap(void 0))))}var e,d,b,f,h,k;this.SetVisible=function(a){return c(a)};this.GetIsVisible=function(){return b};this.SetContent=function(a){a&&h&&h.ReplaceContent(a)};this.getAPIControl=function(){return k};e=this;(function(){d=tf.GetStyles();var b=tf.js.ShallowMerge({map:void 0,content:void 0,isVisible:!0},a);if(f=tf.js.GetMapFrom(b.map)){var e=b.content,m=b.isVisible;delete b.isVisible;
delete b.content;delete b.map;b.target=f.GetControlContainer();b.element=(h=new tf.dom.Div({cssClass:d.GetUnPaddedDivClassNames(!1,!1)})).GetHTMLElement();a.cssStyle&&d.ApplyStyleProperties(h,a.cssStyle);e&&h.AddContent(a.content);k=new ol.control.Control(b);m&&c(m)}})()};
tf.map.MapOverlay=function(a){function c(a){g=new tf.dom.Div({cssClass:e.GetUnPaddedDivClassNames(!1,!1)});f.SetStyle({inherits:[{inherits:[d.defaultShadowStyle,d.buttonStyleBase,d.paddedBlockDivStyle,d.cursorDefaultStyle,d.noSelectStyle]}],backgroundColor:"#000",fontFamily:"Arial",fontSize:"1.2em",color:"#fc0",border:"2px dashed #fc0",borderRadius:l,padding:"0px",maxWidth:"20em",width:k+"px",height:k+"px",position:"relative",overflow:"hidden"});e.ApplyStyleProperties(g,{borderRadius:l,width:k+"px",
height:k+"px",position:"relative",overflow:"hidden"});h=b.CreateMapWithSameLayers(g);return g}var e,d,b,f,h,k,g,l;this.GetHTMLOverlay=function(){return f};this.GetOverlayMap=function(){return h};this.GetMapContainer=function(){return g};(function(){a=tf.js.ShallowMerge({},a);if(b=tf.js.GetMapFrom(a.map)){var g=void 0!==a.coords?a.coords:b.GetCenter();e=tf.GetStyles();d=e.GetSubStyles();k=tf.js.GetIntNumberInRange(a.bubbleDim,100,1E3,200);l=tf.js.GetNonEmptyString(a.borderRadius,"50%");f=new tf.map.HTMLOverlay({map:b,
autoPan:a.autoPan,autoPanMargin:a.autoPanMargin,stopEvent:!1,isVisible:a.isVisible});f.SetPositioning(tf.consts.positioningCenter,tf.consts.positioningCenter);f.SetOffset([0,0]);f.SetContent(c(g));f.SetPointCoords(g);h.OnResize();setTimeout(h.OnResize,250)}})()};
tf.map.RenderMap=function(a){function c(){var a=e.GetActualPixelSize(),b=a[0]*l,a=a[1]*m;f.style.width=b+"px";f.style.height=a+"px";d.setSize([b,a])}var e,d,b,f,h,k,g,l,m;this.GetCanvas=function(){return h};this.OnDelete=function(){void 0!=e&&(k&&k.OnDelete(),g&&g.OnDelete(),d&&d.setLayerGroup(null),b&&b.OnDelete(),g=k=e=d=b=h=f=void 0)};this.IsDelete=function(){return void 0==e};(function(){if(tf.js.GetIsValidObject(a)&&tf.js.GetMapFrom(a.map)){var n=tf.GetStyles();e=tf.js.GetMapFrom(a.map);tf.js.GetIsArrayWithMinLength(a.scale,
2)?(l=tf.js.GetFloatNumberInRange(a.scale[0],.1,10,1),m=tf.js.GetFloatNumberInRange(a.scale[1],.1,10,1)):l=m=1;b=new tf.dom.Div({cssClass:n.mapSubContainerClass});f=b.GetHTMLElement();f.style.position="absolute";f.style.left=f.style.top="0px";f.style.pointerEvents="none";document.body.appendChild(f);d=new ol.Map({loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",target:f,view:e.getAPIView(),controls:[],interactions:[]});d.on("postcompose",function(a){h=a.context.canvas;e.onComposeEvent(tf.consts.mapPostComposeEvent,
a,d)});d.on("moveend",function(a){e.onMoveEnd(a)});d.setLayerGroup(e.getAPIMap().getLayerGroup());g=e.AddListener(tf.consts.mapViewSettingsChangedEvent,function(a){d.setView(e.getAPIView())});k=e.AddListener(tf.consts.mapResizedEvent,function(a){c()});c()}})()};
tf.map.PostComposeAnimator=function(a){function c(){h.Render()}function e(){b&&(b.OnDelete(),b=null,setTimeout(c,10))}function d(a){if(void 0!==f){var b=(new Date).getTime()-f;b>k?e():(g(a.sender,a.showFeatureImmediately,tf.js.GetFloatNumberInRange(b/k,0,1,1)),a.continueAnimation())}}var b,f,h,k,g;this.Start=function(){void 0===f&&h&&(f=(new Date).getTime(),c())};this.Stop=function(){return e()};this.IsAnimating=function(){return void 0!==f&&!b};h=tf.js.GetMapFrom(a.map);tf.js.GetIsMap(h)&&(g=tf.js.GetFunctionOrNull(a.animationFunction))?
(k=tf.js.GetFloatNumberInRange(a.duration,1E3,1E4,100),b=h.AddListener(tf.consts.mapPostComposeEvent,d)):g=h=null};
tf.map.GeometriesStyleAnimator=function(a){function c(a){var b=4+16*Math.pow(a,.5),c=1-Math.pow(a,3);return{circle:!0,circle_radius:b,snapToPixel:!1,line:!0,line_width:2-a,line_color:tf.js.GetRandomHexColorStr(),line_alpha:100*c}}function e(a,c,e){a=b(e);for(var f in d)e=new tf.map.Feature({geom:d[f],style:a}),c(e)}var d,b,f;this.Start=function(){f&&f.Start()};this.Stop=function(){f&&f.Stop()};this.IsAnimating=function(){return f?f.IsAnimating():!1};(b=tf.js.GetFunctionOrNull(a.getStyle))||(b=c);
(d=a.geometries)&&"object"===typeof d&&(f=new tf.map.PostComposeAnimator({map:a.map,duration:a.duration,animationFunction:e}))};
tf.map.PointsStyleAnimator=function(a){a=tf.js.GetValidObjectFrom(a);var c=a.maps,e=a.pointProviders;if(tf.js.GetIsValidObject(c)&&tf.js.GetIsValidObject(e)){var d=[],b,f;for(f in e){var h=e[f];if(tf.js.GetIsValidObject(h)){var k;tf.js.GetFunctionOrNull(h.GetPointCoords)?k=h.GetPointCoords():tf.js.GetIsArrayWithMinLength(h,2)&&(k=h);k&&d.push(k)}}d.length&&(b=new tf.map.FeatureGeom({type:"multipoint",coordinates:d}));if(e=b){var d=[],g;for(g in c)(b=tf.js.GetMapFrom(c[g]))&&d.push(new tf.map.GeometriesStyleAnimator({map:b,
geometries:[e],getStyle:a.getStyle,duration:a.duration}));if(0<d.length)for(g in d)d[g].Start()}}};
tf.ui.VolumeControl=function(a,c,e,d,b){function f(){A.ChangeGlyph(E?n:.66<B?r:.33<B?q:p);A.ChangeToolTip(E?"unmute":"mute");b&&b(t,B)}function h(){(E=!E)?(F=B,B=0):B=F;u.SetPos01(B);f()}function k(a){l||(a=a.isInHover,C.style.display=a?"inline-block":"none",a&&u.Repaint())}function g(a,b){E&&(E=!1);B=u.GetPos01();f()}var l=tf.browser.HasTouch(),m=tf.ui.GetSvgGlyphLib(),n=m.GetGlyphByName(tf.styles.SvgGlyphMuteVolumeName),p=m.GetGlyphByName(tf.styles.SvgGlyphMinimumVolumeName),q=m.GetGlyphByName(tf.styles.SvgGlyphMediumVolumeName),
r=m.GetGlyphByName(tf.styles.SvgGlyphMaximumVolumeName),t,v,w,A,u,C=null,B=null,F=null,E=!1;this.Repaint=function(){u.Repaint()};t=this;(function(){var f=tf.GetStyles();E=!!d;"function"!==typeof b&&(b=null);B=tf.js.GetFloatNumber(e,.5);v=new tf.dom.Div({cssClass:f.unPaddedInlineBlockDivClass});w=v.GetHTMLElement();var f=new tf.dom.Div({cssClass:f.unPaddedInlineBlockDivClass}),m=v.GetHTMLElement();A=new tf.ui.SvgGlyphBtn({style:a,glyph:E?n:.66<B?r:.33<B?q:p,onClick:h,tooltip:E?"unmute":"mute",dim:c});
f.AddContent(A);u=new tf.ui.CanvasSlider(B,void 0,!1);C=u.GetHTMLElement();u.SetOnClickListener(g,t);C.style.width="64px";C.style.display=l?"inline-block":"none";new tf.events.DOMHoverListener({target:m,callBack:k,optionalScope:t,callBackSettings:null});f.AddContent(u);v.AddContent(f);tf.dom.Insertable.call(t,{domObj:t,domElement:w})})()};tf.js.InheritFrom(tf.ui.VolumeControl,tf.dom.Insertable);
tf.ui.VideoPopup=function(a,c,e){function d(){if(Y){var a=ea/3,b=ca/3;Y.style.width=a+"px";Y.style.height=b+"px";Y.style.top=ca-b-4*la+"px";b=ka*ea-a/2+la;b<la?b=la:b+2*la+a>ea&&(b=ea-a-2*la);Y.style.left=b+"px"}}function b(){if(I){var a=F*L.offsetWidth,b=E*L.offsetHeight;a/D>b?a=b*D:b=a/D;ea=Math.round(a);ca=Math.round(b);I.style.width=ea+"px";I.style.height=ca+"px";N.style.width=ea+"px";J.Repaint();M.Repaint();d();a=sa.length;for(b=0;b<a;++b){var c=tf.dom.GetHTMLElementFrom(sa[b]);c&&(c.style.width=
ea+"px")}}}function f(){I.paused?I.play():I.pause()}function h(){I&&(I.pause(),J.SetPos01(0,!0),g(),ba.SetIsToggled(!0),q())}function k(){var a=tf.js.ConvertToHHMMSSBrief(U);P.textContent=a;Qa&&Qa.call(Ka,A,J.GetPos01(),U)}function g(){var a=J.GetPos01();Ea&&(U=I.currentTime=a*V,k())}function l(){U=I.currentTime;V&&(J.SetPos01(U/V,!0),k())}function m(){V=I.duration;R.textContent=tf.js.ConvertToHHMMSSBrief(V);Ea=!0;g();H.OnContainerResize();I.play()}function n(a){void 0==a&&fa||O&&O.call(Ca,A,fa,a)}
function p(a){Y&&(a?(va=!0,Y.style.display="block",Q.style.display="inline"):(va=!1,Y.style.display="none",Q.style.display="none"))}function q(a){var b=fa;fa=!1;B||(J.GetIsInHover()&&!J.GetIsInDrag()?(fa=!0,b?a!=Ba&&n(a):(p(!0),n(a))):b&&(p(!1),n(a)));Ba=a;return fa}function r(){Y&&(Y.style.border=X,Q.style.color=ra,Q.textContent=" [ "+tf.js.ConvertToHHMMSSBrief(qa)+" ]",J.SetMouseFillColor(ra),d())}function t(){ha?(J.SetPos01(0,!0),g(),I.play()):h()}function v(a,b){a===M&&(I.volume=b)}function w(){ha=
!ha}var A,u,C,B,F,E,D,K,G,L,H,I,J,N,M,P,Q,R,S,T,aa,ba,ia,V,U,ha,Y,ka,qa,la,ra,ja,X,ya,va,ea,ca,sa,pa,da,Ea,ma,ta,fa,Ba,O,Ca,Ka,Qa;this.Stop=function(){return h()};this.GetLeftTopOnContainer=function(){return H.GetLeftTopOnContainer()};this.ChangeTitle=function(a){H.ChangeTitle(a)};this.ChangeSpeed=function(a){return changeSpeed(a)};this.SetPos01=function(a){J.SetPos01(a,!0);g()};this.GetPos01=function(){return J.GetPos01()};this.GetPos=function(){return U};this.GetToolBarButtonDim=function(){return da};
this.GetIsButtonLight=function(){return pa};this.AddToolBarButton=function(a){if(tf.dom.GetHTMLElementFrom(a)){var b=new tf.dom.Div({cssClass:u.unPaddedBlockDivClass}),c=b.GetHTMLElement();c.style["float"]="right";c.style.display="inline-block";b.AddContent(a);S.AddContent(b)}};this.AddContent=function(a){tf.dom.GetHTMLElementFrom(a)&&(sa.push(a),aa.AddContent(a))};this.SetOnClickTitle=function(a,b){H&&H.SetOnClickTitle(a,b)};this.SetZIndex=function(a){H&&H.SetZIndex(a)};this.GetZIndex=function(){return H?
H.GetZIndex():0};this.SetOnClose=function(a,b){ma=tf.js.GetFunctionOrNull(a);ta=b};this.ShowMiniVideo=function(a,b){var c=a;Y&&((c=!!c)!=fa&&p(fa=c),fa&&(ka=b,Y.currentTime=qa=b*V))};this.GetIsMiniVideoShowing=function(){return va};this.SetOnMiniVideoChangeCallBack=function(a,b){O=tf.js.GetFunctionOrNull(a);Ca=b};this.SetOnTimeUpdate=function(a,b){Qa=tf.js.GetFunctionOrNull(a);Ka=b};this.SetTitle=function(a){H&&H.ChangeTitle(a)};this.Show=function(a){H&&H.Show(a)};this.IsShowing=function(){return H?
H.IsShowing():!1};this.Toggle=function(){this.Show(!this.IsShowing())};this.SetVideoURL=function(a){Ea=!1;Y&&(Y.src=a);I.src=a};this.OnContainerResize=function(){b();H.OnContainerResize()};A=this;u=tf.GetStyles();C=u.GetSubStyles();B=tf.browser.HasTouch();Ea=!1;F=.8;E=.3;D=16/9;K=c?c:"#000";G=e?e:tf.platform.GetPoweredByTerraFlyLogoImgStr();U=0;ha=!0;la=2;ra=C.darkTextColor;ja=C.disabledTextColor;X=la+"px solid "+ra;ya=la+"px solid "+ja;va=!1;ca=ea=0;sa=[];pa=!1;da="2em";L=tf.dom.GetHTMLElementFrom(a);
H=new tf.ui.Popup({container:a,titleStr:"Video",marginHor:8,marginVer:8,maxHeight:"50%",maxWidth:"100%",horPos:"right",verPos:"bottom",fontSize:tf.GetStyles().GetSubStyles().locationPopupContentFontSizeEmNumber+"em",textAlign:"right"});H.GetTitleContainer();H.SetTitleToolTip("Video");H.SetOnClose(function(){h();ma&&ma.call(ta)},A);aa=new tf.dom.Div({cssClass:u.unPaddedBlockDivClass});u.ApplyPositionRelativeStyle(aa);aa.GetHTMLElement();(function(){I=document.createElement("video");I.style.backgroundColor=
K;I.poster=G;I.style.position="relative";I.autoplay=!1;var a={loadedmetadata:m,timeupdate:l,ended:t},b;for(b in a)tf.events.AddDOMEventListener(I,b,a[b])})();B||(Y=document.createElement("video"),Y.style.display="none",Y.style.position="absolute",Y.style.border=X,Y.style.zIndex=2,Y.style.backgroundColor=K,Y.poster=G,tf.events.AddDOMEventListener(Y,"timeupdate",r));J=new tf.ui.CanvasSlider(0,void 0,!0);N=J.GetHTMLElement();J.SetOnClickListener(function(a,b){q();g()},A);J.SetOnHoverListener(function(a,
b){a==J&&(a.GetIsInHover()||q())},A);J.SetOnMouseMoveListener(function(a,b){Y&&a==J&&a.GetIsInHover()&&!a.GetIsInDrag()&&q(b)&&(Y.style.border=ya,Q.style.color=ja,J.SetMouseFillColor(ja),ka=b,Y.currentTime=qa=b*V)},A);(function(){S=new tf.dom.Div({cssClass:u.paddedBlockDivClass});T=S.GetHTMLElement();T.style.textAlign="left";ia=new tf.ui.SvgGlyphToggleBtn({style:pa,onClick:w,dim:da,isToggled:!ha,glyph:tf.styles.SvgGlyphAutoRepeatName,tooltip:"Auto-repeat",toggledGlyph:tf.styles.SvgGlyphNoAutoRepeatName,
toggledTooltip:"Auto-repeat"});M=new tf.ui.VolumeControl(pa,da,.5,!1,v);S.AddContent(ba=new tf.ui.SvgGlyphToggleBtn({style:pa,onClick:f,dim:da,isToggled:!1,glyph:tf.styles.SvgGlyphPauseName,tooltip:"Pause",toggledGlyph:tf.styles.SvgGlyphPlayName,toggledTooltip:"Play"}));S.AddContent(new tf.ui.SvgGlyphBtn({style:pa,glyph:tf.styles.SvgGlyphStopName,onClick:h,tooltip:"Stop",dim:da}));S.AddContent(ia);S.AddContent(M);P=document.createElement("span");S.AddContent(P);var a=document.createElement("span");
a.textContent=" / ";S.AddContent(a);R=document.createElement("span");S.AddContent(R);Q=document.createElement("span");Q.style.display="none";S.AddContent(Q)})();Y&&aa.AddContent(Y);aa.AddContent(I);aa.AddContent(J);aa.AddContent(S);H&&H.SetContent(aa);b()};
tf.ui.VideoTrackPlayer=function(a,c,e,d,b){function f(){X.OnContainerResize();Fa.Repaint()}function h(c){ea&&(U.SetVisible(!1),X.Stop(),da="",fa=ta=ma=Ea=0,Ba=-1,Ka=Qa=Ca=O=0,gb=ua=wa=null,Ha=0,Wa=null,ib=!1,c||(ca&&a.ShowPanel(tf.consts.panelNameMapLocation,!0),sa&&a.ShowPanel(tf.consts.paramNameAddress,!0),a.SetRotationRad(pa),X.IsShowing()&&X.Show(!1),ea=!1,"function"===typeof d&&d.call(b,L)))}function k(a,b){var c=tf.helpers.GetCoordinatesFromLatLonArray(b),d={line:!0,fill:!0,line_color:R,line_width:1,
line_alpha:100,fill_color:"#fff",fill_alpha:50},c=new tf.map.Feature({geom:new tf.map.FeatureGeom({type:"linestring",coordinates:c}),style:d});a.AddMapFeature(c);return c}function g(a,b,c){Ba!=Math.floor(c)&&(pb=b,mb=c,setTimeout(l,50))}function l(){var b=mb,c=m(pb,b),d=c.indexPath,c=c.hasGPS,b=Math.floor(b);if(Ba!=b){Ba=b;fa=d;b=ja;if(d<Ha){var e=wa[d];Qa=A(d,Qa);ka.SetPointCoords([e.lon,e.lat]);ya&&a.SetCenter([e.lon,e.lat]);da=e.timestamp;c||(da+=" [ no GPS data ]");b||X.GetIsMiniVideoShowing()||
(X.ChangeTitle(da),G(d,e.speed,e.altitude,!1));va?(a.SetRotationRad(Qa),ka.ChangeStyle({rotation_rad:0})):(a.SetRotationRad(0),ka.ChangeStyle({rotation_rad:-Qa}))}b?F(O,Ca):Fa.Repaint()}}function m(a,b){var c={indexPath:0,hasGPS:!1};if(0<Ha&&gb){var d=gb.length;0<d&&(0>a?a=0:1<a&&(a=1),c=gb[Math.floor(d*a)])}return c}function n(a,b,c){a=-1;b!=ib&&((ib=b)?0<Ha&&(a=m(c).indexPath,B(c,a,!1)):E(!1));b?(-1==a&&(a=m(c).indexPath),F(c,a,!1)):G(Ea,ma,ta,!1)}function p(){ya=!ya}function q(){va=!va}function r(){Xa.SetStyle(jb?
!La:La);Ra.SetStyle(jb?La:!La);Fa.Repaint()}function t(){Ya.SetData(wa,"speed",Wa.minSpeed,Wa.maxSpeed);La=!0;r()}function v(){Ya.SetData(wa,"altitude",Wa.minAlt,Wa.maxAlt);La=!1;r()}function w(a){var b=a.isInHover;b!=wb&&(wb=b,Fa.Repaint());Ga=Ya.GetTime01FromGraphCol(a.mouseCoords[0]);b=m(Ga).indexPath;switch(a.eventName){case "mouseout":E(!0);break;case "mousedown":tf.GetDocMouseListener().SetCapture(w,L,null);ja&&E(!0);X.SetPos01(Ga);break;case "mouseup":tf.GetDocMouseListener().ReleaseCapture();
break;case "mousemove":J||(a.isInDrag?(ja&&E(!0),X.SetPos01(Ga)):ja?F(Ga,b,!0):B(Ga,b,!0))}}function A(a,b){return ua&&0<=a&&a<Ha?ua[a]-Math.PI/2:b}function u(a){var b=a.mapFeature;b&&(b==la||b==ra?(a=tf.helpers.HitTestRoute(wa,gb,a.eventCoords[1],a.eventCoords[0]),X.SetPos01(a.time01)):b!=ha&&b!=Y&&b!=ka&&b==qa&&(X.SetPos01(O),U.DelMapFeature(qa),ja=!1,X.ShowMiniVideo(!1,0)))}function C(a){var b=a.mapFeature;!b||b!=la&&b!=ra||(a=a.eventCoords,a=tf.helpers.HitTestRoute(wa,gb,a[1],a[0]),D("rolling over route"),
ja?F(a.time01,a.index,!0):B(a.time01,a.index,!0))}function B(b,c,d){var e=wa[c];O=b;Ca=c;Ka=A(c,0);qa.SetPointCoords([e.lon,e.lat]);qa.ChangeStyle({rotation_rad:a.GetRotationRad()-Ka});U.AddMapFeature(qa);ja=!0;d&&X.ShowMiniVideo(!0,b);X.ChangeTitle("["+e.timestamp+"]");G(c,e.speed,e.altitude,!0);Fa.Repaint()}function F(b,c,d){if(ja){O=b;Ca=c;if(wa){var e=wa[c];e&&(qa.SetPointCoords([e.lon,e.lat]),X.ChangeTitle("["+e.timestamp+"]"),G(c,e.speed,e.altitude,!0))}d&&X.ShowMiniVideo(!0,b);Ka=A(c,Ka);qa.ChangeStyle({rotation_rad:a.GetRotationRad()-
Ka});Fa.Repaint()}}function E(a){ja&&(U.DelMapFeature(qa),ja=!1);a&&X.ShowMiniVideo(!1,0);X.ChangeTitle(da);wa&&(a=wa[fa])&&G(fa,a.speed,a.altitude,!1);Fa.Repaint()}function D(){H&&H.LogIfTest.apply(null,arguments)}function K(b){D("rolling over map");b.sender==a&&E(!0)}function G(a,b,c,d){b=tf.js.GetFloatNumber(b,0);c=tf.js.GetFloatNumber(c,0);Ea=a;ma=b;ta=c;b=(tf.js.GetFloatNumber(b,0)*qb).toFixed(0)+" "+rb;b=d?"["+b+"]":b;c=(tf.js.GetFloatNumber(c,0)*xb).toFixed(0)+" "+kb;c=d?"["+c+"]":c;Xa.SetText(b);
Ra.SetText(c);Ya.SetCurIndex(fa);Ya.SetIsInHover(d);d&&Ya.SetHoverIndex(a)}var L,H,I,J,N,M,P,Q,R,S,T,aa,ba,ia,V,U,ha,Y,ka,qa,la,ra,ja,X,ya,va,ea,ca,sa,pa,da,Ea,ma,ta,fa,Ba,O,Ca,Ka,Qa,ib,wa,ua,gb,Ha,Wa,qb,rb,xb,kb,pb,mb,jb,La,Xa,Ra,Fa,$a,wb,Ga,Ya;this.Show=function(a){X&&(X.Show(a),L.OnContainerResize())};this.IsShowing=function(){return X?X.IsShowing():!1};this.Toggle=function(){L.Show(!L.IsShowing())};this.OnContainerResize=function(){return f()};this.Play=function(b,c,d,e,g,f,l,m,n,p){ea?h(!0):
(ca=a.IsPanelShowing(tf.consts.panelNameMapLocation),sa=a.IsPanelShowing(tf.consts.paramNameAddress),a.IsShowingAddressBar(),pa=a.GetRotationRad(),a.ShowPanel(tf.consts.paramNameAddress,!1),a.ShowPanel(tf.consts.panelNameMapLocation,!1));wa=d;ua=e;gb=g;qb=l;rb=m;xb=n;kb=p;Ha=wa.length;Wa=tf.helpers.CalcMinMaxSpeedAlt(wa);c=wa[0];d=wa[Ha-1];ha.SetPointCoords([c.lon,c.lat]);ka.SetPointCoords([c.lon,c.lat]);Y.SetPointCoords([d.lon,d.lat]);la&&U.DelMapFeature(la);ra&&U.DelMapFeature(ra);la=k(U,wa);ra=
k(U,wa);la.ChangeStyle({line_width:S,zindex:1});ra.ChangeStyle({line_width:aa,line_color:T,line_dash:ba,zindex:2});da=c.timestamp;X.ChangeTitle(da);X.SetVideoURL(b);U.SetVisible(!0);X.SetPos01(f);X.Show(!0);La?t():v();Fa.Repaint();ea=!0};this.Stop=function(){return h(!1)};this.OnDelete=function(){ia&&(ia.OnDelete(),ia=null);V&&(V.OnDelete(),V=null);U&&(a.RemoveLayer(U),ha=Y=ka=qa=la=ra=U=null,ja=!1)};this.GetIsPlaying=function(){return ea};L=this;I=tf.GetStyles();J=tf.browser.HasTouch();R="#FF2222";
S=8;T="#000";aa=1;ba=[12,6];ja=!1;La=va=ya=!0;xb=qb=1;ib=ea=wb=ca=sa=jb=!1;kb=rb=da="";pa=pb=mb=N=M=P=Q=Ha=Ga=Ca=Ka=Qa=O=Ea=ma=ta=fa=0;Ba=-1;(function(){X=new tf.ui.VideoPopup(a.GetMapMapContainer(),c,e);X.SetZIndex(1E3);X.SetOnClose(h,L);X.SetOnTimeUpdate(g,L);X.SetOnMiniVideoChangeCallBack(n,L);jb=X.GetIsButtonLight();var b=X.GetToolBarButtonDim();tf.ui.GetSvgGlyphLib();X.AddToolBarButton(new tf.ui.SvgGlyphToggleBtn({style:jb,onClick:q,dim:b,isToggled:!va,glyph:tf.styles.SvgGlyphNoCompassName,tooltip:"Stop auto heading",
toggledGlyph:tf.styles.SvgGlyphCompassName,toggledTooltip:"Auto heading"}));X.AddToolBarButton(new tf.ui.SvgGlyphToggleBtn({style:jb,onClick:p,dim:b,isToggled:!ya,glyph:tf.styles.SvgGlyphNoTargetName,tooltip:"Stop auto positioning",toggledGlyph:tf.styles.SvgGlyphTargetName,toggledTooltip:"Auto positioning"}));Xa=new tf.ui.TextBtn({style:jb?!La:La,label:"",onClick:t,tooltip:"current speed",dim:b});Ra=new tf.ui.TextBtn({style:jb?La:!La,label:"",onClick:v,tooltip:"current altitude",dim:b});Xa.GetHTMLElement().style.minWidth=
"1em";Ra.GetHTMLElement().style.minWidth="1em";X.AddToolBarButton(I.AddButtonDivTopBottMargins(I.AddButtonDivRightMargin(Ra)));X.AddToolBarButton(I.AddButtonDivTopBottMargins(I.AddButtonDivLeftRightMargins(Xa)));Ya=new tf.canvas.GraphBar;Fa=new tf.dom.Canvas;Fa.SetRepaint(Ya.GetRepaintFunction(),L);$a=Fa.GetHTMLElement();new tf.events.DOMMouseListener({target:$a,callBack:w,optionalScope:L,callBackSettings:void 0});$a.style.width="1px";$a.style.height="16px";X.AddContent(Fa)})();(function(){var b=
0;N=b++;M=b++;b++;b++;P=b++;Q=b++;var b={marker:!0,marker_color:"#07375f",font_height:20,font_color:"#FFFFFF",border_color:"#a4a4a4",marker_alpha:50},c=tf.platform.MakePlatformPath("image/direction.png"),d={border_alpha:0,border_width:0,scale:.08,zindex:P,icon:!0,icon_url:c},c={border_alpha:0,border_width:0,scale:.064,zindex:Q,icon:!0,icon_url:c};a.ShowMapCenter(!1);U=a.AddFeatureLayer({isHidden:!0,isVisible:!1,zIndex:1E3});U.AddMapFeature(ha=new tf.map.Feature({type:"point",coordinates:[0,0],style:tf.js.ShallowMerge(b,
{label:"Start",zindex:N})}));U.AddMapFeature(Y=new tf.map.Feature({type:"point",coordinates:[0,0],style:tf.js.ShallowMerge(b,{label:"End",zindex:M})}));U.AddMapFeature(ka=new tf.map.Feature({type:"point",coordinates:[0,0],style:d}));qa=new tf.map.Feature({type:"point",coordinates:[0,0],style:c});ja=!1;a.AddListener(tf.consts.mapFeatureClickEvent,u);a.AddListener(tf.consts.mapFeatureMouseMoveEvent,C);ia=a.AddListener(tf.consts.mapMouseMoveEvent,K);V=a.AddListener(tf.consts.mapResizedEvent,f)})()};
tf.canvas.GraphBar=function(){function a(a,b,c,d,e){a.strokeStyle=b;a.beginPath();a.moveTo(d,1);a.lineTo(d,u);a.closePath();a.stroke();a.fillStyle=c;a.beginPath();tf.canvas.circle(a,d-v,e-v,w);a.closePath();a.fill();a.stroke();a.fillStyle=b;a.beginPath();a.fillRect(d-.5,e-.5,1,1);a.closePath();a.stroke()}function c(a){return 0<l?K/(l-1)*a+E:0}function e(a){var c=C+F/2;return 0<g&&a<l&&0<l?u-((b[a][f]-h)/g*F+C):c}function d(d,f,l,w){A=l;u=w;C=v+1;B=u-v;F=B-C-1;E=v;D=A-v;K=D-E-1;d=r.borderLightColor;
l=q.GetButtonBGColor(!1);w=q.GetButtonBGColor(!0);if(m){var J=w;w=l;l=J}f.lineWidth=1;f.strokeStyle=d;f.fillStyle=l;f.imageSmoothingEnabled=!1;f.beginPath();f.fillRect(0,0,A,u);f.strokeRect(0,0,A,u);f.closePath();f.lineWidth=t;f.strokeStyle=w;f.beginPath();var J=E,N=e(0),M;for(M in b){var P=c(M),Q=e(M);f.moveTo(J,N);f.lineTo(P,Q);J=P;N=Q}f.closePath();f.stroke();void 0!==n&&(M=n,a(f,w,l,c(M),e(M)));m&&void 0!==p&&(M=p,a(f,d,l,c(M),e(M)));0<k&&0>h&&(M=u-((0-h)/g*F+C),f.strokeStyle="rgba(192, 0, 0, 0.5)",
f.lineWidth=0,f.setLineDash([7,14]),f.beginPath(),f.moveTo(E,M),f.lineTo(D,M),f.closePath(),f.stroke())}var b,f,h,k,g,l,m=!1,n=void 0,p=void 0;this.GetTime01FromGraphCol=function(a){return tf.js.NumberClip((a-E)/K,0,1)};this.GetRepaintFunction=function(){return d};this.SetData=function(a,c,d,e){b=a;f=c;h=d;k=e;l=b.length;g=k-h};this.SetIsInHover=function(a){m=!!a};this.GetIsInHover=function(){return m};this.SetCurIndex=function(a){n=a};this.SetHoverIndex=function(a){p=a};var q=tf.GetStyles(),r=q.GetSubStyles(),
t=2,v=3,w=2*v,A,u,C,B,F,E,D,K};
tf.ui.Popup=function(a){function c(a){u&&(a.AppendTo?a.AppendTo(E):(a=tf.dom.GetHTMLElementFrom(a))&&E.appendChild(a),f())}function e(){t&&t.call(r);d(!1)}function d(a){a=!!a;if(l!=a){if(a){if(m){var b=n?n.getBoundingClientRect():{left:0,top:0,right:0,bottom:0};if(b.left!=b.right){var c=C.getBoundingClientRect();p=b.left-c.left;q=b.top-c.top;m=!1;h();f()}}f(!0)}k.ChangeOpacityVisibilityClass(B,l=a);a&&B.focus()}}function b(a){D&&"string"==typeof a&&(D.innerHTML=a)}function f(a){E.style.overflowX="visible";
E.style.overflowY="visible";E.style.maxWidth=E.style.maxHeight="none";E.style.width=E.style.height=null;a=B.getBoundingClientRect();var b=E.getBoundingClientRect();b.bottom>a.bottom&&(E.style.height=a.bottom-b.top-g.popupContainerPaddingPxNumber-(E.clientHeight-E.clientHeight)+"px");E.style.overflowX="auto";E.style.overflowY="auto";return!0}function h(){var b,c;b=g.popupContainerPaddingPxNumber;c=2*b;if(n){var d="calc("+q+"px - "+b+"px - "+a.marginVer+")";B.style.left="calc("+p+"px - "+b+"px - "+
a.marginHor+")";B.style.top=d;b="calc("+a.maxWidth+" - "+c+"px - "+a.marginHor+" - "+p+"px)";c="calc("+a.maxHeight+" - "+c+"px - "+a.marginVer+" - "+q+"px)"}else b="calc("+a.maxWidth+" - "+c+"px - "+a.marginHor+")",c="calc("+a.maxHeight+" - "+c+"px - "+a.marginVer+")";B.style.maxWidth=b;B.style.maxHeight=c}var k,g,l,m,n,p,q,r,t,v,w,A,u,C,B,F,E,D;this.Show=function(a){d(a)};this.IsShowing=function(){return l};this.Toggle=function(){d(!l)};this.SetOnClose=function(a,b){r=b;t=tf.js.GetFunctionOrNull(a)};
this.SetOnClickTitle=function(a,b){F&&new tf.events.DOMClickListener({target:v,callBack:a,optionalScope:b,callBackSettings:void 0})};this.GetTitleContainer=function(){return F};this.ChangeTitle=function(a){b(a)};this.SetTitleToolTip=function(a){"string"===typeof a&&F&&(F.title=a)};this.SetZIndex=function(a){"number"==typeof a&&B&&(B.style.zIndex=a)};this.GetZIndex=function(){return B?B.style.zIndex:0};this.OnContainerResize=function(){return f()};this.ClearContent=function(){u&&u.ClearContent()};
this.SetContent=function(a){u&&(tf.js.GetIsString(a)?(u&&u.ClearContent(),u&&(E.innerHTML="string"===typeof a?a:"&nbsp;"),f()):(u&&u.ClearContent(),c(a)))};this.AddContent=function(a){return c(a)};this.GetHTMLElement=function(){return B};(function(){k=tf.GetStyles();g=k.GetSubStyles();m=l=!1;if(C=tf.dom.GetHTMLElementFrom(a.container)){var c=tf.consts.positioningCenter;a=tf.js.ShallowMerge({titleStr:"Popup",horPos:c,verPos:c,bkColor:g.popupContentBkColor,fontSize:g.popupContentFontSizeEmNumber+"em",
maxWidth:"100%",maxHeight:"100%",marginVer:0,marginHor:0,textAlign:"left",zIndex:100},a);w=new tf.dom.Div({cssClass:k.popupContainerClass+" "+k.opacityVisibilityHideClass});B=w.GetHTMLElement();B.style.zIndex=a.zIndex;if(!a.noTitle){var c=k.GetPaddedDivClassNames(!0,!1),d=k.CloseXButtonForPopup(!1,e);v=new tf.dom.Div({cssClass:c});A=new tf.dom.Div({cssClass:k.popupCaptionClass});F=A.GetHTMLElement();D=v.GetHTMLElement();d.AppendTo(A);A.AddContent(D)}u=new tf.dom.Div({cssClass:k.popupContentClass});
E=u.GetHTMLElement();E.style.fontSize=a.fontSize;E.style.backgroundColor=a.bkColor;w.AddContent(A);w.AddContent(u);a.maxWidth=tf.js.GetDimFromStrOrPxNumber(a.maxWidth,"100%");a.maxHeight=tf.js.GetDimFromStrOrPxNumber(a.maxHeight,"100%");c=g.popupContainerPaddingPxNumber+"px";a.marginHor=tf.js.GetDimFromStrOrPxNumber(a.marginHor,"0px");a.marginVer=tf.js.GetDimFromStrOrPxNumber(a.marginVer,"0px");h();(n=tf.dom.GetHTMLElementFrom(a.rectProvider))?m=!0:(B.style.marginLeft="calc("+a.marginHor+" - "+c+
")",B.style.marginRight="calc("+a.marginHor+" - "+c+")",B.style.marginTop="calc("+a.marginVer+" - "+c+")",B.style.marginBottom="calc("+a.marginVer+" - "+c+")",k.ApplySnapStyle(w,a));b(a.titleStr);B.style.textAlign=a.textAlign;w.AppendTo(C);k.ChangeOpacityVisibilityClass(B,l)}})()};
tf.ui.RadioButtonWithLabel=function(a){var c,e,d,b,f,h,k;this.GetRadioButton=function(){return b};this.GetLabel=function(){return e};this.GetValue=function(){return b.value};this.Toggle=function(){b.checked=!b.checked};this.GetIsChecked=function(){return b.checked};this.SetIsChecked=function(a){b.checked=!!a};this.SetOnClick=function(a,b,d){c.OnDelete();h=new tf.events.DOMClickListener({target:e,callBack:a,optionalScope:b,callBackSettings:d})};this.OnDelete=function(){h&&(h.OnDelete(),h=null);k&&
(k.OnDelete(),k=null)};c=this;(function(){a=tf.js.GetValidObjectFrom(a);var g,h,k,n,p,q;d=tf.js.GetNonEmptyString(a.labelStr,"");k=tf.js.GetNonEmptyString(a.valueStr,d);q=tf.js.GetIsNonEmptyString(a.toolTipStr)?a.toolTipStr:d;p=tf.js.GetNonEmptyString(a.radioGroupStr,"");g=tf.js.GetNonEmptyString(a.labelID)?a.labelID:tf.dom.CreateDomElementID("tf-label-");h=tf.js.GetNonEmptyString(a.radioID)?a.radioID:tf.dom.CreateDomElementID("tf-radio-");n=tf.js.GetBoolFromValue(a.checked);f=new tf.dom.Div({cssClass:tf.GetStyles().GetUnPaddedDivClassNames(!0,
!1)});e=document.createElement("label");b=document.createElement("input");e.id=g;e.title=q;e.htmlFor=h;b.type="radio";b.checked=n?"checked":null;b.id=h;b.title=q;b.name=p;b.value=k;e.appendChild(document.createTextNode(d));f.AddContent(b,e);f.title=q;tf.dom.Insertable.call(c,{domObj:c,domElement:f.GetHTMLElement()})})()};tf.js.InheritFrom(tf.ui.RadioButtonWithLabel,tf.dom.Insertable);
tf.ui.CheckBoxWithLabel=function(a){var c,e,d,b,f,h,k;this.GetCheckBox=function(){return b};this.GetLabel=function(){return e};this.GetValue=function(){return d};this.Toggle=function(){b.checked=!b.checked};this.GetIsChecked=function(){return b.checked};this.SetIsChecked=function(a){b.checked=!!a};this.SetOnClick=function(a,b,d){c.OnDelete();h=new tf.events.DOMClickListener({target:e,callBack:a,optionalScope:b,callBackSettings:d})};this.OnDelete=function(){h&&(h.OnDelete(),h=null);k&&(k.OnDelete(),
k=null)};c=this;(function(){a=tf.js.GetValidObjectFrom(a);var g,h,k,n;d=tf.js.GetNonEmptyString(a.labelStr,"");n=tf.js.GetIsNonEmptyString(a.toolTipStr)?a.toolTipStr:d;g=tf.js.GetNonEmptyString(a.labelID)?a.labelID:tf.dom.CreateDomElementID("tf-label-");h=tf.js.GetNonEmptyString(a.checkID)?a.checkID:tf.dom.CreateDomElementID("tf-check-");k=tf.js.GetBoolFromValue(a.checked);f=new tf.dom.Div({cssClass:tf.GetStyles().GetUnPaddedDivClassNames(!0,!1)});e=document.createElement("label");b=document.createElement("input");
e.id=g;e.title=n;e.htmlFor=h;b.type="checkbox";b.checked=k?"checked":null;b.id=h;b.title=n;e.appendChild(document.createTextNode(d));f.AddContent(b,e);f.title=n;tf.dom.Insertable.call(c,{domObj:c,domElement:f.GetHTMLElement()})})()};tf.js.InheritFrom(tf.ui.CheckBoxWithLabel,tf.dom.Insertable);
tf.ui.CheckBoxWithLabelAndOpenClose=function(a){var c,e,d,b,f;this.GetCheckBox=function(){return f};this.GetClickOpenClose=function(){return b};this.OnDelete=function(){b&&b.OnDelete();f&&f.OnDelete()};c=this;(function(){a=tf.js.GetValidObjectFrom(a);var h=tf.GetStyles(),k=h.GetSubStyles(),g,l,m;g=tf.js.GetNonEmptyString(a.labelStr,"");m=tf.js.GetIsNonEmptyString(a.toolTipStr)?a.toolTipStr:g;l=tf.js.GetBoolFromValue(a.checked);e=new tf.dom.Div({cssClass:h.GetUnPaddedDivClassNames(!0,!1)});k=k.mapControlFontSizeEmNumber+
"em";b=h.AddButtonDivRightMargin(new tf.ui.ClickOpenClose({isOpen:!1,onClick:void 0,dim:k,style:!1}));f=new tf.ui.CheckBoxWithLabel({labelStr:g,checked:l,toolTipStr:m});e.GetHTMLElement().style.width="calc(90% - "+k+")";f.AppendTo(e);d=new tf.dom.Div({cssClass:tf.GetStyles().GetUnPaddedDivClassNames(!0,!1)});d.GetHTMLElement().title=m;b.AppendTo(d);e.AppendTo(d);tf.dom.Insertable.call(c,{domObj:c,domElement:d})})()};tf.js.InheritFrom(tf.ui.CheckBoxWithLabelAndOpenClose,tf.dom.Insertable);
tf.ui.ListItem=function(a,c){var e;this.AddContent=function(a){tf.dom.AddContent(a,e.GetHTMLElement())};this.GetHasBorderSeparator=function(){return c};this.GetIsInline=function(){return a};e=this;(function(){c=!!c;a=!!a;var d=tf.GetStyles().GetPaddedDivClassNames(a,c),d=(new tf.dom.Div({cssClass:d})).GetHTMLElement();tf.dom.Insertable.call(e,{domObj:e,domElement:d})})()};tf.js.InheritFrom(tf.ui.ListItem,tf.dom.Insertable);
tf.ui.RadioButtonList=function(a){var c,e,d,b;this.GetIsInline=function(){return e};this.AddContent=function(a,c){if(a){var d=new tf.ui.ListItem(e,c);d.AddContent(a);d.AppendTo(b)}return a};this.AddRadioButton=function(a,b,c,e,l){return this.AddContent(new tf.ui.RadioButtonWithLabel({labelStr:a,valueStr:b,checked:c,radioGroupStr:d,toolTipStr:e}),l)};c=this;(function(){var f=tf.GetStyles(),h=tf.js.GetValidObjectFrom(a);e=tf.js.GetBoolFromValue(h.isInline);(d=tf.js.GetNonEmptyString(h.radioGroup,null))||
(d=tf.dom.CreateDomElementID("tf-rg-"));f=f.GetUnPaddedDivClassNames(e,!1)+" "+f.GetRadioItemClasses();b=(new tf.dom.Div({cssClass:f})).GetHTMLElement();tf.dom.Insertable.call(c,{domObj:c,domElement:b})})()};tf.js.InheritFrom(tf.ui.RadioButtonList,tf.dom.Insertable);
tf.ui.CheckBoxList=function(a){var c,e,d;this.GetIsInline=function(){return e};this.AddContent=function(a,c){if(a){var h=new tf.ui.ListItem(e,c);h.AddContent(a);h.AppendTo(d)}return a};this.AddCheckBox=function(a,c,d,e){return this.AddContent(new tf.ui.CheckBoxWithLabel({labelStr:a,checked:c,toolTipStr:d}),e)};this.AddCheckBoxWithLabelAndOpenClose=function(a,c,d,e){return this.AddContent(new tf.ui.CheckBoxWithLabelAndOpenClose({labelStr:a,checked:c,toolTipStr:d}),e)};c=this;(function(){var b=tf.GetStyles(),
f=tf.js.GetValidObjectFrom(a);e=tf.js.GetBoolFromValue(f.isInline);b=b.GetUnPaddedDivClassNames(e,!1)+" "+b.GetCheckItemClasses();d=(new tf.dom.Div({cssClass:b})).GetHTMLElement();tf.dom.Insertable.call(c,{domObj:c,domElement:d})})()};tf.js.InheritFrom(tf.ui.CheckBoxList,tf.dom.Insertable);
tf.ui.RadioOrCheckListFromData=function(a){var c,e,d,b,f,h,k;this.GetIsRadioButtonList=function(){return d};this.GetButton=function(a){return f[a]};this.GetLastCheckedLabel=function(){return h};c=this;(function(){a=tf.js.GetValidObjectFrom(a);f=[];b=tf.js.GetFunctionOrNull(a.onClick);k=a.optionalScope;e=new ((d=!!a.isRadioList)?tf.ui.RadioButtonList:tf.ui.CheckBoxList)({isInline:a.isInline});tf.dom.Insertable.call(c,{domObj:c,domElement:e.GetHTMLElement()});var g=a.data;if(g&&("string"===typeof g&&
(g=g.split(tf.consts.charSplitStrings)),tf.js.GetIsArray(g))){var l=g.length,m=tf.js.GetNonEmptyString(a.selRadioName),n=tf.js.GetValidObjectFrom(a.checkedBoxes),p=void 0!==a.noSeparators?tf.js.GetBoolFromValue(a.noSeparators):!1,q;for(q in g){var r=g[q],t=null,v=null;tf.js.GetIsArrayWithLength(r,2)?(t=tf.js.GetNonEmptyString(r[0]),v=tf.js.GetNonEmptyString(r[1])):(t=tf.js.GetNonEmptyString(r),v='click to select: "'+t+'"');if(t)if(f[t])tf.GetDebug().LogIfTest("tf.ui.RadioOrCheckListFromData: adding duplicate button: "+
t);else{if(d){if(r=!m||m==t)m=t}else r=!!n[t];r&&(h=t);var w=p?!1:q!=l-1,v=d?e.AddRadioButton(t,t,r,v,w):e.AddCheckBox(t,r,v,w),r=function(a,c){return function(){h=c;d?a.SetIsChecked(!0):a.Toggle();b&&setTimeout(function(){b.call(k,a.GetValue())},10)}}(v,t);f[t]=v;v.SetOnClick(r,c,void 0)}}}})()};tf.js.InheritFrom(tf.ui.RadioOrCheckListFromData,tf.dom.Insertable);
tf.ui.RadioOrCheckPopupFromData=function(a){var c;this.SetZIndex=function(a){c&&c.SetZIndex(a)};this.GetZIndex=function(){return c?c.GetZIndex():0};this.SetOnClose=function(a){c.SetOnClose(a,optionalScope)};this.SetTitle=function(a){c&&c.ChangeTitle(a)};this.Show=function(a){c&&(c.Show(a),a&&c&&c.OnContainerResize())};this.IsShowing=function(){return c?c.IsShowing():!1};this.Toggle=function(){this.Show(!this.IsShowing())};this.OnContainerResize=function(){c&&c.OnContainerResize()};a=tf.js.GetValidObjectFrom(a);
a.container&&((c=new tf.ui.Popup({container:a.container,titleStr:a.title,maxHeight:"100%",maxWidth:"100%",horPos:a.horPos,verPos:a.verPos,marginHor:a.marginHor,marginVer:a.marginVer,zIndex:a.zIndex})).AddContent(new tf.ui.RadioOrCheckListFromData({isRadioList:a.isRadioList,onClick:a.onClick,data:a.data,isInline:a.isInline,checkBoxes:a.checkBoxes,selRadioName:a.selRadioName})),c.SetOnClose(a.onClose,a.optionalScope))};
tf.ui.ToolBarPopup=function(a,c){function e(){if(l){var d=c?c.getBoundingClientRect():{left:0,top:0,right:0,bottom:0};if(d.left!=d.right){var g=a.getBoundingClientRect();m=d.left-g.left;n=d.top-g.top;l=!1;b()}else setTimeout(e,500)}}function d(a){a=!!a;g!=a&&(a&&e(),g!=a&&(f.ChangeOpacityVisibilityClass(q,g=a),g&&k&&k.focus()))}function b(){var a=m+"px",b=n+"px";q.style.left=a;q.style.top=b;q.style.maxWidth="calc(100% - "+a+")";q.style.maxHeight="calc(100% - "+b+")"}var f=tf.GetStyles(),h=f.GetUnPaddedDivClassNames(!0,
!1),k=null,g=!1,l=!0,m=void 0,n=void 0;this.SetFocusElem=function(a){k=tf.dom.GetHTMLElementFrom(a)};this.Show=function(a){d(a)};this.IsShowing=function(){return g};this.Toggle=function(){d(!g)};this.AddContent=function(a,b,c){a&&(c?(b||tf.dom.AddCSSClass(a,f.rightBorderSeparatorLightClass),a.AppendTo(q)):(c=new tf.dom.Div({cssClass:h}),b||tf.dom.AddCSSClass(c,f.rightBorderSeparatorLightClass),f.ApplyMiddleVerticalAlignStyle(c),c.AddContent(a),c.AppendTo(q)))};var p=null,q=null,p=new tf.dom.Div({cssClass:f.mapToolBarContainerClass+
" "+f.opacityVisibilityHideClass});c=tf.dom.GetHTMLElementFrom(c);q=p.GetHTMLElement();q.style.zIndex=100;p.AppendTo(a);b()};tf.canvas.circle=function(a,c,e,d){tf.canvas.ellipse(a,c,e,d,d)};tf.canvas.ellipse=function(a,c,e,d,b){var f=d/2*.5522848,h=b/2*.5522848,k=c+d,g=e+b;d=c+d/2;b=e+b/2;a.moveTo(c,b);a.bezierCurveTo(c,b-h,d-f,e,d,e);a.bezierCurveTo(d+f,e,k,b-h,k,b);a.bezierCurveTo(k,b+h,d+f,g,d,g);a.bezierCurveTo(d-f,g,c,b+h,c,b)};
tf.canvas.StrokeFillRoundRect=function(a,c,e,d,b,f,h,k,g){k=tf.js.GetBoolFromValue(k,!1);if((h=tf.js.GetBoolFromValue(h,!1))||k)g||a.translate(.5,.5),f=tf.js.GetFloatNumberInRange(f,0,(d<b?d:b)/2),a.beginPath(),a.moveTo(c+f,e),a.lineTo(c+d-f,e),a.quadraticCurveTo(c+d,e,c+d,e+f),a.lineTo(c+d,e+b-f),a.quadraticCurveTo(c+d,e+b,c+d-f,e+b),a.lineTo(c+f,e+b),a.quadraticCurveTo(c,e+b,c,e+b-f),a.lineTo(c,e+f),a.quadraticCurveTo(c,e,c+f,e),a.closePath(),k&&a.stroke(),h&&a.fill()};
tf.canvas.StrokeFillBubbleLT=function(a,c,e,d,b,f,h){d=c+d;var k=e+b;a.moveTo(c+h,e);a.lineTo(c,e-f);a.lineTo(c+2*h,e);a.lineTo(d-h,e);a.quadraticCurveTo(d,e,d,e+h);a.lineTo(d,e+b-h);a.quadraticCurveTo(d,k,d-h,k);a.lineTo(c+h,k);a.quadraticCurveTo(c,k,c,k-h);a.lineTo(c,e+h);a.quadraticCurveTo(c,e,c+h,e)};
tf.canvas.StrokeFillBubbleLB=function(a,c,e,d,b,f,h){d=c+d;var k=e+b;a.moveTo(c+h,e);a.lineTo(d-h,e);a.quadraticCurveTo(d,e,d,e+h);a.lineTo(d,e+b-h);a.quadraticCurveTo(d,k,d-h,k);a.lineTo(c+2*h,k);a.lineTo(c,k+f);a.lineTo(c+h,k);a.quadraticCurveTo(c,k,c,k-h);a.lineTo(c,e+h);a.quadraticCurveTo(c,e,c+h,e)};
tf.canvas.StrokeFillBubbleRT=function(a,c,e,d,b,f,h){d=c+d;var k=e+b;a.moveTo(c+h,e);a.lineTo(d-2*h,e);a.lineTo(d,e-f);a.lineTo(d-h,e);a.quadraticCurveTo(d,e,d,e+h);a.lineTo(d,e+b-h);a.quadraticCurveTo(d,k,d-h,k);a.lineTo(c+h,k);a.quadraticCurveTo(c,k,c,k-h);a.lineTo(c,e+h);a.quadraticCurveTo(c,e,c+h,e)};
tf.canvas.StrokeFillBubbleRB=function(a,c,e,d,b,f,h){d=c+d;var k=e+b;a.moveTo(c+h,e);a.lineTo(d-h,e);a.quadraticCurveTo(d,e,d,e+h);a.lineTo(d,e+b-h);a.quadraticCurveTo(d,k,d-h,k);a.lineTo(d-h,k);a.lineTo(d,k+f);a.lineTo(d-2*h,k);a.lineTo(c+h,k);a.quadraticCurveTo(c,k,c,k-h);a.lineTo(c,e+h);a.quadraticCurveTo(c,e,c+h,e)};
tf.canvas.StrokeFillBubbleMidT=function(a,c,e,d,b,f,h){var k=c+d,g=e+b;a.moveTo(c+h,e);a.lineTo(c+d/2-h/2,e);a.lineTo(c+d/2,e-f);a.lineTo(c+d/2+h/2,e);a.lineTo(c+2*h,e);a.lineTo(k-h,e);a.quadraticCurveTo(k,e,k,e+h);a.lineTo(k,e+b-h);a.quadraticCurveTo(k,g,k-h,g);a.lineTo(c+h,g);a.quadraticCurveTo(c,g,c,g-h);a.lineTo(c,e+h);a.quadraticCurveTo(c,e,c+h,e)};
tf.canvas.StrokeFillBubbleMidB=function(a,c,e,d,b,f,h){var k=c+d,g=e+b;a.moveTo(c+h,e);a.lineTo(k-h,e);a.quadraticCurveTo(k,e,k,e+h);a.lineTo(k,e+b-h);a.quadraticCurveTo(k,g,k-h,g);a.lineTo(c+d/2+h/2,g);a.lineTo(c+d/2,g+f);a.lineTo(c+d/2-h/2,g);a.lineTo(c+h,g);a.quadraticCurveTo(c,g,c,g-h);a.lineTo(c,e+h);a.quadraticCurveTo(c,e,c+h,e)};
tf.canvas.StrokeFillBubbleMidR=function(a,c,e,d,b,f,h){d=c+d;var k=e+b;a.moveTo(c+h,e);a.lineTo(d-h,e);a.quadraticCurveTo(d,e,d,e+h);a.lineTo(d+f,e+b/2);a.lineTo(d,k-h);a.quadraticCurveTo(d,k,d-h,k);a.lineTo(c+h,k);a.quadraticCurveTo(c,k,c,k-h);a.lineTo(c,e+h);a.quadraticCurveTo(c,e,c+h,e)};
tf.canvas.StrokeFillBubbleMidL=function(a,c,e,d,b,f,h){d=c+d;var k=e+b;a.moveTo(c+h,e);a.lineTo(d-h,e);a.quadraticCurveTo(d,e,d,e+h);a.lineTo(d,e+b-h);a.quadraticCurveTo(d,k,d-h,k);a.lineTo(c+h,k);a.quadraticCurveTo(c,k,c,k-h);a.lineTo(c-f,e+b/2);a.lineTo(c,e+h);a.quadraticCurveTo(c,e,c+h,e)};
tf.canvas.DrawRoundRect=function(a,c){c=tf.js.ShallowMerge({width:10,height:10,radius:2,fill:!1,fill_color:"#fff",line:!1,line_color:"#000",line_width:1},c);var e=c.width,d=c.height,b=c.radius,f=!!c.fill,h=!!c.line,k=0;c.dontTranslate||a.translate(.5,.5);a.canvas.width=e;a.canvas.height=d;a.beginPath();a.clearRect(0,0,e,d);h&&(a.strokeStyle=c.line_color,a.lineWidth=k=c.line_width);f&&(a.fillStyle=c.fill_color);void 0!==c.line_dash&&a.setLineDash(c.line_dash);tf.canvas.StrokeFillRoundRect(a,k/2,k/
2,e-k,d-k,b,f,h,c.dontTranslate);a.closePath();return[.5,.5]};
tf.canvas.DrawTextMarkerImage=function(a,c){c=tf.js.GetValidObjectFrom(c);var e=tf.js.GetNonEmptyString(c.horpos,tf.consts.positioningCenter),d=tf.js.GetNonEmptyString(c.verpos,tf.consts.positioningTop),b,f,h,k=[.5,.5];switch(e.toLowerCase()){default:case tf.consts.positioningCenter:e=!0;b=!1;k[0]=.5;break;case tf.consts.positioningLeft:e=!1;b=!0;k[0]=1;break;case tf.consts.positioningRight:b=e=!1,k[0]=0}switch(d.toLowerCase()){case tf.consts.positioningCenter:h=!0;f=!1;k[1]=.5;break;case tf.consts.positioningTop:h=
!1;f=!0;k[1]=1;break;case tf.consts.positioningBottom:f=h=!1,k[1]=0}var d=tf.js.GetNonEmptyString(c.label,""),g=null!=c.line_color?c.line_color:"0xFFFFFF",l=null!=c.line_width?c.line_width:0,m=null!=c.font_color?c.font_color:"0x000000",n=null!=c.font_opacity?c.font_opacity:1,g=tf.js.GetRGBAColor(g,g,null!=c.line_opacity?c.line_opacity:.2),m=tf.js.GetRGBAColor(m,m,n),p=null!=c.border_line_color?c.border_line_color:"0x000000",n=null!=c.border_line_width?c.border_line_width:2,q=null!=c.fill_color?c.fill_color:
"0xffb27f",r=null!=c.fill_opacity?c.fill_opacity:1,p=tf.js.GetRGBAColor(p,p,null!=c.border_line_opacity?c.border_line_opacity:1),q=tf.js.GetRGBAColor(q,q,r),t=tf.GetStyles().GetSubStyles(),r=t.markerFontSizePXNumber,r=null!=c.font_height?tf.js.GetIntNumberInRange(c.font_height,8,20,r):r,t=t.markerFontFamily,t=r+"px "+("string"===typeof c.font&&c.font.length?c.font:t),v=c.arrow_length?c.arrow_length:12;a.font=t;a.strokeStyle=g;a.lineWidth=l;a.fillStyle=m;c.dontTranslate||a.translate(.5,.5);var w=a.measureText(d).width,
A,u,C;A=2+l/2-1+n/2;u=2+n/2;w=w+4+l+2*n;C=r+4+l+1+2*n;var B=w-n+1,F=C+v-n,E=n/2,D=n/2;b?f?f=tf.canvas.StrokeFillBubbleRB:h?(f=tf.canvas.StrokeFillBubbleMidR,B+=v,F-=v):(f=tf.canvas.StrokeFillBubbleRT,D+=v,u+=v):e?f?f=tf.canvas.StrokeFillBubbleMidB:h?(f=tf.canvas.StrokeFillRoundRect,F-=v):(f=tf.canvas.StrokeFillBubbleMidT,D+=v,u+=v):f?f=tf.canvas.StrokeFillBubbleLB:h?(f=tf.canvas.StrokeFillBubbleMidL,B+=v,F-=v,E+=v,A+=v):(f=tf.canvas.StrokeFillBubbleLT,D+=v,u+=v);b=tf.js.NumberClip(.35*(r+4),1,1E4);
a.canvas.width=B;a.canvas.height=F;a.font=t;a.lineCap="square";a.lineJoin="round";a.clearRect(0,0,B,F);a.strokeStyle=p;a.lineWidth=n;a.fillStyle=q;e&&h?tf.canvas.StrokeFillRoundRect(a,E,D,w-2*n,C-2*n,b,!0,!0,c.dontTranslate):(a.beginPath(),f(a,E,D,w-2*n,C-2*n,v,b,c.dontTranslate),a.closePath(),a.stroke(),a.fill());a.strokeStyle=g;a.lineWidth=l;a.textBaseline="top";tf.browser.GetBrowserType().isFireFox&&(u+=2);0<l&&a.strokeText(d,A,u);a.fillStyle=m;a.fillText(d,A,u);return k};
tf.canvas.CreateMemoryImage=function(a){a=tf.js.GetValidObjectFrom(a);var c=tf.js.GetFunctionOrNull(a.drawFunction),e;if(c){var d=document.createElement("canvas");e=d.getContext("2d");e=c(e,a.drawSettings)}return{image:d,anchor:e}};
tf.canvas.PaintSlider=function(a,c,e,d,b,f,h,k,g,l,m,n,p,q,r){a.width=c;a.height=e;a=a.getContext("2d");a.save();a.translate(.5,.5);a.canvas.width=c;a.canvas.height=e;a.beginPath();a.clearRect(0,0,c,e);a.closePath();a.beginPath();a.fillStyle=f;a.strokeStyle=h;a.lineWidth=2;tf.canvas.StrokeFillRoundRect(a,b/2,b/2,c-b,e-b,b,!0,!0);a.closePath();b=Math.round(c*p);a.beginPath();q?(l=Math.round(c*r),a.lineWidth=1,a.strokeStyle="#fff",a.fillStyle=n,a.fillRect(l-d+1,1,d+1,e-2)):(a.fillStyle=l,a.fillStyle=
m,a.fillRect(2,2,b,e-4));a.closePath();a.lineWidth=2;b=Math.round(c*p);a.beginPath();a.strokeStyle=k;a.fillStyle=g;a.fillRect(b-d+1,0,d+1,e);a.closePath();a.restore()};
tf.dom.Canvas=function(){var a=null,c=null,e=null,d=null,b=null;this.Repaint=function(){if(d){var f=c.clientWidth,h=c.clientHeight;c.width=f;c.height=h;e.save();d.call(b,a,e,f,h);e.restore()}};this.SetRepaint=function(a,c){d=tf.js.GetFunctionOrNull(a);b=c};a=this;(function(){var b=new tf.dom.Div({cssClass:tf.GetStyles().GetUnPaddedDivClassNames(!1,!0)});c=document.createElement("canvas");c.style.width="100%";c.style.height="100%";e=c.getContext("2d");b.AddContent(c);tf.dom.Insertable.call(a,{domObj:a,
domElement:b.GetHTMLElement()})})()};tf.js.InheritFrom(tf.dom.Canvas,tf.dom.Insertable);
tf.ui.CanvasSlider=function(a,c,e){function d(a,b){u=tf.js.GetFloatNumberInRange(a,0,1,.5);b&&f()}function b(a){if(a&&e){a=E;var b=D,c=K;J=F}else a=L,b=H,c=I,J=G;N=a;M=b;P=c}function f(){q(A,w.clientWidth,w.clientHeight,t,2,M,P,N,J,L,G,Q,u,V&&!U&&e,B)}function h(a){a=a.mouseCoords?a.mouseCoords:tf.events.GetMouseEventCoords(a);var b=w?w.offsetWidth:0;0<b?(a[0]=tf.js.NumberClip(a[0],0,b),a=a[0]/b):a=0;U?a!=u&&(d(a,!0),S&&S.call(T,n,u)):a!=B&&(B=a);R&&R.call(T,n,B)}function k(a){U=!0;h(a)}function g(a){U=
!1;h(a)}function l(a){h(a)}function m(){if(V=ia.GetIsInHover())U=!1;b(V);ha!=V&&(ha=V,f());var a=tf.events.GetMouseEventCoords(ia.GetLastEvent()),c=w?w.offsetWidth:0,a=c?a[0]/c:0;a!=C&&(C=a,aa&&aa.call(ba,n,C))}var n,p,q,r,t,v,w,A,u,C,B,F,E,D,K,G,L,H,I,J,N,M,P,Q,R,S,T,aa,ba,ia,V,U;this.GetIsInDrag=function(){return U};this.GetIsInHover=function(){return V};this.GetHover01=function(){return C};this.GetMouse01=function(){return B};this.SetOnClickListener=function(a,b){S="function"===typeof a?a:null;
T=b};this.SetOnHoverListener=function(a,b){aa="function"===typeof a?a:null;ba=b};this.SetOnMouseMoveListener=function(a,b){R="function"===typeof a?a:null};this.Repaint=function(){f()};this.SetPos01=function(a){return d(a,!0)};this.GetPos01=function(){return u};this.SetColors=function(a,b,c,d){J=a;N=b;M=c;P=d};this.SetMouseFillColor=function(a){Q=a;f()};var ha=!1;n=this;(function(){p=tf.GetStyles();q=tf.canvas.PaintSlider;r=c?c:"0.8em";t=4;Q=p.GetSubStyles().disabledTextColor;F="#FFF";E=p.GetButtonBGColor(!0);
D=p.GetButtonBGColor(!0);K="#333";G=p.GetButtonBGColor(!0);L=p.GetButtonBGColor(!0);H="#fff";I="#bfbfbf";J=G;N=L;M=D;P=K;V=U=!1;tf.GetDocMouseListener();e=!!e;v=new tf.dom.Div({cssClass:p.unPaddedBlockDivClass});w=v.GetHTMLElement();A=document.createElement("canvas");A.style.width="100%";A.style.height="100%";w.style.height=r;w.style.width="1px";var f={mousemove:l,mouseup:g,mousedown:k},h;for(h in f)tf.events.AddDOMEventListener(w,h,f[h]);ia=new tf.events.DOMHoverListener({target:w,callBack:m,optionalScope:n,
callBackSettings:null});d(a,!1);b(!1);v.AddContent(A);tf.dom.Insertable.call(n,{domObj:n,domElement:v})})()};tf.js.InheritFrom(tf.ui.CanvasSlider,tf.dom.Insertable);tf.urlapi.NormalizeJSONProperties=function(a){a&&(void 0!=a.Latitude?(a.lat=a.Latitude,delete a.Latitude):void 0!=a.latitude&&(a.lat=a.latitude,delete a.latitude),void 0!=a.Longitude?(a.lon=a.Longitude,delete a.Longitude):void 0!=a.longitude&&(a.lon=a.longitude,delete a.longitude));return a};
tf.urlapi.NormalizeFieldID=function(a){a="string"===typeof a?a.toLowerCase().trim():"";return"latitude"===a?"lat":"longitude"===a?"lon":a};
tf.urlapi.TabDelimitedDataParser=function(){var a=[],c=[];this.ParseData=function(e,d){a=[];c=[];var b=e.substring(e.indexOf("==")+4,e.indexOf("===")-1).split("\n");a=e.slice(e.indexOf("\r\n=\r\n")+5,e.indexOf("\r\n==\r\n")).split("\t");var f=a.length;700==f&&"offset"==a[699]&&--f;var h=tf.urlapi.NormalizeFieldID,k=tf.js.GetNonEmptyString;"object"===typeof d||(d=void 0);for(var g=[],l=void 0!==d?d.length:0,m=0;m<f;m++){var n=h(a[m]);a[m]=n;for(var p=0;p<l;p++)n==d[p]&&g.push(m)}for(var h=0,n=b.length,
q=0;q<n;++q)if(m=b[q].trim(),0<m.length){var r=m.split("\t");if(f==r.length){var t=[];if(0==l)for(m=0;m<f;++m){var v=a[m],w=k(r[m]);w&&(t[v]=w)}else for(p=0;p<l;++p)m=g[p],v=a[m],(w=k(r[m]))&&(t[v]=w);c[h++]=t}}};this.GetFields=function(){return a};this.GetFieldName=function(c){return a[c]};this.GetNFields=function(){return a.length};this.GetFieldIndex=function(c){var d=-1;"string"===typeof c&&0<c.length&&(d=a.indexOf(c.toLowerCase().trim()));return d};this.GetDataSet=function(){return c};this.GetNRecords=
function(){return c.length};this.GetRecord=function(a){a=tf.js.GetNonNegativeIntFrom(a);return a<this.GetNRecords()?c[a]:null}};
tf.layout.AppContainerSizer=function(a){function c(){for(var a in m)m[a].OnResize()}function e(){if(g){var a,d;f?(d=tf.dom.FitContainerToWindowDims(g),a=d[0],d=d[1]):(a=l.clientWidth,d=l.clientHeight);n.Notify({sender:b,dims:[a,d]});c();k&&k.DelayCallBack()}}function d(){h&&h.DelayCallBack()}var b,f,h,k,g,l,m,n;this.GetContainer=function(){return g};this.OnResize=function(){return d()};this.UpdateMapSizes=function(){c();k&&k.DelayCallBack()};this.AddResizeListener=function(a){return n.Add(a)};this.AddMap=
function(a){if(a=tf.js.GetMapFrom(a)){var b=a.GetID();m[b]||(m[b]=a)}};this.DelMap=function(a){if(a=tf.js.GetMapFrom(a))a=a.GetID(),m[a]&&delete m[a]};b=this;a=tf.js.GetValidObjectFrom(a);m={};n=new tf.events.EventNotifier;f=tf.js.GetBoolFromValue(a.fitContainerToWindow,!0);tf.js.GetIsNonEmptyString(a.documentTitle)&&(document.title=a.documentTitle,tf.GetStyles().AddBodyStyle());if(l=tf.dom.GetHTMLElementFrom(g=a.container))n.Add(a.onResize),h=new tf.events.DelayedCallBack(250,e),k=new tf.events.DelayedCallBack(250,
c),tf.events.AddDOMEventListener(window,tf.consts.DOMEventNamesResize,d),new tf.events.DOMFullScreenChangeListener({callBack:d,optionalScope:b}),a.useUpdateSizesInterval&&setInterval(c,5E3)};tf.layout.SinglePane=function(){var a;this.GetContainer=function(){return a};a=new tf.dom.Div({cssClass:tf.GetStyles().appContainerClass});tf.dom.Insertable.call(this,{domObj:this,domElement:a})};tf.js.InheritFrom(tf.layout.SinglePane,tf.dom.Insertable);
tf.layout.TopBot=function(){var a=null,c=null,e=null,d=null;this.GetContainer=function(){return c};this.GetTop=function(){return e};this.GetBot=function(){return d};a=this;(function(){var b=tf.GetStyles(),f=b.unpaddedBlockDivClass;(c=new tf.dom.Div({cssClass:b.appContainerClass})).AddContent(e=new tf.dom.Div({cssClass:f}),d=new tf.dom.Div({cssClass:f}));d.GetHTMLElement().style.position=e.GetHTMLElement().style.position="relative";tf.dom.Insertable.call(a,{domObj:a,domElement:c.GetHTMLElement()})})()};
tf.js.InheritFrom(tf.layout.TopBot,tf.dom.Insertable);tf.layout.LeftRight=function(){var a=null,c=null,e=null,d=null;this.GetContainer=function(){return c};this.GetLeft=function(){return e};this.GetRight=function(){return d};a=this;(function(){var b=tf.GetStyles();(c=new tf.dom.Div({cssClass:b.appContainerClass})).AddContent(d=new tf.dom.Div({cssClass:b.rightSideContainerClass}),e=new tf.dom.Div({cssClass:b.leftSideContainerClass}));tf.dom.Insertable.call(a,{domObj:a,domElement:c.GetHTMLElement()})})()};
tf.js.InheritFrom(tf.layout.LeftRight,tf.dom.Insertable);
tf.layout.LeftMidRight=function(){var a,c,e,d,b;this.GetContainer=function(){return c};this.GetLeft=function(){return e};this.GetMid=function(){return d};this.GetRight=function(){return b};a=this;(function(){var f=tf.GetStyles();(c=new tf.dom.Div({cssClass:f.appContainerClass})).AddContent(b=new tf.dom.Div({cssClass:f.rightSideContainerClass}),e=new tf.dom.Div({cssClass:f.floatLeftSideContainerClass}),d=new tf.dom.Div({cssClass:f.leftSideContainerClass}));tf.dom.Insertable.call(a,{domObj:a,domElement:c.GetHTMLElement()})})()};
tf.js.InheritFrom(tf.layout.LeftMidRight,tf.dom.Insertable);
tf.layout.LeftSeparatorRight=function(a){function c(){f&&f.call(a.optionalScope,{sender:b})}function e(a){k=!k;d();c()}function d(){if(l){var a=g,b=a&&!k;q.style.display=a?"block":"none";t.style.display=b?"block":"none";q.title=b?"Collapse":"Restore"}}var b,f,h,k,g,l,m,n,p,q,r,t;this.GetContainer=function(){return m};this.GetLeft=function(){return n};this.GetRight=function(){return r};this.GetIsRightSideCollapsed=function(){return k};this.ToggleRightSideCollapsed=function(){e()};this.SetRightSideCollapsed=
function(a){k=!!a;d();c()};this.SetIsShowingSeparator=function(a){(a=!!a)!=g&&(g=a,d(),c())};b=this;h=tf.GetStyles();k=g=!0;a=tf.js.GetValidObjectFrom(a);f=tf.js.GetFunctionOrNull(a.onLayoutChange);l=(m=new tf.dom.Div({cssClass:h.appContainerClass})).GetHTMLElement();n=new tf.dom.Div({cssClass:h.leftSideContainerClass});n.GetHTMLElement();p=new tf.dom.Div({cssClass:h.leftRightSideSeparatorClass});q=p.GetHTMLElement();new tf.events.DOMClickListener({target:q,callBack:e,optionalScope:b,callBackSettings:null});
r=new tf.dom.Div({cssClass:h.rightSideContainerClass});t=r.GetHTMLElement();r.AppendTo(m);p.AppendTo(m);n.AppendTo(m);tf.js.GetIsValidObject(a.separatorStyle)&&h.ApplyStyleProperties(p,a.separatorStyle);tf.js.GetIsFalseNotUndefined(a.initiallyCollapsed)&&(k=!1);d();tf.dom.Insertable.call(b,{domObj:b,domElement:m})};tf.js.InheritFrom(tf.layout.LeftSeparatorRight,tf.dom.Insertable);
tf.layout.HeaderContentFooter=function(a){function c(){k&&k.call(C,{sender:b})}function e(){d()}function d(){var a=p.clientHeight,b=q.clientHeight,c=E&&100<=a-b,d=a>b;r.style.display=d?"block":"none";t.style.display=c?"block":"none";d&&(d=t.clientHeight,r.style.height=(c?a-(b+d):a-b)+"px");D=c}var b,f,h,k,g,l,m,n,p,q,r,t,v,w,A,u,C,B,F,E,D;this.CreateUnPaddedDivForHeader=function(){return new tf.dom.Div({cssClass:f.unPaddedBlockDivClass})};this.SetHeader=function(a){var b=B;b.ClearContent();b.AddContent(a);
c()};this.AddToHeader=function(a){v.InsertContentBefore(a,B);c()};this.AddAfterLogo=function(a){v.InsertContentAfter(a,w);c()};this.SetContent=function(a){var b=m;b.ClearContent();b.AddContent(a);c()};this.SetFooter=function(a){var b=F;b.ClearContent();b.AddContent(a);c()};this.NotifyLayoutChange=function(){return c()};this.OnResize=function(){return d()};this.GetIsFooterAutoHidden=function(){return D};this.GetIsShowingFooter=function(){return E};this.SetIsShowingFooter=function(a){(a=!!a)!=E&&(E=
a,d())};b=this;(function(){function c(a,b){tf.js.GetIsValidObject(b)&&f.ApplyStyleProperties(a,b)}f=tf.GetStyles();h=f.GetSubStyles();E=!0;D=!1;var d=tf.js.GetNonEmptyString(a.appLogoImgStr,""),L=tf.js.GetNonEmptyString(a.logoBkColor,"#00a"),H=f.GetPaddedDivClassNames(!1,!1);k=tf.js.GetFunctionOrNull(a.onLayoutChange);C=a.optionalScope;g=new tf.dom.Div({cssClass:f.hcfLayoutClass});l=new tf.dom.Div({cssClass:f.hcfLayoutHeaderClass});m=new tf.dom.Div({cssClass:f.hcfLayoutContentClass});n=new tf.dom.Div({cssClass:f.hcfLayoutFooterClass});
p=g.GetHTMLElement();q=l.GetHTMLElement();r=m.GetHTMLElement();t=n.GetHTMLElement();v=new tf.dom.Div({cssClass:H});f.ApplyStyleProperties(v,h.textAlignCenterStyle);F=new tf.dom.Div({cssClass:H});f.ApplyStyleProperties(F,h.textAlignCenterStyle);w=new tf.dom.Div({cssClass:f.unPaddedBlockDivClass});var H=w.GetHTMLElement(),I=H.style;I.backgroundColor=L;I.borderRadius="4px";H.title=tf.js.GetNonEmptyString(a.documentTitle,"");A=new tf.dom.Img({src:tf.platform.GetPoweredByTerraFlyLogoImgStr(),cssClass:f.imgLogoStyleClass,
onLoad:e});u=new tf.dom.Img({src:d,cssClass:f.imgLogoStyleClass,onLoad:e});w.AddContent(u);w.AddContent(A);B=new tf.dom.Div({cssClass:f.unPaddedBlockDivClass});w.AppendTo(v);B.AppendTo(v);v.AppendTo(l);F.AppendTo(n);c(g,a.pageStyle);c(m,a.contentStyle);c(l,a.headerStyle);c(n,a.footerStyle);c(w,a.logoStyle);l.AppendTo(g);m.AppendTo(g);n.AppendTo(g);tf.dom.Insertable.call(b,{domObj:b,domElement:g})})()};tf.js.InheritFrom(tf.layout.HeaderContentFooter,tf.dom.Insertable);
tf.urlapi.CreateURLAPIMaps=function(a){function c(){function c(a,b){var d=b?"Switch to 2D view":"Switch to 3D view";a.SetText(b?"2D view":"3D view");a.ChangeToolTip(d)}var q=m?tf.urlapi.RemovePlugInPhotoFromLegend(d[tf.consts.paramNameLegendM]).legendStr:null,r=m?d[tf.consts.paramNameLegendH]:d[tf.consts.paramNameLegend],r=tf.urlapi.RemovePlugInPhotoFromLegend(r).legendStr,t=tf.js.GetFloatNumberInRange(d[tf.consts.paramNameMessageTimeout],tf.consts.minMessageTimeout,tf.consts.maxMessageTimeout,tf.consts.defaultMessageTimeout),
q={fullScreenContainer:a.fullScreenContainer,center:[k,h],mapType:d[tf.consts.paramNameType],mapAerialSource:d[tf.consts.paramNameSource],mapLayerSourceURL:d[tf.consts.mapLayerSourceName],mapEngine:l,panels:g,addressBarText:d[tf.consts.paramNameAddress],addressBarHelp:d[tf.consts.paramNameHelp],panOnClick:!0,goDBOnDoubleClick:!0,legendH:r,legendM:q,messageTimeout:t,vidParam:d[tf.consts.paramNameVid],passThroughString:d[tf.consts.paramNamePassThrough],level:d[tf.consts.paramNameLevel],resolution:d[tf.consts.paramNameRes],
linkTargetStr:n},r=[],t=[],v=[],w=[],A=[],u=b?tf.urlapi.GetDLayersInfoFromURLParameters(d):[],C=b?tf.js.GetIsNonEmptyArray(u):!1,B=d[tf.consts.paramNamePerspectiveMap],F,E=tf.js.GetFunctionOrNull(a.dLayersPreProcessServiceData),D;void 0!=B&&tf.js.GetIsValidObject(tf.webgl)&&void 0!==tf.webgl.PerspectiveMap&&(tf.webgl.GetWebGL().GetHasWebGL()?(F=tf.js.GetBoolFromValue(B),B=!0,D=tf.GetStyles()):B=F=!1);var K={position:"absolute",bottom:"0.5em",marginLeft:"50%",transform:"translate(-50%, 0)",zIndex:2},
G;for(G in a.mapContainers){var L=a.mapContainers[G];if(tf.dom.GetHTMLElementFrom(L)){q.container=L;var L=new tf.map.Map(q),H,I=B?function(a){return function(b,c){var d=w[a];d&&d.PreProcessServiceData(b,c);E&&E(b,c)}}(w.length):E,I=C?new tf.urlapi.DLayerList({dLayersInfo:u,map:L,preProcessDataItem:a.dLayersPreProcessDataItem,preProcessServiceData:I,nDLayerExtent:f,linkTargetStr:n}):void 0;r.push(L);if(B){H=new tf.webgl.PerspectiveMap({map:L,isVisible:F});v.push(H);var J=new tf.ui.TextBtn({style:D.mapTextBtnClass,
label:"",tooltip:"",dim:20}),N=function(a,b){return function(){var d=!a.GetIsVisible();a.SetIsVisible(d);c(b,d)}}(H,J),M=function(a,b){return function(d){d=a.GetIsVisible();c(b,d)}}(H,J);H.AddListener(tf.consts.perspectiveMapVisibilityChangeEvent,M);J.SetOnClick(N);c(J,F);D.ApplyStyleProperties(J,K);J.AppendTo(L.GetMapMapContainer());A.push(J)}I&&(t.push(I),B&&(L=new tf.webgl.PerspectiveDLayers({perspectiveMap:H}),w.push(L)))}}var P={parameters:d,maps:r,dLayers:t,perspectiveMaps:v,perspectiveDLayers:w,
perspectiveToggleButtons:A};setTimeout(function(){e.call(a.optionalScope,P)},10)}if(tf.js.GetIsValidObject(a)&&tf.js.GetIsValidObject(a.mapContainers)){var e=tf.js.GetFunctionOrNull(a.onCreated);if(e){var d=a.parameters;tf.js.GetIsValidObject(d)||(d=tf.js.GetIsString(d)?tf.urlapi.ParseURLAPIParameters(d):{});var b=tf.js.GetBoolFromValue(a.allowDLayers,!0),f=tf.js.GetIntNumberInRange(d[tf.consts.paramNameDLExtent],0,999,0),h=tf.js.GetLatitudeFrom(d[tf.consts.paramNameLat]),k=tf.js.GetLongitudeFrom(d[tf.consts.paramNameLon]);
d[tf.consts.paramNamePanels]||(d[tf.consts.paramNamePanels]=tf.consts.defaultPanels);d[tf.consts.paramNameTFLogo]=d[tf.consts.paramNameTFLogo]===tf.consts.tfLogoOffStr?!1:!0;var g=tf.js.GetNonEmptyString(d[tf.consts.paramNamePanels],""),l=tf.map.GetMapEngineFrom(d[tf.consts.paramNameFMap]);d[tf.consts.paramNameTFLogo]&&(g+=tf.consts.charSplitStrings+tf.consts.paramNameTFLogo);var m=l==tf.consts.mapnik2Engine;m?delete d[tf.consts.paramNameLegend]:delete d[tf.consts.paramNameLegendH];var n=d[tf.consts.paramLinkTargetStr];
tf.urlapi.LoadRemoteParameters(d,c)}}};tf.urlapi.RemovePlugInPhotoFromLegend=function(a){var c=!1,e=tf.js.GetNonEmptyString(a,"");if(a){a=unescape(a).split(";");for(var e="",d=0;d<a.length;d++)-1!=a[d].indexOf("plugin_photo")?c=!0:e+=a[d]+";";e=tf.js.ClipEndingChar(e,";")}return{requestedPlugInPhoto:c,legendStr:e}};
tf.urlapi.BreakUrlParamString=function(a){a=tf.js.GetNonEmptyString(a);var c,e,d;if(a){var b=["#","?"],f,h;for(h in b){var k=b[h];f=a;var g=f.split(k),l="",m="",n=void 0;(n=2==g.length)?(l=g[0],m=g[1]):(l=f,m="");if((f={leftSideStr:l,rightSideStr:m,didSplit:n}).didSplit){c=k;e=f.leftSideStr;d=f.rightSideStr;break}}f.didSplit||(c="?",e=a,d="")}else c="?",d=e="";return{tag:c,urlPart:e,paramsPart:d}};
tf.urlapi.ModifyURLParamString=function(a,c,e){a=tf.js.GetNonEmptyString(a);c=tf.js.GetNonEmptyString(c);e=tf.js.GetNonEmptyString(e);a=tf.urlapi.BreakUrlParamString(a);var d=a.paramsPart;c&&(0<d.length&&"&"!=d.charAt(0)&&(d="&"+d),d=c+d);e&&(d+=e);return a.urlPart+a.tag+d};
tf.urlapi.ParseURLParameters=function(a,c){var e=tf.js.GetIsValidObject(c)?c:{};if(tf.js.GetIsNonEmptyString(a)){var d=tf.urlapi.BreakUrlParamString(a).paramsPart.split("&"),b=d.length;if(b)for(var f=0;f<b;++f){var h=d[f].indexOf("=");if(-1!=h){var k=d[f].substring(0,h).toLowerCase(),h=d[f].substring(h+1,d[f].length);e[k]=unescape(h)}}}else tf.js.GetIsValidObject(a)&&(e=tf.js.ShallowMerge(e,a));return e};
tf.urlapi.ParseURLAPIParameters=function(a,c){var e={};e[tf.consts.paramNameLat]=tf.consts.defaultLatitude;e[tf.consts.paramNameLon]=tf.consts.defaultLongitude;e[tf.consts.paramNameRes]=void 0;e[tf.consts.paramNameLevel]=tf.consts.defaultLevel;e[tf.consts.paramNamePanels]=tf.consts.defaultPanels;e[tf.consts.paramNameLegend]=tf.consts.defaultLegend;e[tf.consts.paramNameLegendH]=tf.consts.defaultLegendH;e[tf.consts.paramNameLegendM]=tf.consts.defaultLegendM;e[tf.consts.paramNameAddress]=tf.consts.defaultAddress;
e[tf.consts.paramNameVid]=tf.consts.defaultVid;e[tf.consts.paramNamePassThrough]=tf.consts.defaultTFPassThrough;e[tf.consts.paramNameTFLogo]=tf.consts.defaultTFLogoOn?tf.consts.tfLogoOnStr:tf.consts.tfLogoOffStr;e[tf.consts.paramNameType]=tf.consts.typeNameHybrid;e[tf.consts.paramNameFMap]=tf.consts.defaultFMap;e[tf.consts.paramNameSource]=tf.consts.defaultSourceName;e[tf.consts.paramNameMessageTimeout]=tf.consts.defaultMessageTimeout;e[tf.consts.paramNameHelp]=tf.consts.defaultHelp;e[tf.consts.paramNameApps]=
tf.consts.defaultApps;e[tf.consts.paramLinkTargetStr]="_top";tf.js.GetIsValidObject(c)&&(e=tf.js.ShallowMerge(e,c));var e=tf.urlapi.ParseURLParameters(a,e),d=e[tf.consts.paramNameAddress],d="string"===typeof d?d.replace(/\+/g," "):"";e[tf.consts.paramNameAddress]=d;return e};
tf.urlapi.LoadRemoteParameters=function(a,c){function e(){f&&setTimeout(function(){f()},10)}function d(c,d){a[c]=d;1<b?--b:e()}var b=0;if(tf.js.GetIsValidObject(a)){var f=tf.js.GetFunctionOrNull(c),h=[tf.consts.paramNameLegend,tf.consts.paramNameLegendH,tf.consts.paramNameLegendM],k=h.length;if(k){for(var g in h)a[h[g]]&&++b;if(b)for(g=0;g<k;g++){var l=h[g],m=a[l];m&&new tf.urlapi.URLPartsLoader(l,m,d)}else e()}else e()}};
tf.urlapi.URLPartsLoader=function(a,c,e){function d(c){if(-1!=c.indexOf(tf.consts.urlPartsSeparatorStr))for(f=c.split(tf.consts.urlPartsSeparatorStr),h=0,c=1;c<f.length;c+=2)h++,new tf.ajax.GetRequest({url:f[c],onDataLoaded:b,requestProps:c,autoSend:!0,overrideMimeType:"text/plain",useRedirect:!1});else e.call(void 0,a,c)}function b(a){if(200==a.httpRequest.status){var b=unescape(a.httpRequest.responseText);f[a.requestProps]=b.replace(/[\r\n]/g,"");if(!--h){a="";for(b=0;b<f.length;b++)a+=f[b];d(a)}}}
var f,h;this.GetInitialParam=function(){return c};d(c)};
tf.urlapi.GetDLayersInfoFromURLParameters=function(a){function c(b,c){var d;if(d=a[tf.consts.paramNameDLLegend+b]){var g=a[tf.consts.paramNameDLData+b],l=a[tf.consts.paramNameDLField+b],m=tf.js.GetBoolFromValue(a[tf.consts.paramNameDLSelect+b],!0),n=a[tf.consts.paramNameDLColor+b];n||(n=",");var p=a["dLayerMarkerStyle"+b],q=a["dLayerMarkerHoverStyle"+b];tf.js.GetIsValidObject(q)||(q=p);e.push({markerStyle:p,markerHoverStyle:q,dLayerLegend:d,dLayerData:g,dLayerField:l,dLayerSelect:m,dLayerColors:n,
dLayerIndex:c});return!0}return!1}var e=[];if(tf.js.GetIsValidObject(a)){var d=0;c("",d)&&++d;c("0",d)&&++d;for(var b=1;c(b,d);++b)++d}return e};tf.urlapi.ParseSplitStringWithSeparators=function(a){return tf.js.ParseSplitStringWithSeparators(a,tf.consts.charSplitStrings)};tf.urlapi.AddStringWithSeparators=function(a,c){return tf.js.AddStringWithSeparators(a,c,tf.consts.charSplitStrings)};tf.urlapi.AddStringsWithSeparatorsIfAbsent=function(a,c){return tf.js.AddStringsWithSeparatorsIfAbsent(a,c,tf.consts.charSplitStrings)};
tf.ui.TableRow=function(a){function c(a){(a=(p=!!a)?r:q)?k.ApplyStyleProperties(m,a):m.style.backgroundColor=p?t:v}function e(a){var c=!1;a.target&&a.isInHover&&n&&(c=n.OnHoverIntoContent(b));return c}function d(a){a=!1;n&&(a=n.OnClickContent(b));return a}var b,f,h,k,g,l,m,n,p,q,r,t,v;this.GetKeyedItem=function(){return g};this.ShowOrHide=function(a){h!=!!a&&(h=!!a,m.style.display=h?f:"none")};this.IsShowing=function(){return h};this.GetTable=function(){return n};this.ClearContent=function(){l.ClearContent()};
this.ReplaceContent=function(a){this.ClearContent();this.AppendRow(a)};this.AddContent=function(a){tf.js.GetIsNonEmptyString(a)?m.innerHTML=a:tf.dom.AddContent(a,m)};this.EnsureVisible=function(){if(n)return n.EnsureVisible(b)};this.Select=function(a,c){n&&n.SelectRow(b,a,c)};this.GetIsSelected=function(){return p};this.privateGetHTMLElement=function(){return m};this.SetSelectedStyle=function(a){return c(a)};this.OnAddToContainer=function(a){a instanceof tf.ui.Table&&(n=a)};this.OnRemoveFromContainer=
function(){n=null};b=this;(function(){a=tf.js.GetValidObjectFrom(a);k=tf.GetStyles();g=a.keyedItem;var n=k.GetSubStyles();t=n.containerDarkSelBackgroundColor;v=n.containerDarkBackgroundColor;q=a.style;r=a.selectedStyle;l=new tf.dom.Div({cssClass:k.listContentClass});m=l.GetHTMLElement();f="block";new tf.events.DOMHoverListener({target:l,callBack:e,optionalScope:b,callBackSettings:null});new tf.events.DOMClickListener({target:l,callBack:d,optionalScope:b,callBackSettings:null});h=!0;p=!1;c(!1)})()};
tf.ui.Table=function(a){function c(a){if(a&&a instanceof tf.ui.TableRow&&a.GetTable()==f&&(a=a.privateGetHTMLElement())){var b=k.parentNode;b&&(b.scrollTop=a.offsetTop-b.offsetTop)}}function e(){p&&(p.SetSelectedStyle(!1),p=null)}function d(a,b){l&&l.call(g,{sender:f,selected:p,prevSelected:a,isClick:!!b,keyedTable:r})}function b(a,b,g,h){if(a&&a instanceof tf.ui.TableRow&&a.GetTable()==f){var k=p;a!=k&&(e(),p=a,p.SetSelectedStyle(!0));b&&c(a);g||d(k,h)}}var f,h,k,g,l,m,n,p,q,r;this.GetKeyedTable=
function(){return r};this.GetSelectOnHover=function(){return q};this.SetSelectOnHover=function(a){q=!!a};this.AppendRow=function(a){a&&a instanceof tf.ui.TableRow&&(a.OnAddToContainer(f),h.AddContent(a.privateGetHTMLElement()),m.push(a),++n)};this.InsertRowBefore=function(a,b){a&&a instanceof tf.ui.TableRow&&b&&b instanceof tf.ui.TableRow&&b.GetTable()==f&&(a.OnAddToContainer(f),h.InsertContentBefore(a.privateGetHTMLElement(),b),m.push(a),++n)};this.InsertRowAfter=function(a,b){a&&a instanceof tf.ui.TableRow&&
b&&b instanceof tf.ui.TableRow&&b.GetTable()==f&&(a.OnAddToContainer(f),h.InsertContentAfter(a.privateGetHTMLElement(),b),m.push(a),++n)};this.DelRow=function(a){if(a&&a instanceof tf.ui.TableRow&&a.GetTable()==f){var c=m.indexOf(a);k.removeChild(a.privateGetHTMLElement());a.OnRemoveFromContainer();-1!=c&&m.splice(c,1);--n;a==b&&(c=-1!=c&&0<n?c<n?c:c-1:-1,-1==c?(e(),d(a,!1)):b(m[c],!0,!1,!1))}};this.Clear=function(){n=m.length;for(var a=0;a<n;++a)m[a].OnRemoveFromContainer();m=[];h.ClearContent();
p=null;n=0};this.GetRow=function(a){return m&&0<n?m[a]:void 0};this.GetRowCount=function(){return n};this.SelectRow=function(a,c,d){return b(a,c,d)};this.GetSelectedRow=function(){return p};this.UnselectRow=function(){return e()};this.EnsureVisible=function(a){return c(a)};this.EnsureSelectedContentVisible=function(){return this.EnsureVisible(this.GetSelectedRow())};this.OnHoverIntoContent=function(a){q&&b(a,!1,!1,!1)};this.OnClickContent=function(a){b(a,!1,!1,!0);return!0};this.Sort=function(a){var b=
!0;if(tf.js.GetFunctionOrNull(a)){var c=m.length;if(0<c){var d=m.slice(0);m.sort(a);for(a=0;a<c&&b;++a)b=d[a]==m[a]}}if(!b&&k){c=(b=k.parentNode)?b.scrollTop:0;h.ClearContent();for(var e in m)h.AddContent(m[e].privateGetHTMLElement());b&&(b.scrollTop=c)}};f=this;(function(){var b=tf.GetStyles();m=[];n=0;p=null;l=tf.js.GetFunctionOrNull(a.onSelect);g=a.optionalScope;q=!!a.selectOnHover;h=new tf.dom.Div({cssClass:tf.GetStyles().unPaddedBlockDivClass});k=h.GetHTMLElement();r=a.keyedTable;tf.js.GetIsValidObject(a.style)&&
b.ApplyStyleProperties(k,a.style);tf.dom.Insertable.call(f,{domObj:f,domElement:k})})()};tf.js.InheritFrom(tf.ui.Table,tf.dom.Insertable);
tf.ui.KeyedTable=function(a){function c(){void 0!=v&&(w&&w({sender:g}),l.Sort(v),A&&A({sender:g}))}function e(b){b=b.items;for(var d in b){var e=b[d],f=tf.js.GetObjProperty(e,r),h;if(f)f.ClearContent();else{var k=f=new tf.ui.TableRow(tf.js.ShallowMerge(a.rowSettings,{keyedItem:e}));tf.js.SetObjProperty(e,r,k);k&&l.AppendRow(k)}p&&(k=p.call(q,{sender:g,keyedItem:e,properties:t}),tf.js.GetIsValidObject(k)&&(h=k.content));h?f.AddContent(h):f.privateGetHTMLElement().innerHTML=e.GetKey()}c()}function d(a,
b){n&&n.call(q,{sender:g,eventName:b,properties:t,keyedListNotification:a})}function b(a){e(a);d(a,tf.consts.keyedTableRowsAddedEvent)}function f(a){e(a);d(a,tf.consts.keyedTableRowsUpdatedEvent)}function h(a){var b=a.items,c;for(c in b){var e=b[c],g=tf.js.GetObjProperty(e,r);g&&(l.DelRow(g),tf.js.SetObjProperty(e,r,null))}d(a,tf.consts.keyedTableRowsDeletedEvent)}function k(a){tf.js.GetIsInstanceOf(a,tf.js.KeyedList)&&(l.Clear(),m=a,a={},a[tf.consts.keyedListDeleteEvent]=h,a[tf.consts.keyedListAddedItemsEvent]=
b,a[tf.consts.keyedListUpdatedItemsEvent]=f,a[tf.consts.keyedListDeletedItemsEvent]=h,m.AddListeners(a),m.NotifyItemsAdded(e))}var g,l,m,n,p,q,r,t,v,w,A;this.SetSort=function(a){v!=a&&(v=tf.js.GetFunctionOrNull(a))&&c()};this.GetTable=function(){return l};this.GetProperties=function(){return t};this.GetKeyedList=function(){return m};this.GetPropertyName=function(){return r};this.GetRowFromKeyedItem=function(a){return tf.js.GetObjProperty(a,r)};this.ScrollTo=function(a){(a=g.GetRowFromKeyedItem(a))&&
a.Select(!0,!0)};this.SetKeyedList=function(a){return k(a)};g=this;a=tf.js.GetValidObjectFrom(a);l=new tf.ui.Table(tf.js.ShallowMerge(a.tableSettings,{keyedTable:g}));p=tf.js.GetFunctionOrNull(a.getRowContent);w=tf.js.GetFunctionOrNull(a.onPreSort);A=tf.js.GetFunctionOrNull(a.onSorted);q=a.optionalScope;n=tf.js.GetFunctionOrNull(a.onContentChange);r=tf.js.GetNonEmptyString(a.propertyName,tf.consts.TableRowProperty);t=tf.js.GetIsValidObject(a.properties)?a.properties:{};k(a.keyedList);tf.dom.Insertable.call(g,
{domObj:g,domElement:l})};tf.js.InheritFrom(tf.ui.KeyedTable,tf.dom.Insertable);tf.urlapi.CreateInfoWindowLink=function(a,c,e,d,b){var f=null;a&&(f=new tf.dom.Link({href:a,label:c,tooltip:e,target:d,cssClass:b}));return f};tf.urlapi.CreateInfoWindowImg=function(a){var c=null;a&&(c=new tf.dom.Img({src:a}));return c};tf.urlapi.CreateInfoWindowSpan=function(a){var c=null;a&&(c=new tf.dom.Span,c.AddContent(a));return c};
tf.urlapi.BuildDLayerFeatureInfoWindow=function(a,c){var e=new tf.dom.Div({cssClass:tf.GetStyles().dLayerInfoClass}),d,b=tf.js.GetIsNonEmptyString(c)?c:"_top";(d=tf.urlapi.CreateInfoWindowLink(a.Display_Link_Detail,"Detail","View Detail Report",b))&&e.AddContent(d);(d=tf.urlapi.CreateInfoWindowLink(a.Display_Link_Report_Recentered,"Nearby","View Nearby Report",b))&&e.AddContent(d);(d=tf.urlapi.CreateInfoWindowLink(a.Display_Link_Location,"Location","View Location Report",b))&&e.AddContent(d);(d=tf.urlapi.CreateInfoWindowLink(a.Display_Link_Pro,
"Pro","Professional detail report for realtors only",b))&&e.AddContent(d);(d=tf.urlapi.CreateInfoWindowSpan(a.Display_Summary_Short_Text))&&e.AddContent(d);if(a.Display_Thumbnail)if(d=tf.urlapi.CreateInfoWindowLink(a.Display_Link_Detail,"","View Detail Report",b)){if(b=tf.urlapi.CreateInfoWindowImg(a.Display_Thumbnail))b.AppendTo(d),e.AddContent(d)}else(d=tf.urlapi.CreateInfoWindowImg(a.Display_Thumbnail))&&e.AddContent(d);(d=tf.urlapi.CreateInfoWindowSpan(a.Display_Summary_Longer_Text))?e.AddContent(d):
(d=tf.urlapi.CreateInfoWindowSpan(a.Display_Summary_Midsize_Text))&&e.AddContent(d);(d=a.Display_Label)&&1<d.length&&(a.popupTitle=d);a.infoWindowContent=e};
tf.urlapi.ShowdLayerInfoWindow=function(a){var c=tf.js.GetObjProperty(a,tf.consts.DLayerProperty);if(c){var e=c.properties.infoWindowContent;e||(tf.urlapi.BuildDLayerFeatureInfoWindow(c.properties,c.linkTargetStr),e=c.properties.infoWindowContent);if(e){var d=tf.js.GetMapFrom(c.map);if(d){var b=tf.js.GetNonEmptyString(c.label);a=tf.js.GetFunctionOrNull(a.GetPointCoords)?a.GetPointCoords():[0,0];tf.js.GetIsNonEmptyString(c.properties.popupTitle)&&(b=c.properties.popupTitle);d.ShowInfoPopup(b,e,a)}}}};
tf.urlapi.DLayer=function(a){function c(a){a=tf.js.GetFloatNumberInRange(a,0,1,1);R!=a&&(R=a,F&&F.SetOpacity(R))}function e(a){var b;if(tf.js.GetIsValidObject(a))for(var c in a){var d=a[c];tf.js.GetHasGeoJSONGeometryProperties(d)&&(b||(b=[]),b.push(new tf.map.Feature(d)))}return b}function d(a){var b=[];if(!F){var c;c=tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(a.title)?a.title:"Map layer: "+E;F=B.AddFeatureLayer({name:E,description:c,isVisible:G,isHidden:!1,color:ka,zIndex:H,opacity:R})}ja&&
ja(a,u);if(tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyArray(a.features)&&tf.js.GetHasGeoJSONGeometryProperties(a.features[0].geometry)){b=a.properties;tf.js.GetIsValidObject(b)&&tf.js.GetIsValidObject(b.markerStyle)&&(V=b.markerStyle,U=tf.js.GetIsValidObject(b.markerHoverStyle)?b.markerHoverStyle:V,la=!0);b=a["category id"];tf.js.GetIsNonEmptyString(b)&&(b=b.toLowerCase(),"geoimages"==b?(V=[{zindex:1,round_rect:!0,round_rect_width:50,round_rect_height:40,round_rect_radius:5,fill:!0,fill_color:"#ebebeb",
fill_alpha:100,line:!0,line_color:"#000",line_width:2},{zindex:1,scale:1,icon:!0,icon_url:"$[L]"}],U=[{zindex:2,round_rect:!0,round_rect_width:64,round_rect_height:52,round_rect_radius:10,fill:!0,fill_color:"#ebebeb",fill_alpha:100,line:!0,line_color:"#00a",line_width:3},{zindex:2,scale:1.2,icon:!0,icon_url:"$[L]"}],la=!0):"alta"==b&&(b={rotate_with_map:!1},T=tf.js.ShallowMerge(T,b),aa=tf.js.ShallowMerge(aa,b)));var b=a.features,d;for(d in b)c=b[d],c.properties=tf.urlapi.NormalizeJSONProperties(c.properties),
ra&&ra(c.properties),c.properties.hoverFeatures=e(c.properties.hoverFeatureSpecs),c.properties.additionalFeatures=e(c.properties.additionalFeatureSpecs);Q||(a=a.features[0].properties[K],tf.js.GetIsNonEmptyString(a)&&(a.trim().toLowerCase().substring(0,7),Q=new tf.map.KeyedFeatureList({featureStyleSettings:{style:p,hoverStyle:q},getGeometryFromData:A,propertyName:tf.consts.KeyedFeatureFromDLayer,onCreated:void 0,keyedList:N,layerName:E}),Q.AddListener(tf.consts.keyedFeaturesAddedEvent,l),Q.AddListener(tf.consts.keyedFeaturesDeletedEvent,
m),r(B)))}return b}function b(a){var b=tf.js.GetObjProperty(a.mapFeature,tf.consts.DLayerProperty);b&&b.dLayer==u&&(ca&&tf.browser.HasTouch()?tf.urlapi.ShowdLayerInfoWindow(a.mapFeature):b.windowOpen&&window.open(b.windowOpen,"_blank"))}function f(a){if(tf.js.GetIsValidObject(a))for(var b in a)F.AddMapFeature(a[b])}function h(a){var b=tf.js.GetObjProperty(a.mapFeature,tf.consts.DLayerProperty);if(b&&b.dLayer==u){for(var c in X)F.DelMapFeature(X[c]);X=[];a.isInHover?(f(X=b.properties.hoverFeatures),
F.SetZIndex(J),ca&&tf.urlapi.ShowdLayerInfoWindow(a.mapFeature)):F.SetZIndex(H)}}function k(){var b=a.dLayerList.GetRefreshOnResChange();b&&a.dLayerList.SetRefreshOnResChange(!1);ea&&B.SetVisibleExtent(ea);b&&setTimeout(function(){a.dLayerList.SetRefreshOnResChange(!0)},1E3)}function g(){if(ea){var b=B.GetVisibleExtent(),b=tf.js.MergeMapExtents(b,ea),c=a.dLayerList.GetRefreshOnResChange();c&&a.dLayerList.SetRefreshOnResChange(!1);B.SetVisibleExtent(b);c&&setTimeout(function(){a.dLayerList.SetRefreshOnResChange(!0)},
1E3)}}function l(a){ea=null;var b=0,c;for(c in a.items){var d=a.items[c],e=Q.GetFeatureFromItem(d).GetMapFeature(),d=d.GetData().properties,h=e.GetPointCoords();b<va&&(ea=ea?tf.js.UpdateMapExtent(ea,h):[h[0],h[1],h[0],h[1]],b++);e.GetLayer=function(){return F};tf.js.SetObjProperty(e,tf.consts.DLayerProperty,{properties:d,label:E,map:B,dLayer:u,linkTargetStr:sa});f(d.additionalFeatures)}B.ShowSomeKeyedFeatures(Q,a.keys,!0);b&&(va=0,g())}function m(a){B.ShowSomeKeyedFeatures(Q,a.keys,!1)}function n(a,
b){var c,d=a?a.GetKeyedItem():null;if(d){var e=d.GetData().properties;if(la)if(d=b?U:V,tf.js.GetIsNonEmptyArray(d)){c=[];for(var g in d)c.push(tf.js.ReplaceObjectWithValues(tf.js.ShallowMerge(d[g]),e))}else c=tf.js.ShallowMerge(d),c=tf.js.ReplaceObjectWithValues(c,e);else c=e[K],"http://"==c.trim().toLowerCase().substring(0,7)?(g={icon_url:c},c=b?tf.js.ShallowMerge(aa,g):tf.js.ShallowMerge(T,g)):(d=b?ia:ba,g={label:c},tf.js.GetIsNonEmptyArray(d)?(c=d.slice(0),c[0]=tf.js.ShallowMerge(c[0],g)):c=tf.js.ShallowMerge(d,
g))}return c}function p(a){return n(a,!1)}function q(a){return n(a,!0)}function r(a){if(a=tf.js.GetMapFrom(a))ya||(ya=[]),ya.push({hover:a.AddListener(tf.consts.mapFeatureHoverInOutEvent,h),click:a.AddListener(tf.consts.mapFeatureClickEvent,b)})}function t(){if(B)if(-1==D.toLowerCase().indexOf(".txt")){B.GetLevel();var a=B.GetCenter();M=D+"&x1="+a.Longitude+"&y1="+a.Latitude+"&cres="+B.GetResolution()+"&timestamp="+(new Date).getTime()}else M=D}function v(a){return!1}function w(a){return a.properties.Display_Link_Detail}
function A(a){return a.geometry}var u=null,C=/filetype=.xml/,B,F,E,D,K,G,L,H,I,J,N,M,P,Q,R,S,T,aa,ba,ia,V,U,ha,Y,ka,qa,la,ra,ja,X,ya,va,ea,ca,sa;this.GetDisplayFieldName=function(){return K};this.GetMarkerStyleSpecs=function(){return{textMarkerBaseStyle:ba,textMarkerBaseHoverStyle:ia,imgMarkerBaseStyle:T,imgMarkerBaseHoverStyle:aa}};this.GetFeaturesExtent=function(){return ea?ea.slice(0):[]};this.CalcExtent=function(a){ea=null;if(Q){var b=Q.GetFeatures();a=tf.js.GetIntNumberInRange(a,0,b.length,b.length);
if(0<a)for(var c=0;c<a;++c){var d=b[c].GetPointCoords();ea=ea?tf.js.UpdateMapExtent(ea,d):[d[0],d[1],d[0],d[1]]}}};this.SetExtent=function(){return k()};this.MergeExtent=function(){return g()};this.AddListenersToMap=function(a){return r(a)};this.GetShowsInfoWindow=function(){return ca};this.SetShowsInfoWindow=function(a){ca=!!a};this.GetIndex=function(){return I};this.GetDLayerList=function(){return a.dLayerList};this.GetMap=function(){return B};this.GetFeatureLayer=function(){return F};this.GetName=
function(){return E};this.RemoveAll=function(){N&&N.RemoveAllItems()};this.Refresh=function(){N.RemoveAllItems();F&&F.RemoveAllFeatures();t();P.RefreshNow()};this.GetIsRefreshing=function(){return P.GetIsRefreshing()};this.SetOpacity=function(a){return c(a)};this.CreateKeyedTable=function(a){return new tf.ui.KeyedTable(tf.js.ShallowMerge(a,{keyedList:N}))};this.GetFeatureList=function(){return Q};this.GetDLayerFeatureProps=function(a){return tf.js.GetObjProperty(a,tf.consts.DLayerProperty)};this.GetZIndex=
function(){return H};this.SetZIndex=function(a){H=a;F&&F.SetZIndex(H)};u=this;(function(){tf.js.GetIsValidObject(a)&&(ca=!0,ra=tf.js.GetFunctionOrNull(a.preProcessDataItem),ja=tf.js.GetFunctionOrNull(a.preProcessServiceData),E=a.dLayerLegend,B=a.map,D=a.dLayerData?unescape(a.dLayerData):"",K=a.dLayerField?a.dLayerField:"L",G="string"===typeof a.dLayerSelect?"false"!=a.dLayerSelect.toLowerCase():!!a.dLayerSelect,L=a.dLayerColors.split(","),H=a.zIndex,J=a.topZIndex,I=a.dLayerIndex,va=tf.js.GetIntNumberInRange(a.nDLayerExtent,
0,999,0),c(a.opacity),ha="#ffb27f #7fe5ff #ffe57f #7fb2ff #e6ff7f #807fff #b3ff7f #b37fff #80ff7f #e67fff #7fffb2 #ff7fe5 #7fffe5 #ff7fb2".split(" "),Y=ha.length,ka=0<L[0].length?L[0]:ha[I%Y],qa=0<L[1].length?L[1]:"#000",D=D.replace(C,"filetype=.json"),t(),sa=a.linkTargetStr,tf.js.GetIsValidObject(a.markerStyle)&&(V=a.markerStyle,U=tf.js.GetIsValidObject(a.markerHoverStyle)?a.markerHoverStyle:V,la=!0),T={icon:!0,icon_anchor:[.5,.5],scale:1,zindex:1},aa=tf.js.ShallowMerge(T,{scale:1.5,zindex:2}),S=
tf.GetStyles().GetSubStyles().markerFontSizePXNumber,ba={marker:!0,font_height:S,border_color:"#000",border_width:2,zindex:1,line_color:"#fff",marker_arrowlength:12,line_opacity:60,line_width:2,marker_color:ka,font_color:qa,marker_opacity:85,border_opacity:60},ia=tf.js.ShallowMerge(ba,{font_height:S+1,zindex:2,border_color:"#000",border_width:3,marker_arrowlength:8}),N=(P=new tf.js.KeyedListsPeriodicRefresh({onCreated:a.onCreated,retryOnFail:!1,serviceURL:function(){return M},preProcessServiceData:d,
useRedirect:!1,refreshCallback:a.refreshCallback,refreshMillis:0,refreshOnCreate:!0,keyedLists:[{name:E,keepNotUpdated:!0,getKeyFromItemData:w,needsUpdateItemData:v}]})).GetKeyedList(E))})()};
tf.urlapi.DLayerList=function(a){function c(c,k){var m=d.length,n=tf.js.ShallowMerge(c,{indexInDLayers:m,dLayerList:e,map:f,zIndex:k,topZIndex:b,opacity:a.opacity,preProcessDataItem:a.preProcessDataItem,preProcessServiceData:a.preProcessServiceData,linkTargetStr:a.linkTargetStr});0==m&&(n.nDLayerExtent=h);m=new tf.urlapi.DLayer(n);d.push(m)}var e,d,b,f,h,k;this.AddListenersToMap=function(a){for(var b in d)d[b].AddListenersToMap(a)};this.SetRefreshOnResChange=function(a){k=!!a};this.GetRefreshOnResChange=
function(){return k};this.GetTopZIndex=function(){return b};this.MoveToTopZIndex=function(a){if(tf.js.GetIsInstanceOf(a,tf.urlapi.DLayer)&&a.GetDLayerList()==e){var c=a.GetZIndex(),f;for(f in d){var h=d[f];if(h!=a){var k=h.GetZIndex();k>c&&h.SetZIndex(k-1)}}a.SetZIndex(b-1)}};this.SetAllOpacity=function(a){for(var b in d)d[b].SetOpacity(a)};this.RemoveAll=function(){for(var a in d)d[a].RemoveAll()};this.RefreshAll=function(){for(var a in d)d[a].Refresh()};this.SetShowsInfoWindow=function(a){for(var b in d)d[b].SetShowsInfoWindow(a)};
this.Get=function(a){return d&&0<=a&&a<d.length?d[a]:null};this.GetCount=function(){return d.length};e=this;(function(){a=tf.js.GetValidObjectFrom(a);h=tf.js.GetIntNumberInRange(a.nDLayerExtent,0,999,0);if(f=tf.js.GetMapFrom(a.map)){var g=tf.js.GetIsNonEmptyArray(a.dLayersInfo)?a.dLayersInfo:[],l=b=g.length+10;d=[];k=void 0!=a.refreshOnResChange?!!a.refreshOnResChange:!0;for(var m in g)c(g[m],--l);f.AddListener(tf.consts.mapResolutionChangeEvent,function(a){k&&e.RefreshAll()})}})()};
tf.ui.HorSplitter=function(a,c,e,d,b){function f(){n&&(g.ReleaseCapture(),tf.GetDebug().LogIfTest("Splitter Stop"),n=!1)}function h(a,c,e,u,C,B){tf.GetDebug().LogIfTest("needs adjust parameters");if(n)"mouseup"==u||"touchend"==u||"touchcancel"==u?f():u!=p&&n&&(tf.GetDebug().LogIfTest("Splitter Drag: "+u),a=e.screenY-t,c=r-a,l.style.height=q+a+"px",m.style.height=c+"px",d&&d.call(b,k));else if("mousedown"==u||"touchstart"==u)tf.GetDebug().LogIfTest("Splitter Start"),f(),g.SetCapture(h,k,null),n=!0,
q=l.offsetHeight,r=m.offsetHeight,t=e.screenY;return n}var k=null,g=tf.GetDocMouseListener(),l=null,m=null,n=!1,p=g.GetReleaseEventName();this.GetIsDragging=function(){return n};var q=null,r=null,t=null,k=this;d="function"===typeof d?d:null;a=a.GetHTMLElement();l=c.GetHTMLElement();m=e.GetHTMLElement();new tf.events.DOMMouseListener({target:a,callBack:h,optionalScope:k,callBackSettings:void 0})};
tf.map.Map=function(a){function c(a,b,c){return b?dd.call(ga,a,b,c):a}function e(a){var b;a?(b=ud?ud(a):a.slice(0))||(b=a):b=[0,0];return b}function d(a){var b;a?(b=ed?ed(a):a.slice(0))||(b=a):b=[0,0];return b}function b(a){return tf.js.GetIsInstanceOf(a,tf.map.KeyedFeature)?h(a.GetLayerName()):null}function f(a){return tf.js.GetIsInstanceOf(a,tf.map.KeyedFeatureList)?h(a.GetLayerName()):null}function h(a){return Gc[a]}function k(a,b){ic=a&&"string"==typeof a&&0<a.length?a:null;vd=tf.js.GetFloatNumberInRange(b,
0,1,1);U()}function g(a,b){a&&(fd.push(a),a.SetZIndex(jc++),a.SetOnClickTitle(function(){if(a.IsShowing()){var b=!0;a==Za?D(Za)&&(Hc?(Fa(),a.ShowTitleColorInfo(!0)):Ra()):a==Ma?Ha():a==Ia&&(b=!1);b&&a.IsShowing()&&l(a)}},b))}function l(a){if(a&&a.GetZIndex()<jc-1){var b=fd.length,c=b+jc;a.SetZIndex(c);jc=c+1;if(c>re+b){for(a=0;a<b;a++)c=fd[a].GetZIndex()-wd,fd[a].SetZIndex(c);jc=wd+b}}}function m(b){yb=tf.dom.GetHTMLElementFrom(b);gd=new tf.dom.Div({cssClass:oa.mapContainerClass});xd=new tf.dom.Div({cssClass:oa.mapSubContainerClass});
hd=new tf.dom.Div({cssClass:oa.GetUnPaddedDivClassNames(!1,!1)});Sa=hd.GetHTMLElement();Sa.style.backgroundColor="rgba(255, 0, 0, 0.6)";Na=gd.GetHTMLElement();yd=xd.GetHTMLElement();new tf.events.DOMMouseEnterLeaveListener({target:yb,callBack:function(a){yb==a.event.target&&(a.isInHover||yb.contains(document.activeElement)||Ub());return!0},optionalScope:W,callBackSettings:null});xd.AppendTo(Na);hd.AppendTo(Na);wd=jc=201;if(!a.noNativeControls){b=2*zd.locationPopupContentFontSizeEmNumber;kc=new tf.dom.Div({cssClass:oa.dLayerInfoClass});
var c=kc.GetHTMLElement().style;c.textAlign="center";c.display="inline";b=oa.AddButtonDivRightMargin(new tf.ui.SvgGlyphBtn({style:oa.mapSvgGlyphInPopupClass,glyph:tf.styles.SvgGlyphCloseXName,onClick:kb,tooltip:tf.consts.mapLocationPopupHideTip,dim:b+"em"}));b.GetHTMLElement().style.display="inline-block";id=new tf.dom.Div({cssClass:oa.unPaddedInlineBlockDivClass});id.AddContent(b);id.AddContent(kc)}yb&&gd.AppendTo(yb)}function n(a){Pa&&Pa.UpdateLayerVisibilityFromMap()}function p(a,b){a&&(a.exportSetDeleteCmdCallBack=
b)}function q(a,b){var c=null,d=tf.js.ShallowMerge(a),e=!0,f=null;tf.js.GetIsNonEmptyString(d.name)&&((e=!h(f=d.name))||tf.GetDebug().LogIfTest("tf.map.Map: adding layer with duplicate name: "+f));e&&(d=tf.js.ShallowMerge(d,{map:W,olMap:Z,notifyDelFeatures:Ic,notifyVisibilityChange:n,setDeleteCmdCallBack:p}),c=b?new TLayer(d):void 0==d.overrideClass?new tf.map.FeatureLayer(d):new d.overrideClass(d),f&&(Gc[f]=c),c.GetIsHidden()?Ud.push(c):(jd.push(c),Pa&&Pa.RefreshContent()));return c}function r(){var a=
tf.units.OL2TM(ga.getCenter());a.Longitude=a[0];a.Latitude=a[1];return a}function t(a,b){var c=d(A(a)),e=d(A(b)),f=c[0]-e[0],c=c[1]-e[1];return Math.sqrt(f*f+c*c)}function v(a){return t(r(),a)}function w(a){a=Z.getCoordinateFromPixel(a);return a=tf.js.GetIsArrayWithMinLength(a,2)?tf.units.OL2TM(a):[0,0]}function A(a){a=Z.getPixelFromCoordinate(tf.units.TM2OL(a));tf.js.GetIsArrayWithMinLength(a,2)||(a=[0,0]);return a}function u(){var a=Na.clientWidth,b=Na.clientHeight;if(Vd!=a||Wd!=b)Z.setSize([Vd=
a,Wd=b]),Z.updateSize()}function C(a,b){if(tf.js.GetIsNonEmptyString(a)){var c=a.toLowerCase(),d=na[c];d||ja(c);if(d&&!!b!=d.isOn)if(d.isOn=!d.isOn){if(d.control)switch(Z.addControl(d.control),c){case tf.consts.panelNameOverview:Xd||(Yd=0,sa());break;case tf.consts.panelNameAddress:void 0!==Ad&&1!=Ad||H();break;case tf.consts.panelNameMapLocation:zb&&zb.SetListenToMoveEnd(Eb),void 0!==Bd&&1!=Bd||mb()}}else switch(Z.removeControl(d.control),c){case tf.consts.panelNameAddress:Ad=D(ab);G(ab);break;case tf.consts.panelNameMapLocation:Bd=
Ia?Ia.IsShowing():!1,pb(),zb&&zb.SetListenToMoveEnd(!1)}}}function B(a){var b=!1;tf.js.GetIsNonEmptyString(a)&&(a=na[a.toLowerCase()])&&(b=a.isOn);return b}function F(a){if(tf.js.GetIsNonEmptyString(a)){a=a.split(tf.consts.charSplitStrings);for(var b=a.length,c=[],d=tf.consts.allPanelNames,e=d.length,f=!0,g=!0,h=!0,k=!0,l=!0,m=0;m<b;++m){var n=a[m].toLowerCase();if(n==tf.consts.panelNameNoAddress)f=!1;else if(n==tf.consts.panelNameNoMapLocation)g=!1;else if(n==tf.consts.panelNameNoMapRotate)k=!1;
else if(n==tf.consts.panelNameNoMapScale)h=!1;else if(n==tf.consts.panelNameNoUserLocation)l=!1;else for(var p=0;p<e;++p)if(d[p]==n){c[p]=!0;C(n,!0);break}}for(p=0;p<e;++p)c[p]||C(d[p],!1);C(tf.consts.panelNameAddress,f);C(tf.consts.panelNameMapLocation,g);C(tf.consts.panelNameMapRotate,k);C(tf.consts.panelNameMapScale,h);C(tf.consts.panelNameUserLocation,l)}}function E(a,b){var c=tf.js.GetNonEmptyString(a,""),d=tf.js.GetNonEmptyString(b,""),c=new tf.map.aux.LegendDecoder(c),d=Jc?new tf.map.aux.LegendDecoder(d):
null;bb&&(bb.SetLegend(c,d),Pa&&Pa.RefreshContent())}function D(a){return!!a&&a.IsShowing()}function K(a){a&&(M(),a&&(M(),a.Show(!0)))}function G(a){a&&a.Show(!1)}function L(){K(Vb)}function H(){K(ab)}function I(){0<jd.length?K(Pa):N()}function J(){K(Wb)}function N(){bb&&bb.GetHasLegend()&&K(bb)}function M(){G(Vb);G(Pa);G(Wb);G(bb)}function P(a){da(a,!1)}function Q(a){pa(a,!1)}function R(){Wa()}function S(){}function T(){Ra()}function aa(){return bb?bb.GetHasLegend():!1}function ba(a){var b=ic,b=
b.replace("{x}",a[1].toString()),b=b.replace("{y}",(-a[2]-1).toString());return b=b.replace("{z}",a[0].toString())}function ia(a,b,c){b=void 0;ic?b=ba(a):(c=sb==tf.consts.typeNameHybrid,b=["163","167","170","246"],a=".cs.fiu.edu/cache_mapnik/Default.aspx?TargetImageType=png&style=BT&Composite="+(c?Cd:Dd)+("&projType=merc&type="+(c?"HYBRID":"MAP")+"&x="+a[1]+"&y="+(-a[2]-1)+"&z="+a[0]),Fb==b.length&&(Fb=0),b="http://terranode-"+b[Fb++]+a);return b}function V(a,b,c){b=void 0;ic?b=ba(a):(b=sb==tf.consts.typeNameHybrid,
c="&layers="+(b?Ed:Fd),a="&x="+a[1]+"&y="+(-a[2]-1)+"&z="+a[0],Fb>=lc.length&&(Fb=0),b="http://131.94.133."+lc[Fb++]+("/TileService/"+(b?"vmix":"vector")+".aspx?projection=bing&styleset=")+(b?"hybrid":"map")+c+a);return b}function U(){if(Kc){var a=sb==tf.consts.typeNameHybrid;ic&&(mc.setOpacity(a?vd:1),nc.setOpacity(a?1-vd:1))}}function ha(){mc&&(Kc=new ol.source.XYZ({tileUrlFunction:Gd,crossOrigin:"anonymous"}),mc.setSource(Kc))}function Y(){ic||ha()}function ka(a,b){Jc?(Ed=bb.GetHasLegendH()?a:
tf.js.GetNonEmptyString(a,"osm_water,osm_buildings,osm_roads,osm_road_names,osm_place_names"),Fd=bb.GetHasLegendM()?b:tf.js.GetNonEmptyString(b,"osm_land,osm_landuse,osm_water,osm_buildings,osm_roads,osm_road_names,osm_place_names")):(Cd=a,Dd=b);U()}function qa(){Lc=!Lc;la();Aa(tf.consts.mapToggleScaleUnitEvent)}function la(){Mc&&Mc.setUnits(Lc?"us":"metric")}function ra(){var b=tf.dom.GetHTMLElementFrom(a.scaleElemTarget);b||(b=Sa);Mc=new ol.control.ScaleLine({target:b});na[tf.consts.panelNameMapScale]=
{control:Mc,isOn:!1};Mc.element.addEventListener("click",function(){qa()});la()}function ja(a){var b;switch(a){case tf.consts.panelNameAddress:b=new tf.map.ui.CustomControl(W,oa.mapAddressButtonClass,"A",H,{tipLabel:tf.consts.addressBarName,imageLabel:new tf.ui.SvgGlyphBtn({style:oa.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphMagnifyingLensName,dim:Ob,noChangeOnHover:!0}),target:Sa});break;case tf.consts.panelNameZoom:b=new ol.control.Zoom({zoomInLabel:tf.map.ui.CreateMapButtonTextSpan("+"),
zoomOutLabel:tf.map.ui.CreateMapButtonTextSpan("-"),target:Sa});break;case tf.consts.panelNameLayers:b=new tf.map.ui.CustomControl(W,oa.mapLayersButtonClass,"L",I,{tipLabel:tf.consts.mapLayersName,imageLabel:new tf.ui.SvgGlyphBtn({style:oa.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphMapLayersName,dim:Ob,noChangeOnHover:!0}),target:Sa});break;case tf.consts.panelNameType:b=new tf.map.ui.CustomControl(W,oa.mapTypeButtonClass,"T",L,{tipLabel:tf.consts.mapTypesName,imageLabel:new tf.ui.SvgGlyphBtn({style:oa.mapSvgGlyphInButtonClass,
glyph:tf.styles.SvgGlyphEarthName,dim:Ob,noChangeOnHover:!0}),target:Sa});break;case tf.consts.panelNameMeasure:b=new tf.map.ui.CustomControl(W,oa.mapMeasureButtonClass,"M",za,{tipLabel:tf.consts.mapMeasureName,imageLabel:new tf.ui.SvgGlyphBtn({style:oa.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphMeasuringTapeName,dim:Ob,noChangeOnHover:!0}),target:Sa})}void 0!=b&&(na[a]={control:b,isOn:!1})}function X(b,c){if(b){var d=[tf.consts.panelNameAddress,tf.consts.panelNameZoom,tf.consts.panelNameLayers,
tf.consts.panelNameType,tf.consts.panelNameMeasure],e;for(e in d)ja(d[e]);na[tf.consts.panelNameDownload]={control:new tf.map.ui.CustomControl(W,oa.mapDownloadButtonClass,"D",oc,{tipLabel:tf.consts.mapDownloadName,imageLabel:new tf.ui.SvgGlyphBtn({style:oa.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphDownloadName,dim:Ob,noChangeOnHover:!0}),target:Sa}),isOn:!1};na[tf.consts.panelNameSource]={control:new tf.map.ui.CustomControl(W,oa.mapSourceButtonClass,"S",J,{tipLabel:tf.consts.mapSourcesName,
target:Sa}),isOn:!1};na[tf.consts.panelNameFullscreen]={control:new tf.map.ui.CustomControl(W,oa.mapFullScreenButtonClass,oa.GetUnicodeDoubleHorArrow(),Xb,{tipLabel:tf.consts.fullScreenToolTipNormal,target:Sa}),isOn:!1};na[tf.consts.panelNameMapLocation]={control:new tf.map.ui.CustomControl(W,oa.mapLocationButtonClass,"C",xb,{tipLabel:Eb?tf.consts.mapLocationHideTip:tf.consts.mapLocationShowTip,imageLabel:new tf.ui.SvgGlyphBtn({style:oa.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphBullsEye2Name,
dim:Ob,noChangeOnHover:!0}),target:Sa}),isOn:!1};navigator.geolocation&&(na[tf.consts.panelNameUserLocation]={control:new tf.map.ui.CustomControl(W,oa.mapUserLocationButtonClass,"U",Ka,{tipLabel:tf.consts.centerToUserLocationTip,imageLabel:new tf.ui.SvgGlyphBtn({style:oa.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphUserLocationName,dim:Ob,noChangeOnHover:!0}),target:Sa}),isOn:!1});var d=[],f=lc.length;for(e=0;e<f;++e)d.push("http://131.94.133."+lc[e]+"/TileService/rmix.aspx?projection=bing&x={x}&y={y}&z={z}");
Hd=new ol.control.OverviewMap({layers:[new ol.layer.Tile({source:new ol.source.XYZ({urls:d,crossOrigin:"anonymous"})})],className:"ol-overviewmap",collapseLabel:tf.map.ui.CreateMapButtonTextSpan("\u00bb"),label:tf.map.ui.CreateMapButtonTextSpan("\u00ab"),collapsed:!0,target:Sa});na[tf.consts.panelNameOverview]={control:Hd,isOn:!1};Id=new ol.control.Rotate({autoHide:!1,label:tf.map.ui.CreateMapButtonTextSpan("\u21e7"),tipLabel:"Reset Map Rotation",resetNorth:function(){0==ga.getRotation()?Xa("- Hold down SHIFT & ALT then Click & Drag to rotate<br/>- On touch screens, use two fingers to rotate "):
0!=ga.getRotation()&&ya(0)},target:Sa});Id.element.style.zIndex=1;na[tf.consts.panelNameMapRotate]={control:Id,isOn:!1}}e={target:Sa};(d=tf.js.GetIsNonEmptyString(a.logoSVGHTML))?e.innerHTML=a.logoSVGHTML:e.imageLabel=tf.platform.GetPoweredByTerraFlyLogo();na[tf.consts.panelNameTFLogo]={control:new tf.map.ui.CustomLogo(W,oa.mapTFLogoControlClass,e),isOn:!1};d&&(na[tf.consts.panelNameTFLogo].control.GetHTMLElement().style.padding="4px");c||ra()}function ya(a,b){var c=ga.getRotation();c!=a&&(void 0==
b&&(b=se),kd?(Z.beforeRender(ol.animation.rotate({rotation:c,duration:b,easing:ol.easing.easeOut})),Ab(a)):ga.animate({rotation:a,duration:b,easing:ol.easing.easeOut},function(b){b||Ab(a)}))}function va(){return jd}function ea(){var a=yb?yb:Na;bb=Jc?new tf.map.ui.Mapnik2Popup(Na,W,ka,Y,na[tf.consts.panelNameLayers].control,void 0):new tf.map.ui.Mapnik1Popup(Na,W,ka,Y,na[tf.consts.panelNameLayers].control,void 0);Pa=new tf.map.ui.LayersPopup(Na,W,aa,na[tf.consts.panelNameLayers].control,N,va);ab=new tf.map.ui.AddressBar(a,
W,na[tf.consts.panelNameAddress].control);Vb=new tf.map.ui.TypesPopup(Na,W,Q,na[tf.consts.panelNameType].control);Wb=new tf.map.ui.SourcesPopup(Na,W,P,na[tf.consts.panelNameSource].control);Ia=new tf.map.ui.LocationPopup(Na);Ia.SetOnClose(S,W);Ia.SetZIndex(99);Ma=new tf.map.ui.InfoPopup(Na);Ma.SetOnClose(R,W);g(Ma,W);Za=new tf.map.ui.MessagePopup(a);Za.SetOnClose(T,W);g(Za,W)}function ca(a){var b=Hd.getOverviewMap(),c=tf.events.GetEventTarget(a.event),d=tf.events.GetMouseEventCoords(a.event);c&&d&&
(a=d[0],d=d[1],c!=Yb&&(c==pc?(a+=Jd.offsetLeft,d+=Jd.offsetTop):(a+=c.offsetLeft,d+=c.offsetTop)),b=tf.units.OL2TM(b.getCoordinateFromPixel([a,d])),ma(b))}function sa(){console.log("hookOverviewMapClick try");Yb=document.getElementsByClassName("ol-overviewmap-map");0<Yb.length?(Xd=!0,Yb=Yb[0],pc=document.getElementsByClassName("ol-overviewmap-box"),0<pc.length&&(Yb.style.cursor="pointer",pc=pc[0],Jd=pc.parentNode,new tf.events.DOMClickListener({target:Yb,callBack:ca,optionalScope:W,callBackSettings:void 0}))):
10>++Yd?setTimeout(sa,1E3):console.log("hookOverviewMapClick failed")}function pa(a,b){var c=tf.js.GetNonEmptyString(a,tf.consts.defaultSourceName),c=c.toLowerCase(),d=sb;if(!sb||sb!=c){var e=!1,f=!1;switch(c){default:case tf.consts.typeNameHybrid:e=f=!0;sb=tf.consts.typeNameHybrid;break;case tf.consts.typeNameMap:f=!0;sb=tf.consts.typeNameMap;break;case tf.consts.typeNameAerial:e=!0,sb=tf.consts.typeNameAerial}nc.setVisible(e);mc.setVisible(f);b&&Vb&&Vb.UpdateModeFromMap();ha();U();Aa(tf.consts.mapTypeChangeEvent,
{oldType:d,newType:sb})}}function da(a,b){var c=tf.js.GetNonEmptyString(a,tf.consts.defaultSourceName);qc&&qc==c||(qc=c,b&&Wb&&Wb.UpdateSourceFromMap(),nc&&(ld=new ol.source.XYZ({tileUrlFunction:Ea,crossOrigin:"anonymous"}),nc.setSource(ld)))}function Ea(a,b,c){b=void 0;b="/TileService/rmix.aspx?projection=bing&source="+qc;a="&x="+a[1]+"&y="+(-a[2]-1)+"&z="+a[0];Fb>=lc.length&&(Fb=0);return b="http://131.94.133."+lc[Fb++]+b+a}function ma(a){tf.js.GetIsArrayWithMinLength(a,2)&&(a=tf.units.TM2OL(a),
ga.setCenter(a))}function ta(a,b){ma(a);Ba(b)}function fa(a){a=tf.js.GetFloatNumber(a,tf.units.GetResolutionByLevel(tf.consts.defaultLevel));a!=lb&&(ga.setResolution(a),lb=ga.getResolution(),Gb=!0,a=tf.units.GetLevelByResolution(lb),Ta||Nc.DelayCallBack(),a!=cb&&(cb=a,Ta||Oc.DelayCallBack()))}function Ba(a){a=tf.js.GetLevelFrom(a);a!=cb&&(cb=a,ga.setZoom(a),lb=ga.getResolution(),Gb=Hb=!0,Ta||(Nc.DelayCallBack(),Oc.DelayCallBack()))}function O(a){a=tf.js.GetValidObjectFrom(a);var b=a.extent,c=tf.js.GetLevelFrom(a.minLevel),
d=tf.js.GetLevelFrom(a.maxLevel);if(c>d)var e=c,c=d,d=e;var e=cb,f=ga.getCenter();e<c&&(e=c);e>d&&(e=d);var g;tf.js.GetIsArrayWithLength(b,4)?(g=b.slice(0),b=ol.extent.applyTransform(b,ol.proj.getTransform(tf.consts.tmSystem,tf.consts.olSystem))):b=void 0;a={enableRotation:void 0!==a.enableRotation?!!a.enableRotation:!0,maxZoom:d,minZoom:c,center:f,zoom:e,extent:b};b=new ol.View(a);Z.setView(ga=b);dd=ga.constrainResolution;Ca();a.extent=g;Aa(tf.consts.mapViewSettingsChangedEvent,a)}function Ca(){ga.on("change:resolution",
function(a){a=tf.units.GetLevelByResolution(lb=ga.getResolution());Gb=!0;Hb=a!=cb;cb=a;Ta||(Nc.DelayCallBack(),Hb&&Oc.DelayCallBack())},W);ga.on("change:rotation",function(a){Ta||Zd.DelayCallBack()},W)}function Ka(){return Qa(!0,!0)}function Qa(a,b){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){var c=a.coords.latitude;a=a.coords.longitude;b&&ma([a,c]);rc.SetPointCoords([a,c]);Pc.SetPointCoords([a,c]);Pc.ChangeStyle(tf.js.ShallowMerge($d,{label:"User at: ( "+c.toFixed(6)+
","+a.toFixed(6)+" )"}));md||(Qc.AddMapFeature(rc),md=!0)},ib)}function ib(a){}function wa(a){ga=new ol.View({maxZoom:tf.consts.maxLevel});var b=ol.control.defaults({attribution:!1,rotate:!1,zoom:!1});Rc=new ol.interaction.defaults({altShiftDragRotate:a,pinchRotate:a,doubleClickZoom:!1});Kd=new ol.Collection;Kd.extend(Rc.getArray());Z=new ol.Map({loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",target:yd,view:ga,controls:b,interactions:Rc});kd=!!tf.js.GetFunctionOrNull(Z.beforeRender);
dd=ga.constrainResolution;Kc=new ol.source.XYZ({tileUrlFunction:Gd,crossOrigin:"anonymous"});ld=new ol.source.XYZ({tileUrlFunction:Ea,crossOrigin:"anonymous"});nc=new ol.layer.Tile({source:ld});mc=new ol.layer.Tile({source:Kc});Z.addLayer(nc);Z.addLayer(mc);sc=new ol.source.Vector;Ld=new ol.layer.Vector({source:sc,zIndex:1E4});Ld.setVisible(!0);Z.addLayer(Ld);Qc=q({isVisible:!0,isHidden:!0,color:"#fff",zIndex:9999},!1);a=new tf.map.FeatureGeom({type:"point",coordinates:[tf.consts.defaultLongitude,
tf.consts.defaultLatitude]});var b=[{circle:!0,circle_radius:18,fill:!0,fill_color:"#ebebeb",fill_alpha:60,zindex:2,snaptopixel:!1},{circle:!0,circle_radius:14,fill:!1,fill_color:"#abf",line:!0,line_color:"#00a",line_width:1,zindex:3,snaptopixel:!1},{circle:!0,circle_radius:8,fill:!0,fill_color:"#f84",line:!0,line_color:"#00f",line_width:1,zindex:4,snaptopixel:!1}],c=[tf.js.ShallowMerge(b[0],{fill_color:"#fbfbfb"}),tf.js.ShallowMerge(b[1],{line_width:2}),{circle:!0,circle_radius:8,fill:!0,fill_color:"#f84",
line:!0,line_color:"#00f",line_width:1,zindex:4,snaptopixel:!1}];rc=new tf.map.Feature({geom:a,style:b,hoverStyle:c});Pc=new tf.map.Feature({geom:a,style:$d});rc.SetOnHoverInOutListener(ua)}function ua(){rc.GetIsInHover()?Qc.AddMapFeature(Pc):Qc.DelMapFeature(Pc)}function gb(a){return[new ol.style.Style({image:new ol.style.Icon({crossOrigin:"",src:a?te:ue,anchor:[.5,.05]})})]}function Ha(){Ib&&(Zb=!Zb,Ib.setStyle(Zb?ve:ae),Ma.ShowTitleColorInfo(Zb))}function Wa(){Ma&&Ma.IsShowing()&&(Ib&&(sc.removeFeature(Ib),
Ib=null),Ma.ShowTitleColorInfo(!1),Ma.Show(!1),Zb=!1)}function qb(a,b,c){if(Ma&&!Zb&&b){Ib&&(sc.removeFeature(Ib),Ib=null);var d=ae,e=tc,f=tf.js.GetLatitudeFrom(c[1]);c=tf.js.GetLongitudeFrom(c[0]);f=(new ol.geom.Point([c,f])).transform(tf.consts.tmSystem,tf.consts.olSystem);e=new ol.Feature({geometry:f,markerName:e});e.setStyle(d);sc.addFeature(e);Ib=e;Ma.SetTitle(a);Ma.SetContent(b);l(Ma);Ma.Show(!0)}}function rb(){zb&&zb.SetListenToMoveEnd(Eb);Eb?(mb(),na[tf.consts.panelNameMapLocation].control.ChangeToolTip(tf.consts.mapLocationHideTip)):
(pb(),na[tf.consts.panelNameMapLocation].control.ChangeToolTip(tf.consts.mapLocationShowTip))}function xb(){Eb=!Eb;rb()}function kb(){Ia&&Ia.IsShowing()?pb():mb()}function pb(){Ia&&Ia.IsShowing()&&Ia.Show(!1)}function mb(){Ia&&Ia.Show(!0)}function jb(a,b,c){Ia.ShowTitleColorInfo(!!c);Ia.SetTitle("string"==typeof a&&0<a.length?a:"Location");kc.ClearContent();"string"===typeof b?kc.GetHTMLElement().innerHTML=b:kc.AddContent(b);Ia.SetContent(id);Eb&&(Ia&&Ia.IsShowing()||mb())}function La(a){Md="number"==
typeof a&&0<=a?a:be}function Xa(a){if(Za&&!ce){Fa();Za.SetContent(a);Za.ShowTitleColorInfo(!1);l(Za);if(a=Za)M(),a.Show(!0);Md&&(Hc=setTimeout(Ra,1E3*Md))}}function Ra(){D(Za)&&(Fa(),G(Za),ce=!1)}function Fa(){Hc&&(clearInterval(Hc),Hc=null)}function $a(a){void 0!=Sc?(a=void 0!=a?a:ga.getResolution(),Jc?(Ed=tf.js.GetLegendCompositesStrs(Sc,a).m2,Fd=tf.js.GetLegendCompositesStrs(de,a).m2):(Cd=tf.js.GetLegendCompositesStrs(Sc,a).m1H,Dd=tf.js.GetLegendCompositesStrs(Sc,a).m1M),U()):bb&&Gb&&bb.OnResolutionChange(lb)}
function wb(){$a();Aa(tf.consts.mapMoveEndEvent,hb(tb,ub));nd=Hb=!1}function Ga(){return{level:cb,resolution:lb}}function Ya(){$a();Aa(tf.consts.mapResolutionChangeEvent,Ga());Gb=!1}function cd(){Aa(tf.consts.mapRotationChangeEvent,{rotation_rad:ga.getRotation(),rotation_deg:tf.units.RadiansToDegrees(ga.getRotation())})}function Db(){Aa(tf.consts.mapLevelChangeEvent,Ga());Hb=!1}function Mb(a){if(a=tf.js.GetFunctionOrNull(a)){var b=db(tf.js.ShallowMerge(hb(tb,ub),Ga()));setTimeout(function(){a(b)},
1)}}function hc(a,b,c,d,e){a=tf.js.GetLevelFrom(a);var f=Math.abs(cb-a);if(0!=f){c=tf.js.GetFloatNumberInRange(c,ee,fe,tf.consts.defaultMapAnimatedDurationPerLevelMillis);var g=f*c;0>=g&&(g=10);Nd(function(c){var f;0==c.step?(f={duration:g,resolution:tf.units.GetResolutionByLevel(a),notifyListeners:!!d},tf.js.GetFunctionOrNull(e)&&(f.easing=e)):(Mb(b),b=null);return f},W)}else Mb(b)}function Nb(a,b,c,d,e){if(0==v(a))ma(a),Mb(b);else{var f=tf.js.GetLatitudeFrom(a[1]),g=tf.js.GetLongitudeFrom(a[0]);
c=tf.js.GetFloatNumberInRange(c,ee,fe,tf.consts.defaultMapAnimatedCenterDurationMillis);r();Nd(function(a){var h;0==a.step?(h={duration:c,center:[g,f],notifyListeners:!!d},tf.js.GetFunctionOrNull(e)&&(h.easing=e)):b&&(Mb(b),b=null);return h},W)}}function Tb(a){ge="string"===typeof a&&0<a.length?a:null}function Cc(a){$b=tf.js.GetNonEmptyString(a,null);tf.js.GetIsNonEmptyString($b)&&"&"!=$b.charAt(0)&&($b="&"+$b)}function Dc(a,b,c,d){null!=zb&&zb.IsListeningToMoveEnd()?null!=Jb&&Jb.DidMove()||zb.TryShowGeocode(a,
b,c,d):tf.js.GetIsNonEmptyString(c)&&Xa(c)}function Ec(a){var b=!0;Jb&&(Jb.Cancel(),b=Jb.WasCancelled()||Jb.HasCompleted())&&(Jb=null);b&&tf.js.GetIsNonEmptyString(a)&&(Jb=new tf.map.aux.GeoCodeFlyer(W,Dc,a),new tf.services.Geocoder({address:a,callBack:function(a){var b=a?a.pointCoords:[0,0];Jb.DelayCallBack(b[1],b[0],a.errormsg,a.geocoderlevel)}}));return b}function Fc(a){Nb(a.eventCoords)}function Ua(a){(a=!!a)!=(null!=Tc)&&(a?Tc=Uc.AddListener(tf.consts.mapClickEvent,Fc):(Tc.OnDelete(),Tc=null))}
function eb(a){ab&&("string"!==typeof a&&(a=""),ab.SetAddressBarHelp(a))}function Oa(a){ab&&("string"!==typeof a&&(a=""),ab.SetAddressBarText(a))}function Ab(a){ga.setRotation(tf.js.GetFloatNumber(a,0))}function Vc(){var a=Va.GetMapExtent();Va.GetBoxExtent();if(a){if(a){var b=$b;b||(b="");a="http://vn4.cs.fiu.edu/cgi-bin/tfrectdisp.cgi?"+b+"&dt=51306.25&X1l="+a[0]+"&Y1l="+a[3]+"&X2l="+a[2]+"&Y2l="+a[1]+"&Source=best_available&Res="+ga.getResolution()+"&Overlay=wcity";window.open(a,"_blank")}ac()}else Xa("<p/>First: Click/Touch to select a rectangular area.<p/>Then: Press the button to download.")}
function ac(){Va&&Va.Cancel()}function Pb(){Wc&&Wc.Show(!1)}function oc(){Wc||(Wc=new tf.map.ui.DownloadBar(Na,W,na[tf.consts.panelNameDownload].control,ac,Vc,W));Wc.Show(!0);var a=Pb;M();Va&&Va.Start("box",a)}function Xc(){Qb&&Qb.Show(!1)}function xa(){ac();za()}function za(){Qb||(Qb=new tf.map.ui.MeasureBar(Na,W,na[tf.consts.panelNameMeasure].control,ac,xa,W));Qb.Show(!0);var a=Qb.GetIsMeasuringDistances()?"lines":"poly",b=Xc;M();Va&&Va.Start(a,b)}function Yc(b){var c;tf.js.GetIsNonEmptyString(a.mapCenterSVG)?
(Kb=new tf.dom.Div({cssClass:oa.GetUnPaddedDivClassNames(!1,!1)}),c=Kb.GetHTMLElement(),c.innerHTML=a.mapCenterSVG,c.style.width=c.style.height="16rem",c.style.fill="white"):(Kb=new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphBullsEye2Name,dim:"16rem",noChangeOnHover:!0}),c=Kb.GetHTMLElement());oa.ApplySnapToCenterStyle(c);Na.appendChild(c);c.style.display=b?"block":"none";c.style.pointerEvents="none";c.style.position="absolute";c.style.opacity="0.30";oa.AddHorShadowStyle(Kb);oa.AddDefaultOpacityTransitionStyle(Kb);
c.style.zIndex=6}function uc(){var a=na[tf.consts.panelNameFullscreen];a&&(tf.browser.GetIsFullScreen()?a.control.ChangeTitle(oa.GetUnicodeXClose(),tf.consts.fullScreenToolTipFull):a.control.ChangeTitle(oa.GetUnicodeDoubleHorArrow(),tf.consts.fullScreenToolTipNormal));Aa(tf.consts.mapFullScreenEvent);u()}function Xb(){tf.browser.GetIsFullScreen()?tf.browser.ExitFullScreen():W.FullScreen()}function bc(){return ol.extent.applyTransform(ga.calculateExtent(Z.getSize()),ol.proj.getTransform(tf.consts.olSystem,
tf.consts.tmSystem))}function Zc(a){var b=bc(),c=tf.js.GetLatitudeFrom(a[1]);a=tf.js.GetLongitudeFrom(a[0]);return b[1]<=c&&b[3]>=c&&b[0]<=a&&b[2]>=a}function fb(a){return"ol-unselectable"==a.originalEvent.target.className}function Ub(){var a=r();vc(null,a[0],a[1])}function Ic(a){if(a)if(a instanceof ol.Feature){var b=a.getProperties().mapFeature;b===Bb&&Ub()}else if("object"===typeof a)for(var c in a)if(b=a[c],b instanceof ol.Feature&&(b=b.getProperties().mapFeature,b===Bb)){Ub();break}}function Lb(a){return a?
{featureCluster:a}:void 0}function vc(a,b,c,d){if(a!=Bb){if(Bb){var e=db(tf.js.ShallowMerge(nb(Bb,b,c,void 0),{nextKeyedFeature:cc(a),nextFeature:a,isInHover:!1}));Bb.onHoverInOut(e);ob(tf.consts.mapFeatureHoverInOutEvent,e);Bb=null}a&&(b=db(tf.js.ShallowMerge(nb(a,b,c,d),{prevKeyedFeature:cc(Bb),prevFeature:Bb,isInHover:!0})),a.onHoverInOut(b),ob(tf.consts.mapFeatureHoverInOutEvent,b));Bb=a}}function Cb(a,b){var c=a.getGeometry().getExtent(),c=tf.units.OL2TM([c[0],c[1]]),d;if(b&&1<b.length){d=[];
for(var e=0,f=b.length;e<f;++e){var g=b[e].getProperties().mapFeature;g&&d.push(g)}}return{clusterFeatures:d,clusterCoords:c}}function Ja(a){if(fb(a)){var b=!1,c=[],d=e(a.pixel),f;od=!0;wc||Z.forEachFeatureAtPixel(d,function(a,d){if(a){var e=a.get("features");e&&(f=Cb(a,e),a=e[0]);if(a){var e=a.getProperties(),g=e.mapFeature;if(g)return c.push(g),!0;if(e.markerName==tc)return b=!0}}});if(!b){var g={mapEvent:a},h=tf.units.OL2TM(a.coordinate),k=w(d),l=k[1],k=k[0],m=wc;if(!m){for(var n=c.length;0<n;){var p=
tf.js.ShallowMerge(db(nb(c[0],l,k,f)),g);ob(tf.consts.mapFeatureMouseDragEvent,p);break}0==n&&(m=wc=!0)}m&&Aa(tf.consts.mapMouseDragEvent,tf.js.ShallowMerge(tf.js.ShallowMerge(Lb(f),vb(hb(l,k,h),d,a.pixel)),g))}}}function pd(a){if(fb(a)){var b=!1,c=[],d=e(a.pixel),f;Z.forEachFeatureAtPixel(d,function(a,d){if(a){var e=a.get("features");e&&(f=Cb(a,e),a=e[0]);if(a){var e=a.getProperties(),g=e.mapFeature;if(g)return c.push(g),!0;if(e.markerName==tc)return b=!0}}});if(!b){var g={mapEvent:a},h=c.length,
k=tf.units.OL2TM(a.coordinate),l=w(d),m=l[1],l=l[0],n=!1,p;for(p in c){n=c[p];p=tf.js.ShallowMerge(db(nb(n,m,l,f)),g);vc(n,m,l,f);(n=n.onMouseMove(p))||ob(tf.consts.mapFeatureMouseMoveEvent,p);break}0==h&&vc(null,m,l,f);g.nMapFeatures=h;Aa(tf.consts.mapMouseMoveEvent,tf.js.ShallowMerge(tf.js.ShallowMerge(Lb(f),vb(hb(m,l,k),d,a.pixel)),g))}}}function dc(a){if(fb(a)&&(!Va||!Va.GetIsInteracting())){var b=e(a.pixel),c=tf.units.OL2TM(a.coordinate),d=w(b),f=d[1],d=d[0],g=!1,h=[],k;Z.forEachFeatureAtPixel(b,
function(a,b){var c=a.get("features");c&&(k=Cb(a,c),a=c[0]);if(a&&(c=a.getProperties())){var d=c.mapFeature;if(d)h.push(d);else if(c.markerName==tc)return g=!0,Ha(),!0}},W);if(!g){var l={mapEvent:a},m=h.length,n=!1,p=Lb(k),q;for(q in h){n=h[q];q=tf.js.ShallowMerge(db(nb(n,f,d,k)),l);(n=n.onClick(q))||ob(tf.consts.mapFeatureInstantClickEvent,q);break}0==m&&Aa(tf.consts.mapInstantClickEvent,tf.js.ShallowMerge(tf.js.ShallowMerge(p,vb(hb(f,d,c),b,a.pixel),l)))}}}function ec(a){if(fb(a)&&(!Va||!Va.GetIsInteracting())){var b=
e(a.pixel),c=tf.units.OL2TM(a.coordinate),d=w(b),f=d[1],d=d[0],g=!1,h=[],k;Z.forEachFeatureAtPixel(b,function(a,b){var c=a.get("features");c&&(k=Cb(a,c),a=c[0]);if(a&&(c=a.getProperties())){var d=c.mapFeature;if(d)h.push(d);else if(c.markerName==tc)return g=!0,Ha(),!0}},W);if(!g){var l={mapEvent:a},m=h.length,n=!1,p=Lb(k),q;for(q in h){n=h[q];q=tf.js.ShallowMerge(db(nb(n,f,d,k)),l);(n=n.onClick(q))||ob(tf.consts.mapFeatureClickEvent,q);break}0==m&&Aa(tf.consts.mapClickEvent,tf.js.ShallowMerge(tf.js.ShallowMerge(p,
vb(hb(f,d,c),b,a.pixel),l)))}}}function fc(a){if(fb(a)&&(!Va||!Va.GetIsInteracting())){var b=e(a.pixel),c=tf.units.OL2TM(a.coordinate),d=w(b),f=d[1],g=d[0],h=!1,k=[],l;Z.forEachFeatureAtPixel(b,function(a,b){var c=a.get("features");c&&(l=Cb(a,c),a=c[0]);if(a&&(c=a.getProperties())){var d=c.mapFeature;if(d)k.push(d);else if(c.markerName==tc)return h=!0,Ha(),!0}},W);if(!h){var m={mapEvent:a},n=k.length,p=!1,q;for(q in k){p=k[q];q=tf.js.ShallowMerge(db(nb(p,f,g,l)),m);(p=p.onDoubleClick(q))||ob(tf.consts.mapFeatureDblClickEvent,
q);break}0==n&&(qd?gc&&gc.GoDBByCoords(d):Aa(tf.consts.mapDblClickEvent,tf.js.ShallowMerge(tf.js.ShallowMerge(Lb(l),vb(hb(f,g,c),b,a.pixel))),m))}}}function $c(a){var b=r();a=b.Latitude;b=b.Longitude;tb!=a&&ub!=b&&(tb=a,ub=b);Ta||Aa(tf.consts.mapMoveStartEvent,hb(tb,ub))}function xc(a){var b=r();a=b.Latitude;b=b.Longitude;tb!=a&&ub!=b&&(tb=a,ub=b);Ta||(a=ga.getResolution(),lb!=a&&(lb=a,Nc.DelayCallBack(),a=cb,cb!=a&&(cb=a,Oc.DelayCallBack())),he.DelayCallBack())}function cc(a){return a&&tf.js.GetFunctionOrNull(a.GetKeyedFeature)?
a.GetKeyedFeature():null}function db(a){return tf.js.ShallowMerge(a,ie)}function ob(a,b){b.sender!==W&&tf.GetDebug().LogIfTest("map: notify without sender");Uc.Notify(a,tf.js.ShallowMerge(b,{eventName:a}))}function Aa(a,b){return ob(a,db(b))}function hb(a,b,c){a=[b,a];void 0==c&&(c=a);return{eventCoords:a,actualEventCoords:c}}function vb(a,b,c){return tf.js.ShallowMerge(a,{pixelCoords:b,actualPixelCoords:c})}function Rb(a){var b;(b=a&&tf.js.GetFunctionOrNull(a.GetMapFeature)?a.GetMapFeature():null)||
(b=a);return{keyedFeature:cc(b),mapFeature:b,styleName:b.getStyleName()}}function nb(a,b,c,d){return tf.js.ShallowMerge(Rb(a),hb(b,c),Lb(d))}function yc(){Hb&&Db();Gb&&Ya();nd&&wb()}function ad(a,b){if(Ta){if(b.time<=Da.start+Da.duration){if(b.time>=Da.start){var c=Da.easing,c=1-c((b.time-Da.start)/Da.duration);if(Da.sourceCenter){var d=Da.sourceCenter[1]-Da.endCenter[1];b.viewState.center[0]=Da.endCenter[0]+c*(Da.sourceCenter[0]-Da.endCenter[0]);b.viewState.center[1]=Da.endCenter[1]+c*d;var e=tf.units.OL2TM(b.viewState.center),
d=e[0],e=e[1];nd=d!=ub||e!=tb;tb=e;ub=d}void 0!==Da.sourceRes&&(e=tf.units.GetLevelByResolution(b.viewState.resolution=d=Da.endRes+c*(Da.sourceRes-Da.endRes)),Gb=d!=lb,Hb=e!=cb,cb=e,lb=d);void 0!==Da.sourceRotation&&(d=tf.units.GetShortestArcBetweenAngles(Da.endRotation,Da.sourceRotation),b.viewState.rotation=Da.endRotation+c*d);Da.notifyListeners?yc():(Gb||Hb)&&$a()}}else zc();Ta?Z&&Z.render():yc()}else e=tf.units.OL2TM(b.viewState.center),tb=e[1],ub=e[0],lb=b.viewState.resolution;return Ta}function Ac(){return bd?
bd.call(je,{sender:W,step:Od++}):null}function Sb(){Ta&&(bd&&(Od=-1,Ac(),bd=null),Ta=!1,Z&&Z.render())}function zc(){if(Ta){var a=Ac();if(tf.js.GetIsValidObject(a)){var b=void 0!==a.center?tf.js.GetMapCoordsFrom(a.center):void 0,c=void 0!==a.resolution?a.resolution:void 0,d=void 0!==a.rotation?a.rotation:void 0,e=void 0!==a.duration?a.duration:1E3,f=void 0!==a.notifyListeners?!!a.notifyListeners:!1,a=tf.js.GetFunctionOrNull(a.easing)?a.easing:tf.units.EaseInAndOut,g=void 0!==b?tf.units.TM2OL(b):void 0;
Da={notifyListeners:f,sourceRes:void 0!==c?ga.getResolution():void 0,sourceCenter:void 0!==b?ga.getCenter():void 0,sourceRotation:void 0!==d?ga.getRotation():void 0,endRes:c,endCenter:g,endRotation:void 0!==d?d:void 0,duration:e,easing:a,start:Date.now()};kd?(void 0!=b&&ma(b),void 0!==c&&fa(c),void 0!==d&&Ab(d)):ga.animate({rotation:d,center:g,resolution:c,duration:e,easing:a},function(a){a||(void 0!=b&&ma(b),void 0!==c&&fa(c),void 0!==d&&Ab(d));Sb()})}else Sb()}}function Nd(a,b){var c=Ta;Sb();if(bd=
tf.js.GetFunctionOrNull(a))kd&&(c||Z.beforeRender(ad)),Od=0,je=b,Ta=!0,zc()}function ke(){rd=!0}function le(a){if(a instanceof tf.map.Feature&&sd){var b=a.getAPIStyle(),c;for(c in b)sd.drawFeature(a.getAPIFeature(),b[c])}}function Pd(a,b,c,d){sd=b.vectorContext;rd=!1;Aa(a,{showFeatureImmediately:le,continueAnimation:ke,canvas:b.context.canvas});a==tf.consts.mapPostComposeEvent&&Aa(tf.consts.mapPostPostComposeEvent,{showFeatureImmediately:le,continueAnimation:ke,canvas:b.context.canvas});sd=void 0;
rd&&(d?d.render():Z&&Z.render());rd=!1}function me(a,b,c){Sc=a;de=b;Y();$a(c)}function ne(){if(wc||od)wc=od=!1,Aa(tf.consts.mapEndDragEvent)}function oe(){var a;Z.getInteractions().forEach(function(b){b instanceof ol.interaction.DragPan&&(a=b)},this);return a}var oa,zd,pe=null,td=null,qe,Gc,lc=["184","186","188","190"],Uc=null,ud,ed,Qd,bd,je,Od,Ta,Da,dd;this.ActualToVirtualPixelCoords=function(a){return e(a)};this.VirtualToActualPixelCoords=function(a){return d(a)};this.SetDecodedLegends=function(a,
b){return me(a,b,void 0)};this.SetIsUSScaleUnits=function(a){Lc!=!!a&&qa()};this.GetIsUSScaleUnits=function(){return Lc};this.SetFractionalZoomInteraction=function(a){ga.constrainResolution=a?c:dd};this.RemoveDragPan=function(){var a=oe();a&&(a.setActive(!1),ga.cancelAnimations(),ga.setHint?ga.setHint(ol.ViewHint.INTERACTING,-1):tf.js.GetIsArrayWithMinLength(ga.o,2)&&0<ga.o[1]&&--ga.o[1],Z.getInteractions().remove(a))};this.AddDragPan=function(){var a=oe();a&&a.setActive(!0);a||(Z.addInteraction(new ol.interaction.DragPan({kinetic:new ol.Kinetic(-.005,
.05,100),map:Z})),ga.cancelAnimations())};this.GetCanvas=function(){return td};this.GetPixelSize=function(){var a=Qd?Qd():void 0;return a?a:W.GetActualPixelSize()};this.SetActualToVirtualPixelTranslateCallBacks=function(a,b,c){ud=tf.js.GetFunctionOrNull(a);(ed=tf.js.GetFunctionOrNull(b))||(ed=a);Qd=tf.js.GetFunctionOrNull(c)};this.SetTarget=function(a){Z.setTarget(a)};this.RestoreTarget=function(){Z.setTarget(yd)};this.getAPIMap=function(){return Z};this.getAPIView=function(){return ga};this.GetControlContainer=
function(){return Sa};this.CreateMapWithSameLayers=function(a){var b;tf.dom.GetHTMLElementFrom(a)&&(a={container:a,center:r(),panels:"noaddress+nomaplocation+nouserlocation+nomapscale",panOnClick:!1,goDBOnDoubleClick:!1,resolution:ga.getResolution()},b=new tf.map.Map(a),b.SetHasInteractions(!1),b.ShowMapCenter(!1),b.getAPIMap().setLayerGroup(Z.getLayerGroup()));return b};this.GetID=function(){return pe};this.GetMapContainer=function(){return yb};this.GetMapMapContainer=function(){return gd};this.GetMapControlContainer=
function(){return hd};this.GetMapEngine=function(){return Rd};this.ShowUserLocation=function(){return Qa(!1,!1)};this.HideUserLocation=function(){md&&(Qc.DelMapFeature(rc),md=!1)};this.CenterToUserLocation=function(){return Qa()};this.Render=function(){return Z?Z.render():!1};this.SetTFPassThroughString=function(a){Cc(a)};this.GetTFPassThroughString=function(){return $b};this.SetVIDParamStr=function(a){Tb(a)};this.GetVIDParamStr=function(){return ge};this.SetAddressBarText=function(a){return Oa(a)};
this.GetAddressBarText=function(){return ab?ab.GetAddressBarText():""};this.SetAddressBarHelp=function(a){return eb(a)};this.GoDBByAddress=function(a){gc&&gc.GoDBByAddress(a)};this.GoDBByCoords=function(a){gc&&gc.GoDBByCoords(a)};this.GoDBByCenterCoords=function(){goDBByCenterCoords()};this.SetGoDBOnDoubleClick=function(a){qd=!!a};this.GetGoDBOnDoubleClick=function(){return qd};this.SetUsePanOnClick=function(a){Ua(a)};this.IsUsingPanOnClick=function(){return null!=Tc};this.AnimatedSetRotation=function(a,
b){return ya(a,b)};this.AnimatedResetRotation=function(){0!=ga.getRotation()&&ya(0)};this.SetRotationDeg=function(a){return Ab(tf.units.DegreesToRadians(a))};this.GetRotationDeg=function(a){return tf.units.RadiansToDegrees(ga.getRotation())};this.SetRotationRad=function(a){return Ab(a)};this.GetRotationRad=function(a){return ga.getRotation()};this.PixelToMapCoords=function(a){return w(e(a))};this.ActualPixelToMapCoords=function(a){return w(a)};this.MapToPixelCoords=function(a){return d(A(a))};this.ActualMapToPixelCoords=
function(a){return A(a)};this.GetPixelDistance=function(a,b){return t(a,b)};this.GetPixelDistanceFromCenter=function(a){return v(a)};this.IsSamePixelAsCenter=function(a){return 0==v(a)};this.GetAreMapCoordsVisible=function(a){return Zc(a)};this.SetCenter=function(a){ma(a)};this.SetCenterAndLevel=function(a,b){ta(a,b)};this.GetCenter=function(){return r()};this.SetLevel=function(a){Ba(a)};this.GetLevel=function(){return cb};this.SetResolution=function(a){fa(a)};this.GetResolution=function(){return ga.getResolution()};
this.AnimatedSetLevel=function(a,b,c,d,e){return hc(a,b,c,d,e)};this.AnimatedSetCenter=function(a,b,c,d,e){Nb(a,b,c,d,e)};this.AnimatedSetCenterIfDestVisible=function(a,b){Zc(a)?Nb(a,b,null,!1):ma(a)};this.GetIsAnimating=function(){return Ta};this.StartAnimation=function(a,b){return Nd(a,b)};this.EndAnimation=function(){return Sb()};this.FlyToAddress=function(a){return Ec(a)};this.GetVisibleExtent=function(){return bc()};this.SetVisibleExtent=function(a){var b;b=tf.js.GetMapExtentFrom(a);if(b[0]!=
b[2]&&b[1]!=b[3]){a=W.GetPixelSize();var c=a[0],d=a[1];if(0<c&&0<d){a=b[0]+(b[2]-b[0])/2;var e=b[1]+(b[3]-b[1])/2,f=new tf.map.FeatureGeom({type:"linestring",coordinates:[[b[0],e],[b[2],e]]}),g=f.GetLength(),f=new tf.map.FeatureGeom({type:"linestring",coordinates:[[a,b[1]],[a,b[3]]]});b=f.GetLength();c=g/c;d=b/d;fa(c>d?c:d);ma([a,e])}}};this.RemoveLayer=function(a){if(tf.js.GetIsMapFeatureLayer(a)){var b=a.GetIsHidden(),c=b?Ud:jd,d=c.indexOf(a);if(-1!=d){var e=a.GetName();tf.js.GetIsNonEmptyString(e)&&
delete Gc[e];a.RemoveAllFeatures();a.exportSetDeleteCmdCallBack.call(a);c.splice(d,1);b||Pa&&Pa.RefreshContent()}}};this.AddFeatureLayer=function(a){return q(a,!1)};this.OnResize=function(){return u()};this.GetActualPixelSize=function(){return Z?Z.getSize():Na?[Na.clientWidth,Na.clientHeight]:[0,0]};this.PanByPixelOffset=function(a){if(tf.js.GetIsArrayWithMinLength(a,2)){var b=tf.js.GetFloatNumber(a[0],0);a=tf.js.GetFloatNumber(a[1],0);if(0!=b||0!=a){var c=r(),c=d(A(c));c.X+=b;c.Y+=a;b=w(e([c.X,c.Y]));
ma(b)}}};this.AddListener=function(a,b){return Uc.AddListener(a,b)};this.AddListeners=function(a){return Uc.AddListeners(a)};this.ShowMapCenter=function(a){Kb&&Sd!=(a=!!a)&&(tf.dom.GetHTMLElementFrom(Kb).style.display=(Sd=a)?"block":"none")};this.GetMapCenterElem=function(){return Kb};this.IsShowingMapCenter=function(){return Sd};this.GetLayersPopup=function(){return Pa};this.ShowLayerList=function(a){D(Pa)!=!!a&&(D(Pa)?G(Pa):I())};this.GetIsShowingLayerList=function(){return D(Pa)};this.ShowPanels=
function(a){return F(a)};this.ShowPanel=function(a,b){return C(a,b)};this.GetPanelElement=function(a){var b;tf.js.GetIsNonEmptyString(a)&&(a=a.toLowerCase(),b=(a=na[a])?a.control:void 0);return b};this.IsPanelShowing=function(a){return B(a)};this.SetFullScreenButtonVisibility=function(a){C(tf.consts.panelNameFullscreen,a)};this.SetLogoVisibility=function(a){return C(tf.consts.panelNameTFLogo,!!a)};this.FullScreen=function(){yb&&(tf.browser.GetIsFullScreen()||(tf.dom.GetHTMLElementFrom(a.fullScreenContainer)?
tf.browser.RequestFullScreen(a.fullScreenContainer):tf.browser.RequestFullScreen(document.body)))};this.ToggleMapFullScreen=function(){return Xb()};this.SetMapType=function(a){pa(a,!0)};this.GetMapType=function(){return sb};this.SetSource=function(a){da(a,!0)};this.GetSource=function(){return qc};this.SetLegend=function(a,b){E(a,b)};this.GetHasInteractions=function(){return Bc};this.SetHasInteractions=function(a){a=!!a;a!=Bc&&(a?Bc||(Rc.extend(Kd.getArray()),Td&&C(tf.consts.panelNameZoom,!0),Va&&
Va.Restore(),Td=!1,Bc=!0):Bc&&(Rc.clear(),(Td=!!na[tf.consts.panelNameZoom]&&na[tf.consts.panelNameZoom].isOn)&&C(tf.consts.panelNameZoom,!1),Bc=!1))};this.ShowAddressBar=function(){H()};this.HideAddressBar=function(){G(ab)};this.ToggleAddressBar=function(){var a=ab;D(a)?G(a):K(a)};this.IsShowingAddressBar=function(){return D(ab)};this.ShowMessage=function(a){Xa(a)};this.HideMessage=function(){Ra()};this.ToggleMessage=function(){D(Za)?Ra():Xa()};this.IsShowingMessage=function(){return D(Za)};this.SetMessageTimeout=
function(a){La(a)};this.HideOpenControlPopups=function(){M()};this.HideOpenPopups=function(){Wa();pb();Ra();M()};this.IsShowingInfoPopup=function(){return Ma?Ma.IsShowing():!1};this.ToggleInfoPopup=function(){Ma&&Ma.IsShowing()?Wa():qb()};this.HideInfoPopup=function(){Wa()};this.ShowInfoPopup=function(a,b,c){qb(a,b,c)};this.IsInfoPopupPinned=function(){return Zb};this.ToggleInfoPopupPin=function(){Ha()};this.StartDownloadInteraction=function(){return oc()};this.CancelDownloadInteraction=function(){return Pb()};
this.StartMeasureInteraction=function(){return za()};this.CancelMeasureInteraction=function(){return Xc()};this.SetOverviewMapCollapsed=function(a){na[tf.consts.panelNameOverview]&&na[tf.consts.panelNameOverview].isOn&&na[tf.consts.panelNameOverview].control.setCollapsed(!!a)};this.IsOverviewMapCollapsed=function(){return!!na[tf.consts.panelNameOverview]&&na[tf.consts.panelNameOverview].isOn&&na[tf.consts.panelNameOverview].control.getCollapsed()};this.SetView=function(a){return O(a)};this.SetMapLayerSource=
function(a,b){return k(a,b)};this.ShowAllKeyedFeatures=function(a,b,c){if(a instanceof tf.map.KeyedFeatureList){var d=f(a);if(d)if(b){b=a.GetKeyedList().GetKeyedItemList();for(var e in b)d.AddKeyedFeature(a.GetFeature(b[e].GetKey()),c,!0);d.AddWithheldFeatures()}else d.RemoveAllFeatures()}};this.ShowSomeKeyedFeatures=function(a,b,c,d){if(a instanceof tf.map.KeyedFeatureList&&"object"===typeof b){var e=f(a);if(e){var g=a.GetKeyedList();c=!!c;for(var h in b){var k=g.GetItem(b[h]);k&&(k=a.GetFeature(k.GetKey()),
c?e.AddKeyedFeature(k,d,!0):e.DelKeyedFeature(k,!0))}c?e.AddWithheldFeatures():e.DelWithheldFeatures()}}};this.ShowKeyedFeature=function(a,b,c){return showKeyedFeature(feature,b,c)};this.GetIsShowingKeyedFeature=function(a){var c=b(a);return c?c.ContainsKeyedFeature(a):!1};this.GetLayerForKeyedFeature=function(a){return b(a)};this.GetLayerForKeyedFeatureList=function(a){return f(a)};this.GetLayerByName=function(a){return Gc[a]};this.deprecatedAddLegacyLayer=function(a){return q(a,!0)};this.renderNow=
function(){return Z?Z.renderSync():!1};this.addHTMLOverlay=function(a){a&&a instanceof tf.map.HTMLOverlay&&Z.addOverlay(a.getAPIOverlay())};this.removeHTMLOverlay=function(a){a&&a instanceof tf.map.HTMLOverlay&&Z.removeOverlay(a.getAPIOverlay())};this.addHTMLControl=function(a){a&&a instanceof tf.map.HTMLControl&&Z.addControl(a.getAPIControl())};this.removeHTMLControl=function(a){a&&a instanceof tf.map.HTMLControl&&Z.removeControl(a.getAPIControl())};var ic=null,vd=1,Jc=null,tc="Info",W=null,Ob,bb=
null,Pa=null,Vb=null,Wb=null,Ma=null,Ia=null,Za=null,ab=null,Wc=null,Qb=null,fd=[],ie,Z=null,ga=null,nc=null,mc=null,Kc=null,ld=null,Rd=null,sb=null,qc=null,jd=[],Ud=[],lb=0,cb=-1,tb=-999,ub=-999;oa=tf.GetStyles();var yb=null,gd=null,xd=null,Na=null,yd=null,hd,Sa,re=500,Sd=!0,Kb=null,jc=0,wd=0,sc=null,Ld=null,Qc=null,rc=null,Pc=null,Ib=null,Vd,Wd,Ad=void 0,Bd=!1,na=[],Cd="",Dd="",Fb=0,Ed="osm_water,osm_buildings,osm_roads,osm_road_names,osm_place_names",Fd="osm_land,osm_landuse,osm_water,osm_buildings,osm_roads,osm_road_names,osm_place_names",
Gd=null,Hd=null,Mc=null,Id=null,se=250,Lc=!1,kd,Yb=null,pc=null,Jd=null,Yd=0,Xd=!1,$d={marker:!0,label:".",zindex:1,border_color:"#00f",border_width:2,marker_color:"#000",font_color:"#fff",font_height:16},md=!1,Rc,Kd,Va,he,Oc,Nc,Zd,Hb,Gb,nd,te=tf.platform.MakePlatformPath("image/pin260pinned.png"),ue=tf.platform.MakePlatformPath("image/pin260.png"),ve=gb(!0),ae=gb(!1),Zb=!1,Eb,id=null,kc=null,ce=!1,Hc=null,be=5,Md=be,ee=100,fe=9999999999,Bc=!0,Td=!1,ge=null,$b=null,zb=null,gc=null,Jb=null,Tc=null,
qd=!0,Bb=null;this.onMoveEnd=function(a){return xc(a)};this.GetInstantCenter=function(){return[ub,tb]};this.GetInstantResolution=function(){return lb};var sd,rd;this.onComposeEvent=function(a,b,c){return Pd(a,b,!1,c)};var Sc,de,wc,od,W=this;(function(){oa=tf.GetStyles();zd=oa.GetSubStyles();Ta=Eb=!1;qc="best_available";void 0!==a.messageTimeout&&La(a.messageTimeout);tf.js.GetIsNonEmptyString(a.vidParam)&&Tb(a.vidParam);tf.js.GetIsNonEmptyString(a.passThroughString)&&Cc(a.passThroughString);Hb=Gb=
nd=!1;Ob=zd.mapButtonDimEmNumber+"em";ie={sender:W};Gc={};a=tf.js.GetValidObjectFrom(a);qe=tf.js.GetIsNonEmptyString(a.linkTargetStr)?a.linkTargetStr:"_top";pe=tf.GetGlobalCounter().GetNext()+"";Uc=new tf.events.MultiEventNotifier({eventNames:tf.consts.allMapEventNames});Rd=tf.map.GetMapEngineFrom(a.mapEngine);Gd=(Jc=Rd!==tf.consts.mapnikEngine)?V:ia;tf.js.GetIsNonEmptyString(a.mapLayerSourceURL)&&k(a.mapLayerSourceURL,a.mapLayerSourceHybridModeOpacity);m(a.container);Na.style.backgroundImage="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wAAAIDen//TAAAAfUlEQVRYhe2UsQ3AIAwETcYJ+w9BRQNZhI7mU0VCiBYuhV1Z/gKJO31IucjM7I7RVvPUajvza3k9Oa1LrUspF3376rYrt9MPzntoXRp/ZDfzOf+PAxQCXMLgPUAjwCX0HsAR4BJ6D+AIcAm9B3AEuITeAzgCXELvARwBLuELoBEJ6ZpdtuYAAAAASUVORK5CYII=')";
he=new tf.events.DelayedCallBack(300,wb,W);Oc=new tf.events.DelayedCallBack(300,Db,W);Nc=new tf.events.DelayedCallBack(300,Ya,W);Zd=new tf.events.DelayedCallBack(100,cd,W);new tf.events.DOMFullScreenChangeListener({callBack:uc,optionalScope:W});da(a.mapAerialSource);var b=void 0!=a.canRotate?!!a.canRotate:!0,c=!1,d,e;void 0!==a.resolution?d=tf.js.GetFloatNumber(a.resolution,tf.units.GetResolutionByLevel(tf.consts.defaultLevel)):(e=tf.js.GetLevelFrom(a.level),d=tf.units.GetResolutionByLevel(e));(c=
void 0!=a.decodedLegendH)&&me(a.decodedLegendH,a.decodedLegendM,d);wa(b);pa(a.mapType);X(!a.noNativeControls,a.noScaleLine);a.noNativePopups||ea();var f=tf.js.GetMapCoordsFrom(a.center),b=tf.js.GetLongitudeFrom(f[0]),f=tf.js.GetLatitudeFrom(f[1]);void 0!=e?ta([b,f],e):(ma([b,f]),fa(d));Yc(tf.js.GetBoolFromValue(a.showMapCenter,!0));a.noNativeControls||(Va=new tf.map.aux.MapDrawInteraction(W,Z,sc));Z.on("click",dc,W);Z.on("moveend",xc,W);Z.on("movestart",$c,W);Z.on("pointermove",pd,W);Z.on("pointerdrag",
Ja,W);Z.on("singleclick",ec,W);Z.on("dblclick",fc,W);Z.on("change:size",function(a){ab&&ab.OnContainerResize();Qb&&Qb.OnContainerResize();bb&&bb.OnContainerResize();Ma&&Ma.OnContainerResize();Pa&&Pa.OnContainerResize();Wb&&Wb.OnContainerResize();Vb&&Vb.OnContainerResize();Ia&&Ia.OnContainerResize();Za&&Za.OnContainerResize();Aa(tf.consts.mapResizedEvent)},W);Z.on("precompose",function(a){td=a.context.canvas;Pd(tf.consts.mapPreComposeEvent,a,!0)},W);Z.on("postcompose",function(a){td=a.context.canvas;
Pd(tf.consts.mapPostComposeEvent,a,!0)},W);Z.on("postrender",function(a){Aa(tf.consts.mapPostRenderEvent,{event:a,canvas:td})},W);tf.js.GetIsValidObject(a.viewSettings)?O(a.viewSettings):Ca();a.noNativeControls||(gc=new tf.map.aux.GoDBPage({map:W,linkTargetStr:qe}));na[tf.consts.panelNameOverview]&&na[tf.consts.panelNameOverview].isOn&&setTimeout(sa,500);tf.js.GetIsNonEmptyString(a.addressBarText)&&Oa(a.addressBarText);tf.js.GetIsNonEmptyString(a.addressBarHelp)&&eb(a.addressBarHelp);tf.js.GetIsNonEmptyString(a.panels)?
F(a.panels):(a.noNativeControls||C(tf.consts.panelNameMapRotate,!0),C(tf.consts.panelNameMapScale,!0));a.noNativeControls||(zb=new tf.map.aux.RevGeocoder(W,jb,Ia),B(tf.consts.panelNameMapLocation)&&(Eb=!0),rb());tf.js.GetIsBoolean(a.panOnClick)&&Ua(a.panOnClick);tf.js.GetIsBoolean(a.goDBOnDoubleClick)&&(qd=!!a.goDBOnDoubleClick);c||tf.js.GetIsNonEmptyString(a.legendH)&&setTimeout(function(){E(a.legendH,a.legendM)},500);wc=od=!1;new tf.events.DOMClickListener({target:document,callBack:ne,optionalScope:W,
callBackSettings:null});tf.events.AddDOMEventListener(document,tf.consts.DOMEventNamesTouchEnd,ne)})()};tf.map.SimplifyLSCoords=function(a,c){var e;tf.js.GetLooksLikeLineStringCoords(a)&&void 0!=c&&(e=new ol.geom.LineString(a),e.transform(tf.consts.tmSystem,tf.consts.olSystem),e=e.simplify(c),e.transform(tf.consts.olSystem,tf.consts.tmSystem),e=e.getCoordinates());return e};
tf.map.SimplifyMLSCoords=function(a,c){var e;if(tf.js.GetLooksLineMultiLineStringCoords(a)&&void 0!=c){var d=a.length;e=[];for(var b=0;b<d;++b)e.push(tf.map.SimplifyLSCoords(a[b],c))}return e};
tf.map.MLSSegMerger=function(a){function c(a){g&&console.log(l+": "+a)}function e(a){return""+a[0]+"|"+a[1]}function d(a,b){var d=m[a];d?void 0==d.segMap[b]?(++d.nSegs,d.segMap[b]=b):c("adding segment to coordinate more than once"):c("adding segment to unmapped coordinate")}function b(a,b){a&&(void 0!=a.segMap[b]?(delete a.segMap[b],--a.nSegs):c("deleting non existing segment from coord"))}function f(a){void 0!=w[a]?(delete w[a],--A):c("deleting invalid seg to process")}function h(a,d){var g=!1,h,
k;d?(h=a.length-1,k=a.push):(h=0,k=a.unshift);h=e(a[h]);if(h=m[h]){if(0<h.nSegs){var l;if(0<h.nSegs){for(var n in h.segMap){l=h.segMap[n];delete h.segMap[n];break}--h.nSegs}if(n=w[l]){var p;n&&h&&(h=h.coordKey,n.coord1K==h?p=m[n.coord2K]:n.coord2K==h&&(p=m[n.coord1K]));p?(f(l),b(p,l),k.call(a,p.coord),g=!0):c("cannot find other coord on seg to process")}else c("cannot find coord seg to process")}}else c("cannot find ls coord object to add to");return g}function k(){var a=!1;if(0<A){var d,e=w,g=0,
k;for(k in e){var l=e[k];l.count>g&&(g=l.count,d=l)}d&&f(d.segKey);if(d)if(e=d.segKey,g=m[d.coord1K],d=m[d.coord2K],g&&d){a=[];v.coordinates.push(a);b(g,e);b(d,e);a.push(g.coord);for(a.push(d.coord);h(a,!0););for(;h(a,!1););a=!0}else c("segment with missing coordinates");else c("cannot find the next seg obj to process")}return a}var g,l,m,n,p,q,r,t,v,w,A;this.Merge=function(a,b){q={};m={};w={};n=p=r=t=A=0;v={type:"multilinestring",coordinates:[]};if(tf.js.GetLooksLikeMultiLineStringGeom(a)){for(var f=
a.coordinates,g=f.length,h=0;h<g;++h){var l=f[h],K=void 0;for(K in l){var G=l[K],L=e(G),H=m[L];++p;void 0==H?(++n,m[L]={count:1,coordKey:L,coord:G,nSegs:0,segMap:{}}):++H.count}}for(h=0;h<g;++h){l=f[h];K=l.length-1;for(G=0;G<K;++G)if(L=l[G],H=l[1+G],++t,L[0]!=H[0]||L[1]!=H[1]){var I;I=L[0];var J=L[1],N=H[0],M=H[1],P=void 0,Q=void 0,R=void 0,S=void 0;I<N?(P=I,Q=N):(P=N,Q=I);J<M?(R=J,S=M):(R=M,S=J);I=e([P,R])+"-"+e([Q,S]);J=q[I];void 0==J?(N=e(L),M=e(H),++r,J=q[I]={count:1,segKey:I,coord1:L,coord2:H,
coord1K:N,coord2K:M},d(N,I),d(M,I),w[I]=J):++J.count}else c("mls contains ls with zero length segment");A=r}for(;k(););void 0!=b&&(v.coordinates=tf.map.SimplifyMLSCoords(v.coordinates,b))}return v};l="MLSSegMerger";a=tf.js.GetValidObjectFrom(a);g=!!a.logErrors};
tf.map.RouteShapeEditor=function(a){function c(a,b){return function(c){c=2;var d,e;e="#66f";a&&(c+=4,b&&(e=Ec));b?(c=a?8:4,d=a?21:12):(c+=10,d=a?11:1,e="#f66");return[{line:!0,line_color:"#fff",line_width:c+2,zindex:d-1,snaptopixel:!1},{line:!0,line_color:e,line_width:c,zindex:d,snaptopixel:!1}]}}function e(a,b){return function(c){c=2;var d,e,f,g="#00b";a&&(c+=4,b&&(g=Ec));b?(c=a?8:4,d=a?31:22,e=g,f="#fff"):(c+=-2,d=a?22:13,e="#f66",f="#000");return[{circle:!0,line:!0,circle_radius:c+2,line_color:g,
line_width:2,zindex:d-1,snaptopixel:!1},{circle:!0,line:!0,circle_radius:c,line_color:e,line_width:1,zindex:d,snaptopixel:!1,fill:!0,fill_opacity:50,fill_color:f}]}}function d(a,b,c){a=(a?ta?"Custom":"Shape":"Model")+":";a+=" <b>"+b.coordinates.length+"</b> segments, <b>"+tf.js.CountMLSPoints(b)+"</b> points";c.innerHTML=a}function b(){var a=tf.js.CountMLSPoints(ta),b=tf.js.CountMLSPoints(fa),a="( Custom : Model ) ratio is <b>"+(0!=a?(b/a*100).toFixed(1):"?")+"%</b>";jb.innerHTML=a}function f(){d(!0,
fa,mb);b()}function h(){var a=ta?ta:fa;a&&(a.style=c(!1,!1),a.hoverStyle=c(!0,!1),a=(new tf.map.Feature(a)).GetExtent())&&(a=tf.js.ScaleMapExtent(a,1.4),da.SetVisibleExtent(a))}function k(){ib.GetHTMLElement().style.display=Ha.GetHTMLElement().style.display="block";bc=za=xa=!1;Ua=eb=Oa=void 0;K(qb.showPointsButton,$a);d(!0,fa,mb);ta?(Ub.display=Ic.display="block",K(Wa.showPointsButton,Fa),rb.cloneButton.GetHTMLElement().style.display="inline-block",d(!1,ta,pb)):rb.cloneButton.GetHTMLElement().style.display=
Ub.display=Ic.display="none";b();ta&&(wa=A(Ea,ta,!1).lsFeatures,wb=u(xb,!1,wa.length,ta));C();setTimeout(function(){X();setTimeout(function(){h()},50)},10)}function g(a){tf.js.GetIsArray(a)||(a=[a]);for(var b in a){var c=a[b];c&&c.visible&&(c.layer.DelMapFeature(c.feature),c.visible=!1,g(c.pointsFeature))}}function l(a,b){tf.js.GetIsArray(a)||(a=[a]);for(var c in a){var d=a[c];d&&!d.visible&&(d.layer.AddMapFeature(d.feature,b),d.visible=!0,(d.isSmall?$a:Fa)&&l(d.pointsFeature,b))}}function m(a,b,
c,d){a&&(a.SetStyle(d?b:c),ca.ApplyStyleProperties(a,Cb))}function n(a){tf.js.GetIsArray(a)||(a=[a]);for(var b in a){var c=a[b],d=p(c),e=(d=d?d.visible:!1)?"Hide":"Show",e=e+(" segment "+(1+c.segmentIndex)+" ("+c.pointCount+" points)");c.ChangeToolTip(e);m(c,Xa,Ra,d)}}function p(a){var b;a&&(b=(a.isSmall?ua:wa)[a.segmentIndex]);return b}function q(a){return function(b){b=La[a];var c=p(b);c&&(c&&(c.visible?g(c):l(c,!1)),n(b));return!1}}function r(a,b,c){var d=(a?"0-":"1-")+b,e=La[d];e||(e=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,
style:!0,label:""+(1+b),tooltip:"Show / Hide this segment",onClick:q(d)})),e.segmentIndex=b,e.isSmall=a,La[d]=e);e&&(e.pointCount=c);n(e);return e}function t(a,b){return{type:"linestring",coordinates:b,style:c(!1,a),hoverStyle:c(!0,a)}}function v(a,b,c,d,f){d={type:"point",coordinates:d,style:e(!1,f),hoverStyle:e(!0,f)};d=new tf.map.Feature(d);c={visible:!1,feature:d,layer:c,isSmall:f};d.props={isMLSPoint:!0,isSmall:f,segIndex:a,pointIndex:b};return c}function w(a,b,c,d){var e=t(d,c),f=new tf.map.Feature(e),
e={visible:!1,feature:f,layer:b,isSmall:d},g=c.length,h=[];f.props={isMLSSeg:!0,isSmall:d,segIndex:a};for(f=0;f<g;++f)h.push(v(a,f,b,c[f],d));e.pointsFeature=h;return e}function A(a,b,c){var d=[];if(b&&tf.js.GetIsNonEmptyArray(b.coordinates)){for(var e=b.coordinates.length,f=0;f<e;++f){var g=b.coordinates[f];tf.js.GetIsNonEmptyArray(g)&&tf.js.GetIsArrayWithMinLength(g[0],2)&&(g=w(f,a,g,c),d.push(g))}l(d,!0);a.AddWithheldFeatures()}return{lsFeatures:d,layer:a,isSmall:c}}function u(a,b,c,d){var e=[];
d=d.coordinates;for(var f=0;f<c;++f){var g=r(b,f,d[f].length);a.AddContent(g);e.push(g)}return e}function C(){ua=A(ma,fa,!0).lsFeatures;Ga=u(kb,!0,ua.length,fa)}function B(){bc&&(ma.DelMapFeature(uc),ma.DelMapFeature(Xb),bc=!1)}function F(a){Ua=eb=Oa=void 0;B();g(ua);ua=void 0;kb.ClearContent();fa=a;C();P();f()}function E(a){if(pa){B();g(ua);ua=void 0;g(wa);wa=ua=void 0;pa=!1;Db.display=ib.GetHTMLElement().style.display=Ha.GetHTMLElement().style.display="none";xb.ClearContent();kb.ClearContent();
var b=a?tf.js.CopyMultiLineStringGeom(fa):void 0;gb&&gb({sender:ea,isConfirmed:a,props:Zc,geom:b})}}function D(a){return function(b){a?E(!0):E(!1)}}function K(a,b){var c=(b?"Hide":"Show")+" points",d=c+" of visible segments";a.SetText(c);a.ChangeToolTip(d);m(a,Xa,Ra,b)}function G(a){return function(b){var c,d;a?(b=qb.showPointsButton,c=ua,d=$a=!$a):(b=Wa.showPointsButton,c=wa,d=Fa=!Fa);for(var e in c){var f=c[e];f.visible&&(d?l(f.pointsFeature):g(f.pointsFeature))}K(b,d);return!1}}function L(a){return function(b){b=
a?Ga:wb;var c=a?ma:Ea;l(a?ua:wa,!0);c.AddWithheldFeatures();n(b);return!1}}function H(a){return function(b){b=a?Ga:wb;g(a?ua:wa);n(b);return!1}}function I(a){if(za)if(Oa){var b=Oa.props,c=b.segIndex,d=b.pointIndex,e=ua[c],g=fa.coordinates[c],h=g.length,k=Yc?d:d+1,d=void 0!=a?a:g[d].slice(0);a=v(c,k,ma,d,!0);g.splice(k,0,d);e.pointsFeature.splice(k,0,a);++h;for(k+=1;k<h;++k)++e.pointsFeature[k].feature.props.pointIndex;l(a);e.feature.SetGeom(new tf.map.FeatureGeom(t(b.isSmall,g)));b=Ga[c];++b.pointCount;
n(b);V(a.feature);xa=!0;f();P()}else za=!1}function J(a,b){xa||za||!Oa||(Yc=!!a,za=!0,I(b))}function N(a){return function(b){J(a);return!1}}function M(a){return function(b){if(!xa&&!za&&eb&&(b=eb.props,b.isSmall)){b=ua[b.segIndex];var c=b.pointsFeature.length;0<c&&(V(b.pointsFeature[a?0:c-1].feature),Yc=!!a,za=!0,I())}return!1}}function P(){setTimeout(function(){Db.display="none"},100)}function Q(a,b){if(!xa&&!za&&tf.js.GetIsNonEmptyArray(a)){var c,d;if(tf.js.GetIsArray(a[0])){d=a.length;c=[];for(var e in a)c.push(a[e].slice(0))}else d=
1,c=[a.slice(0)];var g=ua.length;e=w(g,ma,c,!0);var h=e.feature;fa.coordinates.push(c);ua.push(e);l(e);c=r(!0,g,d);Ga.push(c);kb.AddContent(c);f();b?(V(e.pointsFeature[0].feature),J(!1)):V(h)}}function R(a){var b=ua.length;if(0<=a&&a<b){var b=ua[a],c=b.feature==eb;if(c)B();else for(var d in b.pointsFeature){var e=b.pointsFeature[d];if(e.feature==Oa){c=!0;break}}c&&(Ua=eb=Oa=void 0);g(b);ua.splice(a,1);fa.coordinates.splice(a,1);c=ua.length;for(d=a;d<c;++d){b=ua[d];--b.feature.props.segIndex;for(var h in b.pointsFeature)e=
b.pointsFeature[h],--e.feature.props.segIndex;d<c&&(a=Ga[d],a.pointCount=Ga[d+1].pointCount,n(a))}kb.GetHTMLElement().removeChild(Ga[c].GetHTMLElement());Ga.pop();f();P()}}function S(){if(!xa&&!za&&eb)return R(eb.props.segIndex)}function T(){if(!xa&&!za&&Oa){var a=Oa.props,b=a.segIndex,c=a.pointIndex,d=ua[b],e=fa.coordinates[b],h=e.length;if(1<h){e.splice(c,1);var k=d.pointsFeature[c];d.pointsFeature.splice(c,1);--h;for(var l=c;l<h;++l)--d.pointsFeature[l].feature.props.pointIndex;g(k);Ua=Oa=void 0;
d.feature.SetGeom(new tf.map.FeatureGeom(t(a.isSmall,e)));a=Ga[b];--a.pointCount;n(a);c>=h&&--c;V(d.pointsFeature[c].feature);f();P()}else R(b)}}function aa(a,b){var c;c=b.isSmall?" custom ":" model ";ta||(c=" ");var d="seg "+(1+b.segIndex);b.isMLSPoint&&(d+=" point "+(1+b.pointIndex));return c=(a?a+" ":"")+(c+d)}function ba(a,b){var c=b.isSmall,d=aa(a,b);c&&(d+="<br/>- click to select<br/>- double-click to move<br/>- control-double-click to delete<br/>- shift-click to add after<br/>- control-shift-click to add before");
return d+"<br/>"}function ia(a,b){var c=b.isSmall,d=aa(a,b);return d=(c?d+"<br/>- click to select<br/>- shift-click to add point<br/>- control-double-click to delete":d+"<br/>- double-click to clone")+"<br/>"}function V(a){Ua&&(B(),Ua.SetIsAlwaysInHover(!1),Ua=Oa=eb=void 0);var b=a?a.props:void 0;b&&(b.isSmall&&(b.isMLSPoint?Ua=Oa=a:b.isMLSSeg&&(Ua=eb=a)),Ua&&Ua.SetIsAlwaysInHover(!0));Ua&&(a=aa(Xc,b),Ab.innerHTML=a,Pb.ClearContent(),b.isMLSPoint?Pb.AddContent(Vc):b.isMLSSeg&&(Pb.AddContent(ac),eb&&
(b=fa.coordinates[eb.props.segIndex],a=b.length,0<a&&(uc.SetPointCoords(b[0]),Xb.SetPointCoords(b[a-1]),ma.AddMapFeature(uc),ma.AddMapFeature(Xb),bc=!0))))}function U(a){if(pa){var b=a.mapFeature,c=b?b.props:void 0,d=void 0,e,f,g,h,k,l=a.mapEvent,m=l?l.originalEvent.ctrlKey:!1,l=l?l.originalEvent.shiftKey:!1,n=!1;c&&(c.isMLSPoint?(g=e=b,h=c.isSmall):c.isMLSSeg&&(g=f=b,h=c.isSmall));if(xa){var n=a.eventCoords,p=Oa.props,q=p.segIndex,r=p.pointIndex,u=ua[q],q=fa.coordinates[q];Oa.SetPointCoords(n);q[r]=
n;u.feature.SetGeom(new tf.map.FeatureGeom(t(p.isSmall,q)));za?(n=aa("adding:",Oa.props),n+="<br />- click to position and add next<br />- double click to stop adding"):(n=aa("moving:",Oa.props),n+="<br />- click to stop");Fc=n}switch(a.eventName){case tf.consts.mapMouseMoveEvent:k=!(xa||za);break;case tf.consts.mapClickEvent:xa?(xa=!1,za&&I()):xa||za||V(void 0);break;case tf.consts.mapDblClickEvent:xa||za||Q(a.eventCoords,!0);break;case tf.consts.mapFeatureClickEvent:n=!1;if(xa)n=!0,xa=!1,za&&I();
else if(m)n=!0,Q(a.eventCoords,!0);else if(g&&h&&(n=!0,V(b),l))if(c.isMLSPoint)J(!m);else if(c.isMLSSeg){k=c.segIndex;var w=tf.helpers.HitTestMapCoordinatesArray(fa.coordinates[k],a.eventCoords);w.closestPoint&&(V(ua[k].pointsFeature[w.minDistanceIndex].feature),setTimeout(function(){J(!1,w.closestPoint)},100))}k=!n;break;case tf.consts.mapFeatureDblClickEvent:xa||za?za?g==Ua&&(xa=za=!1,T()):xa&&(xa=!1):g&&(h?(V(b),m?c.isMLSPoint?T():S():xa=c.isMLSPoint):c.isMLSSeg&&Q(ta.coordinates[c.segIndex],!1));
break;case tf.consts.mapFeatureMouseMoveEvent:k=!(xa||za);break;case tf.consts.mapFeatureHoverInOutEvent:xa||za||(Fc=!a.isInHover||xa||za?void 0:e?ba(oc,c):f?ia(oc,c):void 0)}a=Fc;k&&(a=void 0!=a?a+"- control-click to start a new segment<br />":"- double-click map to start a new segment<br />");void 0!=a&&(d=void 0!=d?d+a:a);a=void 0!=d;k=void 0!=Ua&&!xa;a?(hc.innerHTML=d,Nb.display="block"):Nb.display="none";Dc.display=k?"block":"none";Db.display=a||k?"block":"none"}}function ha(a){var b=new tf.dom.Div({cssClass:Aa});
b.GetHTMLElement().innerHTML=a;return b}function Y(a){var b=new tf.dom.Div({cssClass:Rb}),c=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Show All",tooltip:"Show All Segments",onClick:L(a)})),d=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Hide All",tooltip:"Hide All Segments",onClick:H(a)}));a=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Hide Points",tooltip:"Show / Hide points of visible segments",onClick:G(a)}));m(a,Xa,Ra,!0);b.AddContent(c,
d,a);return{panelDiv:b,showAllButton:c,hideAllButton:d,showPointsButton:a}}function ka(){F({type:"multilinestring",coordinates:[]});fb.Toast({text:"Shape cleared"});return!1}function qa(){dc&&dc.Close();dc=fb.Toast({text:"Cloning model shape...",timeout:0});setTimeout(function(){F(tf.js.CopyMultiLineStringGeom(ta));dc.Close();dc=fb.Toast({text:"Model shape was cloned"})},10);return!1}function la(){ec&&ec.Close();ec=fb.Toast({text:"Merging segments in shape...",timeout:0});setTimeout(function(){F(pd.Merge(fa));
ec.Close();ec=fb.Toast({text:"Segments were merged"})},10);return!1}function ra(){fc&&fc.Close();fc=fb.Toast({text:"Simplifying points in shape...",timeout:0});setTimeout(function(){F({type:"multilinestring",coordinates:tf.map.SimplifyMLSCoords(fa.coordinates,1)});fc.Close();fc=fb.Toast({text:"Shape points were simplified"})},10);return!1}function ja(a){var b=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Move",tooltip:"Move selected point",onClick:function(a){xa||za||!Oa||(xa=!0,
P())}})),c=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Add Before",tooltip:"Add point(s) before this point",onClick:N(!0)})),d=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Add After",tooltip:"Add point(s) after this point",onClick:N(!1)})),e=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Delete",tooltip:"Delete this point",onClick:T}));a.AddContent(b,c,d,e)}function X(){da.OnResize();return!1}function ya(a,b){return{marker_horpos:"center",
marker_verpos:"bottom",marker:!0,label:a?"start":"end",font_height:b?16:14,zindex:b?41:40,marker_color:b?"#ffd":"#fff",font_color:"#008",line_width:1,line_color:"#ffffff",marker_opacity:b?100:80,border_opacity:60,border_color:"#000"}}function va(a){return{type:"point",coordinates:[0,0],style:ya(a,!1),hoverStyle:ya(a,!0)}}var ea,ca,sa,pa,da,Ea,ma,ta,fa,Ba,O,Ca,Ka,Qa,ib,wa,ua,gb,Ha,Wa,qb,rb,xb,kb,pb,mb,jb,La,Xa,Ra,Fa,$a,wb,Ga,Ya,cd,Db,Mb,hc,Nb,Tb,Cc,Dc,Ec,Fc,Ua,eb,Oa,Ab,Vc,ac,Pb,oc,Xc,xa,za,Yc,uc,Xb,
bc,Zc,fb,Ub,Ic,Lb,vc,Cb,Ja,pd;this.GetToaster=function(){return fb};this.GetIsEditing=function(){return pa};this.Edit=function(a){!pa&&tf.js.GetIsValidObject(a)&&(pa=!0,ta=tf.js.CopyMultiLineStringGeom(a.mlsGeom),0==tf.js.CountMLSPoints(ta)&&(ta=void 0),fa=tf.js.CopyMultiLineStringGeom(a.mlsSmallGeom),Ba=tf.js.GetNonEmptyString(a.title,"Route shape editor"),Ca.SetText(Ba),pa=!0,Zc=a.props,k())};this.OnResize=function(){return X()};this.OnClose=function(a){return E(a)};var dc,ec,fc,$c,xc,cc,db,ob,
Aa,hb,vb,Rb,nb,yc,ad,Ac,Sb,zc;ea=this;Ja="16px";pd=new tf.map.MLSSegMerger({logErrors:!1});(vc=!tf.js.GetMapFrom(a.map))?sa=a.topDiv:(da=a.map,sa=da.GetMapMapContainer());Lb=a.minZIndex?a.minZIndex:50;Fa=void 0!=a.showPoints?a.showPoints:!0;$a=void 0!=a.showCustomPoints?a.showCustomPoints:!0;gb=tf.js.GetFunctionOrNull(a.onClose);ca=tf.GetStyles();(function(){$c=tf.GetNextDynCSSClassName();xc=tf.GetNextDynCSSClassName();cc=tf.GetNextDynCSSClassName();db=tf.GetNextDynCSSClassName();ob=tf.GetNextDynCSSClassName();
Aa=tf.GetNextDynCSSClassName();hb=tf.GetNextDynCSSClassName();vb=tf.GetNextDynCSSClassName();Rb=tf.GetNextDynCSSClassName();nb=tf.GetNextDynCSSClassName();yc=tf.GetNextDynCSSClassName();ad=tf.GetNextDynCSSClassName();Ac=tf.GetNextDynCSSClassName();Sb=tf.GetNextDynCSSClassName();zc=tf.GetNextDynCSSClassName();var a=[{styleName:"."+zc,inherits:{border:"2px solid red",borderRadius:"6px",padding:"8px",fontSize:"18px",lineHeight:"20px",color:"darkblue",backgroundColor:"orange",textShadow:"2px 2px 3px white",
cursor:"default"}},{styleName:"."+Sb,inherits:{display:"block",position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",border:"none",margin:"0px",padding:"0px"}},{styleName:"."+Ac,inherits:{textAlign:"left",borderTop:"1px solid gold"}},{styleName:"."+ad,inherits:{left:"20px",bottom:"20px",overflow:"auto",maxHeight:"calc(100% - 44px)"}},{styleName:"."+yc,inherits:{right:"20px",bottom:"20px",overflow:"auto",maxWidth:"25%",maxHeight:"calc(100% - 44px)"}},{styleName:"."+nb,inherits:{width:"100%"}},
{styleName:"."+Rb,inherits:{paddingTop:"2px",paddingBottom:"2px",borderLeft:"1px solid blue",borderRight:"1px solid blue",borderTop:"1px solid gold"}},{styleName:"."+vb,inherits:{overflow:"hidden",backgroundColor:"transparent",width:"100%",height:"100%",border:"none"}},{styleName:"."+hb,inherits:{paddingTop:"2px",paddingBottom:"2px",borderLeft:"1px solid blue",borderRight:"1px solid blue",borderTop:"1px solid gold"}},{styleName:"."+Aa,inherits:{backgroundColor:"rgba(255, 255, 255, 0.7)",color:"#008",
border:"1px solid blue",borderBottom:"1px solid orange",margin:"0px",lineHeight:"20px",fontSize:"14px",fontWeight:"500",padding:"4px",borderTopLeftRadius:"6px",borderTopRightRadius:"6px"}},{styleName:"."+ob,inherits:{left:"20px",top:"20px"}},{styleName:"."+$c,inherits:{margin:"0px",padding:"0px",border:"none",display:"block"}},{styleName:"."+xc,inherits:{padding:"4px",fontSize:"90%",backgroundColor:"rgba(255, 255, 255, 0.7)",marginBottom:"4px",display:"block",borderBottom:"1px solid brown"}},{styleName:"."+
cc,inherits:{display:"block",border:"none",padding:"2px",marginTop:"2px",borderTop:"1px solid rgba(255, 255, 255, 0.7)"}},{styleName:"."+db,inherits:{position:"absolute",margin:"4px",border:"2px solid red",borderRadius:"6px",fontSize:"18px",lineHeight:"20px",color:"darkblue",backgroundColor:"orange",textShadow:"2px 2px 3px white",cursor:"default",display:"block",zIndex:"10",textAlign:"center",boxShadow:"2px 2px 4px 1px rgba(0,0,0,0.75)"}}];ca.GetStyleCreator().CreateStyles(a)})();Cb={textShadow:"1px 1px 1px #000"};
Ka=ca.CreateTextDivBtnClasses("white","green","white","darkgreen");Qa=ca.CreateTextDivBtnClasses("white","red","white","darkred");Xa=ca.CreateTextDivBtnClasses("white","green","white","darkgreen");Ra=ca.CreateTextDivBtnClasses("white","red","white","darkred");La={};Ec="#ffaa00";oc="hover:";Xc="selected:";uc=new tf.map.Feature(va(!0));Xb=new tf.map.Feature(va(!1));pa=!1;(function(){var b={name:"",isVisible:!0,isHidden:!0,useClusters:!1,zIndex:Lb};if(vc){var c=tf.consts.panelNameNoAddress+"+"+tf.consts.panelNameNoMapLocation+
"+"+tf.consts.panelNameNoUserLocation,d=new tf.dom.Div({cssClass:Sb}),c=tf.js.ShallowMerge({mapEngine:tf.consts.mapnik2Engine,mapType:tf.consts.typeNameMap,mapSource:tf.consts.sourceName_best_available,container:d,panels:c,extent:void 0,viewSettings:void 0,level:16,showMapCenter:!1,showScale:!0,center:tf.consts.defaultMapCenter});da=new tf.map.Map(c);sa.AddContent(d)}da.ShowMapCenter(!1);da.SetHasInteractions(!0);da.SetGoDBOnDoubleClick(!1);da.SetUsePanOnClick(!1);da.SetView({minLevel:11,maxLevel:18});
da.AddListener(tf.consts.mapMouseMoveEvent,U);da.AddListener(tf.consts.mapClickEvent,U);da.AddListener(tf.consts.mapDblClickEvent,U);da.AddListener(tf.consts.mapFeatureClickEvent,U);da.AddListener(tf.consts.mapFeatureDblClickEvent,U);da.AddListener(tf.consts.mapFeatureMouseMoveEvent,U);da.AddListener(tf.consts.mapFeatureHoverInOutEvent,U);b.name="Full Shape";++b.zIndex;Ea=da.AddFeatureLayer(b);b.name="Custom Shape";++b.zIndex;ma=da.AddFeatureLayer(b);O=new tf.dom.Div({cssClass:$c});b=new tf.dom.Div({cssClass:xc});
Ca=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"",tooltip:"Click to set map extent",onClick:h}));b.AddContent(Ca);O.AddContent(b);a.noSaveCancel||(b=new tf.dom.Div({cssClass:cc}),d=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:Ka,label:"Save",tooltip:"Save Shape",onClick:D(!0)})),c=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:Qa,label:"Cancel",tooltip:"Cancel",onClick:D(!1)})),ca.ApplyStyleProperties(d,Cb),ca.ApplyStyleProperties(c,Cb),b.AddContent(d,c),b.GetHTMLElement().style.textAlign=
"right",O.AddContent(b));ib=new tf.dom.Div({cssClass:db+" "+ob});ib.AddContent(O);ib.GetHTMLElement().style.display="none";b=new tf.dom.Div({cssClass:vb});d=new tf.dom.Div({cssClass:vb});c=new tf.dom.Div({cssClass:vb});Ub=b.GetHTMLElement().style;d.GetHTMLElement();Ic=c.GetHTMLElement().style;var e=ha("Model Shape"),f=ha("Custom Shape"),g=ha("Statistics");pb=e.GetHTMLElement();mb=f.GetHTMLElement();jb=g.GetHTMLElement();Wa=Y(!1);qb=Y(!0);var k=new tf.dom.Div({cssClass:Rb}),l=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,
style:!0,label:"Clear",tooltip:"Delete all segments",onClick:ka})),m=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Clone",tooltip:"Replace with a copy of the model shape",onClick:qa})),n=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Merge",tooltip:"Merge redundant segments",onClick:la})),p=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Simplify",tooltip:"Reduce the number of points",onClick:ra}));k.AddContent(l,m,n,p);rb={panelDiv:k,clearButton:l,
cloneButton:m,mergeButton:n,simplifyButton:p};xb=new tf.dom.Div({cssClass:hb});kb=new tf.dom.Div({cssClass:hb});b.AddContent(e,Wa.panelDiv,xb);d.AddContent(f,qb.panelDiv,rb.panelDiv,kb);c.AddContent(g);e=new tf.dom.Div({cssClass:nb});Ha=new tf.dom.Div({cssClass:db+" "+yc});e.AddContent(b,d,c);Ha.AddContent(e);Ha.GetHTMLElement().style.display="none";b=new tf.dom.Div({cssClass:nb});Ya=new tf.dom.Div({cssClass:db+" "+ad});cd=Ya.GetHTMLElement();Db=cd.style;Db.display="none";Db.textAlign="left";Mb=new tf.dom.Div({cssClass:Aa});
hc=Mb.GetHTMLElement();Nb=hc.style;Nb.display="none";hc.title="Available actions";Tb=new tf.dom.Div({cssClass:Ac});Cc=Tb.GetHTMLElement();Dc=Cc.style;Dc.display="none";d=new tf.dom.Div({cssClass:Aa});Ab=d.GetHTMLElement();Ab.title="Currently selected item";Pb=new tf.dom.Div;Vc=new tf.dom.Div({cssClass:Rb});ja(Vc);c=ac=new tf.dom.Div({cssClass:Rb});e=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Add Start",tooltip:"Add point(s) before the start of this segment",onClick:M(!0)}));
f=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Add End",tooltip:"Add point(s) after the end of this segment",onClick:M(!1)}));g=ca.AddButtonDivMargins(new tf.ui.TextBtn({dim:Ja,style:!0,label:"Delete",tooltip:"Delete this segment",onClick:S}));c.AddContent(e,f,g);Tb.AddContent(d,Pb);b.AddContent(Mb,Tb);Ya.AddContent(b);sa.AddContent(ib,Ha,Ya)})();fb=new tf.ui.Toaster({container:sa,timeout:2E3,className:"",style:{zIndex:20,position:"absolute",right:"0px",top:"0px"},toastClassName:zc,
toastStyle:{display:"inline-block",margin:"6px",boxShadow:"3px 3px 6px rgba(0,0,0,0.5)"},addBefore:!1})};
tf.map.FullScreenRouteShapeEditor=function(a){function c(a){d.Show(!1);f&&f(a)}function e(a){b.OnResize();h&&h(a);return!1}var d,b,f,h;this.GetIsEditing=function(){return b.GetIsEditing()};this.Edit=function(a){b.GetIsEditing()||(d.Show(!0),b.Edit(a))};this.OnClose=function(a){return b.OnClose(a)};(function(){a=tf.js.GetValidObjectFrom(a);var k=tf.js.GetValidObjectFrom(a.editorSettings),g=tf.js.GetValidObjectFrom(a.fullScreenSettings);f=tf.js.GetFunctionOrNull(k.onClose);h=tf.js.GetFunctionOrNull(g.onResize);
d=new tf.ui.FullScreenDiv(tf.js.ShallowMerge(g,{onResize:e}));b=new tf.map.RouteShapeEditor(tf.js.ShallowMerge(k,{onClose:c,topDiv:d.GetTopDiv()}))})()};
tf.map.aux.GeoCodeFlyer=function(a,c,e){function d(b){a.SetHasInteractions(!0);h()}function b(b){a.AnimatedSetCenter([g,k],f,1250,!1)}function f(b){a.AnimatedSetLevel(l,d,tf.consts.defaultMapAnimatedDurationPerLevelMillis,!1)}function h(){q=!0;a&&"function"==typeof c&&c.call(a,k,g,m,n)}var k=0,g=0,l=0,m="",n="",p=!1,q=!1,r=!1,t=!1;this.GetAddressStr=function(){return e};this.HasStarted=function(){return r};this.HasCompleted=function(){return q};this.WasCancelled=function(){return p};this.IsFlying=
function(){return r&&!q};this.DidMove=function(){return t};this.Cancel=function(){p=!r};this.DelayCallBack=function(c,e,f,q){if(!p)if(r=!0,k=c,g=e,l=a.GetLevel(),m="string"===typeof f?f.trim():"",n="string"===typeof q?q.trim():"",0==m.length)if(0==c||0==e)m=tf.consts.defaultGeocoderError,h();else{if(-90<=c&&90>=c&&-180<=e&&180>=e)if(f=[0,0],q=[0,0],a.IsSamePixelAsCenter([e,c]))h();else{var C=a.GetCenter(),B=C[1],C=C[0],F=a.GetPixelSize();B>=c?(f[1]=B,q[1]=c):(f[1]=c,q[1]=B);C<=e?(f[0]=C,q[0]=e):(f[0]=
e,q[0]=C);c=tf.units.GetBoundsZoomLevel(f,q,F[0],F[1]);t=!0;a.EndAnimation();a.SetHasInteractions(!1);l<c?a.AnimatedSetCenter([g,k],d,1250,!1):a.AnimatedSetLevel(c,b,tf.consts.defaultMapAnimatedDurationPerLevelMillis,!1)}}else h()}};tf.map.aux.GeoCodeReporter=function(a){this.DelayCallBack=function(c,e,d,b){if("function"===typeof a){var f=setTimeout;a.call(null,c,e,d,b);f(void 0,10)}}};
tf.map.aux.RevGeocoder=function(a,c,e){function d(a){f.LoadHTMLFeed(a.eventCoords[1],a.eventCoords[0])}function b(a){k.Download=null;k.ID==a.requestProps&&200==a.httpRequest.status&&(a=unescape(a.httpRequest.responseText),a=a.replace(/\+/g," "),a=a.replace(/<\/br>/g,""),a=a.replace(/<br>/g," "),a=a.replace(/<p>/g," "),a=a.replace(/<u>/g,""),a=a.replace(/<\/u>/g,""),a=a.replace(/<b>/g,""),a=a.replace(/<\/b>/g,""),a=a.replace(/<font color="#0000FF">/g,""),a=a.replace(/<\/font>/g,""),h&&c("Map Center",
a,!0))}var f=null,h=null;this.SetListenToMoveEnd=function(b){a&&(b=!!b)!=f.IsListeningToMoveEnd()&&(b?(h=a.AddListener(tf.consts.mapMoveEndEvent,d),c("Map Center","Retrieving...",!1),b=a.GetCenter(),f.LoadHTMLFeed(b.Latitude,b.Longitude)):(h.OnDelete(),h=null))};this.IsListeningToMoveEnd=function(){return null!=h};this.TryShowGeocode=function(b,c,d,e){a&&("string"===typeof d&&0<d.length?a&&a.ShowMessage(d):this.LoadHTMLFeed(b,c))};var k={ID:0,Latitude:0,Longitude:0,Download:null};this.LoadHTMLFeed=
function(c,d){e.ShowTitleColorInfo(!1);c=tf.js.GetLatitudeFrom(c);d=tf.js.GetLongitudeFrom(d);var f="http://vn4.cs.fiu.edu/cgi-bin/reversegeocoder.cgi?Res="+a.GetResolution()+"&Lat="+c+"&Long="+d,h=a.GetVIDParamStr();h&&(f+="&vid="+h);(h=a.GetTFPassThroughString())&&(f+=h);k.Download&&(k.Download.Cancel(),k.Download=null);k.ID++;k.Latitude=c;k.Longitude=d;k.Download=new tf.ajax.GetRequest({url:f,onDataLoaded:b,requestProps:k.ID,autoSend:!0,useRedirect:!1,overrideMimeType:"text/xml"})};f=this};
tf.map.aux.GoDBPage=function(a){function c(a){if(d){var c=tf.js.GetLatitudeFrom(a[1]);a=tf.js.GetLongitudeFrom(a[0]);if(0!=c&&0!=a){c="http://vn4.cs.fiu.edu/cgi-bin/gnis.cgi?Res="+d.GetResolution()+"&Lat="+c+"&Long="+a;a=d.GetVIDParamStr();var e=d.GetTFPassThroughString();a&&(c+="&vid="+a);e&&(c="&"==e.charAt(0)?c+e:c+("&"+e));window.open(c,b)}}}var e,d,b;this.GoDBByAddress=function(a){d&&("string"===typeof a&&0<a.length?new tf.services.Geocoder({address:a,callBack:function(a){var b=a?a.pointCoords:
[0,0],e=b[1],b=b[0];a=a.errormsg;0==e||0==b?(a=void 0==a||"string"!=typeof a||0==a.length?tf.consts.defaultGeocoderError:a.trim(),d&&d.ShowMessage(a)):-90<=e&&90>=e&&-180<=b&&180>=b&&c([b,e])}}):e.GoDBByCenterCoords())};this.GoDBByCoords=function(a){c(a)};this.GoDBByCenterCoords=function(){d&&e.GoDBByCoords(d.GetCenter())};e=this;d=a.map;b=a.linkTargetStr?a.linkTargetStr:"_top"};
tf.map.aux.MapDrawInteraction=function(a,c,e){function d(a,b){b||(b=new ol.geom.Polygon(null));N=b;var c=a[0],d=a[1],e,f,g;c[0]<d[0]?(e=c[0],f=d[0]):(e=d[0],f=c[0]);c[1]<d[1]?(g=c[1],c=d[1]):(g=d[1],c=c[1]);M[0]=[e,g];M[1]=[f,c];b.setCoordinates([[[e,g],[e,c],[f,c],[f,g],[e,g]]]);return b}function b(a){t()}function f(b){L=[M[0][0],M[0][1],M[1][0],M[1][1]];H=ol.extent.applyTransform(L,ol.proj.getTransform(tf.consts.olSystem,tf.consts.tmSystem));b=(H[0]+H[2])/2;var c=(H[1]+H[3])/2;K=new ol.Feature({geometry:N});
e.addFeature(K);a.AnimatedSetCenterIfDestVisible([b,c])}function h(){I&&(c.removeOverlay(I.olOverlay),I=null)}function k(a,b){N||(b=new ol.geom.Polygon(null));M=a;N=b;b.setCoordinates(M);var d=N?N.getArea():0;null==I&&(I=A(""),c.addOverlay(I.olOverlay));if(I){var e=0,f=0,g=N&&N.getCoordinates?N.getCoordinates():null,h=g?g.length:0;if(0<h){for(var h=(g=g[0])?g.length:0,k=0;k<h;k++)e+=g[k][0],f+=g[k][1];0<h&&(e/=h,f/=h)}I.olOverlay.setPosition([e,f]);e=tf.units.GetSquareMetersToSquareFeet(d);f=tf.units.GetAcresFromSquareMeters(d);
I.container.innerHTML=d.toFixed(3)+" sq m<br/>"+e.toFixed(3)+" sq ft<br/>"+f.toFixed(3)+" acres"}return b}function g(a){v();t()}function l(a){K=new ol.Feature({geometry:N});e.addFeature(K);N=M=null}function m(a,b){if(b){var d=a.length,e=M.length,f=a[d-1];e==d?M[e-1]=f:M.push(f)}else b=new ol.geom.LineString(null),M[0]=a[0],M[1]=a[1];var d=P.length,g=M.length,e=M[g-2],f=M[g-1],h=e[0],k=e[1],e=f[0],f=f[1],l=(h+3*e)/4,m=(k+3*f)/4,h=tf.units.OL2TM([h,k]),k=tf.units.OL2TM([e,f]),h=tf.units.GetDistanceInMetersBetweenMapCoords(h,
k);if(!isFinite(h)||isNaN(h))h=0;var n=h/1E3;1E3<Q+h||1E3<h?(k=n.toFixed(3)+" km",n=(.62137*n).toFixed(3)+" mi"):(k=h.toFixed(3)+" m",n=tf.units.GetMetersToFeet(h).toFixed(3)+" ft");g=d<g-1;if(0<Q){var p=Q+h,q=p/1E3,r;1E3<p?(r=q.toFixed(3)+" km",p=(.62137*q).toFixed(3)+" mi"):(r=p.toFixed(3)+" m",p=tf.units.GetMetersToFeet(p).toFixed(3)+" ft");k=r+" ["+k+"]<br/><br/>"+p+" ["+n+"]"}else k=k+"<br/><br/>"+n;g?(new ol.geom.Point([l,m]),d=A(k),P.push(d),c.addOverlay(d.olOverlay),Q+=R):d=P[d-1];R=h;d.container.innerHTML=
k;d.olOverlay.setPosition([e,f]);N=b;b.setCoordinates(M);return b}function n(a){h();r();t();v()}function p(a){a=N;var b=a.getCoordinates(),d=b.length;1<d&&(b.splice(d-1,1),a.setCoordinates(b),M=b,a=P.length,1<a&&(c.removeOverlay(P[a-1].olOverlay),c.removeOverlay(P[a-2].olOverlay),P.splice(a-2,2)));K=new ol.Feature({geometry:N});e.addFeature(K);a=new ol.geom.MultiPoint(M);a=new ol.Feature({geometry:a});e.addFeature(a);G.push(a);M=[];N=null}function q(a,b,d){M=[];N=null;T="function"===typeof d?d:null;
B=new ol.interaction.Draw({type:F,freehandCondition:ol.events.condition.never,geometryFunction:E,maxPoints:D});B.on("drawstart",a);B.on("drawend",b);c.addInteraction(B)}function r(){S=R=Q=0;if(P){for(var a=P.length,b=0;b<a;++b)c.removeOverlay(P[b].olOverlay);P=[]}}function t(){K&&(e.removeFeature(K),K=null)}function v(){if(G){for(var a=G.length,b=0;b<a;++b)e.removeFeature(G[b]);G=[]}}function w(){H=L=null;h();t();r();v();B&&(c.removeInteraction(B),B=null,T&&T.call(a,u))}function A(a){var b=(new tf.dom.Div({cssClass:C.mapMeasureOverlayDivClass})).GetHTMLElement();
b.style.zIndex=++S;b.innerHTML=a;return{olOverlay:new ol.Overlay({positioning:"center-center",element:b,stopEvent:!1}),container:b}}var u=null,C=tf.GetStyles(),B=null,F=null,E=void 0,D=void 0,K=null,G=[],L=null,H=null,I=null,J=null,N=null,M=null,P=[],Q=0,R=0,S=0,T=null;this.Start=function(a,c){if(a&&"string"==typeof a)switch(J=a,a.toLowerCase()){case "box":return w(),F="LineString",E=d,D=2,q(b,f,c);case "poly":return w(),F="Polygon",E=k,D=void 0,q(g,l,c);case "lines":return w(),F="LineString",E=m,
D=void 0,q(n,p,c);default:J=""}};this.GetLastIntereractionType=function(){return J};this.GetIsInteracting=function(){return!!B};this.GetBoxExtent=function(){return L};this.GetMapExtent=function(){return H};this.GetSavedGeom=function(){return N};this.GetSavedCoords=function(){return M};this.Restore=function(){B&&c.addInteraction(B)};this.Cancel=function(){return w()};u=this};
tf.map.ui.CreateMapButtonTextSpan=function(a){var c=document.createElement("span");c.className="ol-button-text-span";c.innerHTML=tf.js.GetNonEmptyString(a)?a:"";return c};
tf.map.ui.CustomControl=function(a,c,e,d,b){this.GetHTMLElement=function(){return k};this.GetButton=function(){return h};this.ChangeTitle=function(a,b){h&&(h.innerHTML=a,h.title=b)};this.ChangeToolTip=function(a){h&&(h.title=a)};var f=tf.js.GetValidObjectFrom(b);a=f.tipLabel?f.tipLabel:"";var f=f.imageLabel?f.imageLabel:null,h=document.createElement("button"),k=document.createElement("div");h.title=a;f?f.AppendTo(h):h.appendChild(tf.map.ui.CreateMapButtonTextSpan(e));d&&new tf.events.DOMClickListener({target:h,
callBack:d,optionalScope:void 0,callBackSettings:void 0});"string"!==typeof c&&(c="");k.style.zIndex=1;k.className=c+" ol-unselectable ol-control";k.appendChild(h);ol.control.Control.call(this,{target:b.target,hover:!1,highlightOnly:!1,element:k})};tf.js.InheritFrom(tf.map.ui.CustomControl,ol.control.Control);
tf.map.ui.CustomLogo=function(a,c,e){this.GetHTMLElement=function(){return d};e=tf.js.GetValidObjectFrom(e);a=e.imageLabel?e.imageLabel:null;var d=document.createElement("div");e=e.innerHTML;"string"!==typeof c&&(c="");d.className=c+" ol-unselectable";a&&a.AppendTo(d);void 0!=e&&(d.innerHTML=e);ol.control.Control.call(this,{hover:!1,highlightOnly:!1,element:d})};tf.js.InheritFrom(tf.map.ui.CustomLogo,ol.control.Control);
tf.map.FeatureLayer=function(a){function c(){t&&t.call(n,this);var a=tf.consts.mapFeatureLayerVisibilityChangeEvent;R.Notify(a,tf.js.ShallowMerge({isVisible:w},{sender:m,eventName:a}))}function e(a){a=tf.js.GetFloatNumberInRange(a,0,1,1);B!=a&&(B=a,D&&D.setOpacity(B))}function d(a){a=tf.js.GetFloatNumber(a,0);C!=a&&(C=a,D&&D.setZIndex(C))}function b(a,b){if(a||a instanceof tf.map.Feature){var c=a.getAPIFeature();b?K.push(c):F.addFeature(c)}}function f(a,b){if(a instanceof tf.map.Feature||void 0!==
a&&tf.js.GetFunctionOrNull(a.getAPIFeature)){var c=a.getAPIFeature();b?G.push(c):(v&&v(c),F.removeFeature(c))}}function h(){D&&(p.removeLayer(D),D=null)}function k(a,b){var c=a.get("features"),d=c.length,e=null;1==d&&(c=c[0].getProperties(),null!=c&&(c=c.mapFeature)&&(e=c.getAPIStyle()));e||(e=L[d],e||(M?(P?(P=tf.js.ShallowMerge(P,{label:d.toString()}),tf.js.GetIsArray(M)?(e=M.slice(0),e.push(P)):e=void 0==M.style&&void 0==M.hoverStyle?[M,P]:[M.style,P],e=tf.map.GetOrCreateFeatureStyle(e)):e=tf.map.GetOrCreateFeatureStyle(M),
e=e.getAPIStyle()):e=[new ol.style.Style({zindex:100,text:new ol.style.Text({text:d.toString(),font:H,fill:new ol.style.Fill({color:"#000"})})})],L[d]=e));return e}function g(){var a=!D;F=new ol.source.Vector;J?("string"===typeof Q&&0<Q.length||(Q=null),E=new ol.source.Cluster({distance:N,source:F}),a?D=new ol.layer.Vector({source:E,visible:w,style:k,zIndex:C,opacity:B,updateWhileAnimating:!0,updateWhileInteracting:!0}):(D.setStyle(k),D.setSource(E))):a?D=new ol.layer.Vector({source:F,visible:w,zIndex:C,
opacity:B,updateWhileAnimating:!0,updateWhileInteracting:!0}):D.setSource(F);a&&p.addLayer(D)}function l(a,b){var c=tf.js.GetMinMaxLevelsFrom(a,b);a=c.minLevel;b=c.maxLevel;var c=tf.units.GetResolutionByLevel(a),d=tf.units.GetResolutionByLevel(b);D.setMinResolution(c);D.setMaxResolution(d)}var m,n,p,q,r,t,v,w,A,u,C,B,F,E,D,K,G,L,H,I,J,N,M,P,Q,R;this.GetUsesClusters=function(){return J};this.SetUseClusters=function(a){J!=(a=!!a)&&(J=a,a=F.getFeatures(),g(),F.addFeatures(a))};this.AddListener=function(a,
b){return R.AddListener(a,b)};this.GetMap=function(){return n};this.GetName=function(){return q};this.GetDesc=function(){return r};this.ChangeDescription=function(a){tf.js.GetIsString(a)&&a!=r&&(r=a,c())};this.GetIsHidden=function(){return A};this.SetOpacity=function(a){return e(a)};this.GetOpacity=function(){return D.getOpacity()};this.SetZIndex=function(a){return d(a)};this.GetZIndex=function(){return C};this.SetMinMaxLevels=function(a,b){return l(a,b)};this.SetIsForcedInvisible=function(a){u!=
(a=tf.js.GetBoolFromValue(a))&&(u=a,D&&D.setVisible(w&&!u))};this.GetIsForcedInvisible=function(){return u};this.SetVisible=function(a){w!=(a=tf.js.GetBoolFromValue(a))&&(w=a,D&&D.setVisible(w&&!u),c())};this.GetIsVisible=function(){return w};this.ToggleIsVisible=function(){return m.SetVisible(!w)};this.AddWithheldFeatures=function(){K.length&&F.addFeatures(K);K=[]};this.DelWithheldFeatures=function(){if(G.length){v&&v(G);for(var a in G)F.removeFeature(G[a])}G=[]};this.AddKeyedFeature=function(a,
c,d){if(a instanceof tf.map.KeyedFeature){var e=a.GetFeatureKey();if(!I[e]){var f=a.GetMapFeature(c);f&&(I[e]={keyedFeature:a,styleName:c,mapFeature:f},b(f,d))}}};this.ContainsKeyedFeature=function(a){return a instanceof tf.map.KeyedFeature&&void 0!==I[a.GetFeatureKey()]};this.DelKeyedFeature=function(a,b){if(a instanceof tf.map.KeyedFeature){var c=a.GetFeatureKey(),d=I[c];d&&(d=d.mapFeature,delete I[c],f(d,b))}};this.AddMapFeature=function(a,c){return b(a,c)};this.DelMapFeature=function(a,b){return f(a,
b)};this.ContainsMapFeature=function(a){return!!F&&tf.js.GetIsInstanceOf(a,tf.map.Feature)&&!!F.getFeatureById(a.getAPIFeature().getId())};this.RemoveAllFeatures=function(){v&&v(F.getFeatures());I={};g()};this.SetClusterFeatureDistance=function(a){J&&E&&a!=N&&E.setDistance(N=a)};this.SetClusterStyle=function(a){J&&(L={},M=a,E.forEachFeature(function(a){(a=a.getProperties().mapFeature)&&a.RefreshStyle()}))};m=this;C=0;B=1;K=[];G=[];L={};I={};u=!1;R=new tf.events.MultiEventNotifier({eventNames:tf.consts.allMapFeatureLayerEventNames});
H=tf.GetStyles().GetSubStyles().markerFontFamily;q=tf.js.GetNonEmptyString(a.name,"");r=tf.js.GetNonEmptyString(a.description,"");w=tf.js.GetBoolFromValue(a.isVisible,!0);A=tf.js.GetBoolFromValue(a.isHidden,!1);void 0!==a.zIndex&&d(a.zIndex);void 0!==a.opacity&&e(a.opacity);n=tf.js.GetMapFrom(a.map);p=a.olMap;v=tf.js.GetFunctionOrNull(a.notifyDelFeatures);t=tf.js.GetFunctionOrNull(a.notifyVisibilityChange);J=tf.js.GetBoolFromValue(a.useClusters,!1);N=tf.js.GetIntNumberInRange(a.clusterFeatureDistance,
5,1E3,24);M=tf.js.GetIsValidObject(a.clusterStyle)?a.clusterStyle:null;P=tf.js.GetIsValidObject(a.clusterLabelStyle)?a.clusterLabelStyle:null;tf.js.GetFunctionOrNull(a.setDeleteCmdCallBack)&&a.setDeleteCmdCallBack.call(n,m,h);g();tf.js.GetIsValidObject(a.minMaxLevels)&&l(a.minMaxLevels.minLevel,a.minMaxLevels.maxLevel)};
tf.js.ParseLegacyFormatString=function(a){var c={};if(a&&"string"==typeof a){a=a.split(";");for(var e=0;e<a.length;e++){var d=a[e].split("=");void 0!==d&&0<d.length&&(c[d[0].trim().toLowerCase()]=d[1]?d[1].trim():"")}}return c};tf.helpers.GetCoordsFromLatLonString=function(a){var c=[];if(a=tf.js.GetNonEmptyString(a)){if(a)var e=a.split(";");try{for(var d in e){var b=e[d].split(",");2==b.length&&c.push([tf.js.GetLongitudeFrom(b[1]),tf.js.GetLatitudeFrom(b[0])])}}catch(f){c=[]}}return c};
tf.helpers.GetMultiCoordsFromLatLonString=function(a){var c=[],e=tf.js.GetNonEmptyString(a);if(e)if("("==e.charAt(0)){a=e.split("(").slice(1);for(var d in a)0<a[d].length&&"("==a[d].charAt(0)&&tf.GetDebug().LogIfTest("double parenthesis in strPoints"),c.push([tf.helpers.GetCoordsFromLatLonString(a[d])])}else c=tf.helpers.GetCoordsFromLatLonString(a);return c};
tf.helpers.HitTestLatLonArray=function(a,c,e){var d=-1,b=-1;if(a&&"object"===typeof a&&a.length)for(var f=a.length,h=a[0],k=1;k<f;++k){var g=h,h=a[k],l=0,m=c-g.lat,n=e-g.lon;if(g.lat==h.lat&&g.lon==h.lon)l=m*m+n*n;else{var p=h.lat-g.lat,l=h.lon-g.lon,q=Math.sqrt(p*p+l*l),r=c-h.lat,t=e-h.lon,q=(n*l+m*p)/q;0>q?l=m*m+n*n:1<q?l=r*r+t*t:(m=g.lat+p*q-c,g=g.lon+l*q-e,l=m*m+g*g)}if(0>d||l<d)d=l,b=k-1}return{minDistance:d,minDistanceIndex:b}};
tf.helpers.HitTestRoute=function(a,c,e,d){e=tf.helpers.HitTestLatLonArray(a,e,d).minDistanceIndex;d=0;0<=e&&(d=c[e].indexPath/c[a.length-1].indexPath);return{time01:d,index:e}};tf.helpers.CreateTimesWithoutGap=function(a){var c=[];if(a&&"object"==typeof a&&0<a.length){var e=0,d=a.length,b;if(0<d){var f=0,h=0;for(b=0;b<d;++b){var k=a[b];if(k>f){for(;f<k-1;)c.push({indexPath:h,hasGPS:!1}),++f,++e;f=k;h=b;c.push({indexPath:h,hasGPS:!0})}}for(;f<d;)c.push({indexPath:h,hasGPS:!1}),++f,++e}}return c};
tf.units.GetMapRadAngleFromLatLonVector=function(a,c){return tf.units.GetMapHeading([a.lon,a.lat],[c.lon,c.lat])};
tf.helpers.CalcDirectionsLatLonArray=function(a){var c=[],e=a?a.length:0;if(1<e){for(var d=tf.units.GetMapRadAngleFromLatLonVector,b=void 0,f=a[0],h=1;void 0==b&&h<e;++h){var k=a[h];if(f.lat!=k.lat||f.lon!=k.lon)b=d(f,k)}if(void 0!=b){f=b;c.push(b);for(h=1;h<e-1;++h)k=a[h],b=a[h+1],k.lat!=b.lat||k.lon!=b.lon?c.push(f=d(k,b)):c.push(f);c.push(f)}else for(h=0;h<e;++h)c.push(0)}else c.push(0);return c};
tf.helpers.CalcMinMaxSpeedAlt=function(a){var c=0,e=0,d=0,b=0,f=0,h=0;if(a&&"object"===typeof a&&0<a.length&&void 0!==a[0].speed&&void 0!==a[0].altitude&&0<a.length){var c=e=a[0].altitude,d=b=a[0].speed,k;for(k in a)h=a[k],f=h.speed,h=h.altitude,f<b&&(b=f),f>d&&(d=f),h<e&&(e=h),h>c&&(c=h);f=c-e;h=d-b}return{minAlt:e,maxAlt:c,altRange:f,minSpeed:b,maxSpeed:d,speedRange:h}};
tf.helpers.GetCoordinatesFromLatLonArray=function(a){var c=[];try{if("object"===typeof a&&0<a.length&&void 0!==a[0].lat&&void 0!==a[0].lon)for(var e in a){var d=a[e];c.push([tf.js.GetLongitudeFrom(d.lon),tf.js.GetLatitudeFrom(d.lat)])}}catch(b){c=[]}return c};
var TDownloadRequest=function(a,c,e){function d(a){f(a.httpRequest,a.httpRequest.status,a.requestProps)}var b,f;this.Abort=function(){return b.Cancel()};b=this;(f=tf.js.GetFunctionOrNull(c))&&tf.ajax.GetRequest.call(b,{url:a,onDataLoaded:d,requestProps:e,autoSend:!1})};tf.js.InheritFrom(TDownloadRequest,tf.ajax.GetRequest);
var tLatLng=function(a,c){this.GetMapCoords=function(){return[c,a]};this.latitude=a;this.longitude=c},TAddressReturnObject=function(a,c,e,d,b,f,h,k,g,l,m,n,p,q){this.address=a;this.housenumber=c;this.range_from=e;this.range_to=d;this.street=b;this.city=f;this.state=h;this.zip=k;this.latitude=g;this.longitude=l;this.distance=m;this.compass_direction=n;this.offset=p;this.streetc=q;this.GGeoAddressAccuracy=10>=this.distance?9:50>=this.distance?8:100>=this.distance?7:200>=this.distance?6:500>=this.distance?
5:4;this.toString=function(){var a=this.address+", "+this.city+", "+this.state+", "+this.zip;if(null==a)throw"Error in TAddressReturnObject toString method";return a};this.GetAccuracyDescription=function(a){void 0===a&&(a=this.GGeoAddressAccuracy);var b="Country level accuracy;Region (state, province, prefecture, etc.) level accuracy;Sub-region (county, municipality, etc.) level accuracy;Town (city, village) level accuracy;Post code (zip code) level accuracy;Street level accuracy;Intersection level accuracy;Address level accuracy;Premise level accuracy".split(";"),
c=b.length;return 1<=a&&a<=c?b[a-1]:"Unknown location"}},Resources=function(){this.notchList=this.resolutionList=this.produceDate=this.name=null;this.SetDate=function(a){this.produceDate=a.split(",").slice(0,-1);for(var c in this.produceDate){var e=this.produceDate[c];a=e.substring(0,4);var d=e.substring(4,6),e=e.substring(6,8);this.produceDate[c]=new Date(a,d-1,e)}};this.CreateList=function(a){this.resolutionList=a.split(",").slice(0,-1);for(var c in this.resolutionList)this.resolutionList[c]=parseFloat(this.resolutionList[c])};
this.CreateNotchList=function(a){this.notchList=a.split(",").slice(0,-1)};this.Sort=function(){for(var a,c,e=1;e<this.resolutionList.length;e++)for(var d=this.resolutionList.length-1;0<d;d--)this.resolutionList[d]<this.resolutionList[d-1]&&(a=this.resolutionList[d],c=this.notchList[d],this.resolutionList[d]=this.resolutionList[d-1],this.notchList[d]=this.notchList[d-1],this.resolutionList[d-1]=a,this.notchList[d-1]=c)}};function TGetLevelByResolution(a){return tf.units.GetLevelByResolution(a)}
function TGetResolutionByLevel(a){return tf.units.GetResolutionByLevel(a)}function TGetBoundsZoomLevel(a,c,e,d){return tf.units.GetBoundsZoomLevel([a.longitude,a.latitude],[c.longitude,c.latitude],e,d)}function TGetBrowserType(){return tf.browser.Type}function TBrowserIsCompatible(){return tf.browser.IsCompatible()}tf.helpers.GetAddressFromServiceByLatLng=function(a,c,e,d){a=a+"Lat="+encodeURIComponent(c)+"&Lng="+encodeURIComponent(e);return tf.js.RemoteScriptCall(a,d)};
function TGetAddressesByLatLngPro(a,c,e){return tf.helpers.GetAddressFromServiceByLatLng("http://tfservice.cs.fiu.edu/AddByCoordinate/Default.aspx?",a,c,e)}function TGetAddressByLatLng(a,c,e){return tf.helpers.GetAddressFromServiceByLatLng("http://tfservice.cs.fiu.edu/AddByCoordinate/Compact.aspx?",a,c,e)}
function TGetLatLngByAddress(a,c){(c=tf.js.GetFunctionOrNull(c))&&new tf.services.Geocoder({address:a,callBack:function(a){var d=a?a.pointCoords:[0,0];c(d[1],d[0],a.errormsg,a.geocoderlevel)}})}function TGetAerialImagerySources_UTM(a,c,e,d,b){a="http://tfcore.cs.fiu.edu/GetAerialImagerySources/Stage/default.aspx?X="+encodeURIComponent(a)+"";a=a+"&Y="+encodeURIComponent(c)+"";a=a+"&utm="+encodeURIComponent(e)+"";a=a+"&res="+encodeURIComponent(d)+"";return tf.js.RemoteScriptCall(a,b)}
function TGetAerialImagerySources(a,c,e,d){a=tf.units.GdcToUtm([a,c]);TGetAerialImagerySources_UTM(a[0],a[1],a[2],e,d)}
tf.js.RemoteScriptCallReceiver=function(a,c,e,d){function b(){if(g){var a=g.parentNode;a&&a.removeChild(g)}h&&h.apply(null,arguments)}var f=null,h=null,k=null,g=null;this.ReceiveScriptResponse=function(){return b.apply(f,arguments)};f=this;(function(){if((h=tf.js.GetFunctionOrNull(d))&&c&&a){var b="tf.js.GetRemoteScriptCallDispatcher().ReceiveScriptResponse("+c+")";g=document.createElement("script");g.id=k="TFScriptCallBack_"+c;g.defer=!0;g.type="text/javascript";g.src=e+"&CallBackFun="+encodeURIComponent(b)+
("&SCRIPT_ID="+k)+"&a="+Math.random();a.appendChild(g)}})()};tf.js.RemoteScriptCallDispatcher=function(){function a(){}var c=null,e,d=null;this.DoScriptCall=function(a,f){c&&(d[tf.js.MakeObjectKey(e)]=new tf.js.RemoteScriptCallReceiver(c,e,a,f),++e)};this.ReceiveScriptResponse=function(b){b=tf.js.MakeObjectKey(b);var c=d[b];return c?(delete d[b],c.ReceiveScriptResponse):a};c=document.getElementsByTagName("HEAD").item(0);d={};e=1};
tf.js.GetRemoteScriptCallDispatcher=function(){tf.g_scriptCallDispatcher||(tf.g_scriptCallDispatcher=new tf.js.RemoteScriptCallDispatcher);return tf.g_scriptCallDispatcher};tf.js.RemoteScriptCall=function(a,c){return tf.js.GetRemoteScriptCallDispatcher().DoScriptCall(a,c)};
var TFHelpers={UrlParser:function(a,c,e){function d(a,c){h[a]=c;--f||setTimeout(b,10)}function b(){a(h)}var f=0,h=null;this.GetParameters=function(){return h};(function(){h=e?e:[];var a,g=(-1!=(a=c.indexOf("?"))?c.slice(a+1):-1!=(a=c.indexOf("#"))?c.slice(a+1):"").split("&"),l=g.length;if(l){for(a=0;a<l;++a){var m=g[a].indexOf("=");if(-1!=m){var n=g[a].substring(0,m).toLowerCase(),m=g[a].substring(m+1,g[a].length);h[n]=unescape(m)}}g=[TFConsts.paramNameLegend,tf.consts.paramNameLegendH,tf.consts.paramNameLegendM];
if(l=g.length)for(a=0;a<l;a++){if(n=g[a],m=h[n])f++,new tf.urlapi.URLPartsLoader(n,m,d)}else setTimeout(b,10)}})()}},TMap=function(a,c,e,d,b,f,h,k,g,l,m){function n(){v(t)}function p(a){var b=!1;switch(a){case tf.consts.mapMoveEndEvent:case tf.consts.mapMouseMoveEvent:case tf.consts.mapClickEvent:case tf.consts.mapDblClickEvent:case tf.consts.mapTypeChangeEvent:case tf.consts.mapLevelChangeEvent:case tf.consts.mapFullScreenEvent:b=!0}return b}function q(a,b){var c=null;if(p(a)){if(tf.js.GetIsNonEmptyString(a)&&
tf.js.GetFunctionOrNull(b)){var d=A.GetNotifier(a);d&&(c=d.Add(b))}}else c=t.AddListener(a,b);return c}function r(a){return function(b){switch(a){case tf.consts.mapMoveEndEvent:case tf.consts.mapMouseMoveEvent:case tf.consts.mapClickEvent:case tf.consts.mapDblClickEvent:A.Notify(a,b.eventCoords[1],b.eventCoords[0],b.sender);break;case tf.consts.mapTypeChangeEvent:A.Notify(a,b.newType,b.sender);break;case tf.consts.mapLevelChangeEvent:A.Notify(a,b.level,b.sender);break;case tf.consts.mapFullScreenEvent:A.Notify(b.sender);
break;default:tf.GetDebug().LogIfTest("deprecated map notification for unsupported event: "+a)}}}var t=null,v=null,w="",A=null;this.SetPanelVisibility=function(a,b){if(tf.js.GetIsNonEmptyString(b)){var c=tf.consts.strHidePanel.toLowerCase()==b.toLowerCase();t.ShowPanel(a,!c)}};this.GetPanelVisibility=function(a){return t.IsPanelShowing(a)};this.SetTFPassTroughString=function(a){return t.SetTFPassThroughString(a)};this.MapMode=function(a){t.SetMapType(a)};this.AddOnMoveEndListener=function(a){return q(tf.consts.mapMoveEndEvent,
a)};this.AddOnRollOverListener=function(a){return q(tf.consts.mapMouseMoveEvent,a)};this.AddOnClickListener=function(a){return q(tf.consts.mapClickEvent,a)};this.AddOnDoubleClickListener=function(a){return q(tf.consts.mapDblClickEvent,a)};this.AddOnZoomEndListener=function(a){return q(tf.consts.mapLevelChangeEvent,a)};this.AddOnModeChangeListener=function(a){return q(tf.consts.mapTypeChangeEvent,a)};this.AddOnFullScreenListener=function(a){return q(tf.consts.mapFullScreenEvent,a)};this.RemoveListener=
function(a){a instanceof tf.events.EventListener&&a.OnDelete()};this.AddOnFlyEndListener=function(a){return q(tf.consts.mapAnimationEndEvent,a)};this.AddOnLegendChangeListener=function(a){return null};this.AddOnFlyCrashedListener=function(a){return null};this.AddOnTileAddedListener=function(a){return null};this.AddOnTileRemovedListener=function(a){return null};this.AddDebugListener=function(a){return null};this.ShowInfoWindow=function(a,b,c,d,e){t.ShowInfoPopup(d,e,[b,a])};this.HideInfoWindow=function(){return t.HideInfoPopup()};
this.ShowInfoWindowTabs=function(){};this.ViewDebugPanel=function(){};this.ViewTileURL=function(){};this.ShowAreaSelector=function(){};this.HideAreaSelector=function(){};this.GetOverlayComposite=function(){};this.GetColorByLatLng=function(){};this.SetMapOnAreaSelectedListener=function(){};this.SetBorderVisibility=function(){};this.SetPanelPosition=function(){};this.SetZoomPanelMode=function(){};this.GetFPS=function(){};this.SetFPS=function(){};this.SetMessageAlpha=function(){};this.MBFadeAni=function(){};
this.MBFadeCheck=function(){};this.SetFlyMode=function(){};this.PauseFly=function(){};this.ContinueFly=function(){};this.SetMessageText=function(a){w=a};this.ShowMessageBar=function(){t.ShowMessage(w)};this.HideMessageBar=function(){return t.HideMessage()};this.SetMessageBarInterval=function(a){return t.SetMessageTimeout(a)};this.GetFlyMode=function(){return t.GetIsAnimating()};this.StopFly=function(){return t.EndAnimation()};this.AddLayer=function(a,b,c,d,e){return t.deprecatedAddLegacyLayer({name:a,
description:b,isVisible:c,isHidden:d,color:e})};this.SetSize=function(){return t.OnResize()};this.GetSize=function(){var a=t.GetPixelSize();return{X:a[0],Y:a[1]}};this.AddCustomizedButton=function(a,b,c){var d=document.createElement("img");d.style.left=a+"px";d.style.top=b+"px";d.style.position="absolute";d.style.zIndex=zIndex+5;d.src=c;mapContainerAll.appendChild(d);return new TButton(d)};this.PanTo=function(a,b){return t.SetCenter([b,a])};this.PanToAni=function(a,b,c,d){function e(a){d(a.eventCoords[1],
a.eventCoords[0])}(d=tf.js.GetFunctionOrNull(d))||(e=null);return t.AnimatedSetCenter([b,a],e,c,!0,tf.units.EaseLinear)};this.CenterTo=function(a,b,c){return t.SetCenterAndLevel([b,a],c)};this.ZoomTo=function(a){t.SetLevel(a)};this.ZoomToAni=function(a,b){function c(a){b(a.level)}(b=tf.js.GetFunctionOrNull(b))||(c=null);return t.AnimatedSetLevel(a,c,void 0,!0,tf.units.EaseLinear)};this.MoveOffsetPixel=function(a,b){t.PanByPixelOffset([a,b])};this.ScreenToGlobal=function(a,b){var c=t.PixelToMapCoords([a,
b]);c&&(c.Lat=c[1],c.Lon=c[0]);return c};this.GlobalToScreen=function(a,b){var c=t.MapToPixelCoords([b,a]);return{X:c[0],Y:c[1]}};this.GetBounds=function(){var a=t.GetVisibleExtent();return{longitude1:a[0],latitude1:a[3],longitude2:a[2],latitude2:a[1]}};this.SetBounds=function(a){tf.js.GetIsValidObject(a)&&t.SetVisibleExtent([a.longitude1,a.latitude2,a.longitude2,a.latitude1])};t=this;(function(){var f=tf.consts.allMapEventNames;A=new tf.events.MultiEventNotifier({eventNames:f});var h={container:a,
center:[e,c],mapType:g,mapAerialSource:l,mapEngine:k};0<d?h.level=d:h.resolution=-d;tf.map.Map.call(t,h);var h={},m;for(m in f){var q=f[m];p(q)&&(h[q]=r(q))}t.AddListeners(h);(v=tf.js.GetFunctionOrNull(b))&&setTimeout(n,100)})()};tf.js.InheritFrom(TMap,tf.map.Map);
var TLayer=function(a){function c(a,c,d,f){c=tf.js.GetLongitudeFrom(c);a=tf.js.GetLatitudeFrom(a);tf.js.GetIsValidObject(f)||(f=tf.js.GetIsNonEmptyString(f)?tf.js.ParseLegacyFormatString(f):{});a=new tf.map.Feature({type:"point",coordinates:[c,a],style:tf.js.ShallowMerge(f,d)});c=new TMarker(e,a);e.AddMapFeature(a,!1);b.push(c);return c}var e,d,b,f,h,k=new RegExp(/ENCLOSURE=TRUE/i);this.AddMarker=function(a,b,d,e){d&&"string"===typeof d&&d.length||(d="");return c(a,b,{marker:!0,label:d},e)};this.AddImgMarker=
function(a,b,d,f){return tf.js.GetIsNonEmptyString(d)?c(a,b,{icon:!0,icon_url:d},f):e.AddMarker(a,b,null)};this.SetAllMarkersStyle=function(a){if("string"==typeof a||"object"===typeof a)for(var c in b)b[c].SetMarkerStyle(a)};this.RemoveMarker=function(a){if(a){var c=b.indexOf(a);-1!=c&&(a.SetVisible(!1),b.splice(c,1))}};this.AddPolygon=function(a,b){var c,h,p=tf.helpers.GetMultiCoordsFromLatLonString(a),q=b,r=q,r="string"===typeof r?k.test(r):"object"===typeof r?!!r.enclosure:!1,t=(c=tf.js.GetNonEmptyString(a))?
"("==c.charAt(0):!1;h=!1;t&&(h=1<c.length&&"("==c.charAt(1));c=r?"polygon":t?"multipolygon":"linestring";t?r&&d&&d.LogIfTest("multiEnclosure"):h&&d&&d.LogIfTest("multiEnclosure");t={line:!0,fill:r||t};r&&(p=[p]);tf.js.GetIsValidObject(q)||(q=tf.js.GetIsNonEmptyString(q)?tf.js.ParseLegacyFormatString(q):{});p=new tf.map.Feature({type:c,coordinates:p,style:tf.js.ShallowMerge(q,t)});q=new TPolygon(e,p);e.AddMapFeature(p,!1);f.push(q);return q};this.RemovePolygon=function(a){if(a instanceof TPolygon){var b=
f.indexOf(a);-1!=b&&(a.SetVisible(!1),f.splice(b,1))}};this.AddGroundTile=function(a,b,c,d,f){return new TGroundTile(e.GetMap(),e,a,b,c,d,f)};this.RemoveGroundTile=function(a){if(a){var b=h.indexOf(a);-1!=b&&(a.SetVisible(!1),h.splice(b,1))}};this.Clean=function(){e.RemoveAllFeatures();b=[];f=[];h=[]};e=this;d=null;b=[];f=[];h=[];tf.map.FeatureLayer.call(e,a)};tf.js.InheritFrom(TLayer,tf.map.FeatureLayer);
var TMarker=function(a,c){var e,d,b,f;this.GetLayer=function(){return a};this.SetOnRolloverListener=function(a){b=tf.js.GetFunctionOrNull(a)};this.SetOnClickListener=function(a){d=tf.js.GetFunctionOrNull(a)};this.SetLabel=function(a){return c.ChangeStyle({label:a})};this.SetMarkerStyle=function(a){return c.ChangeStyle(a)};this.SetVisible=function(b){(b=!!b)!=f&&((f=b)?a&&a.AddMapFeature(c,!1):a&&a.DelMapFeature(c,!1))};this.GetVisible=function(){return f};this.MoveTo=function(a,b){c.SetPointCoords([tf.js.GetLongitudeFrom(b),
tf.js.GetLatitudeFrom(a)])};this.MoveToAni=function(a,b,d,e){c.SetPointCoords([tf.js.GetLongitudeFrom(b),tf.js.GetLatitudeFrom(a)]);if(e=tf.js.GetFunctionOrNull(e))0>=(d=tf.js.GetFloatNumber(d,10))&&(d=10),setTimeout(e,d)};this.GetPosition=function(){var a=c.GetPointCoords();return{latitude:a[1],longitude:a[0]}};this.ShowInfoWindow=function(b,c,d){if(a&&(b=a.GetMap())){var f=e.GetPosition();b.ShowInfoWindow(f.latitude,f.longitude,null,c,d)}};this.SetGroundTileStyle=function(){};this.ShowInfoWindowTabs=
function(){};e=this;f=!0;c.SetOnMouseMoveListener(function(a){b&&b(a.eventCoords[1],a.eventCoords[0])});c.SetOnClickListener(function(a){d&&d(a.eventCoords[1],a.eventCoords[0])})},TPolygon=function(a,c){var e;this.GetLayer=function(){return a};this.SetOnClickListener=function(a){c.SetOnClickListener(a)};this.SetVisible=function(d){(d=!!d)!=e&&((e=d)?a&&a.AddMapFeature(c,!1):a&&a.DelMapFeature(c,!1))};this.GetIsVisible=function(){return e};this.UpdateStyle=function(a){return c.ChangeStyle(a)};e=!0},
TButton=function(a){var c;this.SetOnClickListener=function(a){c=tf.js.GetFunctionOrNull(a)};(function(){a.onclick=function(){c&&c()}})()},TTabObject=function(){this.GetLabel=function(){};this.GetContent=function(){}},TGroundTile=function(a,c,e,d,b,f,h){function k(){var a=new tf.map.FeatureGeom({type:"point",coordinates:[p,n]}),b=void 0!==q?q/r.width:1,b=b*tf.browser.GetDevicePixelRatio(),b=new tf.map.FeatureSubStyle({icon:!0,icon_anchor:[.5,.5],scale:b,zindex:1,icon_img:r,icon_size:[r.width,r.height],
snaptopixel:!1,rotate_with_map:!0});l=new tf.map.Feature({geom:a,style:b,hoverStyle:b});m&&l.ChangeStyle(m);t&&c&&c.AddMapFeature(l)}function g(){r.onload=void 0;k();v=!0}var l,m,n,p,q,r,t,v;this.GetLayer=function(){return c};this.ShowImmediately=function(a){if(l&&v)return a(l)};this.GetIsLoaded=function(){return v};this.SetVisible=function(a){a=!!a;a!=t&&(t=a,l&&c&&(t?c.AddMapFeature(l):c.DelMapFeature(l)))};this.SetGroundTileStyle=function(a){m=a;l&&l.ChangeStyle(m)};t=!0;v=!1;c&&c instanceof TLayer||
(c=null);a=tf.js.GetMapFrom(a);n=(d+f)/2;p=(b+h)/2;q=a?Math.round(a.GetPixelDistance([b,n],[h,n])):void 0;e instanceof tf.dom.Img?(r=e.GetHTMLElement(),k(),v=!0):(r=document.createElement("img"),r.onload=g,r.src=e)};
tf.map.aux.LegendDecoder=function(a){a="string"==typeof a?a:tf.consts.defaultLegend;var c=function(a){var c=[],b={},f=unescape(a).split(";"),h,k,g="",l="",m=!1;for(a=0;a<f.length;a++){h=f[a];if("{"==h.substr(0,1)){m=!0;h=h.substr(1);var n=h.split("::");1<n.length?(g=n[0],h=n[1],n=g.split(":"),g=n[0],l=2==n.length?n[1]:n[0]):l=g=""}else m||(l=g="");"}"==h.substr(h.length-1,1)&&(h=h.substr(0,h.length-1),m=!1);var n=h.split("@"),p=n[0];h={ISCHECK:!1,LABEL:"",DESC:"",VALUE:""};h.GRSET=g;h.GRDESC=l;h.MAX_RES=
-1;h.MIN_RES=1E11;h.COMPOSITES=[];"~"==p.substr(0,1)&&(h.ISCHECK=!0,p=p.substr(1,p.length));var q=p.indexOf(":");0<q?(h.LABEL=p.substring(0,q),h.DESC=p.substring(q+1,p.length)):(h.LABEL=p,h.DESC=h.LABEL);q=h.LABEL.indexOf("_");if(0<=q)for(q=h.LABEL.split("_"),h.LABEL="",p=0;p<q.length;p++)h.LABEL=h.LABEL+q[p]+" ";q=h.DESC.indexOf("_");if(0<=q)for(q=h.DESC.split("_"),h.DESC="",p=0;p<q.length;p++)h.DESC=h.DESC+q[p]+" ";if(1<n.length){n=n[1].split("+");for(p=0;p<n.length;p++){k=n[p];var r=k.split("-"),
t=r.length,q={MODE:"",PREFIX:"",VALUE:"",SUFFIX_M:"",SUFFIX_H:"",MIN:1E11,MAX:-1};if(1==t)q.PREFIX=k,q.VALUE=k,q.MIN=-1,q.MAX=150,q.MODE="RES";else if(2==t)q.PREFIX=k,q.VALUE=k,t=r[1].substr(0,1),r=r[1].substr(1,1),"_"==t?q.MIN=0:(q.MIN=Math.pow(2,parseInt(t,10)),150<q.MIN&&(q.MIN=150)),"_"==r?q.MAX=.999:(q.MAX=Math.pow(2,parseInt(r,10)+1)-.001,150<q.MAX&&(q.MAX=150)),q.MODE="RES";else if(3==t||4==t)q.PREFIX=r[0]+"-"+r[1]+"-"+r[2]+"-",q.VALUE=r[0],q.MODE="RES",q.MIN=parseFloat(r[1]),q.MAX=parseFloat(r[2]),
q.MIN>q.MAX&&(k=q.MIN,q.MIN=q.MAX,q.MAX=k),4==t?(r=r[3].split("||"),q.SUFFIX_H=r[0],q.SUFFIX_M=2==r.length?r[1]:r[0]):q.SUFFIX_H=q.SUFFIX_M="";h.MAX_RES=q.MAX>h.MAX_RES?q.MAX:h.MAX_RES;h.MIN_RES=q.MIN<h.MIN_RES?q.MIN:h.MIN_RES;h.VALUE=""==h.VALUE?q.VALUE:h.VALUE+("%2B"+q.VALUE);h.COMPOSITES.push(q)}c.push(h)}}c.reverse();f=c.length;l=[];for(a=0;a<f;a++)m=c[a],g=m.GRSET,""===g&&(g="tf-mapi-lgrt"),h=b[g],h||(b[g]={},h=b[g],l.push(g)),h.items||(h.items=[]),h.items.push(m);return{legendSet:c,groupSet:b,
groupSetNames:l}}(a);this.GetGroupSetRootName=function(){return"tf-mapi-lgrt"};this.GetLegendSet=function(){return c.legendSet};this.GetGroupSetNames=function(){return c.groupSetNames};this.GetGroupSet=function(){return c.groupSet}};
tf.map.ui.Mapnik2Popup=function(a,c,e,d,b,f){function h(a){a=(t=!!a)?A:u;q.ClearContent();a.AppendTo(q);k()}function k(){p&&p.OnContainerResize()}function g(){d&&d.call(c)}function l(a,b){var d="",f="",g;for(g in b)var h=b[g].PREFIX.replace(C,""),d=d+(f+h),f=",";a==A?(f=d,d=w):f=v;if(v!=f||w!=d)v=f,w=d,e&&e.call(c,v,w)}var m=null,n=tf.GetStyles(),p=null,q=null,r=!0,t=!0,v="",w="",A=null,u=null,C=/-.*/;this.Show=function(a){p&&p.Show(a)};this.IsShowing=function(){return p?p.IsShowing():!1};this.Toggle=
function(){this.Show(!this.IsShowing())};this.OnResolutionChange=function(a){c&&(A.SetResolution(a),u.SetResolution(a))};this.GetHasLegend=function(){return A.GetHasLegend()||u.GetHasLegend()};this.GetHasLegendH=function(){return A.GetHasLegend()};this.GetHasLegendM=function(){return u.GetHasLegend()};this.OnContainerResize=function(){k()};this.SetLegend=function(a,b){A.SetLegend(a);u.SetLegend(b)};this.GetHybridString=function(){return v};this.GetMapString=function(){return w};m=this;p=new tf.ui.Popup({container:a,
titleStr:tf.consts.baseMapLayersName,rectProvider:b});A=new tf.map.ui.LegendOptions({debug:f,callBackOptionChange:g,callBackCompositesChange:l,checkPositionAndSizeCallBack:k});u=new tf.map.ui.LegendOptions({debug:f,callBackOptionChange:g,callBackCompositesChange:l,checkPositionAndSizeCallBack:k});(function(){var a=new tf.ui.RadioButtonList,b=a.AddRadioButton("Hybrid Display","hybrid",t,"Base Layers Visible on Hybrid Display Type",!0),c=a.AddRadioButton("Map Display","map",!t,"Base Layers Visible on Map Display Type",
!0),d=function(a,b){return function(){a.SetIsChecked(!0);h(b)}}(b,!0),e=function(a,b){return function(){a.SetIsChecked(!0);h(b)}}(c,!1);b.SetOnClick(d,m);c.SetOnClick(e,m);p.AddContent(a)})();(function(){var a=new tf.ui.RadioButtonList,b=a.AddRadioButton("Current Resolution","current",r,"Base Layers Visible at Current Resolution",!0),c=a.AddRadioButton("All Resolutions","all",!r,"Base Layers Visible at All Resolutions",!0),d=function(a,b){return function(){a.SetIsChecked(!0);r=!!b;A.SetShowCurrent(r);
u.SetShowCurrent(r)}}(b,!0),e=function(a,b){return function(){a.SetIsChecked(!0);r=!!b;A.SetShowCurrent(r);u.SetShowCurrent(r)}}(c,!1);b.SetOnClick(d,m);c.SetOnClick(e,m);p.AddContent(a)})();q=new tf.dom.Div({cssClass:n.GetUnPaddedDivClassNames(!1,!1)});A.AppendTo(q);p.AddContent(q)};
tf.map.ui.Mapnik1Popup=function(a,c,e,d,b,f){function h(){g&&g.OnContainerResize()}var k=null,g=null,l=!0,m="",n="",p=null;this.Show=function(a){g&&g.Show(a)};this.IsShowing=function(){return g?g.IsShowing():!1};this.Toggle=function(){this.Show(!this.IsShowing())};this.OnResolutionChange=function(a){c&&p.SetResolution(a)};this.GetHasLegend=function(){return p.GetHasLegend()};this.OnContainerResize=function(){h()};this.SetLegend=function(a){return p.SetLegend(a)};this.GetHybridString=function(){return m};
this.GetMapString=function(){return n};k=this;g=new tf.ui.Popup({container:a,titleStr:tf.consts.baseMapLayersName,rectProvider:b});p=new tf.map.ui.LegendOptions({debug:f,callBackOptionChange:function(){d&&d.call(c)},callBackCompositesChange:function(a,b){var d="",f="",g=!1,h;for(h in b){var k=b[h],l=k.PREFIX+k.SUFFIX_H,k=k.PREFIX+k.SUFFIX_M;g?(d+="+"+l,f+="+"+k):(g=!0,d=l,f=k)}if(m!=d||n!=f)m=d,n=f,e&&e.call(c,m,n)},checkPositionAndSizeCallBack:h});(function(){var a=new tf.ui.RadioButtonList,b=a.AddRadioButton("Current Resolution",
"current",l,"Base Layers Visible at Current Resolution",!0),c=a.AddRadioButton("All Resolutions","all",!l,"Base Layers Visible at All Resolutions",!0),d=function(a,b){return function(){a.SetIsChecked(!0);p.SetShowCurrent(l=!!b)}}(b,!0),e=function(a,b){return function(){a.SetIsChecked(!0);p.SetShowCurrent(l=!!b)}}(c,!1);b.SetOnClick(d,k);c.SetOnClick(e,k);g.AddContent(a);g.AddContent(p)})()};
tf.map.ui.LegendOptions=function(a){function c(){p=!1;tf.dom.RemoveAllChildren(q);if(n){var a=n.GetGroupSetNames(),c=n.GetGroupSet(),g=n.GetGroupSetRootName(),k=a.length;f.GetUnPaddedDivClassNames(!1,!1);v=[];w=[];r=null;if(p=0<k){for(var m=new tf.ui.CheckBoxList(!1),t=k-1,A=0,B=0;B<k;B++){var C=a[B],E=c[C].items,Q=E.length,R=m,S=null,T=null,aa=C!==g;if(aa){var ba=t==A,C=m.AddCheckBoxWithLabelAndOpenClose(C,!0,"",ba),ba=C.GetCheckBox();A++;T=C.GetClickOpenClose();R=new tf.ui.CheckBoxList;m.AddContent(R,
!0);S={div:C,checkbox:ba,subChecks:[]};v.push(S);var ia=function(a){return function(){setTimeout(function(){for(var b=v.length,c=0;c<b;c++){var e=v[c];if(e.checkbox==a)for(var f=a.GetIsChecked(),e=e.subChecks,g=e.length,h=0;h<g;h++)e[h].checkbox.SetIsChecked(f)}d(!0)},100)}}(ba);ba.SetOnClick(ia,b);C.GetParentNode()}if(0<Q)for(C=Q-1,ia=0;ia<Q;ia++){var ba=aa?ia==C:B==t,V=E[ia],U=V.LABEL,ha=V.DESC,Y=!!V.ISCHECK,ha=ha+("(maxRes: "+V.MAX_RES+", minRes: "+V.MIN_RES+")"),ba=R.AddCheckBox(U,Y,ha,!ba),U=
h?JSON.stringify(V):null,U=function(a,b){return function(){b&&h.LogIfTest(b);setTimeout(function(){d(!0)},100)}}(ba,U);ba.SetOnClick(U,b);V={div:ba,checkbox:ba,item:V};w.push(V);S&&(S.subChecks.push(V),ba.GetParentNode().style.backgroundColor=u)}T&&(E=function(a){return function(){a.GetIsOpen()?(r&&r.SetIsOpen(!1),r=a):r=null;l&&l()}}(T),R=R.GetParentNode(),R.style.display="none",T.SetDivOpenClose(R,E))}m.AppendTo(q);e(!0)}else a=new tf.dom.Div({cssClass:F}),c=document.createTextNode("No Base Layers"),
g=a.GetHTMLElement(),g.appendChild(c),g.style.textAlign="center",g.style.color="rgb(0, 0, 0)",g.style.backgroundColor="rgb(255, 255, 0)",a.AppendTo(q)}}function e(a){if(p){for(var b=w.length,c=0;c<b;c++){var e=w[c],f=e.item,g=f.MAX_RES+A,f=f.MIN_RES-A<=m&&g>=m,g=e.checkbox.GetLabel(),e=e.div.GetParentNode();f?(g.style.color=C,e.style.display="block"):(g.style.color=B,e.style.display=t?"none":"block")}b=v.length;c=null;for(e=0;e<b;e++){for(var h=v[e],f=h.checkbox.GetLabel(),g=h.div.GetParentNode(),
k=!1,n=!t,h=h.subChecks,q=h.length,r=0;!k&&r<q;r++)if(k="block"===h[r].div.GetParentNode().style.display)n=!0;f.style.color=k?C:B;g.style.display=n?"block":"none";n&&(tf.dom.AddCSSClass(g,F),c=g)}c&&tf.dom.ReplaceCSSClass(c,F,E);d(a)}l&&l()}function d(a){for(var c=w.length,d=[],e=0;e<c;e++){var f=w[e];if(f.checkbox.GetIsChecked()){var f=f.item,h=f.MAX_RES+A;if(f.MIN_RES-A<=m&&h>=m)for(var f=f.COMPOSITES,h=f.length,l=0;l<h;l++){var n=f[l],p=n.MAX+A;n.MIN-A<=m&&p>=m&&d.push(n)}}}a&&k&&k(b);g&&g(b,d)}
var b,f,h,k,g,l,m,n,p,q,r,t,v,w,A,u,C,B,F,E;this.SetLegend=function(a){n=a instanceof tf.map.aux.LegendDecoder?a:null;c()};this.GetHasLegend=function(){return p};this.SetShowCurrent=function(a){t=!!a;e(!1)};this.GetIsShowingCurrent=function(){return t};this.SetResolution=function(a){m=tf.js.GetFloatNumber(a,tf.consts.defaultRes);e(!1)};b=this;(function(){t=!0;m=0;h=a.debug;f=tf.GetStyles();var c=f.GetSubStyles();v=[];w=[];A=1E-5;u=c.mapSubLegendBkColor;C=c.darkTextColor;B=c.disabledTextColor;F=f.GetPaddedDivClassNames(!1,
!1);E=f.GetPaddedDivClassNames(!1,!0);k=tf.js.GetFunctionOrNull(a.callBackOptionChange);g=tf.js.GetFunctionOrNull(a.callBackCompositesChange);l=tf.js.GetFunctionOrNull(a.checkPositionAndSizeCallBack);q=(new tf.dom.Div({cssClass:f.GetUnPaddedDivClassNames(!1,!1)})).GetHTMLElement();tf.dom.Insertable.call(b,{domObj:b,domElement:q})})()};tf.js.InheritFrom(tf.map.ui.LegendOptions,tf.dom.Insertable);
tf.map.ui.LayersPopup=function(a,c,e,d,b,f){function h(){g.ClearContent();l=[];k(this)}function k(a){var d=f(),h=d.length,k=0<h,r=e?e.call(c):!1;if(k){for(var k=new tf.ui.CheckBoxList(!1),t=h-1,v=0;v<h;v++){var w=v==t&&!r,A=d[v],u=A.GetName(),C=A.GetDesc(),B=A.GetIsVisible();if(null==C||"string"!=typeof C||""==C)C=u;w=k.AddCheckBox(u,B,C,!w);u=function(a,b){return function(){setTimeout(function(){b.SetVisible(a.GetIsChecked())},100)}}(w,A);l.push({layer:A,checkBox:w});w.SetOnClick(u,a,[A])}g.AddContent(k)}else a=
new tf.dom.Div({cssClass:tf.GetStyles().paddedBlockDivClass}),d=document.createTextNode("Map has no Data Layers"),h=a.GetHTMLElement(),h.appendChild(d),h.style.align="center",h.style.color="rgb(0, 0, 0)",h.style.backgroundColor="rgb(255, 255, 0)",g.AddContent(a);r&&(a=tf.GetStyles(),a.GetSubStyles(),r=new tf.dom.Div({cssClass:a.paddedBlockDivClass}),a=a.AddButtonDivMargins(new tf.ui.TextBtn({style:a.mapTextBtnClass,label:tf.consts.baseMapLayersName,onClick:function(){b()},tooltip:tf.consts.baseMapLayersToolTip,
dim:"1.2em"})),r.GetHTMLElement().style.textAlign="center",a.AppendTo(r),g.AddContent(r));g&&g.OnContainerResize()}var g=null,l=[];this.Show=function(a){g&&g.Show(a)};this.IsShowing=function(){return g?g.IsShowing():!1};this.Toggle=function(){this.Show(!this.IsShowing())};this.OnContainerResize=function(){g&&g.OnContainerResize()};this.RefreshContent=function(){return h()};this.UpdateLayerVisibilityFromMap=function(){for(var a=l.length,b=0;b<a;b++){var c=l[b],d=c.layer,c=c.checkBox.GetCheckBox(),
d=d.GetIsVisible();d!=c.checked&&(c.checked=d)}};this.GetHTMLElement=function(){return g?g.GetHTMLElement():void 0};g=new tf.ui.Popup({container:a,titleStr:tf.consts.mapLayersName,rectProvider:d});h()};
tf.map.ui.TypesPopup=function(a,c,e,d){function b(a){var b=c.GetMapType(),d=new tf.ui.RadioButtonList,m=d.AddRadioButton(tf.consts.mapTypesHybridLabel,tf.consts.typeNameHybrid,tf.consts.typeNameHybrid==b,tf.consts.mapTypesHybridTip,!0),n=d.AddRadioButton(tf.consts.mapTypesAerialLabel,tf.consts.typeNameAerial,tf.consts.typeNameAerial==b,tf.consts.mapTypesAerialTip,!0),b=d.AddRadioButton(tf.consts.mapTypesMapLabel,tf.consts.typeNameMap,tf.consts.typeNameMap==b,tf.consts.mapTypesMapTip,!1);h=[m,n,b];
for(var p in h)m=h[p],n=function(a){return function(){a.SetIsChecked(!0);var b=a.GetRadioButton().value;e.call(c,b)}}(m),m.SetOnClick(n,a);f.SetContent(d);f&&f.OnContainerResize()}var f,h;this.Show=function(a){f&&f.Show(a)};this.IsShowing=function(){return f?f.IsShowing():!1};this.Toggle=function(){this.Show(!this.IsShowing())};this.UpdateModeFromMap=function(){var a=c.GetMapType(),b;for(b in h){var d=h[b].GetRadioButton();if(d.value==a){d.checked||(d.checked=!0);break}}};this.OnContainerResize=function(){f&&
f.OnContainerResize()};(function(){f=new tf.ui.Popup({container:a,titleStr:tf.consts.mapTypesName,rectProvider:d});b(this)})()};
tf.map.ui.SourcesPopup=function(a,c,e,d){function b(a){var b=k.length,d=c.GetSource();h=[];var n=new tf.ui.RadioButtonList,b=b-1,p;for(p in k){var q=k[p],q=n.AddRadioButton(q,q,q==d,tf.consts.mapSourcesItemTip+'"'+q+'"',p!=b),r=function(a){return function(){a.SetIsChecked(!0);e.call(c,a.GetRadioButton().value)}}(q);q.SetOnClick(r,a);h.push(q)}f.SetContent(n);f&&f.OnContainerResize()}var f,h,k="Best_Available AIRPHOTO_C AIRPHOTO2FT COUNTY_1FT COUNTY_1M COUNTY_2FT COUNTY_3INCH COUNTY_6INCH COUNTY_CIR_1FT COUNTY_CIR_30CM COUNTY_CLR_10CM COUNTY_CLR_30CM DOR_1FT GEOEYE-1_CLR_1M GEOEYE-1_CLR_50CM IKONOS_1M IKONOS_2001 IKONOS_4M IKONOS_BW_1M IKONOS_C IKONOS_GEOEYE-1_1M IKONOS-1_0.5M KOMPSAT-2_CIR_1M LANDSAT7_321 LANDSAT7_321_28.5M LANDSAT7_432 LANDSAT7_432_28.5M LANDSAT7_742 LANDSAT7_PS_C NAIP_1M SPOT_CIR_2.5M SRTM TRILLIUM USGS_15CM USGS_1FT_CITIES USGS_1M USGS_20CM USGS_30CM USGS_65CM USGS_75CM USGS_AP_BW USGS_AP_CIR USGS_BW_15CM USGS_BW_30CM WV01_BW_50CM WV02_50CM BMNG USGS_BW_3INCH USGS_60CM I3".split(" ");
this.Show=function(a){f&&f.Show(a)};this.IsShowing=function(){return f?f.IsShowing():!1};this.Toggle=function(){this.Show(!this.IsShowing())};this.UpdateSourceFromMap=function(){var a=c.GetSource(),b;for(b in h){var d=h[b].GetRadioButton();if(d.value==a){d.checked||(d.checked=!0);break}}};this.OnContainerResize=function(){f&&f.OnContainerResize()};(function(){f=new tf.ui.Popup({container:a,titleStr:tf.consts.mapSourcesName,rectProvider:d});b(this)})()};
tf.map.ui.InfoPopup=function(a){var c=null,e=null,d=null,b=null;this.ShowTitleColorInfo=function(a){d&&(a=!!a,d.style.backgroundColor=a?c:b,e.SetTitleToolTip(a?"Unpin":"Pin"))};this.SetOnClickTitle=function(a,b){e&&e.SetOnClickTitle(a,b)};this.SetZIndex=function(a){e&&e.SetZIndex(a)};this.GetZIndex=function(){return e?e.GetZIndex():0};this.SetOnClose=function(a,b){e.SetOnClose(a,b)};this.SetTitle=function(a){e&&e.ChangeTitle(a)};this.SetContent=function(a){if(e)return e.SetContent(a)};this.Show=function(a){e&&
e.Show(a)};this.IsShowing=function(){return e?e.IsShowing():!1};this.Toggle=function(){this.Show(!this.IsShowing())};this.OnContainerResize=function(){e&&e.OnContainerResize()};(function(){var f=tf.GetStyles().GetSubStyles();e=new tf.ui.Popup({container:a,titleStr:"Information",marginHor:4*f.mapButtonMarginEmNumber+f.mapButtonDimEmNumber+"em",marginVer:1*f.mapButtonMarginEmNumber+f.mapButtonDimEmNumber+"em",maxHeight:"50%",horPos:"left",verPos:"bottom",fontSize:f.infoPopupContentFontSizeEmNumber+
"em"});d=e.GetTitleContainer();tf.dom.GetHTMLElementFrom(a);e.SetTitleToolTip("Pin");c="rgba(251,127,0,1)";b=d.style.backgroundColor})()};
tf.map.ui.LocationPopup=function(a){var c=null,e=null,d=null,b=null;this.ShowTitleColorInfo=function(a){e&&(e.style.backgroundColor=a?d:b)};this.SetOnClickTitle=function(a,b){c&&c.SetOnClickTitle(a,b)};this.SetZIndex=function(a){c&&c.SetZIndex(a)};this.GetZIndex=function(){return c?c.GetZIndex():0};this.SetOnClose=function(a,b){c.SetOnClose(a,b)};this.SetTitle=function(a){c&&c.ChangeTitle(a)};this.SetContent=function(a){if(c)return c.SetContent(a)};this.Show=function(a){c&&c.Show(a)};this.IsShowing=
function(){return c?c.IsShowing():!1};this.Toggle=function(){this.Show(!this.IsShowing())};this.OnContainerResize=function(){c&&c.OnContainerResize()};(function(){var f=tf.GetStyles().GetSubStyles();c=new tf.ui.Popup({container:a,noTitle:!0,titleStr:"Map Center",marginHor:6*f.mapButtonMarginEmNumber+f.mapButtonDimEmNumber+"em",marginVer:f.mapLocationButtonTopEmNumber+"em",maxHeight:"50%",maxWidth:"100%",horPos:"right",verPos:"top",fontSize:f.locationPopupContentFontSizeEmNumber+"em",textAlign:"right"});
e=c.GetTitleContainer();tf.dom.GetHTMLElementFrom(a);d="rgba(2,249,15,1.0)";b=e?e.style.backgroundColor:d})()};
tf.map.ui.MessagePopup=function(a){var c=null,e=null,d=null,b=null;this.SetOnClickTitle=function(a,b){e&&e.SetOnClickTitle(a,b)};this.ShowTitleColorInfo=function(a){d&&(a=!!a,d.style.backgroundColor=a?c:b,e.SetTitleToolTip(a?"Close":"Pin"))};this.SetZIndex=function(a){e&&e.SetZIndex(a)};this.GetZIndex=function(){return e?e.GetZIndex():0};this.SetOnClose=function(a,b){e.SetOnClose(a,b)};this.SetTitle=function(a){e&&e.ChangeTitle(a)};this.SetContent=function(a){if(e)return e.SetContent(a)};this.Show=
function(a){e&&e.Show(a)};this.IsShowing=function(){return e?e.IsShowing():!1};this.Toggle=function(){this.Show(!this.IsShowing())};this.OnContainerResize=function(){e&&e.OnContainerResize()};(function(){var f=tf.GetStyles().GetSubStyles();e=new tf.ui.Popup({container:a,titleStr:"Message",horPos:"center",verPos:"center",fontSize:f.infoPopupContentFontSizeEmNumber+"em"});d=e.GetTitleContainer();e.SetTitleToolTip("Pin");c="#ddd";b=d.style.backgroundColor})()};
tf.map.PolyCode=function(){function a(a){return Math.floor(Math.abs(a)+.5)*Math.sign(a)}function c(b,c,d){b=a(b*d);c=a(c*d);d=b-c<<1;0>b-c&&(d=~d);for(b="";32<=d;)b+=String.fromCharCode((32|d&31)+63),d>>>=5;return b+=String.fromCharCode(d+63)}function e(a){for(var c=[],d=0;d<a.length;d++)c.push(a[d].slice().reverse());return c}var d;this.ClipPrecision=function(a){return tf.js.GetIntNumberInRange(a,0,7,5)};this.Flipped=function(a){return a&&void 0!=a.length?e(a):void 0};this.EncodeValues=function(a,
e){var h=a?a.length:0;if(!h)return"";for(var k=a[0],g=Math.pow(10,d.ClipPrecision(e)),l=c(k,0,g),m=1;m<h;m++)var n=a[m],l=l+c(n,k,g),k=n;return l};this.DecodeValues=function(a,c){var e,k,g=[],l=a.length;if(0<l)for(var m=Math.pow(10,d.ClipPrecision(c)),n=k=0;k<l;){e=a;for(var p=k,q=void 0,r=k=0,t=!1;void 0==q||32<=q;)q=e.charCodeAt(p)-63,++p,k|=(q&31)<<r,r+=5,t=k&1;e=p;k=t?~(k>>>1):k>>>1;n+=k;k=e;g.push(1!=m?n/m:n)}return g};this.DecodeLevels=function(a){var c=[];if(tf.js.GetIsNonEmptyString(a))for(var d=
0;d<a.length;++d)c.push(a.charCodeAt(d)-63);return c};this.FromGeoJSONLineString=function(a,c){return a&&a.type&&a.type.length&&"linestring"==a.type.toLowerCase()?d.EncodeLineString(e(a.coordinates),c):void 0};this.EncodeLineString=function(a,e){if(!a.length)return"";for(var h=Math.pow(10,d.ClipPrecision(e)),k=c(a[0][0],0,h)+c(a[0][1],0,h),g=1;g<a.length;g++)var l=a[g],m=a[g-1],k=k+c(l[0],m[0],h),k=k+c(l[1],m[1],h);return k};this.ToGeoJSONLineString=function(a,c){var h=d.DecodeLineString(a,c);return{type:"LineString",
coordinates:e(h)}};this.DecodeLineString=function(a,c){for(var e=0,k=0,g=0,l=[],m=0,n=0,p=null,q,r=Math.pow(10,d.ClipPrecision(c));e<a.length;){m=n=0;do p=a.charCodeAt(e++)-63,n|=(p&31)<<m,m+=5;while(32<=p);q=n&1?~(n>>>1):n>>>1;m=n=0;do p=a.charCodeAt(e++)-63,n|=(p&31)<<m,m+=5;while(32<=p);m=n&1?~(n>>>1):n>>>1;k+=q;g+=m;l.push([k/r,g/r])}return l};this.FromGeoJSONMultiLineString=function(a,c){return a&&a.type&&a.type.length&&"multilinestring"==a.type.toLowerCase()?d.EncodeMultiLineString(e(a.coordinates),
c):void 0};this.EncodeMultiLineString=function(a,c){var h=[],k;for(k in a){var g=a[k].slice();h.push(d.EncodeLineString(e(g),c))}return h};this.ToGeoJSONMultiLineString=function(a,c){return{type:"MultiLineString",coordinates:d.DecodeMultiLineString(a,c)}};this.DecodeMultiLineString=function(a,c){var h=[],k;for(k in a)h.push(e(d.DecodeLineString(a[k],c)));return h};this.ToGeoJSONMultiLineStringNoFlip=function(a,c){return{type:"MultiLineString",coordinates:d.DecodeMultiLineStringNoFlip(a,c)}};this.DecodeMultiLineStringNoFlip=
function(a,c){var e=[],k;for(k in a)e.push(d.DecodeLineString(a[k],c));return e};d=this};
tf.map.ui.AddressBar=function(a,c,e){function d(){return m?m.Toggle():!1}function b(){var a=n.GetValue();0<a.length?c.FlyToAddress(a):C&&C.getCurrentPosition(f,k)}function f(a){c.SetCenter([a.coords.longitude,a.coords.latitude])}function h(a){c.GoDBByCoords(a)}function k(a){}function g(){var a=n.GetValue();0<a.length?c.GoDBByAddress(a):C&&C.getCurrentPosition(h,k)}function l(){c.ShowMessage(B)}var m,n,p,q,r,t,v,w,A,u,C,B;this.Show=function(a){return m?m.Show(a):!1};this.IsShowing=function(){return m?
m.IsShowing():!1};this.Toggle=function(){return d()};this.OnContainerResize=function(){};this.SetAddressBarText=function(a){n.SetValue(a)};this.GetAddressBarText=function(){return n.GetValue()};this.SetAddressBarHelp=function(a){B=tf.js.GetNonEmptyString(a,tf.consts.defaultHelp)};(function(){C=navigator.geolocation;q=tf.GetStyles();r=q.GetSubStyles();u=r.mapButtonDimEmNumber+"em";B=tf.consts.defaultHelp;m=new tf.ui.ToolBarPopup(a,e);A=new tf.dom.Div({cssClass:tf.GetStyles().GetPaddedDivClassNames(!0,
!1)});n=new tf.dom.TextInput({id:"tf-address-input",label:"Enter an address or a place",value:"",tooltip:"Type in an address, or lat/lon coordinates"});p=n.GetHTMLElement();tf.events.AddDOMEventListener(p,"keyup",function(a){a=a||event;m&&m.IsShowing()&&13==("object"===typeof a?window.event&&a.keyCode?a.keyCode:a.which?a.which:0:0)&&b()});p.size=24;p.style.fontSize=r.addressBarFontSize;n.AppendTo(A);var c=!1,c=q.mapSvgGlyphInPopupClass,f=q.AddButtonDivLeftRightMargins(new tf.ui.SvgGlyphBtn({style:c,
glyph:tf.styles.SvgGlyphMagnifyingLensName,onClick:d,tooltip:"Close address bar",dim:u}));t=q.AddButtonDivLeftMargin(new tf.ui.SvgGlyphBtn({style:c,glyph:tf.styles.SvgGlyphMapPinName,onClick:b,tooltip:"Move the Map to this Address",dim:u}));v=q.AddButtonDivLeftMargin(new tf.ui.SvgGlyphBtn({style:c,glyph:tf.styles.SvgGlyphInfoName,onClick:g,tooltip:"Get Local Reports for this Address",dim:u}));w=q.AddButtonDivLeftMargin(new tf.ui.SvgGlyphBtn({style:c,glyph:tf.styles.SvgGlyphQuestionMarkName,onClick:l,
tooltip:"Get Help Information",dim:u}));m.AddContent(f,!1);m.AddContent(A,!0);A.AddContent(t,v,w)})()};
tf.map.ui.DownloadBar=function(a,c,e,d,b,f){function h(){"function"==typeof b&&b.call(f,k)}this.Show=function(a){return g?g.Show(a):!1};this.IsShowing=function(){return g?g.IsShowing():!1};this.Toggle=function(){return g?g.Toggle():!1};var k=null,g=null,k=this;(function(){g=new tf.ui.ToolBarPopup(a,e);var b=new tf.dom.Div({cssClass:tf.GetStyles().GetPaddedDivClassNames(!1,!1)}),c=new tf.dom.Span,f=tf.GetStyles(),k=f.GetSubStyles(),q=k.mapControlFontSizeEmNumber+"em",r=new tf.ui.TextBtn({style:f.mapTextBtnClass,
label:"Download",onClick:h,tooltip:"Click here to download",dim:q});c.AddContent("Select map area to ");c.GetHTMLElement().style.fontSize=q;f.ApplyStyleProperties(c,k.textShadowStyle);b.AddContent(c,r);c=f.CloseXButtonForPopup(!1,d,q);c.GetHTMLElement().style.transform="";c=f.AddButtonDivRightMargin(c);g.AddContent(c,!1,!1);g.AddContent(b,!0)})()};
tf.map.ui.MeasureBar=function(a,c,e,d,b,f){function h(){(m=!m)?l.SetText("Distances"):l.SetText("Areas");"function"==typeof b&&b.call(f,k)}this.Show=function(a){return g?g.Show(a):!1};this.IsShowing=function(){return g?g.IsShowing():!1};this.Toggle=function(){return g?g.Toggle():!1};this.OnContainerResize=function(){};this.GetIsMeasuringDistances=function(){return m};var k=null,g=null,l=null,m=!0,k=this;(function(){g=new tf.ui.ToolBarPopup(a,e);var b=new tf.dom.Div({cssClass:tf.GetStyles().GetPaddedDivClassNames(!1,
!1)}),c=new tf.dom.Span,f=tf.GetStyles(),k=f.GetSubStyles(),t=k.mapControlFontSizeEmNumber+"em";l=new tf.ui.TextBtn({style:f.mapTextBtnClass,label:m?"Distances":"Areas",onClick:h,tooltip:"Click or touch the map to measure",dim:t});c.AddContent("Measuring ");c.GetHTMLElement().style.fontSize=t;f.ApplyStyleProperties(c,k.textShadowStyle);b.AddContent(c,l);c=f.CloseXButtonForPopup(!1,d,t);c.GetHTMLElement().style.transform="";c=f.AddButtonDivRightMargin(c);g.AddContent(c,!1,!1);g.AddContent(b,!0)})()};
tf.urlapi.SingleMapApp=function(a){function c(a){h.AddMap(d=a.maps[0]);b=a.dLayers[0];l=a.perspectiveMaps[0];m=a.perspectiveDLayers[0];f=a.parameters;g&&setTimeout(function(){g({sender:e})},1);h.OnResize()}var e,d,b,f,h,k,g,l,m;this.GetParameters=function(){return f};this.GetAppContainerLayout=function(){return k};this.GetAppContainerSizer=function(){return h};this.GetMap=function(){return d};this.GetDLayers=function(){return b};this.GetPerspectiveMap=function(){return l};this.GetPerspectiveDLayers=
function(){return m};this.Resize=function(){h&&h.OnResize()};this.UpdateMapSize=function(){h&&h.UpdateMapSizes()};e=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.dom.GetHTMLElementFrom(a.layout)){var b=tf.js.GetNonEmptyString(a.documentTitle,tf.consts.URLAPIDocumentTitle),d=tf.dom.GetHTMLElementFrom(a.parentContainer),f=!d;k=a.layout;d||(d=document.body);g=tf.js.GetFunctionOrNull(a.onCreated);k.AppendTo(d);h=new tf.layout.AppContainerSizer({documentTitle:b,onResize:a.onResize,container:k,fitContainerToWindow:f,
useUpdateSizesInterval:a.useUpdateSizesInterval});tf.urlapi.CreateURLAPIMaps({optionalScope:e,onCreated:c,mapContainers:[a.mapContainer],fullScreenContainer:a.fullScreenContainer,parameters:a.fullURL,allowDLayers:tf.js.GetBoolFromValue(a.allowDLayers,!0),dLayersPreProcessDataItem:a.dLayersPreProcessDataItem,dLayersPreProcessServiceData:a.dLayersPreProcessServiceData})}})()};
tf.urlapi.SingleMapSinglePaneApp=function(a){var c=null;this.GetSinglePaneLayout=function(){return c.GetAppContainerLayout()};c=this;(function(){var e=tf.js.ShallowMerge(a);e.mapContainer=e.layout=new tf.layout.SinglePane;tf.urlapi.SingleMapApp.call(c,e)})()};tf.js.InheritFrom(tf.urlapi.SingleMapSinglePaneApp,tf.urlapi.SingleMapApp);
tf.urlapi.SingleMapContentOnTheSide=function(a){function c(a){e(a)}function e(a){d.UpdateMapSize();b&&(tf.js.GetIsValidObject(a)||(a={sender:d}),b(a))}var d,b;this.GetLeftSeparatorRightLayout=function(){return d.GetAppContainerLayout()};this.OnLayoutChange=function(){return e()};d=this;(function(){var f=tf.js.ShallowMerge(a);b=tf.js.GetFunctionOrNull(f.onLayoutChange);f.layout=new tf.layout.LeftSeparatorRight({optionalScope:d,onLayoutChange:e,separatorStyle:f.separatorStyle,initiallyCollapsed:f.initiallyCollapsed});
f.noMap||(f.mapContainer=f.layout.GetLeft());tf.urlapi.SingleMapApp.call(d,f);d.GetAppContainerSizer().AddResizeListener(c)})()};tf.js.InheritFrom(tf.urlapi.SingleMapContentOnTheSide,tf.urlapi.SingleMapApp);
tf.urlapi.SingleMapHCFOnTheSideApp=function(a){function c(){b&&b.OnResize()}function e(){d&&d.OnLayoutChange()}var d=null,b=null;this.GetSingleAppMapContentOnTheSide=function(){return d};this.GetHCFLayout=function(){return b};(function(){var f=tf.js.ShallowMerge(a);f.onLayoutChange=c;f.useUpdateSizesInterval=!0;d=new tf.urlapi.SingleMapContentOnTheSide(f);d.GetLeftSeparatorRightLayout().GetRight().AddContent(b=new tf.layout.HeaderContentFooter({onLayoutChange:e,appLogoImgStr:f.appLogoImgStr,logoBkColor:f.logoBkColor,
pageStyle:f.pageStyle,contentStyle:tf.js.ShallowMerge(f.contentStyle,{overflow:"hidden"}),headerStyle:f.headerStyle,footerStyle:f.footerStyle,logoStyle:f.logoStyle,documentTitle:f.documentTitle}))})()};
tf.urlapi.CreateURLAPIApp=function(a){var c=null;a=tf.js.GetValidObjectFrom(a);var e=tf.urlapi.ParseURLAPIParameters(a.fullURL),d=e[tf.consts.paramNameAppSpecs];if(tf.js.GetIsValidObject(d)||tf.js.GetNonEmptyString(d))a.fullURL=e,c=new tf.urlapi.AppFromSpecs(a);c||(tf.GetStyles(tf.styles.GetGraphiteAPIStyleSpecifications()),c=new tf.urlapi.URLAPIApp(a));return c};
tf.urlapi.AppFromSpecs=function(a){function c(a){var b=a.keyedItem,c=a.properties;a=null;if(b&&c)if(b=b.GetData().properties,c=D["dlayerrowcontent"+c.dLayerIndex],tf.js.GetIsValidObject(c)){a=new tf.dom.Div({cssClass:tf.GetStyles().dLayerInfoClass});for(var d in c){var e=c[d];if(tf.js.GetIsString(e))a.AddContent(tf.js.ReplaceWithValues(e,b));else if(tf.js.GetIsValidObject(e)&&tf.js.GetIsNonEmptyString(e.type)){var f,g;switch(e.type){case "image":g=tf.js.ReplaceWithValues(e.src,b);tf.js.GetIsNonEmptyString(g)&&
a.AddContent(tf.urlapi.CreateInfoWindowImg(g));break;case "link":f=tf.js.ReplaceWithValues(e.href,b);tf.js.GetIsNonEmptyString(f)&&a.AddContent(tf.urlapi.CreateInfoWindowLink(f,tf.js.ReplaceWithValues(e.label,b,"link"),tf.js.ReplaceWithValues(e.tooltip,b,"click to follow link"),tf.js.ReplaceWithValues(e.target,b,"_top")));break;case "imagelink":f=tf.js.ReplaceWithValues(e.href,b),g=tf.js.ReplaceWithValues(e.src,b),tf.js.GetIsNonEmptyString(f)&&tf.js.GetIsNonEmptyString(g)&&(e=tf.urlapi.CreateInfoWindowLink(f,
null,tf.js.ReplaceWithValues(e.tooltip,b,"click to follow link"),tf.js.ReplaceWithValues(e.target,b,"_top")),e.AddContent(tf.urlapi.CreateInfoWindowImg(g)),a.AddContent(e))}}}}else a=b.Display_Label,"."==a&&(a=b.Display_Summary_Longer_Text);M.UpdateMapSizes();return{sender:w,content:a}}function e(){R&&R();K&&(K.RefreshAll(),h(G[I].table,G[I].dLayer),M.UpdateMapSizes())}function d(){f(I-1)}function b(){f(I+1)}function f(a){a>=G.length?a=0:0>a&&(a=G.length-1);if(void 0===I||I!=a){T&&(T.tableScrollerDiv.GetHTMLElement().style.display=
"none",T=void 0);var b=I;a=G[I=a];var c;T=a;T.tableScrollerDiv.GetHTMLElement().style.display="block";a.dLayer?(c=a.dLayer.GetName(),K.MoveToTopZIndex(a.dLayer)):c=tf.js.GetIsNonEmptyString(a.title)?a.title:"";J.innerHTML=c;h(a.table,a.dLayer);V.Notify(U,tf.js.ShallowMerge({prevTableIndex:b},{sender:w,tableIndex:I}))}M.UpdateMapSizes()}function h(a,b){var c="",d=!0;b&&b.GetIsRefreshing()&&(c="Searching...",d=!1);d&&(c=a.GetKeyedList().GetItemCount(),c=0==c?"No records found":c+(1<c?" records ":" record ")+
"found");E.SetFooter(c)}function k(a){var b=a.keyedTable.GetProperties();if(b.index==I&&(a.selected!==a.prevSelected||a.isClick)){var c=b.dLayer,b=c.GetMap();if(c=c.GetFeatureList())if(a=a.selected.GetKeyedItem())if(a=c.GetFeature(a.GetKey()))b.AnimatedSetCenterIfDestVisible(a.GetPointCoords()),tf.urlapi.ShowdLayerInfoWindow(a.GetMapFeature())}}function g(a){M.UpdateMapSizes();a=a.sender;var b=a.GetProperties();b.index==I&&h(a,b.dLayer)}function l(a){if(a.isInHover){var b=tf.js.GetObjProperty(a.mapFeature,
tf.consts.DLayerProperty);tf.js.GetIsValidObject(b)&&!b.map.IsInfoPopupPinned()&&(b=P[b.dLayer.GetIndex()])&&b.index==I&&(a=a.keyedFeature.GetKeyedItem(),b.table.GetRowFromKeyedItem(a).Select(!0,!0))}}function m(a){var b=tf.js.GetObjProperty(a.mapFeature,tf.consts.DLayerProperty);if(tf.js.GetIsValidObject(b)){var c=P[b.dLayer.GetIndex()];if(c){var d=a.keyedFeature.GetKeyedItem();f(c.index);b.map.IsInfoPopupPinned()&&(b.map.ToggleInfoPopupPin(),tf.urlapi.ShowdLayerInfoWindow(a.mapFeature));setTimeout(function(){c.table.GetRowFromKeyedItem(d).Select(!0,
!0)},100)}}}function n(a){if(a=tf.js.GetMapFrom(a)){var b={};b[tf.consts.mapFeatureHoverInOutEvent]=l;b[tf.consts.mapFeatureClickEvent]=m;a.AddListeners(b)}}function p(){F=(B=C.GetSingleAppMapContentOnTheSide()).GetLeftSeparatorRightLayout();E=C.GetHCFLayout();Q=B.GetMap();K=B.GetDLayers();M=B.GetAppContainerSizer();F.SetRightSideCollapsed(!1);L=E.CreateUnPaddedDivForHeader();E.AddToHeader(L);var h=K?K.GetCount():0;n(Q);G=S?S():[];P={};for(var l=0;l<h;l++){var m=K?K.Get(l):null,p=l+1;if(m){var q=
D["dlayertablestyle"+p];q&&(q=tf.js.ShallowMerge(q,{selectOnHover:D["dlayerselectonhover"+p],onSelect:k}),p=m.CreateKeyedTable({optionalScope:w,onContentChange:g,tableSettings:q,rowSettings:{style:D["dlayerrowstyle"+p],selectedStyle:D["dlayerrowhover"+p]},properties:{dLayer:m,dLayerIndex:p,index:G.length},getRowContent:c}),q={table:p,dLayer:m,index:G.length},P[m.GetIndex()]=q,G.push(q))}}if(tf.js.GetIsArrayWithMinLength(G,1)){N=E.CreateUnPaddedDivForHeader();J=N.GetHTMLElement();tf.ui.GetSvgGlyphLib();
p=u.mapButtonDimEmNumber+"em";H=E.CreateUnPaddedDivForHeader();A.AddBorderTop(H,!0);A.AddBorderBottom(H,!0);H.GetHTMLElement().style.textAlign="left";aa||H.AddContent(A.AddButtonDivMargins(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphRefreshName,onClick:e,tooltip:"Refresh",dim:p})));1<G.length&&(H.AddContent(ia=A.AddButtonDivMargins(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphLeftArrowName,onClick:d,tooltip:"Prev",dim:p}))),H.AddContent(ba=A.AddButtonDivMargins(new tf.ui.SvgGlyphBtn({style:!0,
glyph:tf.styles.SvgGlyphRightArrowName,onClick:b,tooltip:"Next",dim:p}))));E.AddToHeader(H);A.ApplyTextAlignCenterStyle(N);J.style.verticalAlign="middle";J.style.paddingTop=J.style.paddingBottom="2px";tf.js.GetIsValidObject(D.titleStyle)&&A.ApplyStyleProperties(N,D.titleStyle);E.AddToHeader(N);h=new tf.dom.Div;p=h.GetHTMLElement();p.style.overflow="hidden";p.style.height="100%";for(l in G){var p=G[l],m=new tf.dom.Div,r=m.GetHTMLElement(),q=p.table.GetHTMLElement();m.AddContent(q);r.style.display=
"none";r.style.overflow="hidden";r.style.overflowY="scroll";r.style.height="100%";p.tableScrollerDiv=m;h.AddContent(m)}E.SetContent(h);f(0)}if(tf.js.GetFunctionOrNull(a.onCreated))a.onCreated({sender:w})}function q(a){if(!ka){ka=!0;if(void 0!==a.UC_X1){var b=tf.js.GetLongitudeFrom(a.UC_X1),c=tf.js.GetLongitudeFrom(a.UC_X2),d=tf.js.GetLongitudeFrom(a.UC_X3),e=tf.js.GetLongitudeFrom(a.UC_X4),f=tf.js.GetLatitudeFrom(a.UC_Y1),g=tf.js.GetLatitudeFrom(a.UC_Y2),h=tf.js.GetLatitudeFrom(a.UC_Y3),k=tf.js.GetLatitudeFrom(a.UC_Y4),
b=[b,f],c=[c,g],d=[d,h],e=[e,k];a.additionalFeatureSpecs=[{type:"linestring",coordinates:[b,c,d,e,b],style:[{line:!0,line_color:"#fff",line_width:4},{line:!0,line_color:"#000",line_width:2}]}];a.hoverFeatureSpecs=[{type:"polygon",coordinates:[[b,c,d,e]],style:{line:!0,line_color:"#00a",line_width:4,fill:!0,fill_color:"#fff",fill_opacity:40,zindex:2}},{type:"point",coordinates:b,style:{marker:!0,label:"v1"}},{type:"point",coordinates:c,style:{marker:!0,label:"v2"}},{type:"point",coordinates:d,style:{marker:!0,
label:"v3"}},{type:"point",coordinates:e,style:{marker:!0,label:"v4"}}]}ha||(tf.GetDebug().FileLog("alta",a),ha=!0)}Y&&Y(a)}function r(){A=tf.GetStyles(D.APIStyleSpecs);u=A.GetSubStyles();aa=a.noRefreshButton;Y=tf.js.GetFunctionOrNull(a.dLayersPreProcessDataItem);R=tf.js.GetFunctionOrNull(a.onRefresh);S=tf.js.GetFunctionOrNull(a.initTables);D.fullURL=tf.js.ShallowMerge(a.fullURL,D.replaceURLParams);D.onCreated=p;D.initiallyCollapsed=D.initiallyCollapsed;D.dLayersPreProcessDataItem=tf.js.GetBoolFromValue(D.filterDLayerRecord,
!1)?q:Y;D.dLayersPreProcessServiceData=tf.js.GetFunctionOrNull(a.dLayersPreProcessServiceData);if(tf.js.GetFunctionOrNull(a.onAppSpecsLoaded))a.onAppSpecsLoaded(D);C=new tf.urlapi.SingleMapHCFOnTheSideApp(D)}function t(a){tf.js.GetIsValidObject(D=a)?(a=!1,tf.js.GetIsValidObject(D.APIStyleSpecs)&&tf.js.GetIsNonEmptyString(D.APIStyleSpecs.googleFonts)&&(a=!0,tf.dom.AddLink("http://fonts.googleapis.com/css?family="+D.APIStyleSpecs.googleFonts,"stylesheet","text/css",r)),a||r()):tf.GetDebug().LogIfTest("AppFromSpecs: invalid file specs content")}
function v(a){t(a.data)}var w,A,u,C,B,F,E,D,K,G,L,H,I,J,N,M,P,Q,R,S,T,aa,ba,ia,V,U;this.AddTableChangeListener=function(a){return V.AddListener(U,a)};this.GotoTable=function(a){return f(a)};this.GetTableScroller=function(a){var b;0<=a&&a<G.length&&(b=G[a].tableScrollerDiv);return b};this.GetCurTableIndex=function(){return I};this.UpdateCurTableFooter=function(){h(G[I].table,G[I].dLayer)};this.GetToolBar=function(){return H};this.AddToHeader=function(a){a&&L.AddContent(a)};this.AddToToolBar=function(a){a&&
H.AddContent(a)};this.GetToolBarButtonDim=function(){return u.mapButtonDimEmNumber+"em"};this.GetToolBarSvgButtonStyle=function(){return!0};this.GetSingleAppHCFOnTheSide=function(){return C};this.GetTitleDiv=function(){return J};this.GetPrevButton=function(){return ia};this.GetNextButton=function(){return ba};this.GetMap=function(){return Q};this.GetHCFLayout=function(){return E};this.GetAppSizer=function(){return M};this.GetTwoHorPaneLayout=function(){return F};this.GetAppSpecs=function(){return D};
this.AddListenersToMap=function(a){return n(a)};var ha=!0,Y,ka=!1;w=this;(function(){var b;U="tblxng";V=new tf.events.MultiEventNotifier({eventNames:[U]});if(tf.js.GetIsValidObject(a))if(tf.js.GetIsValidObject(a.fullURL)){var c=a.fullURL[tf.consts.paramNameAppSpecs];tf.js.GetIsValidObject(c)?t(c):tf.js.GetNonEmptyString(c)?(new tf.ajax.JSONGet).Request(c,v,w,null,!1):b="'settings."+tf.consts.paramNameAppSpecs+"' are missing"}else b="'settings.fullURL' must be an object";else b="invalid 'settings'";
b&&tf.GetDebug().LogIfTest("AppFromSpecs: "+b)})()};tf.urlapi.URLAPIApp=function(a){function c(a){d&&d(a)}var e,d;e=this;(function(){a=tf.js.GetValidObjectFrom(a);d=tf.js.GetFunctionOrNull(a.onCreated);var b=tf.urlapi.ParseURLAPIParameters(a.fullURL);a.fullURL=b;a.onCreated=c;tf.urlapi.SingleMapSinglePaneApp.call(e,a)})()};tf.js.InheritFrom(tf.urlapi.URLAPIApp,tf.urlapi.SingleMapSinglePaneApp);tf.consts.DemoCommonLastNames="SMITH JOHNSON WILLIAMS JONES BROWN DAVIS MILLER WILSON MOORE TAYLOR ANDERSON THOMAS JACKSON WHITE HARRIS MARTIN THOMPSON GARCIA MARTINEZ ROBINSON CLARK RODRIGUEZ LEWIS LEE WALKER HALL ALLEN YOUNG HERNANDEZ KING WRIGHT LOPEZ HILL SCOTT GREEN ADAMS BAKER GONZALEZ NELSON CARTER MITCHELL PEREZ ROBERTS TURNER PHILLIPS CAMPBELL PARKER EVANS EDWARDS COLLINS STEWART SANCHEZ MORRIS ROGERS REED COOK MORGAN BELL MURPHY BAILEY RIVERA COOPER RICHARDSON COX HOWARD WARD TORRES PETERSON GRAY RAMIREZ JAMES WATSON BROOKS KELLY SANDERS PRICE BENNETT WOOD BARNES ROSS HENDERSON COLEMAN JENKINS PERRY POWELL LONG PATTERSON HUGHES FLORES WASHINGTON BUTLER SIMMONS FOSTER GONZALES BRYANT ALEXANDER RUSSELL GRIFFIN DIAZ HAYES MYERS FORD HAMILTON GRAHAM SULLIVAN WALLACE WOODS COLE WEST JORDAN OWENS REYNOLDS FISHER ELLIS HARRISON GIBSON MCDONALD CRUZ MARSHALL ORTIZ GOMEZ MURRAY FREEMAN WELLS WEBB SIMPSON STEVENS TUCKER PORTER HUNTER HICKS CRAWFORD HENRY BOYD MASON MORALES KENNEDY WARREN DIXON RAMOS REYES BURNS GORDON SHAW HOLMES RICE ROBERTSON HUNT BLACK DANIELS PALMER MILLS NICHOLS GRANT KNIGHT FERGUSON ROSE STONE HAWKINS DUNN PERKINS HUDSON SPENCER GARDNER STEPHENS PAYNE PIERCE BERRY MATTHEWS ARNOLD WAGNER WILLIS RAY WATKINS OLSON CARROLL DUNCAN SNYDER HART CUNNINGHAM BRADLEY LANE ANDREWS RUIZ HARPER FOX RILEY ARMSTRONG CARPENTER WEAVER GREENE LAWRENCE ELLIOTT CHAVEZ SIMS AUSTIN PETERS KELLEY FRANKLIN LAWSON FIELDS GUTIERREZ RYAN SCHMIDT CARR VASQUEZ CASTILLO WHEELER CHAPMAN OLIVER MONTGOMERY RICHARDS WILLIAMSON JOHNSTON BANKS MEYER BISHOP MCCOY HOWELL ALVAREZ MORRISON HANSEN FERNANDEZ GARZA HARVEY LITTLE BURTON STANLEY NGUYEN GEORGE JACOBS REID KIM FULLER LYNCH DEAN GILBERT GARRETT ROMERO WELCH LARSON FRAZIER BURKE HANSON DAY MENDOZA MORENO BOWMAN MEDINA FOWLER BREWER HOFFMAN CARLSON SILVA PEARSON HOLLAND DOUGLAS FLEMING JENSEN VARGAS BYRD DAVIDSON HOPKINS MAY TERRY HERRERA WADE SOTO WALTERS CURTIS NEAL CALDWELL LOWE JENNINGS BARNETT GRAVES JIMENEZ HORTON SHELTON BARRETT OBRIEN CASTRO SUTTON GREGORY MCKINNEY LUCAS MILES CRAIG RODRIQUEZ CHAMBERS HOLT LAMBERT FLETCHER WATTS BATES HALE RHODES PENA BECK NEWMAN HAYNES MCDANIEL MENDEZ BUSH VAUGHN PARKS DAWSON SANTIAGO NORRIS HARDY LOVE STEELE CURRY POWERS SCHULTZ BARKER GUZMAN PAGE MUNOZ BALL KELLER CHANDLER WEBER LEONARD WALSH LYONS RAMSEY WOLFE SCHNEIDER MULLINS BENSON SHARP BOWEN DANIEL BARBER CUMMINGS HINES BALDWIN GRIFFITH VALDEZ HUBBARD SALAZAR REEVES WARNER STEVENSON BURGESS SANTOS TATE CROSS GARNER MANN MACK MOSS THORNTON DENNIS MCGEE FARMER DELGADO AGUILAR VEGA GLOVER MANNING COHEN HARMON RODGERS ROBBINS NEWTON TODD BLAIR HIGGINS INGRAM REESE CANNON STRICKLAND TOWNSEND POTTER GOODWIN WALTON ROWE HAMPTON ORTEGA PATTON SWANSON JOSEPH FRANCIS GOODMAN MALDONADO YATES BECKER ERICKSON HODGES RIOS CONNER ADKINS WEBSTER NORMAN MALONE HAMMOND FLOWERS COBB MOODY QUINN BLAKE MAXWELL POPE FLOYD OSBORNE PAUL MCCARTHY GUERRERO LINDSEY ESTRADA SANDOVAL GIBBS TYLER GROSS FITZGERALD STOKES DOYLE SHERMAN SAUNDERS WISE COLON GILL ALVARADO GREER PADILLA SIMON WATERS NUNEZ BALLARD SCHWARTZ MCBRIDE HOUSTON CHRISTENSEN KLEIN PRATT BRIGGS PARSONS MCLAUGHLIN ZIMMERMAN FRENCH BUCHANAN MORAN COPELAND ROY PITTMAN BRADY MCCORMICK HOLLOWAY BROCK POOLE FRANK LOGAN OWEN BASS MARSH DRAKE WONG JEFFERSON PARK MORTON ABBOTT SPARKS PATRICK NORTON HUFF CLAYTON MASSEY LLOYD FIGUEROA CARSON BOWERS ROBERSON BARTON TRAN LAMB HARRINGTON CASEY BOONE CORTEZ CLARKE MATHIS SINGLETON WILKINS CAIN BRYAN UNDERWOOD HOGAN MCKENZIE COLLIER LUNA PHELPS MCGUIRE ALLISON BRIDGES WILKERSON NASH SUMMERS ATKINS WILCOX PITTS CONLEY MARQUEZ BURNETT RICHARD COCHRAN CHASE DAVENPORT HOOD GATES CLAY AYALA SAWYER ROMAN VAZQUEZ DICKERSON HODGE ACOSTA FLYNN ESPINOZA NICHOLSON MONROE WOLF MORROW KIRK RANDALL ANTHONY WHITAKER OCONNOR SKINNER WARE MOLINA KIRBY HUFFMAN BRADFORD CHARLES GILMORE DOMINGUEZ ONEAL BRUCE LANG COMBS KRAMER HEATH HANCOCK GALLAGHER GAINES SHAFFER SHORT WIGGINS MATHEWS MCCLAIN FISCHER WALL SMALL MELTON HENSLEY BOND DYER CAMERON GRIMES CONTRERAS CHRISTIAN WYATT BAXTER SNOW MOSLEY SHEPHERD LARSEN HOOVER BEASLEY GLENN PETERSEN WHITEHEAD MEYERS KEITH GARRISON VINCENT SHIELDS HORN SAVAGE OLSEN SCHROEDER HARTMAN WOODARD MUELLER KEMP DELEON BOOTH PATEL CALHOUN WILEY EATON CLINE NAVARRO HARRELL LESTER HUMPHREY PARRISH DURAN HUTCHINSON HESS DORSEY BULLOCK ROBLES BEARD DALTON AVILA VANCE RICH BLACKWELL YORK JOHNS BLANKENSHIP TREVINO SALINAS CAMPOS PRUITT MOSES CALLAHAN GOLDEN MONTOYA HARDIN GUERRA MCDOWELL CAREY STAFFORD GALLEGOS HENSON WILKINSON BOOKER MERRITT MIRANDA ATKINSON ORR DECKER HOBBS PRESTON TANNER KNOX PACHECO STEPHENSON GLASS ROJAS SERRANO MARKS HICKMAN ENGLISH SWEENEY STRONG PRINCE MCCLURE CONWAY WALTER ROTH MAYNARD FARRELL LOWERY HURST NIXON WEISS TRUJILLO ELLISON SLOAN JUAREZ WINTERS MCLEAN RANDOLPH LEON BOYER VILLARREAL MCCALL GENTRY CARRILLO KENT AYERS LARA SHANNON SEXTON PACE HULL LEBLANC BROWNING VELASQUEZ LEACH CHANG HOUSE SELLERS HERRING NOBLE FOLEY BARTLETT MERCADO LANDRY DURHAM WALLS BARR MCKEE BAUER RIVERS EVERETT BRADSHAW PUGH VELEZ RUSH ESTES DODSON MORSE SHEPPARD WEEKS CAMACHO BEAN BARRON LIVINGSTON MIDDLETON SPEARS BRANCH BLEVINS CHEN KERR MCCONNELL HATFIELD HARDING ASHLEY SOLIS HERMAN FROST GILES BLACKBURN WILLIAM PENNINGTON WOODWARD FINLEY MCINTOSH KOCH BEST SOLOMON MCCULLOUGH DUDLEY NOLAN BLANCHARD RIVAS BRENNAN MEJIA KANE BENTON JOYCE BUCKLEY HALEY VALENTINE MADDOX RUSSO MCKNIGHT BUCK MOON MCMILLAN CROSBY BERG DOTSON MAYS ROACH CHURCH CHAN RICHMOND MEADOWS FAULKNER ONEILL KNAPP KLINE BARRY OCHOA JACOBSON GAY AVERY HENDRICKS HORNE SHEPARD HEBERT CHERRY CARDENAS MCINTYRE WHITNEY WALLER HOLMAN DONALDSON CANTU TERRELL MORIN GILLESPIE FUENTES TILLMAN SANFORD BENTLEY PECK KEY SALAS ROLLINS GAMBLE DICKSON BATTLE SANTANA CABRERA CERVANTES HOWE HINTON HURLEY SPENCE ZAMORA YANG MCNEIL SUAREZ CASE PETTY GOULD MCFARLAND SAMPSON CARVER BRAY ROSARIO MACDONALD STOUT HESTER MELENDEZ DILLON FARLEY HOPPER GALLOWAY POTTS BERNARD JOYNER STEIN AGUIRRE OSBORN MERCER BENDER FRANCO ROWLAND SYKES BENJAMIN TRAVIS PICKETT CRANE SEARS MAYO DUNLAP HAYDEN WILDER MCKAY COFFEY MCCARTY EWING COOLEY VAUGHAN BONNER COTTON HOLDER STARK FERRELL CANTRELL FULTON LYNN LOTT CALDERON ROSA POLLARD HOOPER BURCH MULLEN FRY RIDDLE LEVY DAVID DUKE ODONNELL GUY MICHAEL BRITT FREDERICK DAUGHERTY BERGER DILLARD ALSTON JARVIS FRYE RIGGS CHANEY ODOM DUFFY FITZPATRICK VALENZUELA MERRILL MAYER ALFORD MCPHERSON ACEVEDO DONOVAN BARRERA ALBERT COTE REILLY COMPTON RAYMOND MOONEY MCGOWAN CRAFT CLEVELAND CLEMONS WYNN NIELSEN BAIRD STANTON SNIDER ROSALES BRIGHT WITT STUART HAYS HOLDEN RUTLEDGE KINNEY CLEMENTS CASTANEDA SLATER HAHN EMERSON CONRAD BURKS DELANEY PATE LANCASTER SWEET JUSTICE TYSON SHARPE WHITFIELD TALLEY MACIAS IRWIN BURRIS RATLIFF MCCRAY MADDEN KAUFMAN BEACH GOFF CASH BOLTON MCFADDEN LEVINE GOOD BYERS KIRKLAND KIDD WORKMAN CARNEY DALE MCLEOD HOLCOMB ENGLAND FINCH HEAD BURT HENDRIX SOSA HANEY FRANKS SARGENT NIEVES DOWNS RASMUSSEN BIRD HEWITT LINDSAY LE FOREMAN VALENCIA ONEIL DELACRUZ VINSON DEJESUS HYDE FORBES GILLIAM GUTHRIE WOOTEN HUBER BARLOW BOYLE MCMAHON BUCKNER ROCHA PUCKETT LANGLEY KNOWLES COOKE VELAZQUEZ WHITLEY NOEL VANG".split(" ");
tf.consts.DemoCommonFemaleFirstNames="MARY PATRICIA LINDA BARBARA ELIZABETH JENNIFER MARIA SUSAN MARGARET DOROTHY LISA NANCY KAREN BETTY HELEN SANDRA DONNA CAROL RUTH SHARON MICHELLE LAURA SARAH KIMBERLY DEBORAH JESSICA SHIRLEY CYNTHIA ANGELA MELISSA BRENDA AMY ANNA REBECCA VIRGINIA KATHLEEN PAMELA MARTHA DEBRA AMANDA STEPHANIE CAROLYN CHRISTINE MARIE JANET CATHERINE FRANCES ANN JOYCE DIANE ALICE JULIE HEATHER TERESA DORIS GLORIA EVELYN JEAN CHERYL MILDRED KATHERINE JOAN ASHLEY JUDITH ROSE JANICE KELLY NICOLE JUDY CHRISTINA KATHY THERESA BEVERLY DENISE TAMMY IRENE JANE LORI RACHEL MARILYN ANDREA KATHRYN LOUISE SARA ANNE JACQUELINE WANDA BONNIE JULIA RUBY LOIS TINA PHYLLIS NORMA PAULA DIANA ANNIE LILLIAN EMILY ROBIN PEGGY CRYSTAL GLADYS RITA DAWN CONNIE FLORENCE TRACY EDNA TIFFANY CARMEN ROSA CINDY GRACE WENDY VICTORIA EDITH KIM SHERRY SYLVIA JOSEPHINE THELMA SHANNON SHEILA ETHEL ELLEN ELAINE MARJORIE CARRIE CHARLOTTE MONICA ESTHER PAULINE EMMA JUANITA ANITA RHONDA HAZEL AMBER EVA DEBBIE APRIL LESLIE CLARA LUCILLE JAMIE JOANNE ELEANOR VALERIE DANIELLE MEGAN ALICIA SUZANNE MICHELE GAIL BERTHA DARLENE VERONICA JILL ERIN GERALDINE LAUREN CATHY JOANN LORRAINE LYNN SALLY REGINA ERICA BEATRICE DOLORES BERNICE AUDREY YVONNE ANNETTE JUNE SAMANTHA MARION DANA STACY ANA RENEE IDA VIVIAN ROBERTA HOLLY BRITTANY MELANIE LORETTA YOLANDA JEANETTE LAURIE KATIE KRISTEN VANESSA ALMA SUE ELSIE BETH JEANNE VICKI CARLA TARA ROSEMARY EILEEN TERRI GERTRUDE LUCY TONYA ELLA STACEY WILMA GINA KRISTIN JESSIE NATALIE AGNES VERA WILLIE CHARLENE BESSIE DELORES MELINDA PEARL ARLENE MAUREEN COLLEEN ALLISON TAMARA JOY GEORGIA CONSTANCE LILLIE CLAUDIA JACKIE MARCIA TANYA NELLIE MINNIE MARLENE HEIDI GLENDA LYDIA VIOLA COURTNEY MARIAN STELLA CAROLINE DORA JO VICKIE MATTIE TERRY MAXINE IRMA MABEL MARSHA MYRTLE LENA CHRISTY DEANNA PATSY HILDA GWENDOLYN JENNIE NORA MARGIE NINA CASSANDRA LEAH PENNY KAY PRISCILLA NAOMI CAROLE BRANDY OLGA BILLIE DIANNE TRACEY LEONA JENNY FELICIA SONIA MIRIAM VELMA BECKY BOBBIE VIOLET KRISTINA TONI MISTY MAE SHELLY DAISY RAMONA SHERRI ERIKA KATRINA CLAIRE".split(" ");
tf.consts.DemoCommonMaleFirstNames="JAMES JOHN ROBERT MICHAEL WILLIAM DAVID RICHARD CHARLES JOSEPH THOMAS CHRISTOPHER DANIEL PAUL MARK DONALD GEORGE KENNETH STEVEN EDWARD BRIAN RONALD ANTHONY KEVIN JASON MATTHEW GARY TIMOTHY JOSE LARRY JEFFREY FRANK SCOTT ERIC STEPHEN ANDREW RAYMOND GREGORY JOSHUA JERRY DENNIS WALTER PATRICK PETER HAROLD DOUGLAS HENRY CARL ARTHUR RYAN ROGER JOE JUAN JACK ALBERT JONATHAN JUSTIN TERRY GERALD KEITH SAMUEL WILLIE RALPH LAWRENCE NICHOLAS ROY BENJAMIN BRUCE BRANDON ADAM HARRY FRED WAYNE BILLY STEVE LOUIS JEREMY AARON RANDY HOWARD EUGENE CARLOS RUSSELL BOBBY VICTOR MARTIN ERNEST PHILLIP TODD JESSE CRAIG ALAN SHAWN CLARENCE SEAN PHILIP CHRIS JOHNNY EARL JIMMY ANTONIO DANNY BRYAN TONY LUIS MIKE STANLEY LEONARD NATHAN DALE MANUEL RODNEY CURTIS NORMAN ALLEN MARVIN VINCENT GLENN JEFFERY TRAVIS JEFF CHAD JACOB LEE MELVIN ALFRED KYLE FRANCIS BRADLEY JESUS HERBERT FREDERICK RAY JOEL EDWIN DON EDDIE RICKY TROY RANDALL BARRY ALEXANDER BERNARD MARIO LEROY FRANCISCO MARCUS MICHEAL THEODORE CLIFFORD MIGUEL OSCAR JAY JIM TOM CALVIN ALEX JON RONNIE BILL LLOYD TOMMY LEON DEREK WARREN DARRELL JEROME FLOYD LEO ALVIN TIM WESLEY GORDON DEAN GREG JORGE DUSTIN PEDRO DERRICK DAN LEWIS ZACHARY COREY HERMAN MAURICE VERNON ROBERTO CLYDE GLEN HECTOR SHANE RICARDO SAM RICK LESTER BRENT RAMON CHARLIE TYLER GILBERT GENE MARC REGINALD RUBEN BRETT ANGEL NATHANIEL RAFAEL LESLIE EDGAR MILTON RAUL BEN CHESTER CECIL DUANE FRANKLIN ANDRE ELMER BRAD GABRIEL RON MITCHELL ROLAND ARNOLD HARVEY JARED ADRIAN KARL CORY CLAUDE ERIK DARRYL JAMIE NEIL JESSIE CHRISTIAN JAVIER FERNANDO CLINTON TED MATHEW TYRONE DARREN LONNIE LANCE CODY JULIO KELLY KURT ALLAN NELSON GUY CLAYTON HUGH MAX DWAYNE DWIGHT ARMANDO FELIX JIMMIE EVERETT JORDAN IAN WALLACE KEN BOB JAIME CASEY ALFREDO ALBERTO DAVE IVAN JOHNNIE SIDNEY BYRON JULIAN ISAAC MORRIS CLIFTON WILLARD DARYL ROSS VIRGIL ANDY MARSHALL SALVADOR PERRY KIRK SERGIO MARION TRACY SETH KENT TERRANCE RENE EDUARDO TERRENCE ENRIQUE FREDDIE WADE".split(" ");
tf.helpers.GetRandomFemaleFirstName=function(){return tf.js.GetRandomArrayElement(tf.consts.DemoCommonFemaleFirstNames)};tf.helpers.GetRandomMaleFirstName=function(){return tf.js.GetRandomArrayElement(tf.consts.DemoCommonMaleFirstNames)};tf.helpers.GetRandomFirstName=function(){return.5>Math.random()?tf.helpers.GetRandomMaleFirstName():tf.helpers.GetRandomFemaleFirstName()};tf.helpers.GetRandomLastName=function(){return tf.js.GetRandomArrayElement(tf.consts.DemoCommonLastNames)};
tf.helpers.GetRandomFirstLastName=function(){return tf.js.CapitaliseFirstLetterOnly(tf.helpers.GetRandomFirstName())+" "+tf.js.CapitaliseFirstLetterOnly(tf.helpers.GetRandomLastName())};
tf.math.Vector3=function(a){function c(a,b,c){tf.js.GetIsValidObject(a)&&(tf.js.GetIsArrayWithMinLength(a,3)?(c=a[2],b=a[1],a=a[0]):(c=a.z,b=a.y,a=a.x));e[0]=tf.js.GetFloatNumber(a,0);e[1]=tf.js.GetFloatNumber(b,0);e[2]=tf.js.GetFloatNumber(c,0)}var e;this.length=function(){return 3};this.Update=function(a,b,e){return c(a,b,e)};this.GetSettings=function(){return{x:e[0],y:e[1],z:e[2]}};this.GetAsJSArray=function(){return[x,y,z]};this.GetAsFloat32Array=function(){return new Float32Array(e.GetAsJSArray())};
this.CopyFrom=function(a){e[0]=a[0];e[1]=a[1];e[2]=a[2];a&&(e[0]=a[0],e[1]=a[1],e[2]=a[2]);return e};this.CopyTo=function(a){a&&(a[0]=e[0],a[1]=e[1],a[2]=e[2]);return a};this.GetMagnitude=function(){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]};this.GetLength=function(){return Math.sqrt(e.GetMagnitude())};this.Normalize=function(){var a=e.GetMagnitude();0!=a&&1!=a&&e.MultByScalar(1/Math.sqrt(a));return e};this.MultByScalar=function(a){"number"==typeof a&&1!=a&&(e[0]*=a,e[1]*=a,e[2]*=a);return e};this.MultByMatrix=
function(a){if(a){var b=e[0],c=e[1],h=e[2];a=a.getMatrix();var k=a.m44+b*a.m14+c*a.m24+h*a.m34;e[0]=a.m41+b*a.m11+c*a.m21+h*a.m31;e[1]=a.m42+b*a.m12+c*a.m22+h*a.m32;e[2]=a.m43+b*a.m13+c*a.m23+h*a.m33;1!=k&&0!=k&&(k=1/k,e[0]*=k,e[1]*=k,e[2]*=k)}return e};this.MultDirectionByMatrix=function(a){if(a){var b=e[0],c=e[1],h=e[2];a=a.getMatrix();e[0]=b*a.m11+c*a.m21+h*a.m31;e[1]=b*a.m12+c*a.m22+h*a.m32;e[2]=b*a.m13+c*a.m23+h*a.m33}return e};this.Dot=function(a){return a?e[0]*a[0]+e[1]*a[1]+e[2]*a[2]:0};this.Cross=
function(a){var b=e[1]*a[2]-e[2]*a[1],c=-e[0]*a[2]+e[2]*a[0];e[2]=e[0]*a[1]-e[1]*a[0];e[0]=b;e[1]=c;return e};this.CrossRight=function(a){var b=a[1]*e[2]-a[2]*e[1],c=-a[0]*e[2]+a[2]*e[0];e[2]=a[0]*e[1]-a[1]*e[0];e[0]=b;e[1]=c;return e};this.Add=function(a){a&&(e[0]+=a[0],e[1]+=a[1],e[2]+=a[2]);return e};this.Sub=function(a){a&&(e[0]-=a[0],e[1]-=a[1],e[2]-=a[2]);return e};e=this;a=tf.js.GetValidObjectFrom(a);a.vector?e.CopyFrom(a.vector):c(a)};
tf.math.GetDeterminant2x2=function(a,c,e,d){return a*d-c*e};tf.math.GetDeterminant3x3=function(a,c,e,d,b,f,h,k,g){return a*tf.math.GetDeterminant2x2(b,f,k,g)-d*tf.math.GetDeterminant2x2(c,e,k,g)+h*tf.math.GetDeterminant2x2(c,e,b,f)};tf.math.GetDeterminant4x4=function(a,c,e,d,b,f,h,k,g,l,m,n,p,q,r,t){return a*tf.math.GetDeterminant3x3(f,l,q,h,m,r,k,n,t)-c*tf.math.GetDeterminant3x3(b,g,p,h,m,r,k,n,t)+e*tf.math.GetDeterminant3x3(b,g,p,f,l,q,k,n,t)-d*tf.math.GetDeterminant3x3(b,g,p,f,l,q,h,m,r)};
tf.math.GetCSSMatrixInfo=function(){void 0==tf.math.hasCSSMatrix&&((tf.math.hasCSSMatrix="WebKitCSSMatrix"in window&&"media"in window&&window.media.matchMedium("(-webkit-transform-3d)")||"styleMedia"in window&&window.styleMedia.matchMedium("(-webkit-transform-3d)"))?tf.math.hasCSSMatrixCopy="copy"in WebKitCSSMatrix.prototype:tf.math.hasCSSMatrixCopy=!1);return{hasCSSMatrix:tf.math.hasCSSMatrix,hasCSSMatrixCopy:tf.math.hasCSSMatrixCopy}};
tf.math.Matrix4=function(a){function c(a){a instanceof tf.math.Matrix4?(a=a.getMatrix(),g.m11=a.m11,g.m12=a.m12,g.m13=a.m13,g.m14=a.m14,g.m21=a.m21,g.m22=a.m22,g.m23=a.m23,g.m24=a.m24,g.m31=a.m31,g.m32=a.m32,g.m33=a.m33,g.m34=a.m34,g.m41=a.m41,g.m42=a.m42,g.m43=a.m43,g.m44=a.m44):tf.js.GetIsArrayWithMinLength(a,16)&&(g.m11=a[0],g.m21=a[1],g.m31=a[2],g.m41=a[3],g.m12=a[4],g.m22=a[5],g.m32=a[6],g.m42=a[7],g.m13=a[8],g.m23=a[9],g.m33=a[10],g.m43=a[11],g.m14=a[12],g.m24=a[13],g.m34=a[14],g.m44=a[15]);
return k}function e(){return[g.m11,g.m12,g.m13,g.m14,g.m21,g.m22,g.m23,g.m24,g.m31,g.m32,g.m33,g.m34,g.m41,g.m42,g.m43,g.m44]}function d(){g.m11=1;g.m12=0;g.m13=0;g.m14=0;g.m21=0;g.m22=1;g.m23=0;g.m24=0;g.m31=0;g.m32=0;g.m33=1;g.m34=0;g.m41=0;g.m42=0;g.m43=0;g.m44=1;return k}function b(){var a=g.m11,b=g.m12,c=g.m13,d=g.m14,e=g.m21,f=g.m22,h=g.m23,v=g.m24,w=g.m31,A=g.m32,u=g.m33,C=g.m34,B=g.m41,F=g.m42,E=g.m43,D=g.m44;g.m11=tf.math.GetDeterminant3x3(f,A,F,h,u,E,v,C,D);g.m21=-tf.math.GetDeterminant3x3(e,
w,B,h,u,E,v,C,D);g.m31=tf.math.GetDeterminant3x3(e,w,B,f,A,F,v,C,D);g.m41=-tf.math.GetDeterminant3x3(e,w,B,f,A,F,h,u,E);g.m12=-tf.math.GetDeterminant3x3(b,A,F,c,u,E,d,C,D);g.m22=tf.math.GetDeterminant3x3(a,w,B,c,u,E,d,C,D);g.m32=-tf.math.GetDeterminant3x3(a,w,B,b,A,F,d,C,D);g.m42=tf.math.GetDeterminant3x3(a,w,B,b,A,F,c,u,E);g.m13=tf.math.GetDeterminant3x3(b,f,F,c,h,E,d,v,D);g.m23=-tf.math.GetDeterminant3x3(a,e,B,c,h,E,d,v,D);g.m33=tf.math.GetDeterminant3x3(a,e,B,b,f,F,d,v,D);g.m43=-tf.math.GetDeterminant3x3(a,
e,B,b,f,F,c,h,E);g.m14=-tf.math.GetDeterminant3x3(b,f,A,c,h,u,d,v,C);g.m24=tf.math.GetDeterminant3x3(a,e,w,c,h,u,d,v,C);g.m34=-tf.math.GetDeterminant3x3(a,e,w,b,f,A,d,v,C);g.m44=tf.math.GetDeterminant3x3(a,e,w,b,f,A,c,h,u);return k}function f(a){"number"==typeof a&&1!=a&&(g.m11*=a,g.m12*=a,g.m13*=a,g.m14*=a,g.m21*=a,g.m22*=a,g.m23*=a,g.m24*=a,g.m31*=a,g.m32*=a,g.m33*=a,g.m34*=a,g.m41*=a,g.m42*=a,g.m43*=a,g.m44*=a);return k}function h(){return tf.math.GetDeterminant4x4(g.m11,g.m12,g.m13,g.m14,g.m21,
g.m22,g.m23,g.m24,g.m31,g.m32,g.m33,g.m34,g.m41,g.m42,g.m43,g.m44)}var k,g;this.GetInStaticFloat32Array=function(){void 0==tf.math.Matrix4.staticFloat32Array&&(tf.math.Matrix4.staticFloat32Array=new Float32Array(16));tf.math.hasCSSMatrixCopy?g.copy(tf.math.Matrix4.staticFloat32Array):(void 0==tf.math.Matrix4.staticJSArray&&(tf.math.Matrix4.staticJSArray=Array(16)),tf.math.Matrix4.staticJSArray[0]=g.m11,tf.math.Matrix4.staticJSArray[1]=g.m12,tf.math.Matrix4.staticJSArray[2]=g.m13,tf.math.Matrix4.staticJSArray[3]=
g.m14,tf.math.Matrix4.staticJSArray[4]=g.m21,tf.math.Matrix4.staticJSArray[5]=g.m22,tf.math.Matrix4.staticJSArray[6]=g.m23,tf.math.Matrix4.staticJSArray[7]=g.m24,tf.math.Matrix4.staticJSArray[8]=g.m31,tf.math.Matrix4.staticJSArray[9]=g.m32,tf.math.Matrix4.staticJSArray[10]=g.m33,tf.math.Matrix4.staticJSArray[11]=g.m34,tf.math.Matrix4.staticJSArray[12]=g.m41,tf.math.Matrix4.staticJSArray[13]=g.m42,tf.math.Matrix4.staticJSArray[14]=g.m43,tf.math.Matrix4.staticJSArray[15]=g.m44,tf.math.Matrix4.staticFloat32Array.set(tf.math.Matrix4.staticJSArray));
return tf.math.Matrix4.staticFloat32Array};this.GetAsJSArray=function(){return e()};this.GetAsFloat32Array=function(){var a;tf.math.hasCSSMatrix?(a=new Float32Array(16),g.copy(a)):a=new Float32Array(e());return a};this.CopyTo=function(a){a instanceof tf.math.Matrix4&&a.CopyFrom(k);return k};this.CopyFrom=function(a){return c(a)};this.ToIdentity=function(){return d()};this.ToTransposed=function(){var a=g.m12;g.m12=g.m21;g.m21=a;a=g.m13;g.m13=g.m31;g.m31=a;a=g.m14;g.m14=g.m41;g.m41=a;a=g.m23;g.m23=
g.m32;g.m32=a;a=g.m24;g.m24=g.m42;g.m42=a;a=g.m34;g.m34=g.m43;g.m43=a;return k};this.ToInverse=function(){if(tf.math.hasCSSMatrix)try{g=g.inverse()}catch(a){}else{var c=h();1E-8<=Math.abs(c)&&(b(),f(1/c))}return k};this.ToAdjoint=function(){return b};this.MultByMatrix=function(a){if(a instanceof tf.math.Matrix4)if(a=a.getMatrix(),tf.math.hasCSSMatrix)g=g.multiply(a);else{var b=a.m11*g.m12+a.m12*g.m22+a.m13*g.m32+a.m14*g.m42,c=a.m11*g.m13+a.m12*g.m23+a.m13*g.m33+a.m14*g.m43,d=a.m11*g.m14+a.m12*g.m24+
a.m13*g.m34+a.m14*g.m44,e=a.m21*g.m11+a.m22*g.m21+a.m23*g.m31+a.m24*g.m41,f=a.m21*g.m12+a.m22*g.m22+a.m23*g.m32+a.m24*g.m42,h=a.m21*g.m13+a.m22*g.m23+a.m23*g.m33+a.m24*g.m43,v=a.m21*g.m14+a.m22*g.m24+a.m23*g.m34+a.m24*g.m44,w=a.m31*g.m11+a.m32*g.m21+a.m33*g.m31+a.m34*g.m41,A=a.m31*g.m12+a.m32*g.m22+a.m33*g.m32+a.m34*g.m42,u=a.m31*g.m13+a.m32*g.m23+a.m33*g.m33+a.m34*g.m43,C=a.m31*g.m14+a.m32*g.m24+a.m33*g.m34+a.m34*g.m44,B=a.m41*g.m11+a.m42*g.m21+a.m43*g.m31+a.m44*g.m41,F=a.m41*g.m12+a.m42*g.m22+a.m43*
g.m32+a.m44*g.m42,E=a.m41*g.m13+a.m42*g.m23+a.m43*g.m33+a.m44*g.m43,D=a.m41*g.m14+a.m42*g.m24+a.m43*g.m34+a.m44*g.m44;g.m11=a.m11*g.m11+a.m12*g.m21+a.m13*g.m31+a.m14*g.m41;g.m12=b;g.m13=c;g.m14=d;g.m21=e;g.m22=f;g.m23=h;g.m24=v;g.m31=w;g.m32=A;g.m33=u;g.m34=C;g.m41=B;g.m42=F;g.m43=E;g.m44=D}return k};this.MultByScalar=function(a){return f(a)};this.GetDeterminant=function(){return h()};this.getMatrix=function(){return g};this.setMatrix=function(a){a&&(g=a)};k=this;a=tf.js.GetValidObjectFrom(a);tf.math.GetCSSMatrixInfo();
g=tf.math.hasCSSMatrix?new WebKitCSSMatrix:{};a.matrix instanceof tf.math.Matrix4||tf.js.GetIsArrayWithMinLength(a.matrix,16)?c(a.matrix):a.noInit||d()};
tf.math.ScaleMatrix4=function(a){function c(a,c,g){var l;tf.js.GetIsValidObject(a)&&((l=a instanceof tf.math.Matrix4)?e.CopyFrom(a):(g=a.sz,c=a.sy,a=a.sx));l||(l=e.getMatrix(),l.m11=d=tf.js.GetFloatNumber(a,1),l.m22=b=tf.js.GetFloatNumber(c,1),l.m33=f=tf.js.GetFloatNumber(g,1));return e}var e,d,b,f;this.SetScale=function(a,b,d){return c(a,b,d)};this.GetScale=function(){return{sx:d,sy:b,sz:f}};e=this;tf.math.Matrix4.call(e);c(a=tf.js.GetValidObjectFrom(a))};tf.js.InheritFrom(tf.math.ScaleMatrix4,tf.math.Matrix4);
tf.math.RotateMatrix4=function(a){function c(a,c,l,m){var n;tf.js.GetIsValidObject(a)&&((n=a instanceof tf.math.Matrix4)?e.CopyFrom(a):(m=a.axisz,l=a.axisy,c=a.axisx,a=a.angle));if(!n&&(n=e.getMatrix(),e.ToIdentity(),d=tf.js.GetFloatNumber(a,0),b=tf.js.GetFloatNumber(c,0),f=tf.js.GetFloatNumber(l,0),h=tf.js.GetFloatNumber(m,0),0!=d&&(0!=b||0!=f||0!=h)))if(tf.math.hasCSSMatrix)e.setMatrix(n.rotateAxisAngle(b,f,h,180*d/Math.PI));else{d/=2;a=Math.sin(d);c=Math.cos(d);l=a*a;m=b;var p=f,q=h,r=Math.sqrt(m*
m+p*p+q*q);0==r?(p=m=0,q=1):1!=r&&(m/=r,p/=r,q/=r);if(1==m&&0==p&&0==q)n.m11=1,n.m12=n.m13=n.m21=n.m31=0,n.m22=1-2*l,n.m23=2*a*c,n.m32=-2*a*c,n.m33=1-2*l;else if(0==m&&1==p&&0==q)n.m11=1-2*l,n.m12=n.m21=n.m23=n.m32=0,n.m13=-2*a*c,n.m22=1,n.m31=2*a*c,n.m33=1-2*l;else if(0==m&&0==p&&1==q)n.m11=1-2*l,n.m12=2*a*c,n.m13=n.m23=n.m31=n.m32=0,n.m21=-2*a*c,n.m22=1-2*l,n.m33=1;else{var r=m*m,t=p*p,v=q*q;n.m11=1-2*(t+v)*l;n.m12=2*(m*p*l+q*a*c);n.m13=2*(m*q*l-p*a*c);n.m21=2*(p*m*l-q*a*c);n.m22=1-2*(v+r)*l;n.m23=
2*(p*q*l+m*a*c);n.m31=2*(q*m*l+p*a*c);n.m32=2*(q*p*l-m*a*c);n.m33=1-2*(r+t)*l}n.m14=n.m24=n.m34=n.m41=n.m42=n.m43=0;n.m44=1}return e}var e,d,b,f,h;this.SetRotateAngleAxis=function(a,b,d,e){return c(a,b,d,e)};this.GetRotate=function(){return{angle:d,axisx:b,axisy:f,axisz:h}};e=this;tf.math.Matrix4.call(e,{noInit:!0});c(a=tf.js.GetValidObjectFrom(a))};tf.js.InheritFrom(tf.math.RotateMatrix4,tf.math.Matrix4);
tf.math.TranslateMatrix4=function(a){function c(a,c,g){var l;tf.js.GetIsValidObject(a)&&((l=a instanceof tf.math.Matrix4)?e.CopyFrom(a):(g=a.tz,c=a.ty,a=a.tx));l||(l=e.getMatrix(),l.m41=d=tf.js.GetFloatNumber(a,0),l.m42=b=tf.js.GetFloatNumber(c,0),l.m43=f=tf.js.GetFloatNumber(g,0));return e}var e,d,b,f;this.SetTranslate=function(a,b,d){return c(a,b,d)};this.GetTranslate=function(){return{tx:d,ty:b,tz:f}};e=this;tf.math.Matrix4.call(e);c(a=tf.js.GetValidObjectFrom(a))};
tf.js.InheritFrom(tf.math.TranslateMatrix4,tf.math.Matrix4);
tf.math.WorldMatrix4=function(a){function c(a){var c;tf.js.GetIsValidObject(a)&&!(c=tf.js.GetIsValidObject(a.matrix))&&(tf.js.GetIsValidObject(a.scale)&&(void 0===d?d=new tf.math.ScaleMatrix4(a.scale):d.SetScale(a.scale)),tf.js.GetIsValidObject(a.rotate)&&(void 0===b?b=new tf.math.RotateMatrix4(a.rotate):b.SetRotateAngleAxis(a.rotate)),tf.js.GetIsValidObject(a.translate)&&(void 0===f?f=new tf.math.TranslateMatrix4(a.translate):f.SetTranslate(a.translate)));c?e.CopyFrom(a.matrix):(e.ToIdentity(),void 0!==
f&&e.MultByMatrix(f),void 0!==b&&e.MultByMatrix(b),void 0!==d&&e.MultByMatrix(d));return e}var e,d,b,f;this.UpdateWorld=function(a){return c(a)};this.GetScale=function(){return d};this.GetTranslate=function(){return f};this.GetRotate=function(){return b};e=this;tf.math.Matrix4.call(e,{noInit:!0});c(tf.js.GetValidObjectFrom(a))};tf.js.InheritFrom(tf.math.WorldMatrix4,tf.math.Matrix4);
tf.math.ViewMatrix4=function(a){function c(a){a=tf.js.GetValidObjectFrom(a);b=tf.js.GetIsArrayWithMinLength(a.vFrom,3)?a.vFrom:[0,0,1];f=void 0!==a.vTo?a.vTo:[0,0,0];h=void 0!==a.vUp?a.vUp:[0,1,0];a=b[0];var c=b[1],p=b[2],q=h[0],r=h[1],t=h[2],v=a-f[0],w=c-f[1],A=p-f[2],u=Math.sqrt(v*v+w*w+A*A);0!=u&&1!=u&&(u=1/u,v*=u,w*=u,A*=u);k=[v,w,A];u=Math.sqrt(q*q+r*r+t*t);0!=u&&1!=u&&(u=1/u,q*=u,r*=u,t*=u);var C=r*A-t*w,B=t*v-q*A,F=q*w-r*v,u=Math.sqrt(C*C+B*B+F*F);0!=u&&1!=u&&(u=1/u,C*=u,B*=u,F*=u);l=[C,B,
F];q=w*F-A*B;r=A*C-v*F;t=v*B-w*C;u=Math.sqrt(q*q+r*r+t*t);0!=u&&1!=u&&(u=1/u,q*=u,r*=u,t*=u);g=[q,r,t];u=d.getMatrix();u.m14=u.m24=u.m34=0;u.m44=1;u.m11=C;u.m12=B;u.m13=F;u.m21=q;u.m22=r;u.m23=t;u.m31=v;u.m32=w;u.m33=A;u.m41=a;u.m42=c;u.m43=p;e.CopyFrom(d);e.ToInverse();return e}var e,d,b,f,h,k,g,l;this.GetInverse=function(){return d};this.UpdateView=function(a){return c(a)};this.GetView=function(){return{vFrom:b,vTo:f,vUp:h,vUnitTo:k,vUnitUp:g,vUnitRight:l}};e=this;(function(){var b={noInit:!0};
d=new tf.math.Matrix4(b);tf.math.Matrix4.call(e,b);c(a)})()};tf.js.InheritFrom(tf.math.ViewMatrix4,tf.math.Matrix4);
tf.math.FrustumMatrix4=function(a){function c(a){a=tf.js.GetValidObjectFrom(a);d=tf.js.GetFloatNumber(a.left,-1);b=tf.js.GetFloatNumber(a.right,1);f=tf.js.GetFloatNumber(a.bottom,-1);h=tf.js.GetFloatNumber(a.top,1);k=tf.js.GetFloatNumber(a.near,1);g=tf.js.GetFloatNumber(a.far,1E3);a=k+k;var c=b-d,q=0==c?1:1/c,r=h-f,t=0==r?1:1/r,v=k-g,v=0==v?1:1/v,w=e.getMatrix();l=c/2;m=r/2;w.m12=w.m13=w.m14=w.m21=w.m23=w.m24=w.m41=w.m42=w.m44=0;w.m34=-1;w.m11=a*q;w.m22=a*t;w.m31=(b+d)*q;w.m32=(h+f)*t;w.m33=(g+k)*
v;w.m43=g*a*v;return e}var e,d,b,f,h,k,g,l,m;this.UpdateFrustum=function(a){return c(a)};this.GetFrustum=function(){return{left:d,right:b,top:h,bottom:f,near:k,far:g,halfWidth:l,halfHeight:m}};e=this;tf.math.Matrix4.call(e,{noInit:!0});tf.js.GetIsValidObject(a)&&a.noInit||c(a)};tf.js.InheritFrom(tf.math.FrustumMatrix4,tf.math.Matrix4);
tf.math.PerspectiveFOVMatrix4=function(a){function c(a){k=tf.js.GetFloatNumberInRange(a,1E-7,99999999,1);g=Math.tan(h/2);a=g*b;var c=-a;d.UpdateFrustum({left:k*c,right:k*a,top:a,bottom:c,near:b,far:f});return d}function e(a){a=tf.js.GetValidObjectFrom(a);b=tf.js.GetFloatNumberInRange(a.near,1E-4,9999999,1);f=tf.js.GetFloatNumberInRange(a.far,1E-4,9999999,1);h=tf.js.GetFloatNumberInRange(a.fovy,Math.PI/64,2*Math.PI,Math.PI/6);return c(a.aspect)}var d,b,f,h,k,g;this.UpdatePerspective=function(a){return e(a)};
this.UpdateAspect=function(a){return c(a)};this.GetPerspective=function(){return{fovy:h,aspect:k,tangent:g,frustum:d.GetFrustum()}};d=this;tf.math.FrustumMatrix4.call(d,{noInit:!0});e(a)};tf.js.InheritFrom(tf.math.PerspectiveFOVMatrix4,tf.math.FrustumMatrix4);
tf.math.OrthoMatrix4=function(a){function c(a){a=tf.js.GetValidObjectFrom(a);var b=tf.js.GetFloatNumber(a.left,-1),c=tf.js.GetFloatNumber(a.right,1),h=tf.js.GetFloatNumber(a.bottom,-1),k=tf.js.GetFloatNumber(a.top,1),g=tf.js.GetFloatNumber(a.near,1);a=tf.js.GetFloatNumber(a.far,1E3);var l=(b+c)/(b-c),m=(k+h)/(k-h),n=(a+g)/(a-g),p=e.getMatrix();p.m12=p.m13=p.m14=p.m21=p.m23=p.m24=p.m31=p.m32=p.m34=0;p.m44=1;p.m11=2/(b-c);p.m22=2/(k-h);p.m33=-2/(a-g);p.m41=l;p.m42=m;p.m43=n}var e;this.UpdateOrtho=function(a){return c(a)};
e=this;tf.math.Matrix4.call(e,{noInit:!0});tf.js.GetIsValidObject(a)&&a.noInit||c(a)};tf.js.InheritFrom(tf.math.OrthoMatrix4,tf.math.Matrix4);tf.math.Plane=function(a){var c,e;this.Update=function(d){a=tf.js.GetValidObjectFrom(d);c=new tf.math.Vector3({vector:a.normal});c.Normalize();e=-c.Dot(a.point)};this.GetDistanceTo=function(a){return e+c.Dot(a)};this.Update(a)};
tf.math.ViewFrustum=function(a){function c(){return void 0==d}function e(){if(!c()){var a=d.GetPerspective(),e=a.frustum,n=b.GetView();D=a.tangent;K=a.aspect;E=e.near;F=e.far;p.CopyFrom(n.vFrom);q.CopyFrom(n.vUnitRight);r.CopyFrom(n.vUnitUp);t.CopyFrom(n.vUnitTo);C=e.halfWidth;B=e.halfHeight;v.CopyFrom(p);A.CopyFrom(t);A.MultByScalar(-E);v.Add(A);w.CopyFrom(p);A.CopyFrom(t);A.MultByScalar(-F);w.Add(A);A.CopyFrom(t);h.Update({normal:A,point:w});A.MultByScalar(-1);f.Update({normal:A,point:v});A.CopyFrom(r);
A.MultByScalar(B);A.Add(v);u.CopyFrom(A);u.Sub(p);u.Normalize();u.Cross(q);l.Update({normal:u,point:A});A.CopyFrom(r);A.MultByScalar(-B);A.Add(v);u.CopyFrom(A);u.Sub(p);u.Normalize();u.CrossRight(q);m.Update({normal:u,point:A});A.CopyFrom(q);A.MultByScalar(-C);A.Add(v);u.CopyFrom(A);u.Sub(p);u.Normalize();u.Cross(r);k.Update({normal:u,point:A});A.CopyFrom(q);A.MultByScalar(C);A.Add(v);u.CopyFrom(A);u.Sub(p);u.Normalize();u.CrossRight(r);g.Update({normal:u,point:A})}}var d,b,f,h,k,g,l,m,n,p,q,r,t,
v,w,A,u,C,B,F,E,D,K;this.GetSphereIsVisible=function(a,b){var d={isVisible:!0,intersects:0};if(!c())for(var e=0;6>e;++e){var f=n[e].GetDistanceTo(a);if(f<-b){d.isVisible=!1;break}else f<b&&++d.intersects}return d};this.GetIsPointVisible=function(a){if(!c()){var b;A.CopyFrom(a);A.Sub(p);b=-A.Dot(t);if(b>F||b<E)return!1;a=A.Dot(r);b*=D;if(a>b||a<-b)return!1;a=A.Dot(q);b*=K;if(a>b||a<-b)return!1}return!0};this.GetIsPointVisibleByPlanes=function(a){if(!c())for(var b=0;6>b;++b)if(0>n[b].GetDistanceTo(a))return!1;
return!0};this.OnUpdate=function(){return e()};this.OnDelete=function(){c()||(d=b=f=h=k=g=l=m=n=void 0)};this.IsDeleted=function(){return c()};tf.js.GetIsValidObject(a)&&tf.js.GetIsInstanceOf(a.view,tf.math.ViewMatrix4)&&tf.js.GetIsInstanceOf(a.perspective,tf.math.PerspectiveFOVMatrix4)&&(b=a.view,d=a.perspective,f=new tf.math.Plane,h=new tf.math.Plane,k=new tf.math.Plane,g=new tf.math.Plane,l=new tf.math.Plane,m=new tf.math.Plane,n=[l,m,k,g,f,h],q=new tf.math.Vector3,r=new tf.math.Vector3,t=new tf.math.Vector3,
p=new tf.math.Vector3,A=new tf.math.Vector3,u=new tf.math.Vector3,v=new tf.math.Vector3,w=new tf.math.Vector3,e())};tf.webgl={};tf.g_WebGL=null;tf.webgl.GetWebGL=function(){tf.g_WebGL||(tf.g_WebGL=new tf.webgl.WebGL);return tf.g_WebGL};
tf.webgl.WebGL=function(a){function c(){var a=["experimental-webgl","webgl","webkit-3d","moz-webgl"],b=document.createElement("canvas"),c;for(c in a)try{var d=a[c],l=b.getContext(d);if(l&&tf.js.GetFunctionOrNull(l.getParameter)){e=d;break}}catch(m){}}var e,d,b;this.RequestAnimFrame=function(a,b){return tf.js.GetFunctionOrNull(a)?d(a,b):void 0};this.CancelAnimFrame=function(a){return void 0!==a?b(a):void 0};this.GetHasWebGL=function(){return void 0!==e};this.GetContextName=function(){return e};(function(){d=
window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){return window.setTimeout(a,1E3/60)};b=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout;window.WebGLRenderingContext&&c()})()};
tf.webgl.Context=function(a){function c(){return void 0==n}function e(a,b){var d=c()?void 0:new a(u);void 0===d||b||M.push(d);return d}function d(a){(a=e(a,!0))&&P.push(a);return a}function b(){if(!c()&&!aa){aa=document.createElement("canvas");aa.width=aa.height=1;var a=aa.getContext("2d");a.beginPath();a.clearRect(-1,-1,2,2);a.closePath()}return aa}function f(){!c&&m&&void 0!==t&&(m.CancelAnimFrame(t),t=void 0)}function h(a){a.preventDefault();N=!0;f();a=function(a){a.OnLostDevice()};S.ForEach(a);
R.ForEach(a);Q.ForEach(a);for(var b in M)M[b].OnLostDevice();for(b in P)P[b].OnLostDevice();w&&w({sender:l})}function k(){N=!1;g();var a=function(a){a.OnRestoredDevice()};S.ForEach(a);R.ForEach(a);Q.ForEach(a);for(var b in M)M[b].OnRestoredDevice();for(b in P)P[b].OnRestoredDevice();A&&A({sender:l})}function g(){n=p.getContext(m.GetContextName(),a.optionalAttributes);N=n.isContextLost();I=n.getExtension("WEBGL_lose_context");n.getExtension("OES_element_index_uint");n.getExtension("OES_standard_derivatives")}
var l,m,n,p,q,r,t,v,w,A,u,C,B,F,E,D,K,G,L,H,I,J,N,M,P,Q,R,S,T,aa,ba;this.RegisterTexture2=function(a){return Q.Add(a)};this.UnRegisterTexture2=function(a){return Q.Del(a)};this.RegisterBuffer=function(a){return R.Add(a)};this.UnRegisterBuffer=function(a){return R.Del(a)};this.RegisterFrameBuffer=function(a){return S.Add(a)};this.UnRegisterFrameBuffer=function(a){return S.Del(a)};this.RegisterForPick=function(a){return T.Add(a)};this.UnRegisterForPick=function(a){return T.Del(a)};this.GetPickObject=
function(a){return T.Get(a)};this.IsContextLost=function(){return N};this.LoseContext=function(){c()||I&&I.loseContext()};this.RestoreContext=function(){c()||I&&I.restoreContext()};this.IsDeleted=function(){return c()};this.OnDelete=function(){if(!c()){q&&q.OnDelete();r&&r.OnDelete();if(P)for(var a in P)P[a].OnDelete();ba&&ba.OnDelete();J&&J.OnDelete();T&&T.Empty();Q&&Q.Empty();R&&R.Empty();S&&S.Empty();T=Q=R=S=J=ba=P=q=r=n=void 0}};this.GetOnePixelTransparentCanvas=function(){return b()};this.GetOnePixelTransparentTexture=
function(){c()||ba||(ba=new tf.webgl.Texture2({context:l,img:b(),flipVerticalBool:!1}));return ba};this.GetFourColorTexture=function(){if(!J){var a;if(!c()){a=document.createElement("canvas");var b=a.getContext("2d");a.width=a.height=2;b.beginPath();b.fillStyle="#f00";b.fillRect(0,0,1,1);b.fillStyle="#0f0";b.fillRect(1,0,1,1);b.fillStyle="#00f";b.fillRect(0,1,1,1);b.fillStyle="#ff0";b.fillRect(1,1,1,1);b.closePath();a=new tf.webgl.Texture2({context:l,img:a,flipVerticalBool:!0})}J=a}return J};this.GetMaterialFS=
function(){G||(G=e(tf.webgl.MaterialFS));return G};this.GetMaterialVS=function(){L||(L=e(tf.webgl.MaterialVS));return L};this.GetMaterialProgram=function(){H||(H=d(tf.webgl.MaterialProgram));return H};this.GetTextureColorFS=function(){C||(C=e(tf.webgl.TextureColorFS));return C};this.GetTextureColorVS=function(){B||(B=e(tf.webgl.TextureColorVS));return B};this.GetTextureColorProgram=function(){F||(F=d(tf.webgl.TextureColorProgram));return F};this.GetTextureColorPickFS=function(){E||(E=e(tf.webgl.TextureColorPickFS));
return E};this.GetTextureColorPickVS=function(){D||(D=e(tf.webgl.TextureColorPickVS));return D};this.GetTextureColorPickProgram=function(){K||(K=d(tf.webgl.TextureColorPickProgram));return K};this.GetContext=function(){return n};this.GetCanvas=function(){return p};this.RequestAnimFrame=function(){c()||(f(),t=m?m.RequestAnimFrame(v,p):void 0)};this.CancelAnimFrame=function(){return f()};l=this;a=tf.js.GetValidObjectFrom(a);if(m=tf.webgl.GetWebGL())m.GetHasWebGL()?(M=[],P=[],T=new tf.js.Collection,
Q=new tf.js.Collection({type:tf.webgl.Texture2}),R=new tf.js.Collection({type:tf.webgl.ArrayBuffer}),S=new tf.js.Collection({type:tf.webgl.FrameBuffer}),u={context:l,debug:!0},v=tf.js.GetFunctionOrNull(a.onFrame),w=tf.js.GetFunctionOrNull(a.onLost),A=tf.js.GetFunctionOrNull(a.onRestored),p=document.createElement("canvas"),q=new tf.events.AddDOMEventListener(p,"webglcontextlost",h),r=new tf.events.AddDOMEventListener(p,"webglcontextrestored",k),g()):m=void 0};
tf.webgl.Material=function(a){function c(a,b,c){b&&a.uniform3f(b,c[0],c[1],c[2])}function e(a,b){var c;void 0!==a?tf.js.GetIsArrayWithMinLength(a,3)?c=tf.js.GetFunctionOrNull(a.slice)?a.slice(0):[a[0],a[1],a[2]]:tf.js.GetIsValidObject(a)&&(a[0]=tf.js.GetFloatNumberInRange(a.r,0,1,b[0]),a[1]=tf.js.GetFloatNumberInRange(a.r,0,1,b[1]),a[2]=tf.js.GetFloatNumberInRange(a.r,0,1,b[2])):c=b;return c}this.GetSettings=function(){return a};this.SetUniforms=function(d,b){tf.js.GetIsValidObject(b)&&d&&(b.opacityShininessLoc&&
d.uniform4f(b.opacityShininessLoc,a.opacityF,a.shininessF,0,0),c(d,b.ambientColor3Loc,a.ambientColor3),c(d,b.diffuseColor3Loc,a.diffuseColor3),c(d,b.emissiveColor3Loc,a.emissiveColor3),c(d,b.specularColor3Loc,a.specularColor3))};a=tf.js.GetValidObjectFrom(a);a.name=tf.js.GetNonEmptyString(a.name,"unnamed");a.opacityF=tf.js.GetFloatNumberInRange(a.opacity,0,1,1);a.shininessF=tf.js.GetFloatNumberInRange(a.shininess,0,1,1);a.ambientColor3=e(a.ambient,[1,1,1]);a.diffuseColor3=e(a.diffuse,[0,0,0]);a.emissiveColor3=
e(a.emissive,[0,0,0]);a.specularColor3=e(a.specular,[1,1,1]);a.texFile=tf.js.GetNonEmptyString(a.texFile);delete a.opacity;delete a.shininess;delete a.ambient;delete a.diffuse;delete a.emissive;delete a.specular};
tf.webgl.ArrayBuffer=function(a){function c(){return void 0==f}function e(){c()||(h=f.GetContext().createBuffer(),d(a.data))}function d(a){if(!c()&&void 0!==h){var b=f.GetContext(),d=m?b.STREAM_DRAW:b.STATIC_DRAW;b.bindBuffer(l,h);b.bufferData(l,a,d);b.bindBuffer(l,null)}}var b,f,h,k,g,l,m,n,p,q,r,t,v,w;this.OnLostDevice=function(){if(!c()&&void 0!=h){var a=f.GetContext();a&&(a.deleteBuffer(h),h=void 0)}};this.OnRestoredDevice=function(){return e()};this.GetContext=function(){return f};this.GetCtx=
function(){return f?f.GetContext():void 0};this.GetLength=function(){return g};this.GetCount=function(){return n};this.GetType=function(){return l};this.IsIndices=function(){return m};this.GetBuffer=function(){return h};this.Bind=function(a){if(!c()&&void 0!==h){var b=f.GetContext();m?b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,h):0<=a&&(b.enableVertexAttribArray(a),b.bindBuffer(b.ARRAY_BUFFER,h),b.vertexAttribPointer(a,p,q,r,t,v))}};this.Update=function(a){return d(a)};this.GetData=function(){return k};
this.OnDelete=function(){c()||(f.UnRegisterBuffer(w),w=l=f=h=void 0,n=g=0,m=!1)};this.IsDeleted=function(){return c()};b=this;(function(){a=tf.js.GetValidObjectFrom(a);g=0;if(tf.js.GetIsNonEmptyArray(a.data)&&tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()){f=a.context;k=a.data;g=k.length;m=!!a.isIndices;p=void 0!==a.glSize?tf.js.GetIntNumberInRange(a.glSize,1,999999999,1):1;r=void 0!==a.normalized?!!a.normalized:!1;t=void 0!==a.stride?tf.js.GetIntNumberInRange(a.stride,
0,999999999,0):0;v=void 0!==a.offset?tf.js.GetIntNumberInRange(a.offset,0,999999999,0):0;var c=f.GetContext();l=m?c.ELEMENT_ARRAY_BUFFER:c.ARRAY_BUFFER;m?n=g:(q=void 0!==a.glType?a.glType:c.FLOAT,n=Math.floor(g/p));w=f.RegisterBuffer(b);e()}})()};
tf.webgl.PosBuffer=function(a){a=tf.js.GetValidObjectFrom(a);tf.js.GetIsNonEmptyArray(a.data)&&(a.glSize=3,0!=a.data.length%a.glSize&&tf.GetDebug().LogIfTest("tf.webgl.PosBuffer: Data length not multiple of "+a.glSize),a.isIndices=!1,tf.webgl.ArrayBuffer.call(this,a))};tf.js.InheritFrom(tf.webgl.PosBuffer,tf.webgl.ArrayBuffer);
tf.webgl.NorBuffer=function(a){a=tf.js.GetValidObjectFrom(a);tf.js.GetIsNonEmptyArray(a.data)&&(a.glSize=3,0!=a.data.length%a.glSize&&tf.GetDebug().LogIfTest("tf.webgl.NorBuffer: Data length not multiple of "+a.glSize),a.isIndices=!1,tf.webgl.ArrayBuffer.call(this,a))};tf.js.InheritFrom(tf.webgl.NorBuffer,tf.webgl.ArrayBuffer);
tf.webgl.Tex2DBuffer=function(a){a=tf.js.GetValidObjectFrom(a);tf.js.GetIsNonEmptyArray(a.data)&&(a.glSize=2,0!=a.data.length%a.glSize&&tf.GetDebug().LogIfTest("tf.webgl.Tex2DBuffer: Data length not multiple of "+a.glSize),a.isIndices=!1,tf.webgl.ArrayBuffer.call(this,a))};tf.js.InheritFrom(tf.webgl.Tex2DBuffer,tf.webgl.ArrayBuffer);
tf.webgl.IndexBuffer=function(a){var c,e;this.Draw=function(a){if(!c.IsDeleted()){var b=c.GetCtx();b&&b.drawElements(a?b.LINES:b.TRIANGLES,c.GetLength(),e,0)}};c=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetIsNonEmptyArray(a.data)&&(a.isIndices=!0,tf.webgl.ArrayBuffer.call(c,a),!c.IsDeleted())){var d=c.GetCtx();e=a.is8?d.UNSIGNED_BYTE:a.is16?d.UNSIGNED_SHORT:a.is32?d.UNSIGNED_INT:d.UNSIGNED_BYTE}})()};tf.js.InheritFrom(tf.webgl.IndexBuffer,tf.webgl.ArrayBuffer);
tf.webgl.MergeBuffers=function(a){function c(a,b,c,d,e,f,g){var h=e.GetPos(),k=e.GetIndices(),l=e.GetNor(),m=e.GetTex2D(),n=h.GetLength();e=k.GetLength();for(var h=h.GetData(),k=k.GetData(),p=l?l.GetData():void 0,l=0;l<n;++l){var q=f+l;a[q]=h[l];b[q]=p?p[l]:1}if(c)for(a=Math.floor(2*n/3),b=m?m.GetData():void 0,l=0;l<a;++l)q=f+l,c[q]=b?b[l]:0;c=f/3;for(l=0;l<e;++l)d[g+l]=k[l]+c}function e(a,b,c){var d=0,e=0,f=void 0;if(tf.js.GetIsInstanceOf(a,tf.webgl.VertexBuffer)&&!a.IsDeleted()){var g=a.GetPos(),
l=a.GetIndices();if(g&&l){var m=a.GetContext();if(void 0==c||c==m)f=m,d=g.GetLength(),e=l.GetLength(),b.push(a),h||(h=!!a.GetNor()),k||(k=!!a.GetTex2D())}}return{nVertices:d,nIndices:e,context:f}}var d;if(tf.js.GetIsValidObject(a)){var b=0,f=0,h,k,g,l=[],m;for(m in a){var n=e(a[m],l,g);0<n.nVertices&&(b+=n.nVertices,f+=n.nIndices,g=n.context)}if(l.length){var p=new Float32Array(b);a=b/3;d=256>a;var n=65536>a,q=!n,f=d?new Uint8Array(f):n?new Uint16Array(f):new Uint32Array(f),r=h?new Float32Array(b):
void 0,b=k?new Float32Array(Math.floor(2*b/3)):void 0,t=0,v=0;for(m in l){var w=l[m];c(p,r,b,f,w,t,v);t+=w.GetPos().GetLength();v+=w.GetIndices().GetLength()}l=new tf.webgl.PosBuffer({context:g,data:p});d=new tf.webgl.IndexBuffer({context:g,data:f,is8:d,is16:n,is32:q});var n=r?new tf.webgl.NorBuffer({context:g,data:r}):void 0,q=b?new tf.webgl.Tex2DBuffer({context:g,data:b}):void 0,A;for(m in f)r=f[m],(0>r||r>=a)&&console.log("invalid index"),r==a-1&&(A=!0);A||console.log("no last index");d=new tf.webgl.VertexBuffer({cullFrontFace:!1,
context:g,pos:l,nor:n,tex2d:q,indices:d})}}return d};
tf.webgl.VertexBuffer=function(a){var c,e,d,b,f,h;this.OnLostDevice=function(){void 0!=c&&(d&&d.OnLostDevice(),b&&b.OnLostDevice(),f&&f.OnLostDevice(),h&&h.OnLostDevice(),e=void 0)};this.OnRestoredDevice=function(){void 0!=c&&(d&&d.OnRestoredDevice(),b&&b.OnRestoredDevice(),f&&f.OnRestoredDevice(),h&&h.OnRestoredDevice(),e=c.GetContext())};this.GetContext=function(){return c};this.GetPos=function(){return d};this.GetNor=function(){return b};this.GetTex2D=function(){return f};this.GetIndices=function(){return h};
this.BindBuffers=function(a,c,l){void 0!=e&&(0<=a&&(d?d.Bind(a):e.disableVertexAttribArray(a)),0<=c&&(b?b.Bind(c):e.disableVertexAttribArray(c)),0<=l&&(f?f.Bind(l):e.disableVertexAttribArray(l)),h&&h.Bind())};this.Draw=function(a){void 0==c||h.Draw(a)};this.OnDelete=function(a){void 0!=c&&(a&&(d&&d.OnDelete(),b&&b.OnDelete(),f&&f.OnDelete(),h&&h.OnDelete()),d=b=f=h=e=c=void 0)};this.IsDeleted=function(){return void 0==c};(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetIsInstanceOf(a.context,
tf.webgl.Context)&&a.context.GetContext()&&(void 0==a.pos||tf.js.GetIsInstanceOf(a.pos,tf.webgl.PosBuffer))&&(void 0==a.nor||tf.js.GetIsInstanceOf(a.nor,tf.webgl.NorBuffer))&&(void 0==a.tex2d||tf.js.GetIsInstanceOf(a.tex2d,tf.webgl.Tex2DBuffer))&&(void 0==a.indices||tf.js.GetIsInstanceOf(a.indices,tf.webgl.IndexBuffer))){c=a.context;e=c.GetContext();d=a.pos;b=a.nor;f=a.tex2d;if(d){var k=d.GetLength();b&&b.GetLength()!=k&&tf.GetDebug().LogIfTest("inconsistent number of pos / nor");f&&3*f.GetLength()/
2!=k&&tf.GetDebug().LogIfTest("inconsistent number of pos / tex2d")}h=a.indices}})()};
tf.webgl.MatTex2VertCombo=function(a){function c(){return void 0==k}function e(){if(!c){for(var a in k)k[a].OnDelete();k=[]}}function d(a){if(!c())if(tf.js.GetIsInstanceOf(a,tf.webgl.VertexBuffer))k.push(a);else if(tf.js.GetIsNonEmptyArray(a))for(var b in a)d(a[b])}var b,f,h,k;this.Render=function(a,d,e,n,p,q){if(!c()){b&&b.SetUniforms(a,q);var r=f?1:0,t=h?1:0;r&&f.Bind();t&&h.Bind();q.hasTextureLoc&&a.uniform1i(q.hasTextureLoc,r);q.hasNormalTextureLoc&&a.uniform1i(q.hasNormalTextureLoc,t);for(var v in k)a=
k[v],a.BindBuffers(d,e,n),a.Draw(p.useLines)}};this.GetVertCount=function(){return c()?0:k.length};this.MergeBuffers=function(){if(!c()&&1<k.length){var a=tf.webgl.MergeBuffers(k);a&&(e(),k=[a])}};this.AddVertexBuffer=function(a){return d(a)};this.OnDelete=function(a,d){c()||(a&&(f&&f.OnDelete(),h&&h.OnDelete()),d&&e(),b=f=h=k=void 0)};this.IsDeleted=function(){return c()};tf.js.GetIsValidObject(a)&&(tf.js.GetIsInstanceOf(a.material,tf.webgl.Material)&&(b=a.material),tf.js.GetIsInstanceOf(a.texture2,
tf.webgl.Texture2)&&(f=a.texture2),tf.js.GetIsInstanceOf(a.normalsTexture2,tf.webgl.Texture2)&&(h=a.normalsTexture2),k=[],d(a.vertices))};
tf.webgl.MatTex2VertComboList=function(a){function c(){return void 0==b}function e(a){if(!c())if(tf.js.GetIsInstanceOf(a,tf.webgl.MatTex2VertCombo))b.push(a);else if(tf.js.GetIsNonEmptyArray(a))for(var d in a)e(a[d])}function d(){if(!c())for(var a=b.length,d=0;d<a;++d)b[d].MergeBuffers()}var b;this.Render=function(a,d,e,g,l,m){if(!c())for(var n in b)b[n].Render(a,d,e,g,l,m)};this.Add=function(a){return e(a)};this.GetCount=function(){return c()?0:b.length};this.MergeBuffers=function(){return d()};
this.OnDelete=function(a,d,e){if(!c()){if(a)for(var g in b)b[g].OnDelete(d,e);b=void 0}};this.IsDeleted=function(){return c()};b=[];tf.js.GetIsValidObject(a)&&(e(a.combos),a.mergeBuffers&&d())};
tf.webgl.QuadXY=function(a){a=tf.js.GetValidObjectFrom(a);var c=new Float32Array([.5,.5,0,-.5,.5,0,-.5,-.5,0,.5,-.5,0]),e=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1]),d=new Float32Array([1,1,0,1,0,0,1,0]),b=new Uint8Array([0,1,2,0,2,3]);tf.webgl.VertexBuffer.call(this,{context:a.context,pos:new tf.webgl.PosBuffer({context:a.context,data:c}),nor:new tf.webgl.NorBuffer({context:a.context,data:e}),tex2d:new tf.webgl.Tex2DBuffer({context:a.context,data:d}),indices:new tf.webgl.IndexBuffer({context:a.context,
data:b,is8:!0})})};tf.js.InheritFrom(tf.webgl.QuadXY,tf.webgl.VertexBuffer);
tf.webgl.Box=function(a){a=tf.js.GetValidObjectFrom(a);var c=new Float32Array([.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5]),e=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,
0,0,-1]),d=new Float32Array([1,1,0,1,0,0,1,0,0,1,0,0,1,0,1,1,1,0,1,1,0,1,0,0,1,1,0,1,0,0,1,0,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1]),b=new Uint8Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]);tf.webgl.VertexBuffer.call(this,{context:a.context,pos:new tf.webgl.PosBuffer({context:a.context,data:c}),nor:new tf.webgl.NorBuffer({context:a.context,data:e}),tex2d:new tf.webgl.Tex2DBuffer({context:a.context,data:d}),indices:new tf.webgl.IndexBuffer({context:a.context,
data:b,is8:!0})})};tf.js.InheritFrom(tf.webgl.Box,tf.webgl.VertexBuffer);
tf.webgl.Sphere=function(a){a=tf.js.GetValidObjectFrom(a);var c,e,d;c=tf.js.GetFloatNumberInRange(a.radius,1E-5,9999999,.5);e=tf.js.GetIntNumberInRange(a.nVer,3,100,10);d=tf.js.GetIntNumberInRange(a.nHor,3,100,10);for(var b=[],f=[],h=[],k=[],g=0;g<=e;++g)for(var l=0;l<=d;++l){var m=g*Math.PI/e,n=2*l*Math.PI/d,p=Math.sin(m),q=Math.sin(n),m=Math.cos(m),n=Math.cos(n)*p,p=q*p,q=1-l/d,r=g/e;f.push(n);f.push(m);f.push(p);h.push(q);h.push(r);b.push(c*n);b.push(c*m);b.push(c*p)}for(g=0;g<e;++g)for(l=0;l<
d;++l)c=g*(d+1)+l,n=c+d+1,k.push(c),k.push(c+1),k.push(n),k.push(n),k.push(c+1),k.push(n+1);tf.webgl.VertexBuffer.call(this,{context:a.context,pos:new tf.webgl.PosBuffer({context:a.context,data:new Float32Array(b)}),nor:new tf.webgl.NorBuffer({context:a.context,data:new Float32Array(f)}),tex2d:new tf.webgl.Tex2DBuffer({context:a.context,data:new Float32Array(h)}),indices:new tf.webgl.IndexBuffer({context:a.context,data:new Uint16Array(k),is16:!0})})};tf.js.InheritFrom(tf.webgl.Sphere,tf.webgl.VertexBuffer);
tf.webgl.UVPrimitiveGenerator=function(a){var c;if(tf.js.GetIsValidObject(a)&&tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()){var e;if(e=tf.js.GetFunctionOrNull(a.getUVVertex)){c=a.context;var d=void 0!==a.nHor?tf.js.GetIntNumberInRange(a.nHor,1,99999,10):10,b=void 0!==a.nVer?tf.js.GetIntNumberInRange(a.nVer,1,99999,10):10;a=!!a.fillCW;for(var f=b+1,h=d+1,k=f*h,g=3*k,l=2*d*b*3,m=255<l,n=new Float32Array(g),g=new Float32Array(g),k=new Float32Array(2*k),l=m?new Uint16Array(l):
new Uint8Array(l),p=0,q=0,r=0,t=new tf.math.Vector3,v=0;v<f;++v)for(var w=v/b,A=0;A<h;++A){var u=A/d,C=e({col:A,row:v,nCols:h,nRows:f,u:u,v:w});n[p+0]=C.pos.x;n[p+1]=C.pos.y;n[p+2]=C.pos.z;t.Update(C.nor);t.Normalize();g[p++]=t[0];g[p++]=t[1];g[p++]=t[2];k[q++]=u;k[q++]=w}for(e=0;e<b;++e)for(f=0;f<d;++f)h=e*(d+1)+f,p=h+d+1,a?(l[r++]=h,l[r++]=h+1,l[r++]=p,l[r++]=p,l[r++]=h+1,l[r++]=p+1):(l[r++]=h,l[r++]=p,l[r++]=h+1,l[r++]=p,l[r++]=p+1,l[r++]=h+1);c=new tf.webgl.VertexBuffer({context:c,pos:new tf.webgl.PosBuffer({context:c,
data:n}),nor:new tf.webgl.NorBuffer({context:c,data:g}),tex2d:new tf.webgl.Tex2DBuffer({context:c,data:k}),indices:new tf.webgl.IndexBuffer({context:c,data:l,is16:m})})}}return c};
tf.webgl.UVSphere=function(a){function c(a){var c=Math.PI*a.v,e=2*Math.PI*(1-a.u);a=Math.sin(e);var k=Math.cos(e),e=Math.sin(c),c=Math.cos(c),k=k*e;a*=e;return{pos:{x:k*d,y:c*d,z:a*d},nor:{x:k,y:c,z:a}}}var e,d;tf.js.GetIsValidObject(a)&&(d=tf.js.GetFloatNumberInRange(a.radius,1E-6,9999999,.5),e=new tf.webgl.UVPrimitiveGenerator({context:a.context,isClosed:!1,nHor:a.nHor,nVer:a.nVer,fillCW:a.fillCW,getUVVertex:c}));return e};
tf.webgl.Texture2=function(a){function c(){return void 0==h}function e(){c()||((k=h.GetContext())&&(g=k.createTexture()),d())}function d(){c()||void 0===g||void 0===l||(k.activeTexture(k.TEXTURE0+p),k.bindTexture(k.TEXTURE_2D,g),k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,!!m),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,
k.LINEAR),k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,l),a.mipMaps&&k.generateMipmap(k.TEXTURE_2D),k.bindTexture(k.TEXTURE_2D,null))}function b(a,b){l=tf.js.GetIsValidObject(a)?a:void 0;m=tf.js.GetBoolFromValue(b,!0)}var f,h,k,g,l,m,n,p;this.GetTexture=function(){return g};this.Bind=function(){c()||void 0===g||(k.activeTexture(k.TEXTURE0+p),k.bindTexture(k.TEXTURE_2D,g),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR))};this.UpdateFromImage=function(a,c){b(a,c);d()};this.OnLostDevice=function(){c()||(k=g=void 0)};this.OnRestoredDevice=function(){return e()};this.OnDelete=function(){c()||(h.UnRegisterTexture2(n),n=h=g=l=void 0)};this.IsDeleted=function(){return c()};f=this;(function(){a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&(h=a.context,
k=h.GetContext(),n=h.RegisterTexture2(f),p=tf.js.GetIntNumberInRange(a.unit,0,1E3,0),tf.js.GetIsNonEmptyString(a.url)?(b(h.GetOnePixelTransparentCanvas(),a.flipVerticalBool),e(),new tf.dom.Img({crossOrigin:!0,src:a.url,onLoad:function(a){a.GetIsValid()&&(b(a.GetImg(),m),e())}})):(b(a.img,a.flipVerticalBool),e()))})()};
tf.webgl.SceneObject=function(a){var c,e,d,b,f,h,k,g,l,m,n,p,q,r,t,v,w,A,u,C;this.SetRenderMatrix=function(a){C=a};this.GetRenderMatrix=function(a){return C};this.OnPreRender=function(a){if(void 0!=e&&(C=void 0,n)){var b=a.parentObjectToSceneMatrix;m&&m(c);A.CopyFrom(b);A.MultByMatrix(h);if(d){var f=new tf.math.Vector3([0,0,0]);f.MultByMatrix(A);f=a.frustum.GetIsPointVisible(f);a.toRender.push({sceneObject:c,objectToSceneMatrix:A,frustumVisible:f})}if(p){for(var k in g)a.parentObjectToSceneMatrix=
A,g[k].OnPreRender(a);a.parentObjectToSceneMatrix=b}}};this.SeUsesNonUniformScaling=function(a){v=!!a};this.GetUsesNonUniformScaling=function(){return v};this.SetUseDepth=function(a){t=!!a};this.GetUseDepth=function(){return t};this.GetPickColor=function(){return w};this.SetPickColor=function(a){w=a};this.GetIsVisible=function(){return n};this.SetIsVisible=function(a){return n=!!a};this.GetAreSubObjectsVisible=function(){return p};this.SetAreSubObjectsVisible=function(a){return p=!!a};this.GetAttributes=
function(){return b};this.GetComboList=function(){return u};this.GetObjectToSceneMatrix=function(){return h};this.RenderSelf=function(a){if(void 0!=e&&n){var c=e.GetContext(),h=a.scene,m=a.useProgram,A=a.isForPick;!d||A&&!w||(q?(c.enable(c.CULL_FACE),r?c.cullFace(c.FRONT):c.cullFace(c.BACK)):c.disable(c.CULL_FACE),t?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),void 0==m&&(m=d),m.Render({usesNonUniformScaling:v||a.usesNonUniformScaling,comboList:u,attributes:b,texture:f,material:l,scene:h,objectToSceneMatrix:C,
useLines:a.useLines||k,pickColor:w}));if(p&&a.renderSubObjects){c=a.usesNonUniformScaling;a.usesNonUniformScaling|=v;for(var G in g)g[G].RenderSelf(a);a.usesNonUniformScaling=c}}};this.AddSubObject=function(a){!c.IsDeleted()&&tf.js.GetIsInstanceOf(a,tf.webgl.SceneObject)&&g.push(a)};this.DelSubObject=function(a){if(!c.IsDeleted()&&tf.js.GetIsInstanceOf(a,tf.webgl.SceneObject)){var b=g.find(a);-1!=b&&a.splice(b,1)}};this.GetSubObjects=function(){return g};this.DelAllSubObjects=function(){c.IsDeleted()||
(g=[])};this.SetOnPreRender=function(a){m=tf.js.GetFunctionOrNull(a)};this.OnDelete=function(a,c,k){if(void 0!=e){if(a)for(var m in g)g[m].OnDelete(a,c,k);c&&(b&&b.OnDelete(k),f&&f.OnDelete());C=A=g=d=b=l=f=h=e=void 0}};this.IsDeleted=function(){return void 0==e};c=this;a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&(h=new tf.math.WorldMatrix4(a),A=new tf.math.WorldMatrix4,e=a.context,g=[],n=!tf.js.GetIsFalseNotUndefined(a.isVisible),p=!tf.js.GetIsFalseNotUndefined(a.subObjectsAreVisible),
tf.js.GetIsInstanceOf(a.program,tf.webgl.Program)&&(q=void 0!==a.cullFace?!!a.cullFace:!0,r=void 0!==a.cullFrontFace?!!a.cullFrontFace:!1,k=!!a.useLines,t=!tf.js.GetIsFalseNotUndefined(a.useDepth),v=!!a.usesNonUniformScaling,d=a.program,u=tf.js.GetIsInstanceOf(a.comboList,tf.webgl.MatTex2VertComboList)?a.comboList:void 0,b=tf.js.GetIsInstanceOf(a.attributes,tf.webgl.VertexBuffer)?a.attributes:void 0,f=tf.js.GetIsInstanceOf(a.texture,tf.webgl.Texture2)?a.texture:void 0,l=a.material,m=tf.js.GetFunctionOrNull(a.onPreRender)))};
tf.webgl.Scene=function(a){function c(){return void 0==h}function e(a){function b(a,c){tf.js.GetIsInstanceOf(a,tf.webgl.SceneObject)&&(k.renderSubObjects=!!c,a.RenderSelf(k))}if(!c()){w=void 0;v.CopyFrom(q);v.MultByMatrix(p);var d=h.GetContext();d.viewport(0,0,a.viewportWidth,a.viewportHeight);a.frameBuffer?d.bindFramebuffer(d.FRAMEBUFFER,a.frameBuffer):d.bindFramebuffer(d.FRAMEBUFFER,null);d.depthRange(0,1);d.depthFunc(d.LEQUAL);d.clearDepth(m);d.enable(d.BLEND);d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA);
var e=void 0!==a.clearColor?a.clearColor:g;d.clearColor(e[0],e[1],e[2],e[3]);d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT);d.frontFace(d.CCW);var k={scene:f,renderSubObjects:!1,parentObjectToSceneMatrix:n,useProgram:a.useProgram,isForPick:a.isForPick},d=0,l;for(l in A){var e=A[l],r=e.sceneObject;e.frustumVisible&&(++d,r.SetRenderMatrix(e.objectToSceneMatrix),r.RenderSelf(k))}if(tf.js.GetFunctionOrNull(a.onPostCompose))a.onPostCompose({sender:f,renderImmediate:b})}}function d(a){r=tf.js.GetIsArrayWithLength(a,
3)?a.slice(0):[0,0,1]}function b(a,b,c){return tf.js.GetIsArrayWithLength(a,b)?a.slice(0):c}var f,h,k,g,l,m,n,p,q,r,t,v,w,A,u;this.OnPreRender=function(){if(!c()){A=[];u.OnUpdate();var a={frustum:u,parentObjectToSceneMatrix:n,toRender:A},b;for(b in k)k[b].OnPreRender(a)}};this.GetLastProgram=function(){return w};this.SetLastProgram=function(a){return w=a};this.RenderOn=function(a){return e(a)};this.GetViewProj=function(){return v};this.GetWorld=function(){return n};this.GetView=function(){return p};
this.GetPerspective=function(){return q};this.SetClearColor=function(a){g=b(a,4,[0,0,.5,1])};this.GetClearColor=function(){return g.slice(0)};this.SetAmbientColor=function(a){l=b(a,3,[0,0,0])};this.GetAmbientColor=function(){return l.slice(0)};this.GetLightDir=function(){return r};this.SetLightDir=function(a){return d(a)};this.SetLightColor=function(a){t=b(a,3,[0,0,0])};this.GetLightColor=function(){return t.slice(0)};this.AddObject=function(a){c()||tf.js.GetIsValidObject(a)&&tf.js.GetFunctionOrNull(a.RenderSelf)&&
k.push(a)};this.DelObject=function(a){!c()&&tf.js.GetIsValidObject(a)&&(a=k.indexOf(a),-1!=a&&k.splice(a,1))};this.ClearObjects=function(){c()||(k=[])};this.OnDelete=function(){h=void 0;k=null};this.IsDeleted=function(){return c()};f=this;a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&(h=a.context,h.GetCanvas(),v=new tf.math.Matrix4({noInit:!0}),n=new tf.math.WorldMatrix4(a.world),p=new tf.math.ViewMatrix4(a.view),q=new tf.math.PerspectiveFOVMatrix4(a.perspective),
u=new tf.math.ViewFrustum({perspective:q,view:p}),m="number"==typeof a.clearDepth?a.clearDepth:1,g=b(a.clearColor,4,[0,0,.5,1]),l=b(a.ambientColor,3,[0,0,0]),d(a.lightDir),t=b(a.lightColor,3,[0,0,0]),c()||(k=[]))};
tf.webgl.SceneContainer=function(a){function c(){if(void 0!=m){if(n.clientWidth!=n.width||n.clientHeight!=n.height)n.width=n.clientWidth,n.height=n.clientHeight,q=0<n.clientWidth?n.clientHeight/n.clientWidth:1,p.GetPerspective().UpdateAspect(1/q);B&&B({sender:k});p.OnPreRender();var a={onPostCompose:F,viewportWidth:n.width,viewportHeight:n.height,isForPick:!1,frameBuffer:void 0,clearColor:void 0,useProgram:void 0};p.RenderOn(a);u&&0==v%w&&(a.viewportWidth=a.viewportHeight=A,a.isForPick=!0,a.frameBuffer=
u.GetFrameBuffer(),a.clearColor=[0,0,0,0],a.useProgram=l.GetTextureColorPickProgram(),p.RenderOn(a));v++}}function e(){l&&l.RestoreContext()}function d(){c();l.RequestAnimFrame()}function b(){m=void 0;setTimeout(e,1E3)}function f(){m=l.GetContext();c()}function h(){var a=30*Math.PI/180;Math.sin(a);a=1*Math.cos(a);p=new tf.webgl.Scene({context:l,clearColor:[0,0,0,1],clearDepth:1,ambientColor:[1,1,1],lightDir:[0,1,0],lightColor:[.75,.75,.75],view:{vFrom:[a,a,0],vTo:[0,0,0],vUp:[0,1,0]},perspective:{fovy:30*
Math.PI/180,near:1,far:1E3}})}var k,g,l,m,n,p,q,r,t,v,w,A,u,C,B,F;this.GetObjectFromPixel=function(a){var b;void 0!=m&&u&&tf.js.GetIsArrayWithMinLength(a,2)&&(m.bindFramebuffer(m.FRAMEBUFFER,u.GetFrameBuffer()),m.readPixels(a[0],a[1],1,1,m.RGBA,m.UNSIGNED_BYTE,C),m.bindFramebuffer(m.FRAMEBUFFER,null),b=l.GetPickObject(tf.webgl.DecodeColorIntoInt(C)));return b};this.OnFrame=function(){return d()};this.GetContext=function(){return l};this.GetScene=function(){return p};this.GetAspect=function(){return q};
this.OnDelete=function(){void 0!=l&&(t&&n&&t.removeChild(n),p&&p.OnDelete(),u&&u.OnDelete(),l&&l.OnDelete(),t=r=n=m=l=p=u=void 0)};this.IsDeleted=function(){return void 0==l};k=this;tf.js.GetIsValidObject(a)&&tf.dom.GetHTMLElementFrom(a.container)&&(g=tf.GetStyles(),g.GetSubStyles(),q=1,r=a.container,t=r.GetHTMLElement(),B=tf.js.GetFunctionOrNull(a.onFrame),F=tf.js.GetFunctionOrNull(a.onPostCompose),tf.webgl.GetWebGL().GetHasWebGL()?(l=new tf.webgl.Context({optionalAttributes:{antialias:!0},onFrame:d,
onLost:b,onRestored:f}),n=l.GetCanvas(),m=l.GetContext(),C=new Uint8Array(4),v=0,a.noPickFrameBuffer||(w=10,A=512,u=new tf.webgl.FrameBuffer({context:l,width:A,height:A})),h(),g.ApplyStyleProperties(n,{backgroundColor:"rgba(0,0,0,1)",width:"100%",height:"100%",position:"relative",display:"block"}),t.appendChild(n)):t.innerHTML="<h3>WebGL not available</h3>")};
tf.webgl.FrameBuffer=function(a){function c(){if(void 0!=e){var c=e.GetContext();d=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,d);d.width="number"==typeof a.width?a.width:512;d.height="number"==typeof a.height?a.height:512;b=new tf.webgl.Texture2({context:e});var g=b.GetTexture();c.bindTexture(c.TEXTURE_2D,g);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_NEAREST);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,d.width,d.height,
0,c.RGBA,c.UNSIGNED_BYTE,null);f=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,f);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,d.width,d.height);c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0);c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,f);c.bindTexture(c.TEXTURE_2D,null);c.bindRenderbuffer(c.RENDERBUFFER,null);c.bindFramebuffer(c.FRAMEBUFFER,null)}}var e,d,b,f,h;this.OnLostDevice=function(){void 0!=e&&(d=void 0,b.OnDelete(),
b=void 0)};this.OnRestoredDevice=function(){return c()};this.GetFrameBuffer=function(){return d};this.GetTexture=function(){return b};this.OnDelete=function(){void 0!=e&&(e.UnRegisterFrameBuffer(h),b&&b.OnDelete(),h=e=void 0)};this.IsDeleted=function(){return void 0==e};a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&(e=a.context,h=e.RegisterFrameBuffer(this),c())};
tf.webgl.Shader=function(a){function c(){if(void 0!=d){if(d&&b){var a=d.GetContext();a&&a.deleteShader(b)}f=d=b=void 0}}function e(){if(void 0!=d){var e=d.GetContext();if(e){var k=tf.js.GetNonEmptyString(a.text);if(k){f=tf.js.GetNonEmptyString(a.type);var g;if(void 0!==f)switch(f=f.toLowerCase()[0]){case "f":g=e.FRAGMENT_SHADER;break;case "v":g=e.VERTEX_SHADER;break;default:f=void 0}void 0!==g&&(b=e.createShader(g),e.shaderSource(b,k),e.compileShader(b),e.getShaderParameter(b,e.COMPILE_STATUS)||e.isContextLost()||
(a.debug&&(e=e.getShaderInfoLog(b),tf.GetDebug().LogIfTest("*** Error compiling shader: "+e)),c()))}}}}var d,b,f;this.OnLostDevice=function(){void 0==d||(b=void 0)};this.OnRestoredDevice=function(){return e()};this.GetShader=function(){return b};this.GetShaderType=function(){return f};this.IsDeleted=function(){return void 0==d};this.OnDelete=function(){return c()};a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&(d=a.context,e())};
tf.webgl.Program=function(a){function c(){return void 0!=h&&void 0!==f}function e(){void 0!=h&&(f&&k&&k.deleteProgram(f),h=k=f=g=l=void 0)}function d(){if(void 0!=h)if(k=h.GetContext(),f=k.createProgram(),k.attachShader(f,g.GetShader()),k.attachShader(f,l.GetShader()),k.linkProgram(f),k.getProgramParameter(f,k.LINK_STATUS)||k.isContextLost())tf.js.GetFunctionOrNull(a.init)&&a.init(k);else{if(a.debug){var b=k.getProgramInfoLog(f);tf.GetDebug().LogIfTest("Error in program linking: "+b)}e()}}var b,f,
h,k,g,l,m;this.GetProgram=function(){return f};this.OnLostDevice=function(){void 0!=h&&(f=k=void 0)};this.OnRestoredDevice=function(){return d()};this.Render=function(a){if(c()&&tf.js.GetIsValidObject(a)){if(a.isNewProgram=a.scene.GetLastProgram()!=b)k.useProgram(f),a.scene.SetLastProgram(b);m(a)}};this.GetUniformLocation=function(a){return c()&&tf.js.GetIsNonEmptyString(a)?k.getUniformLocation(f,a):void 0};this.GetAttribLocation=function(a){return c()&&tf.js.GetIsNonEmptyString(a)?k.getAttribLocation(f,
a):void 0};this.OnDelete=function(){return e()};this.IsDeleted=function(){return void 0==h};this.IsOperational=function(){return c()};b=this;a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&tf.js.GetIsInstanceOf(a.vshader,tf.webgl.Shader)&&"v"==a.vshader.GetShaderType()&&tf.js.GetIsInstanceOf(a.fshader,tf.webgl.Shader)&&"f"==a.fshader.GetShaderType()&&(m=tf.js.GetFunctionOrNull(a.render))&&(h=a.context,g=a.vshader,l=a.fshader,d())};
tf.webgl.EncodeIntIntoColor=function(a){var c=a%256;a>>=8;var e=a%256;a>>=8;c=[1-c/255,1-e/255,1-a%256/255];c.rgb={r:c[0],g:c[1],b:c[2],value:a};return c};tf.webgl.DecodeColorIntoInt=function(a){return a[3]?255-a[0]+256*(255-a[1])+32768*(255-a[2]):0};tf.webgl.GetTextureColorVSText=function(){return"uniform mat4 uModelMatrix;\nuniform mat4 uViewProjMatrix;\nattribute vec3 aPosition;\nattribute vec3 aTexCoord;\nvarying vec2 vTexCoord;\nvoid main()\n{\ngl_Position = uViewProjMatrix * uModelMatrix * vec4(aPosition, 1.0);\nvTexCoord = aTexCoord.st;\n}"};
tf.webgl.GetTextureColorFSText=function(){return"precision mediump float;\nuniform sampler2D diffuseTex;\nvarying vec2 vTexCoord;\nvoid main()\n{\nvec4 color = texture2D(diffuseTex, vTexCoord);\nif (color.a == 0.0) discard;\nelse gl_FragColor = color;\n}"};tf.webgl.GetTextureColorPickVSText=function(){return"uniform mat4 uModelMatrix;\nuniform mat4 uViewProjMatrix;\nattribute vec3 aPosition;\nattribute vec3 aTexCoord;\nvarying vec2 vTexCoord;\nvoid main()\n{\ngl_Position = uViewProjMatrix * uModelMatrix * vec4(aPosition, 1.0);\nvTexCoord = aTexCoord.st;\n}"};
tf.webgl.GetTextureColorPickFSText=function(){return"precision mediump float;\nuniform sampler2D diffuseTex;\nvarying vec2 vTexCoord;\nuniform vec3 uPickColor;\nvoid main()\n{\nvec4 color = texture2D(diffuseTex, vTexCoord);\nif (color.a == 0.0) discard;\nelse gl_FragColor = vec4(uPickColor, 1);\n}"};tf.webgl.TextureColorVS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"v",text:tf.webgl.GetTextureColorVSText()})};
tf.js.InheritFrom(tf.webgl.TextureColorVS,tf.webgl.Shader);tf.webgl.TextureColorFS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"f",text:tf.webgl.GetTextureColorFSText()})};tf.js.InheritFrom(tf.webgl.TextureColorFS,tf.webgl.Shader);
tf.webgl.TextureColorProgram=function(a){var c;c=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()){var e=a.context,d,b,f,h,k;tf.webgl.Program.call(c,{debug:a.debug,context:e,vshader:e.GetTextureColorVS(),fshader:e.GetTextureColorFS(),init:function(a){d=c.GetAttribLocation("aPosition");b=c.GetAttribLocation("aTexCoord");f=c.GetUniformLocation("diffuseTex");h=c.GetUniformLocation("uModelMatrix");k=c.GetUniformLocation("uViewProjMatrix")},
render:function(a){var c=e.GetContext(),m=a.scene;a.isNewProgram&&(f&&c.uniform1i(f,0),c.uniformMatrix4fv(k,!1,m.GetViewProj().GetInStaticFloat32Array()));c.uniformMatrix4fv(h,!1,a.objectToSceneMatrix.GetInStaticFloat32Array());a.attributes.BindBuffers(d,void 0,b);a.texture.Bind();a.attributes.Draw(a.useLines)}})}})()};tf.js.InheritFrom(tf.webgl.TextureColorProgram,tf.webgl.Program);
tf.webgl.TextureColorPickVS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"v",text:tf.webgl.GetTextureColorPickVSText()})};tf.js.InheritFrom(tf.webgl.TextureColorPickVS,tf.webgl.Shader);tf.webgl.TextureColorPickFS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"f",text:tf.webgl.GetTextureColorPickFSText()})};tf.js.InheritFrom(tf.webgl.TextureColorPickFS,tf.webgl.Shader);
tf.webgl.TextureColorPickProgram=function(a){var c;c=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()){var e=a.context,d,b,f,h,k,g;tf.webgl.Program.call(c,{debug:a.debug,context:e,vshader:e.GetTextureColorPickVS(),fshader:e.GetTextureColorPickFS(),init:function(a){d=c.GetAttribLocation("aPosition");b=c.GetAttribLocation("aTexCoord");f=c.GetUniformLocation("diffuseTex");h=c.GetUniformLocation("uModelMatrix");k=c.GetUniformLocation("uViewProjMatrix");
g=c.GetUniformLocation("uPickColor")},render:function(a){var c=e.GetContext(),n=a.scene;a.isNewProgram&&(f&&c.uniform1i(f,0),c.uniformMatrix4fv(k,!1,n.GetViewProj().GetInStaticFloat32Array()));g&&(n=a.pickColor,c.uniform3f(g,n[0],n[1],n[2]));c.uniformMatrix4fv(h,!1,a.objectToSceneMatrix.GetInStaticFloat32Array());a.attributes.BindBuffers(d,void 0,b);a.texture.Bind();a.attributes.Draw(a.useLines)}})}})()};tf.js.InheritFrom(tf.webgl.TextureColorPickProgram,tf.webgl.Program);
tf.webgl.MaterialVS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"v",text:tf.webgl.GetMaterialVSText()})};tf.js.InheritFrom(tf.webgl.MaterialVS,tf.webgl.Shader);tf.webgl.MaterialFS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"f",text:tf.webgl.GetMaterialFSText()})};tf.js.InheritFrom(tf.webgl.MaterialFS,tf.webgl.Shader);
tf.webgl.MaterialProgram=function(a){var c;c=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()){var e=a.context,d,b,f,h,k,g,l,m,n,p,q,r,t,v,w,A,u,C,B,F,E;tf.webgl.Program.call(c,{debug:a.debug,context:e,vshader:e.GetMaterialVS(),fshader:e.GetMaterialFS(),init:function(a){d=c.GetAttribLocation("aPosition");b=c.GetAttribLocation("aNormal");f=c.GetAttribLocation("aTexCoord");A=c.GetUniformLocation("uCameraPos");u=c.GetUniformLocation("uLightDir");
C=c.GetUniformLocation("uLightColor");w=c.GetUniformLocation("uAmbientLight");l=c.GetUniformLocation("hasTexture");m=c.GetUniformLocation("hasNormalTexture");F=c.GetUniformLocation("diffuseTex");E=c.GetUniformLocation("normalTex");B={hasTextureLoc:l,hasNormalTextureLoc:m,ambientColor3Loc:c.GetUniformLocation("uAmbientColor"),diffuseColor3Loc:c.GetUniformLocation("uDiffuseColor"),emissiveColor3Loc:c.GetUniformLocation("uEmissiveColor"),specularColor3Loc:c.GetUniformLocation("uSpecularColor"),opacityShininessLoc:c.GetUniformLocation("uOpacityShininess")};
n=c.GetUniformLocation("uModelMatrix");p=c.GetUniformLocation("uNormalMatrix");q=c.GetUniformLocation("uViewProjMatrix");r=c.GetUniformLocation("uProjMatrix");t=c.GetUniformLocation("uModelViewMatrix");v=c.GetUniformLocation("uNormalViewMatrix");h=new tf.math.Matrix4({noInit:!0});k=new tf.math.Matrix4({noInit:!0});g=new tf.math.Vector3},render:function(a){var c=e.GetContext(),m=a.scene,L=m.GetView();if(a.isNewProgram){if(w){var H=m.GetAmbientColor();c.uniform3f(w,H[0],H[1],H[2])}A&&(H=L.GetView().vFrom,
c.uniform3f(A,H[0],H[1],H[2]));u&&(g.CopyFrom(m.GetLightDir()),g.MultDirectionByMatrix(L),g.Normalize(),c.uniform3f(u,g[0],g[1],g[2]));C&&(H=m.GetLightColor(),c.uniform3f(C,H[0],H[1],H[2]));q&&c.uniformMatrix4fv(q,!1,m.GetViewProj().GetInStaticFloat32Array());r&&c.uniformMatrix4fv(r,!1,m.GetPerspective().GetInStaticFloat32Array());F&&c.uniform1i(F,0);E&&c.uniform1i(E,1);m=e.GetOnePixelTransparentTexture().GetTexture();c.activeTexture(c.TEXTURE0+0);c.bindTexture(c.TEXTURE_2D,m);c.activeTexture(c.TEXTURE0+
1);c.bindTexture(c.TEXTURE_2D,m)}n&&c.uniformMatrix4fv(n,!1,a.objectToSceneMatrix.GetInStaticFloat32Array());t&&(k.CopyFrom(L),k.MultByMatrix(a.objectToSceneMatrix),c.uniformMatrix4fv(t,!1,k.GetInStaticFloat32Array()),v&&(h.CopyFrom(k),a.usesNonUniformScaling&&(h.ToInverse(),h.ToTransposed()),c.uniformMatrix4fv(v,!1,h.GetInStaticFloat32Array())));p&&(h.CopyFrom(a.objectToSceneMatrix),a.usesNonUniformScaling&&(h.ToInverse(),h.ToTransposed()),c.uniformMatrix4fv(p,!1,h.GetInStaticFloat32Array()));tf.js.GetIsInstanceOf(a.material,
tf.webgl.Material)&&a.material.SetUniforms(c,B);tf.js.GetIsInstanceOf(a.comboList,tf.webgl.MatTex2VertComboList)?a.comboList.Render(c,d,b,f,a,B):tf.js.GetIsInstanceOf(a.attributes,tf.webgl.VertexBuffer)&&(l&&c.uniform1i(l,texture?1:0),a.attributes.BindBuffers(d,b,f),a.attributes.Draw(a.useLines))}})}})()};tf.js.InheritFrom(tf.webgl.MaterialProgram,tf.webgl.Program);tf.webgl.GetMaterialVSText=function(){return"uniform mat4 uProjMatrix;\nuniform mat4 uNormalViewMatrix;\nuniform mat4 uModelViewMatrix;\nuniform bool hasTexture;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nvarying vec4 vPosition;\nvarying vec4 vNormal;\nvarying vec2 vTexCoord;\nvoid main()\n{\nvPosition = uModelViewMatrix * vec4(aPosition, 1.0);\nvNormal = uNormalViewMatrix * normalize(vec4(aNormal, 0.0));\nif(hasTexture != false) { vTexCoord = aTexCoord.st; }\ngl_Position = uProjMatrix * vPosition;\n}"};
tf.webgl.GetMaterialFSText=function(){return"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\nuniform bool hasTexture;\nuniform bool hasNormalTexture;\nuniform sampler2D diffuseTex;\nuniform sampler2D normalTex;\nuniform vec3 uLightDir;\nuniform vec3 uLightColor;\nuniform vec3 uAmbientLight;\nuniform vec3 uAmbientColor;\nuniform vec3 uDiffuseColor;\nuniform vec3 uEmissiveColor;\nuniform vec3 uSpecularColor;\nuniform vec4 uOpacityShininess;\nvarying vec4 vPosition;\nvarying vec4 vNormal;\nvarying vec2 vTexCoord;\nvoid main() {\nvec3 N = normalize(vNormal.xyz);\nvec3 V = -normalize(vPosition.xyz);\nvec4 color;\nvec3 textureColor;\ncolor = texture2D(diffuseTex, vTexCoord);\nif(hasTexture) { textureColor = color.xyz; color.xyz *= uAmbientLight; /*color.a *= uOpacityShininess.x;*/ }\nelse { color = vec4(uEmissiveColor + uAmbientColor * uAmbientLight, uOpacityShininess.x); }\nif (color.a == 0.0) discard;\nelse {\nfloat dnl = dot(N, uLightDir);\nif (dnl > 0.0) {\nif(hasTexture) { color.xyz += uLightColor * textureColor * dnl; } else { color.xyz += uLightColor * uDiffuseColor * dnl; }\nvec3 R = reflect(-uLightDir, N);\nfloat specular = pow(max(dot(R, V), 0.0), uOpacityShininess.y);\ncolor.xyz += uSpecularColor * uLightColor * specular;\n}\ngl_FragColor = color;\n}\n}"};
tf.webgl.CreateMaterialFrom3DSMeshMaterial=function(a){var c,e,d,b,f,h,k,g,l;if(tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyArray(a.properties)){a=a.properties;for(var m in a){var n=a[m],p=n.key;if(tf.js.GetIsStringWithMinLength(p,2))switch(p.substr(1).toLowerCase()){case "mat.name":c=n.value;break;case "mat.opacity":e=n.value;break;case "mat.shininess":d=n.value/100;break;case "clr.ambient":b=n.value;break;case "clr.diffuse":f=n.value;break;case "clr.emissive":h=n.value;break;case "clr.specular":k=
n.value;break;case "tex.file":case "tex.file.diffuse":g=n.value;break;case "tex.file.normals":l=n.value}}}return new tf.webgl.Material({name:c,opacity:e,shininess:d,ambient:b,diffuse:f,emissive:h,specular:k,texFile:g,normalsFile:l})};
tf.webgl.CreateVertexBufferFrom3DSMesh=function(a,c,e){var d,b,f;if(tf.js.GetIsInstanceOf(a,tf.webgl.Context)&&a.GetContext()&&tf.js.GetIsValidObject(c)){var h;e=void 0!==e?tf.js.GetFloatNumber(e):1;0==e&&(e=1);var k;if(void 0!=c.vertices){h=c.vertices;d=h.length;k=Math.floor(d/3);if(0<k){b=[h[0]*e,h[1]*e,h[2]*e];f=[b[0],b[1],b[2]];for(var g=0,l=0;l<k;++l)for(d=0;3>d;++d,++g){var m=h[g]*e;m<f[d]?f[d]=m:m>b[d]&&(b[d]=m);h[g]=m}}h=new tf.webgl.PosBuffer({context:a,data:new Float32Array(c.vertices)})}else k=
0;e=void 0!=c.normals?new tf.webgl.NorBuffer({context:a,data:new Float32Array(c.normals)}):void 0;var n;void 0!=c.texturecoords&&(n=new Float32Array(c.texturecoords[0]));n=void 0!==n?new tf.webgl.Tex2DBuffer({context:a,data:n}):void 0;var p;if(void 0!=c.faces){c=c.faces;p=c.length;d=3*p;g=256>k;k=65536>k;for(var l=!k,m=g?new Uint8Array(d):k?new Uint16Array(d):new Uint32Array(d),q=d=0;d<p;++d)for(var r=0;3>r;++r)m[q++]=c[d][r];p=new tf.webgl.IndexBuffer({context:a,data:m,is8:g,is16:k,is32:l})}d=new tf.webgl.VertexBuffer({cullFrontFace:!1,
context:a,pos:h,nor:e,tex2d:n,indices:p})}return{vertexBuffer:d,maxs:b,mins:f}};
tf.webgl.Load3DSModel2=function(a,c,e,d){function b(c){if(tf.js.GetIsValidObject(c)){if(tf.js.GetIsNonEmptyArray(c.meshes))for(var d=c.meshes.length,f=0;f<d;++f){var m=c.meshes[f];"$$$DUMMY"==m&&console.log("here");var n=k[m];if(tf.js.GetIsValidObject(n)&&(m=n.materialindex,0<=m&&m<h.length&&(n=tf.webgl.CreateVertexBufferFrom3DSMesh(a,n,e))&&n.vertexBuffer)){if(void 0==g)g=n.mins.slice(0),l=n.maxs.slice(0);else for(var p=0;3>p;++p)g[p]>n.mins[p]&&(g[p]=n.mins[p]),l[p]<n.maxs[p]&&(l[p]=n.maxs[p]);
h[m].AddVertexBuffer(n.vertexBuffer)}}for(f in c.children)b(c.children[f])}}var f,h,k,g,l;if(tf.js.GetIsInstanceOf(a,tf.webgl.Context)&&a.GetContext()&&tf.js.GetIsValidObject(c)&&tf.js.GetIsValidObject(c.rootnode)&&tf.js.GetIsNonEmptyArray(c.materials)&&tf.js.GetIsNonEmptyArray(c.meshes)){h=[];k={};e=tf.js.GetFloatNumber(e,1);for(var m in c.materials){f=tf.webgl.CreateMaterialFrom3DSMeshMaterial(c.materials[m]);var n=f.GetSettings(),p=n.texFile,p=tf.js.GetIsNonEmptyString(p)?new tf.webgl.Texture2({context:a,
url:p}):void 0,n=n.normalsFile,n=tf.js.GetIsNonEmptyString(n)?new tf.webgl.Texture2({context:a,url:n,unit:1}):void 0;f=new tf.webgl.MatTex2VertCombo({material:f,texture2:p,normalsTexture2:n,vertices:void 0});h.push(f)}for(m in c.meshes)f=c.meshes[m],k[f.name]=f;b(c.rootnode);f=new tf.webgl.MatTex2VertComboList({combos:h,mergeBuffers:d})}return{comboList:f,mins:g,maxs:l}};
tf.webgl.Load3DSModel=function(a,c,e,d){var b,f,h;if(tf.js.GetIsInstanceOf(a,tf.webgl.Context)&&a.GetContext()&&tf.js.GetIsValidObject(c)&&tf.js.GetIsValidObject(c.rootnode)&&tf.js.GetIsNonEmptyArray(c.materials)&&tf.js.GetIsNonEmptyArray(c.meshes)){b=[];e=tf.js.GetFloatNumber(e,1);for(var k in c.materials){var g=tf.webgl.CreateMaterialFrom3DSMeshMaterial(c.materials[k]),l=g.GetSettings(),m=l.texFile,m=tf.js.GetIsNonEmptyString(m)?new tf.webgl.Texture2({context:a,url:m}):void 0,l=l.normalsFile,l=
tf.js.GetIsNonEmptyString(l)?new tf.webgl.Texture2({context:a,url:l,unit:1}):void 0,g=new tf.webgl.MatTex2VertCombo({material:g,texture2:m,normalsTexture2:l,vertices:void 0});b.push(g)}for(k in c.meshes)if(m=c.meshes[k],tf.js.GetIsValidObject(m)&&(g=m.materialindex,0<=g&&g<b.length&&(m=tf.webgl.CreateVertexBufferFrom3DSMesh(a,m,e))&&m.vertexBuffer)){if(void 0==f)f=m.mins.slice(0),h=m.maxs.slice(0);else for(l=0;3>l;++l)f[l]>m.mins[l]&&(f[l]=m.mins[l]),h[l]<m.maxs[l]&&(h[l]=m.maxs[l]);b[g].AddVertexBuffer(m.vertexBuffer)}b=
new tf.webgl.MatTex2VertComboList({combos:b,mergeBuffers:d})}return{comboList:b,mins:f,maxs:h}};
tf.webgl.MapMarker=function(a){function c(a){if(a.marker){var b={dontTranslate:!0,font_height:14,font_color:"#000",border_line_color:"#00b",border_line_width:2,line_opacity:.6,line_width:3,line_color:"#fff",arrow_length:14,label:"v",fill_color:"#ffe57f",horpos:"center",verpos:"top",fill_opacity:.8,border_line_opacity:.6},b=tf.js.GetIsValidObject(a)?a:b;p=tf.canvas.CreateMemoryImage({drawFunction:tf.canvas.DrawTextMarkerImage,drawSettings:b}).image;e()}else p=document.createElement("canvas"),p.width=
p.height=1,new tf.dom.Img({crossOrigin:!0,src:a.icon_url,onLoad:function(b){if(b.GetIsValid()){b=b.GetImg();var c=b.width,d=b.height,f=0,g=0,h=p.getContext("2d");a.useFrame?(c+=6,d+=6,p.width=c,p.height=d,f+=3,g+=3,tf.canvas.DrawRoundRect(h,{dontTranslate:!0,width:c,height:d,radius:3,fill:!0,fill_color:"rgba(255, 255, 255, 1)",line:!0,line_color:"rgba(192, 192, 192, 0.8)",line_width:2})):(p.width=c,p.height=d);h.drawImage(b,f,g);n.UpdateFromImage(p,!0);e()}}});return p}function e(){if(void 0!=f){var a=
g.GetPos();if(a){var b=p.width,c=p.height,b=1/(2*(0<b?c/b:1)),b=new Float32Array([b,.5,0,-b,.5,0,-b,-.5,0,b,-.5,0]);r=1*c;a.Update(b)}}}function d(){if(void 0!=f){var a=r/q.GetMapSize()[1];k.GetObjectToSceneMatrix().UpdateWorld({translate:{tx:0,ty:.5*a,tz:0},scale:{sx:a,sy:a,sz:a}})}}var b,f,h,k,g,l,m,n,p,q,r;this.GetSettings=function(){return a};this.IsDeleted=function(){return void 0==f};this.Update=function(){return d()};this.GetSceneObject=function(){return k};this.GetMapObject=function(){return h};
b=this;(function(){if(tf.js.GetIsValidObject(a)&&tf.js.GetIsInstanceOf(a.perspectiveMap,tf.webgl.PerspectiveMap)){q=a.perspectiveMap;f=q.GetMap();m=q.GetContext();l=tf.js.GetMapCoordsFrom(a.mapCoords);r=1;if(tf.js.GetIsValidObject(a.sceneObject))k=a.sceneObject;else{var e=m.GetTextureColorProgram();g=new tf.webgl.QuadXY({context:m});n=new tf.webgl.Texture2({context:m,img:c(a.style),flipVerticalBool:!0});k=new tf.webgl.SceneObject({onPreRender:d,context:m,attributes:g,texture:n,program:e})}h=q.CreateMapObject({mapMarker:b,
mapCoords:l,sceneObject:k,skipRotate:void 0!==a.skipRotate?!!a.skipRotate:!0,skipScale:void 0!==a.skipScale?!!a.skipScale:!0,usePick:a.usePick})}else f=void 0})()};
tf.webgl.MapObject=function(a){function c(a){q=tf.js.GetFloatNumber(a,1);1!=q&&r.SetScale({sx:q,sy:q,sz:q})}function e(){void 0!=d&&(b.GetObjectToSceneMatrix().UpdateWorld(m.GetMapToWorldSpecs(h,g,l)),1!=q&&b.GetObjectToSceneMatrix().MultByMatrix(r),f.SetPickColor(n))}var d,b,f,h,k,g,l,m,n,p,q,r;this.SetScale=function(a){return c(a)};this.GetScale=function(){return q};this.GetSettings=function(){return a};this.GetPickColor=function(){return n};this.GetPickID=function(){return p};this.OnDelete=function(){void 0!=
d&&(p&&k.UnRegisterForPick(p),p=d=f=b=k=m=void 0)};this.IsDeleted=function(){return void 0==d};this.Update=function(){return e()};this.GetSceneObject=function(){return f};this.GetSceneObjectHolder=function(){return b};tf.js.GetIsValidObject(a)&&(d=tf.js.GetMapFrom(a.map))&&tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&tf.js.GetIsInstanceOf(a.sceneObject,tf.webgl.SceneObject)?(m=a.perspectiveMap,k=a.context,h=tf.js.GetMapCoordsFrom(a.mapCoords),f=a.sceneObject,(p=tf.js.GetBoolFromValue(a.usePick)?
k.RegisterForPick(this):0)&&(n=tf.webgl.EncodeIntIntoColor(p)),b=new tf.webgl.SceneObject({context:k,attributes:void 0,texture:void 0,program:void 0}),b.AddSubObject(f),b.SetOnPreRender(e),r=new tf.math.ScaleMatrix4,c(a.scale),g=!!a.skipRotate,l=!!a.skipScale):d=void 0};
tf.webgl.MapObjectGroup=function(a){function c(){return void 0==e}var e,d,b;this.GetGroupObject=function(){return d};this.AddObject=function(a){!c()&&tf.js.GetIsInstanceOf(a,tf.webgl.MapObject)&&(a.IsDeleted()||d.AddSubObject(a.GetSceneObjectHolder()));return a};this.DelObject=function(a){!c&&tf.js.GetIsInstanceOf(a,tf.webgl.MapObject)&&d.DelSubObject(a.GetSceneObjectHolder())};this.DelAllSubObjects=function(){c()||d.DelAllSubObjects()};this.OnDelete=function(){c()||(b.DelObject(d),d.DelAllSubObjects(),
b=d=e=void 0)};this.IsDeleted=function(){return c()};tf.js.GetIsValidObject(a)&&tf.js.GetIsInstanceOf(a.perspectiveMap,tf.webgl.PerspectiveMap)&&(b=(e=a.perspectiveMap).GetScene()).AddObject(d=new tf.webgl.SceneObject({context:e.GetContext()}))};tf.consts.perspectiveMapLostDeviceEvent="lostdevice";tf.consts.perspectiveMapRestoredDeviceEvent="restoreddevice";tf.consts.perspectiveMapVisibilityChangeEvent="visibilityChange";tf.consts.perspectiveMapObjectHoverInOutEvent="objecthoverinout";
tf.consts.perspectiveMapObjectClickEvent="objectclick";tf.consts.perspectiveMapMouseMoveEvent="mapmousemove";tf.consts.perspectiveMapClickEvent="mapclick";tf.consts.perspectiveMapPostComposeEvent="postcompose";
tf.consts.allPerspectiveMapEventNames=[tf.consts.perspectiveMapVisibilityChangeEvent,tf.consts.perspectiveMapObjectHoverInOutEvent,tf.consts.perspectiveMapObjectClickEvent,tf.consts.perspectiveMapPostComposeEvent,tf.consts.perspectiveMapLostDeviceEvent,tf.consts.perspectiveMapRestoredDeviceEvent,tf.consts.perspectiveMapMouseMoveEvent="mapmousemove",tf.consts.perspectiveMapClickEvent="mapclick"];
tf.webgl.PerspectiveMap=function(a){function c(){return void 0==C}function e(){return!c()&&(K?K.GetIsVisible():!1)}function d(a){c()||e()==(a=!!a)||(K&&K.SetVisible(a),r(tf.consts.perspectiveMapVisibilityChangeEvent),b(),a&&(B.IsContextLost()?B.RestoreContext():n()))}function b(){var a=e();u.ShowPanel(tf.consts.panelNameMeasure,!a&&ba);u.ShowPanel(tf.consts.panelNameDownload,!a&&ia)}function f(){if(!c()&&(ja.CopyFrom(G.GetPerspective()),ja.ToInverse(),L)){var a=1/(2*N),b,a=a*sa;b=.5*pa;a=new Float32Array([a,
0,-b,-a,0,-b,-a,0,b,a,0,b]);L.GetAttributes().GetPos().Update(a)}}function h(){J=u.GetActualPixelSize();0>=J[0]&&(J[0]=1);0>=J[1]&&(J[1]=1);N=J[1]/J[0];var a=u.GetIsAnimating();M=a?u.GetCenter():u.GetInstantCenter();P=u.GetRotationRad();Q=Math.cos(P);R=Math.sin(P);S=a?u.GetResolution():u.GetInstantResolution();T=1/(S*J[1]);if(E.clientWidth!=E.width||E.clientHeight!=E.height||da)da=!1,E.width=E.clientWidth,E.height=E.clientHeight,G.GetPerspective().UpdateAspect(1/N),f()}function k(a,b,c){a=tf.js.GetMapCoordsFrom(a);
var d=[M[0],a[1]],e=tf.units.GetDistanceInMetersBetweenMapCoords(M,[a[0],M[1]])/S,d=-tf.units.GetDistanceInMetersBetweenMapCoords(M,d)/S;M[0]<a[0]&&(e=-e);M[1]<a[1]&&(d=-d);a=e*R+d*Q;e=(e*Q-d*R)/J[0]/N;d=a/J[1];return{scale:c?void 0:{sx:T,sy:T,sz:T},rotate:b?void 0:{angle:-P,axisx:0,axisy:1,axisz:0},translate:{tx:-e,ty:0,tz:-d}}}function g(a){if(e()){a=u.ActualPixelToMapCoords(a);a=A.GetMapToWorldTransform(a,!1,!1);var b=new tf.math.Vector3;a.ToInverse();b.Update({x:0,y:0,z:0});b.MultByMatrix(a);
return[(b[0]*N+.5)*J[0],(b[2]+.5)*J[1]]}}function l(a){if(e()){var b,c,d=2*a[0]/J[0]-1;a=1-2*a[1]/J[1];var f=G.GetView();va.Update(f.GetView().vFrom);ea.Update({x:d,y:a,z:1});ea.MultByMatrix(ja);ea.MultByMatrix(f.GetInverse());ea.Sub(va);ea.Normalize();d=va;a=ea;var g=X,f=ya,h=f.Dot(a);1E-7<Math.abs(h)&&(c=new tf.math.Vector3({vector:g}),c.Sub(d),c=f.Dot(c)/h,a=new tf.math.Vector3({vector:a}),a.MultByScalar(c),c=new tf.math.Vector3({vector:d}),c.Add(a));c&&(b=[(c[0]*N+.5)*J[0],(c[2]+.5)*J[1]]);return b}}
function m(a){r(tf.consts.perspectiveMapPostComposeEvent,{sender:A,sceneNotification:a})}function n(a){if(e()){if(a=ca.GetCanvas())h(),D.UpdateFromImage(a,!0),G.OnPreRender(),a={onPostCompose:m,viewportWidth:E.width,viewportHeight:E.height,isForPick:!1,frameBuffer:void 0,clearColor:void 0,useProgram:void 0},G.RenderOn(a),0==++ha%Y&&(a.viewportWidth=a.viewportHeight=ka,a.isForPick=!0,a.frameBuffer=qa.GetFrameBuffer(),a.clearColor=[0,0,0,0],a.useProgram=B.GetTextureColorPickProgram(),G.RenderOn(a));
B.RequestAnimFrame()}}function p(a){r(tf.consts.perspectiveMapLostDeviceEvent);e()&&d(!1)}function q(a){C&&(da=!0,r(tf.consts.perspectiveMapRestoredDeviceEvent),setTimeout(function(){return n(a)},100))}function r(a,b){aa.Notify(a,tf.js.ShallowMerge(b,{sender:A,eventName:a}))}function t(a){var b;if(!c()){b=Math.floor(a.actualPixelCoords[0]/J[0]*ka);a=ka-Math.floor(a.actualPixelCoords[1]/J[1]*ka);var d;c()||(F.bindFramebuffer(F.FRAMEBUFFER,qa.GetFrameBuffer()),F.readPixels(b,a,1,1,F.RGBA,F.UNSIGNED_BYTE,
la),F.bindFramebuffer(F.FRAMEBUFFER,null),d=B.GetPickObject(tf.webgl.DecodeColorIntoInt(la)));b=d}return b}function v(a){c()||((a=t(a))?r(tf.consts.perspectiveMapObjectClickEvent,{mapObject:a}):r(tf.consts.perspectiveMapClickEvent))}function w(a){if(!c()){var b=t(a),d=ra,e,f;(ra=b)?(f=!d)||(f=e=b!=d):e=!!d;f||e?(e&&r(tf.consts.perspectiveMapObjectHoverInOutEvent,{nextMapObject:ra,mapObject:d,isHoverIn:!1}),f&&r(tf.consts.perspectiveMapObjectHoverInOutEvent,{prevMapObject:d,mapObject:ra,isHoverIn:!0})):
r(tf.consts.perspectiveMapMouseMoveEvent,a)}}var A,u,C,B,F,E,D,K,G,L,H,I,J,N,M,P,Q,R,S,T,aa,ba,ia,V,U,ha,Y,ka,qa,la,ra,ja,X,ya,va,ea,ca,sa,pa,da;this.GetMapSize=function(){return J};this.GetLastHoveredMapObject=function(){return ra};this.AddListener=function(a,b){return aa.AddListener(a,b)};this.GetIsVisible=function(){return e()};this.SetIsVisible=function(a){return d(a)};this.IsDeleted=function(){return c()};this.OnDelete=function(){c()||(V&&V.OnDelete(),U&&U.OnDelete(),U=V=C=void 0)};this.GetContext=
function(){return B};this.GetMap=function(){return u};this.GetScene=function(){return G};this.GetMapToWorldSpecs=function(a,b,c){return k(a,b,c)};this.GetMapToWorldTransform=function(a,b,c){return new tf.math.WorldMatrix4(k(a,b,c))};this.CreateMapMarker=function(a){return new tf.webgl.MapMarker(tf.js.ShallowMerge(a,H))};this.CreateMapObject=function(a){return new tf.webgl.MapObject(tf.js.ShallowMerge(a,H))};A=this;(function(){a=tf.js.GetValidObjectFrom(a);I=30*Math.PI/180;J=[100,100];N=1;ja=new tf.math.Matrix4({noInit:!0});
X=new tf.math.Vector3({x:0,y:0,z:0});ya=new tf.math.Vector3({x:0,y:1,z:0});va=new tf.math.Vector3;ea=new tf.math.Vector3;aa=new tf.events.MultiEventNotifier({eventNames:tf.consts.allPerspectiveMapEventNames});if(u=tf.js.GetMapFrom(a.map))if(C=tf.webgl.GetWebGL(),C.GetHasWebGL()){B=new tf.webgl.Context({optionalAttributes:{antialias:!0},onFrame:n,onLost:p,onRestored:q});H={map:u,context:B,perspectiveMap:A};D=new tf.webgl.Texture2({context:B,img:u.GetCanvas()});F=B.GetContext();E=B.GetCanvas();la=new Uint8Array(4);
ha=0;Y=10;ka=512;qa=new tf.webgl.FrameBuffer({context:B,width:ka,height:ka});var c=tf.GetStyles(),d=c.GetSubStyles(),d={inherits:[d.cursorDefaultStyle,d.noSelectStyle],backgroundColor:"rgba(0,0,0,0)",color:"#fc0",padding:"0px",border:"none",width:"100%",height:"100%",position:"absolute",left:"0px",top:"0px",overflow:"hidden",pointerEvents:"none",display:"block",zIndex:0},e=!tf.js.GetIsFalseNotUndefined(a.isVisible);u.IsShowingMapCenter();ba=u.IsPanelShowing(tf.consts.panelNameMeasure);ia=u.IsPanelShowing(tf.consts.panelNameDownload);
c.ApplyStyleProperties(E,{backgroundColor:"rgba(0,0,0,1)",width:"100%",height:"100%",position:"relative",display:"block"});K=new tf.map.HTMLControl({map:u,content:E,cssStyle:d,isVisible:e});b();V=u.AddListener(tf.consts.mapMouseMoveEvent,w);U=u.AddListener(tf.consts.mapClickEvent,v);u.SetActualToVirtualPixelTranslateCallBacks(l,g);sa=1.5;pa=3;ca=new tf.map.RenderMap({map:u,scale:[sa,pa]});c=B;d=1.5*Math.sin(I);e=1.5*Math.cos(I);G=new tf.webgl.Scene({context:c,clearColor:[1,1,1,1],clearDepth:1,ambientColor:[1,
1,1],lightDir:[0,0,1],lightColor:[.75,.75,.75],view:{vFrom:[0,d,e+0],vTo:[0,0,0],vUp:[0,1,0]},perspective:{fovy:30*Math.PI/180,near:.01,far:100}});f();d=c.GetTextureColorProgram();e=new tf.webgl.QuadXY({context:c});L=new tf.webgl.SceneObject({context:c,attributes:e,texture:D,program:d});c=new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0]);L.GetAttributes().GetNor().Update(c);G.AddObject(L);da=!0;h();n()}else C=u=void 0})()};
tf.webgl.MapQuad=function(a){function c(){}function e(){if(void 0!=d){var a=k.GetTextureColorProgram();h=new tf.webgl.QuadXY({context:k});for(var e=[0,.01,0,0,0,0,0,0,0,0,0,0],q=new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0]),r=1,t=r-1,v=3,w=v-3;4>r;++r,++t,v+=3,w+=3){var A=e[w],u=e[w+2],C=m[t],B=m[r],F=tf.units.GetDistanceInMetersBetweenMapCoords(C,B),B=-tf.units.GetMapHeading(C,B),C=Math.cos(B),B=Math.sin(B),u=u+F*B;e[v]=A+F*C;e[v+1]=.01;e[v+2]=u}h.GetPos().Update(new Float32Array(e));h.GetNor().Update(q);
f=new tf.webgl.SceneObject({cullFrontFace:!0,onPreRender:c,context:k,attributes:h,texture:g,program:a});b=l.CreateMapObject({mapCoords:m[0],sceneObject:f,skipRotate:!1,skipScale:!1})}}var d,b,f,h,k,g,l,m;this.OnDelete=function(){void 0==d||(b=d=l=g=m=h=f=b=void 0)};this.IsDeleted=function(){return void 0==d};this.Update=function(){};this.GetSceneObject=function(){return f};this.GetMapObject=function(){return b};tf.js.GetIsValidObject(a)&&tf.js.GetIsInstanceOf(a.perspectiveMap,tf.webgl.PerspectiveMap)&&
tf.js.GetIsArrayWithMinLength(a.coordinates,4)&&tf.js.GetIsInstanceOf(a.texture,tf.webgl.Texture2)?(l=a.perspectiveMap,d=l.GetMap(),k=l.GetContext(),g=a.texture,m=a.coordinates,e()):d=void 0};
tf.webgl.PerspectiveDLayer=function(a){function c(a){a.dontTranslate=!0;a.arrow_length=a.marker_arrowlength;a.border_line_color=a.border_color;a.border_line_opacity=a.border_opacity/100;a.border_line_width=a.border_width;a.fill_color=a.marker_color;a.fill_opacity=a.marker_opacity/100;a.line_opacity/=100;a.horpos=a.marker_horpos;a.verpos=a.marker_verpos}function e(a){if(void 0!=m&&q&&!q.IsDeleted()){a=g.GetIsVisible();var b=q.GetGroupObject();a!=b.GetIsVisible()&&b.SetIsVisible(a)}}function d(a){void 0!=
m&&(a=p.GetIsVisible(),g.SetIsForcedInvisible(a),k.SetShowsInfoWindow(!a))}function b(a,b,c,d,e){new tf.dom.Img({crossOrigin:!0,src:e,onLoad:function(e){if(e.GetIsValid()){e=e.GetImg();var f=e.width,g=e.height,h=document.createElement("canvas"),k=h.getContext("2d");h.width=f;h.height=g;k.drawImage(e,0,0);e=new tf.webgl.Texture2({context:n,img:h,flipVerticalBool:!0});e=new tf.webgl.MapQuad({perspectiveMap:p,coordinates:[a,b,c,d],texture:e});e.IsDeleted()||q.AddObject(e.GetMapObject())}}})}function f(){var a=
q.GetGroupObject().GetSubObjects(),b;for(b in a)a[b].OnDelete(!0,!0,!0);q.DelAllSubObjects();for(b in r)r[b].GetMapObject().OnDelete();r=[]}function h(a,h){if(void 0!=m&&(h!=k&&tf.GetDebug().LogIfTest("tf.webgl.PerspectiveDLayer: dLayer in preProcess is different"),f(),void 0==t&&(g=k.GetFeatureLayer(),t=g.AddListener(tf.consts.mapFeatureLayerVisibilityChangeEvent,e),v=p.AddListener(tf.consts.perspectiveMapVisibilityChangeEvent,d),d(),e()),tf.js.GetIsValidObject(a)&&tf.js.GetIsArrayWithMinLength(a.features,
1))){var n=a.features;p.GetContext().GetTextureColorProgram();var C=k.GetMarkerStyleSpecs(),B=C.textMarkerBaseStyle,C=C.imgMarkerBaseStyle,F=k.GetDisplayFieldName();c(B);var E=!0,D;for(D in n){var K=n[D],G=K.properties,K=tf.js.GetMapCoordsFrom(K.geometry.coordinates);if(K[0]){var L=G[F],H="http://"==L.trim().toLowerCase().substring(0,7),L=H?tf.js.ShallowMerge(C,{icon_url:L}):tf.js.ShallowMerge(B,{label:L});if(H&&(H=a["category id"],tf.js.GetIsNonEmptyString(H)))if(H=H.toLowerCase(),"geoimages"==H)L.useFrame=
!0;else if("alta"==H&&!E){var E=!0,I=tf.js.GetLongitudeFrom(G.UC_X1),J=tf.js.GetLongitudeFrom(G.UC_X2),N=tf.js.GetLongitudeFrom(G.UC_X3),H=tf.js.GetLongitudeFrom(G.UC_X4),M=tf.js.GetLatitudeFrom(G.UC_Y1),P=tf.js.GetLatitudeFrom(G.UC_Y2),Q=tf.js.GetLatitudeFrom(G.UC_Y3),R=tf.js.GetLatitudeFrom(G.UC_Y4),I=[I,M],J=[J,P],N=[N,Q],H=[H,R];b(I,J,N,H,G.Display_Thumbnail);G.additionalFeatureSpecs=[{type:"linestring",coordinates:[I,J,N,H,I],style:[{line:!0,line_color:"#fff",line_width:4},{line:!0,line_color:"#000",
line_width:2}]}];G.hoverFeatureSpecs=[{type:"polygon",coordinates:[[I,J,N,H]],style:{line:!0,line_color:"#00a",line_width:4,fill:!0,fill_color:"#fff",fill_opacity:40,zindex:2}},{type:"point",coordinates:I,style:{marker:!0,label:"v1"}},{type:"point",coordinates:J,style:{marker:!0,label:"v2"}},{type:"point",coordinates:N,style:{marker:!0,label:"v3"}},{type:"point",coordinates:H,style:{marker:!0,label:"v4"}}]}L=p.CreateMapMarker({dLayer:{dLayer:k,props:G},usePick:!0,mapCoords:K,style:L,sceneObject:void 0,
skipRotate:void 0});L.GetPointCoords=function(a){return function(){return a}}(K);tf.js.SetObjProperty(L,tf.consts.DLayerProperty,{properties:G,label:k.GetName(),map:l,dLayer:k});r.push(L);L&&!L.IsDeleted()&&q.AddObject(L.GetMapObject())}}}}var k,g,l,m,n,p,q,r,t,v;this.PreProcessServiceData=function(a,b){return h(a,b)};this.OnDelete=function(){void 0!=m&&(v&&v.OnDelete(),t&&t.OnDelete(),f(),r=n=v=g=t=q=m=p=void 0)};this.IsDeleted=function(){return void 0==m};tf.js.GetIsValidObject(a)&&tf.js.GetIsInstanceOf(a.mapDLayers,
tf.webgl.PerspectiveDLayers)&&(m=a.mapDLayers,k=a.dLayer,n=m.GetMapOnQuad().GetContext(),l=m.GetMapOnQuad().GetMap(),q=new tf.webgl.MapObjectGroup({perspectiveMap:p=m.GetMapOnQuad()}))};
tf.webgl.PerspectiveDLayers=function(a){function c(a){var b;a&&(a=a.GetSettings().mapMarker)&&(b=a.GetSettings().dLayer);return b}function e(a){c(a.mapObject)&&(a.isHoverIn&&tf.urlapi.ShowdLayerInfoWindow(a.mapObject.GetSettings().mapMarker),n=a.isHoverIn?a.mapObject:void 0)}function d(a){c(a.mapObject)&&tf.urlapi.ShowdLayerInfoWindow(a.mapObject.GetSettings().mapMarker)}function b(a){if(n){var b=n.GetSceneObject();if(b){var c=b.GetRenderMatrix();if(void 0!=c){var d=new tf.math.Matrix4({matrix:c}),
e=new tf.math.ScaleMatrix4({sx:1.2,sy:1.2,sz:1.2});d.MultByMatrix(e);b.SetUseDepth(!1);b.SetRenderMatrix(d);a.sceneNotification.renderImmediate(b);b.SetRenderMatrix(c);b.SetUseDepth(!0)}}}}var f,h,k,g,l,m,n;this.PreProcessServiceData=function(a,b){if(void 0!=h){var c=b.GetIndex(),d=k[c];d||(d=k[c]=new tf.webgl.PerspectiveDLayer({mapDLayers:f,dLayer:b}));d.PreProcessServiceData(a,b)}};this.GetMapOnQuad=function(){return h};this.OnDelete=function(){if(void 0!=h){for(var a in k)k[a].OnDelete();g&&g.OnDelete();
l&&l.OnDelete();m&&m.OnDelete();m=l=g=k=h=void 0}};this.IsDeleted=function(){return void 0==h};f=this;tf.js.GetIsValidObject(a)&&tf.js.GetIsInstanceOf(a.perspectiveMap,tf.webgl.PerspectiveMap)&&(h=a.perspectiveMap,g=h.AddListener(tf.consts.perspectiveMapObjectHoverInOutEvent,e),l=h.AddListener(tf.consts.perspectiveMapObjectClickEvent,d),m=h.AddListener(tf.consts.perspectiveMapPostComposeEvent,b),k={})};
